<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rmail: Send an e-mail message</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Send an e-mail message">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rmail (1) manual">
  <meta name="twitter:description" content="Send an e-mail message">
  <meta name="twitter:image" content="https://www.carta.tech/images/courier-mta-rmail-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rmail.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rmail (1) manual" />
  <meta property="og:description" content="Send an e-mail message" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/courier-mta-rmail-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rmail<small> (1)</small></h1>
        <p class="lead">Send an e-mail message</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rmail.1.html">
      <span itemprop="name">rmail: Send an e-mail message</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/courier-mta/">
      <span itemprop="name">courier-mta</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rmail.1.html">
      <span itemprop="name">rmail: Send an e-mail message</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sendmail</strong> [<em>option</em>...] [--] [<em>address</em>...] <strong>rmail</strong> [-f&nbsp;<em>sender</em>] {<em>address</em>} [<em>address</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>sendmail</strong> command reads an E-mail message and delivers the message to its recipients. This <strong>sendmail</strong> command is part of the Courier mail server, although it attempts to emulate the behavior of the original \m[blue]<strong>sendmail</strong>\m[]\s-2\u[1]\d\s+2 MTA. Applications written for Sendmail should be able to use Courier mail server&apos;s <strong>sendmail</strong>. This <strong>sendmail</strong> wrapper understands most command line arguments used by sendmail 8.9. Certain sendmail-specific arguments that make no sense for Courier, (like -o), are silently ignored.</p><p>This <strong>sendmail</strong> always behaves like the real sendmail with the <strong>-oi</strong> and <strong>-t</strong> options. This is how most applications expect it to work. Some applications might run sendmail without the <strong>-oi</strong> and <strong>-t</strong> options, and expect sendmail&apos;s legacy behavior when those options are not used. Those application may have problems with this sendmail wrapper.</p><p><strong>sendmail</strong> reads the message from standard input, rewrites its headers appropriately and delivers it to the specified recipients.</p><p>If at least one E-mail address is specified on the command line, <strong>sendmail</strong> delivers the message to those recipients only. If no addresses are specified on the command line, <strong>sendmail</strong> reads the message and builds the recipient list from the To:, Cc: and Bcc: headers.</p><p><strong>sendmail</strong> always removes all Bcc: headers before sending the message.</p><p>Some of the functionality described below is actually implemented by other Courier modules that <strong>sendmail</strong> runs automatically. This process is transparent to the end user, or the application.</p><h3>OPTIONS</h3>
<p><strong>-f </strong><strong></strong><em>address</em></p><p>Sets the From: address. This is just the E-mail address only, not the name.</p><p><strong>-F "</strong><strong></strong><em>name</em><strong>"</strong></p><p>Sets the name to put in the From: header.</p><p><strong>-N </strong><strong></strong><em>options</em></p><p>Sets delivery status notification options. <em>options</em> is a comma-separated list of one or more of the following keywords: never, success, fail, delay. If not specified, the <strong>-N</strong> option defaults to either "delay, fail", or just "fail", depending on systemwide options set by the administrator. The "success" keyword sends a return receipt to the sender when the message is succesfully received by each recipient. "fail" sends a notice if the message could not be delivered for some reason. "delay" sends a notice if the message remains undeliverable for a period of time (but has not yet completely failed). "never" means do not send any notices for any reason, but see BUGS below.</p><p><strong>-n</strong></p><p>Do not actually deliver the message, but copy it to standard output, after rewriting all the headers.</p><p><strong>-o, -t, -q</strong></p><p>These sendmail-specific options are ignored, because this is not the real sendmail.</p><p><strong>-R full</strong></p><p>Requests that delivery status notifications include the original message, in its entirety.</p><p><strong>-R hdrs</strong></p><p>Requests that delivery status notifications include just the headers of the original message.</p><p><strong>-V "</strong><strong></strong><em>envid</em><strong>"</strong></p><p>Specifies the original envelope id to be returned in delivery status notifications. Of interest only to mail robots.</p><p><strong>-S "</strong><strong></strong><em>level</em><strong>"</strong></p><p>Specify <em>level</em> as a minimum security level for delivering this message. This is a Courier-specific extension that uses a Courier-specific SMTP extension. <em>level</em> is either "NONE" or "STARTTLS". "NONE" specifies the normal security level (none at all); "STARTTLS" specifies that SSL/TLS must be used when transmitting this message to a remote mail relay, and the remote mail relay must supply a certificate that&apos;s signed by a private certificate authority that&apos;s configured in Courier. See Courier installation notes for more information.</p><p><strong>-bcc</strong></p><p>Read Bcc: headers only. Normally, if no recipients are specified, <strong>sendmail</strong> obtains the list of recipients by reading the To:, Cc: and Bcc: headers (Bcc: headers are always removed). The -bcc option ignores To: and Cc: headers for this purpose. This option is ignored if an explicit address list is specified on the <strong>sendmail</strong> command line.</p><p><strong>-bs</strong></p><p>Talk ESMTP on standard input. This option is actually implemented by running Courier&apos;s ESMTP server, which takes over and provides a complete ESMTP implementation.</p><p><strong>-verp</strong></p><p>Use a VERP for this message.</p>
<h3>RETURN ADDRESS</h3>
<p>The return address is the E-mail address where delivery status notifications (non-delivery notices, or return receipts) are sent for this message.</p><p><strong>sendmail</strong> constructs the envelope sender (the return address), userid@host as follows, unless the <strong>-bs</strong> option was specified. If the <strong>-bs</strong> option is specified the envelope sender is specified via ESMTP commands, of course.</p><p>If the <strong>-f</strong> option was specified, the address specified by the <strong>-f</strong> option is used.</p><p>Otherwise, the <em>userid</em> portion of the return address is set to the contents of the first environment variable that&apos;s defined from the following list: <strong>MAILSUSER</strong>, <strong>MAILUSER</strong>, <strong>LOGNAME</strong>, <strong>LOGUSER</strong>. If none of these environment variables are defined, the system account name is used.</p><p>The <em>host</em> portion of the return address is set to the contents of the <strong>MAILSHOST</strong> environment variable. If <strong>MAILSHOST</strong> is not defined, <strong>MAILHOST</strong> will be used. If neither variable is set, the configured machine name is used.</p><p>The return address is then subject to the address rewriting rules for the "local" Courier module (the "esmtp" module when the <strong>-bs</strong> flag is specified).</p><p>Finally, if the <strong>-verp</strong> option was specified, the return address is VERPed.</p>
<h3>Variable Envelope Return Paths (VERPs)</h3>
<p>A VERP is a return address which contains the recipient address encoded in it. Not all MTAs support \m[blue]<strong>RFC 1894</strong>\m[]\s-2\u[2]\d\s+2-based delivery status notifications. VERPs permit mailing list software to identify non-deliverable addresses even in the absence of a machine-readable DSN.</p><p>This option exists mainly to support Courier&apos;s own mailing list manager. At this time, it&apos;s the only software in the world that knows how to use this option. The \m[blue]<strong>Qmail</strong>\m[]\s-2\u[3]\d\s+2 server has very similar functionality, for it&apos;s own mailing list manager. However, there are many functional differences between the two mail servers, so Courier mail server&apos;s and Qmail&apos;s mailing list managers are not interchangeable.</p><p>Except for this detail, Courier&apos;s implementation of a VERP is very similar to Qmail&apos;s. When a message from <em>user@domain.com</em> is addressed to address X, then return address will be set to <em>user-Y@domain.com</em>, where Y is defined as follows:</p><p>1. The last @ character in X is changed to the = character.</p><p>2. The remaining characters in X are copied verbatim to Y, except for some special characters like @, +, %, :, and !.</p><p>3. These special characters are replaced with the character +, followed by a two-character hexadecimal ASCII code for the special character.</p><p>Using <strong>-verp</strong> for a message to multiple recipients results in Courier generating and transmitting one copy of the message separately to every recipient. That&apos;s because the return address for every recipient is different, requiring a separate message to be sent.</p><p>Except in one case.</p><p>The one exception is when a VERPed message is sent from one Courier server to another Courier server via ESMTP. An ESMTP extension will be used to send one message, preserving the VERP status of the message. This ESMTP extension is described in the document, draft-varshavchik-verp-smtpext, a copy of which is included in Courier&apos;s source code.</p>
<h3>SENDER ADDRESS</h3>
<p><strong>sendmail</strong> sets the contents of the From: header as follows. Note that this is not the same as the return address of the message.</p><p>If the <strong>-bs</strong> option is specified, none of the following will be applicable. All environment variables are ignored when the <strong>-bs</strong> option is used.</p><p>If the From: header is present in the message, but the environment variable <strong>MAILUSER</strong> is set, the userid portion of the From: header is replaced by the contents of <strong>MAILUSER</strong>.</p><p>If the From: header is present in the message, but the <strong>MAILHOST</strong> environment variable is set, the contents of <strong>MAILHOST</strong> replaces the host portion of the From: header.</p><p>If the From: header is present in the message, but either the <strong>-F</strong> option was specified, or the <strong>MAILNAME</strong> or the <strong>NAME</strong> environment variable is set, the contents of the -F option, or the environment variable, will replace the sender&apos;s name in the From: header.</p><p>If the From: header is not present in the message, one is constructed as follows. The sender&apos;s name is set by the -F option. If the -F option was not specified, the contents of the <strong>MAILNAME</strong> or the <strong>NAME</strong> environment variable is used. If neither variable is used, the name is looked up from the system account file. The userid portion of the address is set by the contents of any one of the following environment variables: <strong>MAILUSER</strong>, <strong>LOGNAME</strong>, <strong>USER</strong>. If none of these variables are set, the system userid is used. The host portion of the address is set by the contents of the <strong>MAILHOST</strong> environment variable. If it is not set, the system name of the server is used.</p>
<h3>EXIT CODE</h3>
<p><strong>sendmail</strong> exits with exit status of zero if the message was succesfully scheduled for a delivery. If there was a problem accepting the message for delivery, <strong>sendmail</strong> displays an error message and exits with a non-zero status. The exit status will always be zero when the <strong>-bs</strong> option is used, unless a serious system problem occurs.</p>
<h3>RMAIL</h3>
<p>If called as <strong>rmail</strong>, only a subset of these options are available, namely <strong>-f</strong>, <strong>-verp</strong>, <strong>-N</strong>, <strong>-R</strong>, <strong>-V</strong>, <strong>-o</strong>, and <strong>-t</strong>. Other options are not allowed. Additionally, recipient addresses must be explicitly specified on the command line. The <strong>rmail</strong> alias is intended to be used for receiving mail via UUCP. You must install compatible UUCP software separately, and set it up so that it looks for <strong>rmail</strong> in Courier&apos;s installation directory.</p><p>When invoked as <strong>rmail</strong> this wrapper will refuse to run unless it is invoked by the uucp user. Additionally, the <strong>UU_MACHINE</strong> and <strong>UU_USER</strong> environment variables must be defined. Also, header and address rewriting described in previous paragraphs do not take place; instead, UUCP-specific header and address rewriting rules will apply. See the \m[blue]<strong></strong><a href="../man8/courieruucp.8.html"><strong>courieruucp</strong>(8)</a>\m[]\s-2\u[4]\d\s+2 manual page for more information.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There are still some mail gateways out there that do not impl ement delivery status notifications according to RFC 1894. This means that you may get a delivery notice even if <strong>-N never</strong> keyword was specified.</p><p>Header rewriting rules are similar, but not identical, to Qmail&apos;s. The precedence of the various environment variables, plus the situations where they&apos;re used, are different from Qmail&apos;s and may produce different results.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rmail&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong></strong><a href="../man8/courier.8.html"><strong>courier</strong>(8)</a>\m[]\s-2\u[5]\d\s+2, \m[blue]<strong></strong><a href="../man8/courieruucp.8.html"><strong>courieruucp</strong>(8)</a>\m[]\s-2\u[4]\d\s+2\m[blue]<strong></strong><a href="../man8/mailq.8.html"><strong>mailq</strong>(8)</a>\m[]\s-2\u[6]\d\s+2, \m[blue]<strong></strong><a href="../man1/cancelmsg.1.html"><strong>cancelmsg</strong>(1)</a>\m[]\s-2\u[7]\d\s+2, \m[blue]<strong>http://www.sendmail.org</strong>\m[], \m[blue]<strong>http://www.qmail.org</strong>\m[].</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Sam Varshavchik</strong></p><p>Author</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>sendmail</p><p>http://www.sendmail.org/</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>RFC 1894</p><p>http://www.rfc-editor.org/rfc/rfc1894.txt</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>Qmail</p><p>http://www.qmail.org/</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p><a href="../man8/courieruucp.8.html"><strong>courieruucp</strong>(8)</a></p><p>[set $man.base.url.for.relative.links]/courieruucp.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p><a href="../man8/courier.8.html"><strong>courier</strong>(8)</a></p><p>[set $man.base.url.for.relative.links]/courier.html</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><a href="../man8/mailq.8.html"><strong>mailq</strong>(8)</a></p><p>[set $man.base.url.for.relative.links]/mailq.html</p>
  </dd>
  <dt>
     7.
  </dt>
  <dd>
    <p><a href="../man1/cancelmsg.1.html"><strong>cancelmsg</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/cancelmsg.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rmagic.1.html"><span aria-hidden="true">&larr;</span> rmagic.1: Report magic for analog</a></li>
   <li class="next"><a href="rman.1.html">rman.1: None <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
