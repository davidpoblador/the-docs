<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>estcmd: Command line interface of the core api</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Command line interface of the core api">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="estcmd (1) manual">
  <meta name="twitter:description" content="Command line interface of the core api">
  <meta name="twitter:image" content="https://www.carta.tech/images/hyperestraier-estcmd-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/estcmd.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="estcmd (1) manual" />
  <meta property="og:description" content="Command line interface of the core api" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/hyperestraier-estcmd-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">estcmd<small> (1)</small></h1>
        <p class="lead">Command line interface of the core api</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/estcmd.1.html">
      <span itemprop="name">estcmd: Command line interface of the core api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/hyperestraier/">
      <span itemprop="name">hyperestraier</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/estcmd.1.html">
      <span itemprop="name">estcmd: Command line interface of the core api</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>estcmd create [-tr] [-apn|-acc] [-xs|-xl|-xh|-xh2|-xh3] [-sv|-si|-sa] [-attr name type] db</strong></p><p><strong>estcmd put [-tr] [-cl] [-ws] [-apn|-acc] [-xs|-xl|-xh||-xh2|-xh3] [-sv|-si|-sa] db [file]</strong></p><p><strong>estcmd out [-cl] [-pc enc] db expr</strong></p><p><strong>estcmd edit [-pc enc] db expr name [value]</strong></p><p><strong>estcmd get [-nl|-nb] [-pidx path] [-pc enc] db expr [attr]</strong></p><p><strong>estcmd list [-nl|-nb] [-lp] db</strong></p><p><strong>estcmd uriid [-nl|-nb] [-pidx path] [-pc enc] db expr</strong></p><p><strong>estcmd meta db [name [value]]</strong></p><p><strong>estcmd inform [-nl|-nb] db</strong></p><p><strong>estcmd optimize [-onp] [-ond] db</strong></p><p><strong>estcmd merge [-cl] db target</strong></p><p><strong>estcmd repair [-rst|-rsh] db</strong></p><p><strong>estcmd search [-nl|-nb] [-pidx path] [-ic enc] [-vu|-va|-vf|-vs|-vh|-vx|-dd] [-sn wnum hnum anum] [-kn num] [-um] [-ec rn] [-gs|-gf|-ga] [-cd] [-ni] [-sf|-sfr|-sfu|-sfi] [-hs] [-attr expr] [-ord expr] [-max num] [-sk num] [-aux num] [-dis name] [-sim id] db [phrase]</strong></p><p><strong>estcmd gather [-tr] [-cl] [-ws] [-no] [-fe|-ft|-fh|-fm] [-fx sufs cmd] [-fz] [-fo] [-rm sufs] [-ic enc] [-il lang] [-bc] [-lt num] [-lf num] [-pc enc] [-px name] [-aa name value] [-apn|-acc] [-xs|-xl|-xh|-xh2|-xh3] [-sv|-si|-sa] [-ss name] [-sd] [-cm] [-cs num] [-ncm] [-kn num] [-um] db [file|dir]</strong></p><p><strong>estcmd purge [-cl] [-no] [-fc] [-pc enc] [-attr expr] db [prefix]</strong></p><p><strong>estcmd extkeys [-no] [-fc] [-dfdb file] [-ncm] [-ni] [-kn num] [-um] [-attr expr] db [prefix]</strong></p><p><strong>estcmd words [-nl|-nb] [-dfdb file] [-kw|-kt] db</strong></p><p><strong>estcmd draft [-ft|-fh|-fm] [-ic enc] [-il lang] [-bc] [-lt num] [-kn num] [-um] [file]</strong></p><p><strong>estcmd break [-ic enc] [-il lang] [-apn|-acc] [-wt] [file]</strong></p><p><strong>estcmd iconv [-ic enc] [-il lang] [-oc enc] [file]</strong></p><p><strong>estcmd regex [-inv] [-repl str] expr [file]</strong></p><p><strong>estcmd scandir [-tf|-td] [-pa|-pu] [dir]</strong></p><p><strong>estcmd multi [-db db] [-nl|-nb] [-ic enc] [-gs|-gf|-ga] [-cd] [-ni] [-sf|-sfr|-sfu|-sfi] [-hs] [-hu] [-attr expr] [-ord expr] [-max num] [-sk num] [-aux num] [-dis name] [phrase]</strong></p><p><strong>estcmd randput [-ren|-rla|-reu|-ror|-rjp|-rch] [-cs num] db dnum</strong></p><p><strong>estcmd wicked db dnum</strong></p><p><strong>estcmd regression db</strong></p><p><strong>estcmd version</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>estcmd</strong> is an aggregation of sub commands.  The name of a sub command is specified by the first argument.  Other arguments are parsed according to each sub command.  The argument <em>db</em> specifies the path of an index.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>estcmd create [-tr] [-apn|-acc] [-xs|-xl|-xh|-xh2|-xh3] [-sv|-si|-sa] [-attr name type] db</strong></p>
  </dt>
  <dd>
    <p>Create an index.</p><p>If <strong>-tr</strong> is specified, a new index is created regardless if one exists.</p><p>If <strong>-apn</strong> is specified, N-gram analysis is performed against European text also.</p><p>If <strong>-acc</strong> is specified, character category analysis is performed instead of N-gram analysis.</p><p>If <strong>-xs</strong> is specified, the index is tuned to register less than 50000 documents.</p><p>If <strong>-xl</strong> is specified, the index is tuned to register more than 300000 documents.</p><p>If <strong>-xh</strong> is specified, the index is tuned to register more than 1000000 documents.</p><p>If <strong>-xh2</strong> is specified, the index is tuned to register more than 5000000 documents.</p><p>If <strong>-xh3</strong> is specified, the index is tuned to register more than 10000000 documents.</p><p>If <strong>-sv</strong> is specified, scores are stored as void.</p><p>If <strong>-si</strong> is specified, scores are stored as 32-bit integer.</p><p>If <strong>-sa</strong> is specified, scores are stored as-is and marked not to be tuned when search.</p><p><strong>-attr</strong> specifies an attribute index and its data type.  This option can be specified multiple times.</p>
  </dd>
  <dt>
    <p><strong>estcmd put [-tr] [-cl] [-apn|-acc] [-xs|-xl|-xh|-xh2|-xh3] [-sv|-si|-sa] db [file]</strong></p>
  </dt>
  <dd>
    <p>Register a document of document draft to an index.</p><p><em>file</em> specifies a target file.  If it is omitted, the standard input is read.</p><p>If <strong>-tr</strong> is specified, a new index is created regardless if one exists.</p><p>If <strong>-cl</strong> is specified, regions of a overwritten document are cleaned up.</p><p>If <strong>-ws</strong> is specified, scores are weighted statically with score weighting attribute.</p><p>If <strong>-apn</strong> is specified, N-gram analysis is performed against European text also.</p><p>If <strong>-acc</strong> is specified, character category analysis is performed instead of N-gram analysis.</p><p>If <strong>-xs</strong> is specified, the index is tuned to register less than 50000 documents.</p><p>If <strong>-xl</strong> is specified, the index is tuned to register more than 300000 documents.</p><p>If <strong>-xh</strong> is specified, the index is tuned to register more than 1000000 documents.</p><p>If <strong>-xh2</strong> is specified, the index is tuned to register more than 5000000 documents.</p><p>If <strong>-xh3</strong> is specified, the index is tuned to register more than 10000000 documents.</p><p>If <strong>-sv</strong> is specified, scores are stored as void.</p><p>If <strong>-si</strong> is specified, scores are stored as 32-bit integer.</p><p>If <strong>-sa</strong> is specified, scores are stored as-is and marked not to be tuned when search.</p>
  </dd>
  <dt>
    <p><strong>estcmd out [-pc enc] [-cl] db expr</strong></p>
  </dt>
  <dd>
    <p>Remove information of a document from an index.</p><p><em>expr</em> specifies the ID number, the URI, or the local path of a document.</p><p>If <strong>-cl</strong> is specified, regions of the document are cleaned up.</p><p><strong>-pc</strong> specifies the encoding of file paths.  By default, it is ISO-8859-1.</p>
  </dd>
  <dt>
    <p><strong>estcmd edit [-pc enc] db expr name [value]</strong></p>
  </dt>
  <dd>
    <p>Edit an attribute of a document in an index.</p><p><em>expr</em> specifies the ID number, the URI, or the local path of a document.</p><p><em>name</em> specifies the name of an attribute.</p><p><em>value</em> specifies the value of the attribute.  If it is omitted, the attribute is removed.</p><p><strong>-pc</strong> specifies the encoding of the file path and the attribute value.  By default, it is ISO-8859-1.</p>
  </dd>
  <dt>
    <p><strong>estcmd get [-nl|-nb] [-pidx path] [-pc enc] db expr [attr]</strong></p>
  </dt>
  <dd>
    <p>Output document draft of a document in an index.</p><p><em>expr</em> specifies the ID number, the URI, or the local path of a document.</p><p>If <em>attr</em> is specified, only the value of the attribute is output.</p><p>If <strong>-nl</strong> is specified, the index is opened without file locking.</p><p>If <strong>-nb</strong> is specified, file locking is performed without blocking.</p><p><strong>-pidx</strong> specifies the path of a pseudo index.  This option can be specified multiple times.</p><p><strong>-pc</strong> specifies the encoding of file paths.  By default, it is ISO-8859-1.</p>
  </dd>
  <dt>
    <p><strong>estcmd list [-nl|-nb] [-lp] db</strong></p>
  </dt>
  <dd>
    <p>Output a list of all document in an index.</p><p>If <strong>-nl</strong> is specified, the index is opened without file locking.</p><p>If <strong>-nb</strong> is specified, file locking is performed without blocking.</p><p>If <strong>-lp</strong> is specified, local path equivalent to URL of "file://" is output.</p>
  </dd>
  <dt>
    <p><strong>estcmd uriid [-nl|-nb] [-pidx path] [-pc enc] db expr</strong></p>
  </dt>
  <dd>
    <p>Output the ID number of a document specified by URI.</p><p><em>expr</em> specifies the URI or the local path of a document.</p><p>If <strong>-nl</strong> is specified, the index is opened without file locking.</p><p>If <strong>-nb</strong> is specified, file locking is performed without blocking.</p><p><strong>-pidx</strong> specifies the path of a pseudo index.  This option can be specified multiple times.</p><p><strong>-pc</strong> specifies the encoding of file paths.  By default, it is ISO-8859-1.</p>
  </dd>
  <dt>
    <p><strong>estcmd meta db [name [value]]</strong></p>
  </dt>
  <dd>
    <p>Handle meta data.</p><p><em>name</em> specifies the name of a piece of meta data.  If it is omitted, a list of all names is output.</p><p><em>value</em> specifies the value of the meta data to be recorded.  If it is omitted, the current value is output.  If it is an empty string, the meta data is removed.</p>
  </dd>
  <dt>
    <p><strong>estcmd inform [-nl|-nb] db</strong></p>
  </dt>
  <dd>
    <p>Output the number of documents and the number of unique words in an index.</p><p>If <strong>-nl</strong> is specified, the index is opened without file locking.</p><p>If <strong>-nb</strong> is specified, file locking is performed without blocking.</p>
  </dd>
  <dt>
    <p><strong>estcmd optimize [-onp] [-ond] db</strong></p>
  </dt>
  <dd>
    <p>Optimize an index and clean up dispensable regions.</p><p>If <strong>-onp</strong> is specified, it is omitted to clean up dispensable regions.</p><p>If <strong>-ond</strong> is specified, it is omitted to optimize the database files.</p>
  </dd>
  <dt>
    <p><strong>estcmd merge [-cl] db target</strong></p>
  </dt>
  <dd>
    <p>Merge another index.</p><p><em>target</em> specifies the path of another index.</p><p>If <strong>-cl</strong> is specified, regions of overwritten documents are cleaned up.</p>
  </dd>
  <dt>
    <p><strong>estcmd repair [-rst|-rsh] db</strong></p>
  </dt>
  <dd>
    <p>Repair a broken index.</p><p>If <strong>-rst</strong> is specified, strict consistency check is performed.</p><p>If <strong>-rsh</strong> is specified, consistency check is omitted.</p>
  </dd>
  <dt>
    <p><strong>estcmd search [-nl|-nb] [-pidx path] [-ic enc] [-vu|-va|-vf|-vs|-vh|-vx|-dd] [-sn wnum hnum anum] [-kn num] [-um] [-ec rn] [-gs|-gf|-ga] [-cd] [-ni] [-sf|-sfr|-sfu|-sfi] [-hs] [-attr expr] [-ord expr] [-max num] [-sk num] [-aux num] [-dis name] [-sim id] db [phrase]</strong></p>
  </dt>
  <dd>
    <p>Search an index for documents.</p><p><em>phrase</em> specifies the search phrase.</p><p>If <strong>-nl</strong> is specified, the index is opened without file locking.</p><p>If <strong>-nb</strong> is specified, file locking is performed without blocking.</p><p><strong>-pidx</strong> specifies the path of a pseudo index.  This option can be specified multiple times.</p><p><strong>-ic</strong> specifies the input encoding.  By default, it is UTF-8.</p><p>If <strong>-vu</strong> is specified, TSV of ID number and URI are output.</p><p>If <strong>-va</strong> is specified, multipart format including attributes is output.</p><p>If <strong>-vf</strong> is specified, multipart format including document draft is output.</p><p>If <strong>-vs</strong> is specified, multipart format including attributes and snippets is output.</p><p>If <strong>-vh</strong> is specified, human readable format including attributes and snippets is output.</p><p>If <strong>-vx</strong> is specified, XML including including attributes and snippets is output.</p><p>If <strong>-dd</strong> is specified, document draft data are dumped and saved into separated files.</p><p><strong>-sn</strong> specifies the number of whole width of snippet and width of strings picked up from the beginning of the text and width of strings picked up around each highlighted word.</p><p><strong>-kn</strong> specifies the number of keywords to be extracted.  By default, keyword extraction is not performed.</p><p>If <strong>-um</strong> is specified, morphological analyzers are used for keyword extraction.</p><p><strong>-ec</strong> specifies lower limit of similarity eclipse.</p><p>If <strong>-gs</strong> is specified, every key of N-gram is checked.  By default, it is alternately.</p><p>If <strong>-gf</strong> is specified, keys of N-gram are checked every three.</p><p>If <strong>-ga</strong> is specified, keys of N-gram are checked every four.</p><p>If <strong>-cd</strong> is specified, whether documents match the search phrase definitely is checked.</p><p>If <strong>-ni</strong> is specified, TF-IDF tuning is omitted.</p><p>If <strong>-sf</strong> is specified, the phrase is treated as a simplified form.</p><p>If <strong>-sfr</strong> is specified, the phrase is treated as a rough form.</p><p>If <strong>-sfu</strong> is specified, the phrase is treated as a union form.</p><p>If <strong>-sfi</strong> is specified, the phrase is treated as an intersection form.</p><p>If <strong>-hs</strong> is specified, score information is output as an attribute.</p><p><strong>-attr</strong> specifies an attribute search condition.  This option can be specified multiple times.</p><p><strong>-ord</strong> specifies the order expression.  By default, it is descending by score.</p><p><strong>-max</strong> specifies the maximum number of shown documents.  Negative means unlimited.  By default, it is 10.</p><p><strong>-sk</strong> specifies the number of documents to be skipped.  By default, it is 0.</p><p><strong>-aux</strong> specifies permission to adopt result of the auxiliary index.  If it is not more than 0, the auxiliary index is not used.  By default, it is 32.</p><p><strong>-dis</strong> specifies the name of the distinct attribute.</p><p><strong>-sim</strong> specifies the ID number of the seed document for similarity search.</p>
  </dd>
  <dt>
    <p><strong>estcmd gather [-tr] [-cl] [-ws] [-no] [-fe|-ft|-fh|-fm] [-fx sufs cmd] [-fz] [-fo] [-rm sufs] [-ic enc] [-il lang] [-bc] [-lt num] [-lf num] [-pc enc] [-px name] [-aa name value] [-apn|-acc] [-xs|-xl|-xh|-xh2|-xh3] [-sv|-si|-sa] [-ss name] [-sd] [-cm] [-cs num] [-ncm] [-kn num] [-um] db [file|dir]</strong></p>
  </dt>
  <dd>
    <p>Scan the local file system and register documents into an index.</p><p>If the third argument is the name of a file, a list of paths of target documents are read from it.  If it is "-", the standard input is specified.</p><p>If the third argument is the name of a directory.  All files under the directory are treated as target documents.</p><p>If <strong>-tr</strong> is specified, a new index is created regardless if one exists.</p><p>If <strong>-cl</strong> is specified, regions of overwritten documents are cleaned up.</p><p>If <strong>-ws</strong> is specified, scores are weighted statically with score weighting attribute.</p><p>If <strong>-no</strong> is specified, operations are printed but not executed actually.</p><p>If <strong>-fe</strong> is specified, target files are treated as document draft.  By default, the format is detected by the suffix of each document.</p><p>If <strong>-ft</strong> is specified, target files are treated as plain text.</p><p>If <strong>-fh</strong> is specified, target files are treated as HTML.</p><p>If <strong>-fm</strong> is specified, target files are treated as MIME.</p><p>If <strong>-fx</strong> is specified, target files with the specified suffixes are processed by the specified outer command.  "*" matches any file.  If the command is leaded by "T@", the output of the command is treated as plain text.  If the command is leaded by "H@", the output of the command is treated as HTML.  If the command is leaded by "M@", the output of the command is treated as MIME.  Else, the output is treated as document draft.  This option can be specified multiple times.</p><p>If <strong>-fz</strong> is specified, documents which do not corresponding to the condition of <strong>-fx</strong> are ignored.</p><p>If <strong>-fo</strong> is specified, target files are not read.  It is useful for efficient process of the outer command.</p><p>If <strong>-rm</strong> is specified, target files with the specified suffixes are removed.  "*" matches any file.  This option can be specified multiple times.</p><p><strong>-ic</strong> specifies the input encoding.  By default, it is detected automatically.</p><p><strong>-il</strong> specifies the preferred input language.  By default, English is preferred.</p><p>If <strong>-bc</strong> is specified, binary files are detected and ignored.</p><p><strong>-lt</strong> specifies the text size limitation by kilo bytes.  By default, it is 128KB.  If it is negative, the size is unlimited.</p><p><strong>-lf</strong> specifies the file size limitation by mega bytes.  By default, it is 32MB.  If it is negative, the size is unlimited.</p><p><strong>-pc</strong> specifies the encoding of file paths.  By default, it is ISO-8859-1.</p><p><strong>-px</strong> specifies the name of an attribute read from the list of paths.  As the list of paths can be in TSV format, the first field is treated as the path of a target document, the second field and the followers are definitions of attribute values. <strong>-px</strong> specifies the name of each values of the second field and the followers.  This option can be specified multiple times.</p><p><strong>-aa</strong> specifies the name and the value of an additional attribute.  This option can be specified multiple times.</p><p>If <strong>-apn</strong> is specified, N-gram analysis is performed against European text also.</p><p>If <strong>-acc</strong> is specified, character category analysis is performed instead of N-gram analysis.</p><p>If <strong>-xs</strong> is specified, the index is tuned to register less than 50000 documents.</p><p>If <strong>-xl</strong> is specified, the index is tuned to register more than 300000 documents.</p><p>If <strong>-xh</strong> is specified, the index is tuned to register more than 1000000 documents.</p><p>If <strong>-xh2</strong> is specified, the index is tuned to register more than 5000000 documents.</p><p>If <strong>-xh3</strong> is specified, the index is tuned to register more than 10000000 documents.</p><p>If <strong>-sv</strong> is specified, scores are stored as void.</p><p>If <strong>-si</strong> is specified, scores are stored as 32-bit integer.</p><p>If <strong>-sa</strong> is specified, scores are stored as-is and marked not to be tuned when search.</p><p><strong>-ss</strong> specifies the name of an attribute for substitute score.</p><p>If <strong>-sd</strong> is specified, the modification date of each file is recorded as an attribute.</p><p>If <strong>-cm</strong> is specified, documents whose modification date has not changed are ignored.</p><p><strong>-cs</strong> specifies the size of cache memory by mega bytes.  By default, it is 64MB.</p><p>If <strong>-ncm</strong> is specified, checking availability of the virtual memory is omitted.</p><p><strong>-kn</strong> specifies the number of keywords to be extracted.  By default, keyword extraction is not performed.</p><p>If <strong>-um</strong> is specified, morphological analyzers are used for keyword extraction.</p>
  </dd>
  <dt>
    <p><strong>estcmd purge [-cl] [-no] [-fc] [-pc enc] [-attr expr] db [prefix]</strong></p>
  </dt>
  <dd>
    <p>Purge information of documents which do not exist on the file system.</p><p>If <em>prefix</em> is specified, only documents whose URIs are begins with it.  It can be specified by the local path of a directory.</p><p>If <strong>-cl</strong> is specified, regions of the deleted documents are cleaned up.</p><p>If <strong>-no</strong> is specified, operations are printed but not executed actually.</p><p>If <strong>-fc</strong> is specified, information of all target documents are deleted.</p><p><strong>-pc</strong> specifies the encoding of file paths.  By default, it is ISO-8859-1.</p><p><strong>-attr</strong> specifies an attribute search condition.  This option can be specified multiple times.</p>
  </dd>
  <dt>
    <p><strong>estcmd extkeys [-no] [-fc] [-dfdb file] [-ncm] [-ni] [-kn num] [-um] [-attr expr] db [prefix]</strong></p>
  </dt>
  <dd>
    <p>Create a database of keywords extracted from documents.</p><p>If <em>prefix</em> is specified, only documents whose URIs are begins with it.</p><p>If <strong>-no</strong> is specified, operations are printed but not executed actually.</p><p>If <strong>-fc</strong> is specified, all target documents are processed whichever they have existing records or not.</p><p><strong>-dfdb</strong> specifies an outher database of document frequency.  By default, document frequency is calculated dynamically according to the index.</p><p>If <strong>-ncm</strong> is specified, checking availability of the virtual memory is omitted.</p><p>If <strong>-ni</strong> is specified, TF-IDF tuning is omitted.</p><p><strong>-kn</strong> specifies the number of keywords to be extracted.  By default, it is 32.</p><p>If <strong>-um</strong> is specified, morphological analyzers are used for keyword extraction.</p><p><strong>-attr</strong> specifies an attribute search condition.  This option can be specified multiple times.</p>
  </dd>
  <dt>
    <p><strong>estcmd words [-nl|-nb] [-dfdb file] [-kw|-kt] db</strong></p>
  </dt>
  <dd>
    <p>Output a list of all unique words and each record size which is treated as docuemnt frequency.</p><p>If <strong>-nl</strong> is specified, the index is opened without file locking.</p><p>If <strong>-nb</strong> is specified, file locking is performed without blocking.</p><p><strong>-dfdb</strong> specifies an outer database where the result is stored.  By default, the result is output to the standard output as TSV.  If the outer database already exists, the value of each record is incremented.</p><p>If <strong>-kw</strong> is specified, keywords and numbers of corresponding documents are output.</p><p>If <strong>-kt</strong> is specified, keywords and their related terms are output.</p>
  </dd>
  <dt>
    <p><strong>estcmd draft [-ft|-fh|-fm] [-ic enc] [-il lang] [-bc] [-lt num] [-kn num] [-um] [file]</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd break [-ic enc] [-il lang] [-apn|-acc] [-wt] [file]</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd iconv [-ic enc] [-il lang] [-oc enc] [file]</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd regex [-inv] [-repl str] expr [file]</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd scandir [-tf|-td] [-pa|-pu] [dir]</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd multi [-db db] [-nl|-nb] [-ic enc] [-gs|-gf|-ga] [-cd] [-ni] [-sf|-sfr|-sfu|-sfi] [-hs] [-hu] [-attr expr] [-ord expr] [-max num] [-sk num] [-aux num] [-dis name] [phrase]</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd randput [-ren|-rla|-reu|-ror|-rjp|-rch] [-cs num] db dnum</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd wicked db dnum</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd regression db</strong></p>
  </dt>
  <dd>
    <p>For test and debug.</p>
  </dd>
  <dt>
    <p><strong>estcmd version</strong></p>
  </dt>
  <dd>
    <p>Show the version information.</p>
  </dd>

</dl>
<p>All sub commands return 0 if the operation is success, else return 1.  As for put, out, gather, purge, randput, wicked, and regression, they finish with closing the database when they catch the signal 1 (SIGHUP), 2 (SIGINT), 3 (SIGQUIT), 13 (SIGPIPE), or 15 (SIGTERM).</p><p>The data type of attribute indexes specified by <strong>-attr</strong> option of <strong>create</strong> sub command should be "seq" for sequential type, "str" for string type, or "num" for number type.</p><p>Each pseudo index specified by <strong>-pidx</strong> option of <strong>search</strong> sub command and so on is a directory containing files of document draft.  If you search a main index with pseudo indexes, meta search of the main index and pseudo indexes is performed.</p><p>The encoding name specified by <strong>-ic</strong> option should be such name registered to IETF as UTF-8, ISO-8859-1, and so on.  The language name specified by <strong>-il</strong> option should be one of "en" (English), "ja" (Japanese, "zh" (Chinese), "ko" (Korean).</p><p>The outer command specified by -fx option of gather receives the path of the target document by the first argument and the path for output by the second argument.  The original path of the target document is given as the value of the environment variable `ESTORIGFILE'.</p><p>Note that similarity search is very slow, by default.  To improve the performance of similarity search, running "estcmd extkeys" beforehand is strongly recommended.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO estcmd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/estconfig.1.html"><strong>estconfig</strong>(1)</a>, <a href="../man1/estmaster.1.html"><strong>estmaster</strong>(1)</a>, <a href="../man1/estcall.1.html"><strong>estcall</strong>(1)</a>, <a href="../man1/estwaver.1.html"><strong>estwaver</strong>(1)</a>, <a href="../man3/estraier.3.html"><strong>estraier</strong>(3)</a>, <a href="../man3/estnode.3.html"><strong>estnode</strong>(3)</a></p><p>Please see <strong>http://hyperestraier.sourceforge.net/uguide-en.html</strong> for detail.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="estcall.1.html"><span aria-hidden="true">&larr;</span> estcall.1: Command line interface of the node api</a></li>
   <li class="next"><a href="estconfig.1.html">estconfig.1: Configuration utility of hyper estraier <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
