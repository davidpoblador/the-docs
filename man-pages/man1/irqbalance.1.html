<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>irqbalance: Distribute hardware interrupts across processors on a multiprocessor system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distribute hardware interrupts across processors on a multiprocessor system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="irqbalance (1) manual">
  <meta name="twitter:description" content="Distribute hardware interrupts across processors on a multiprocessor system">
  <meta name="twitter:image" content="https://www.carta.tech/images/irqbalance-irqbalance-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/irqbalance.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="irqbalance (1) manual" />
  <meta property="og:description" content="Distribute hardware interrupts across processors on a multiprocessor system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/irqbalance-irqbalance-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">irqbalance<small> (1)</small></h1>
        <p class="lead">Distribute hardware interrupts across processors on a multiprocessor system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/irqbalance.1.html">
      <span itemprop="name">irqbalance: Distribute hardware interrupts across processors on a multiprocessor system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/irqbalance/">
      <span itemprop="name">irqbalance</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/irqbalance.1.html">
      <span itemprop="name">irqbalance: Distribute hardware interrupts across processors on a multiprocessor system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>irqbalance</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The purpose of <strong>irqbalance</strong> is distribute hardware interrupts across processors on a multiprocessor system in order to increase performance.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--oneshot</strong></p>
  </dt>
  <dd>
    <p>Causes irqbalance to be run once, after which the daemon exits</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>--debug</strong> Causes irqbalance to print extra debug information.  Implies --foreground</p>
  </dd>
  <dt>
    <p><strong>--foreground</strong></p>
  </dt>
  <dd>
    <p>Causes irqbalance to run in the foreground (without --debug)</p>
  </dd>
  <dt>
    <p><strong>--hintpolicy=[exact | subset | ignore]</strong></p>
  </dt>
  <dd>
    <p>Set the policy for how irq kernel affinity hinting is treated.  Can be one of:</p>
  </dd>

</dl>
<p><em>exact</em> irq affinity hint is applied unilaterally and never violated</p><p><em>subset</em> irq is balanced, but the assigned object will be a subset of the affintiy hint</p><p><em>ignore</em> irq affinity hint value is completely ignored</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--powerthresh=&lt;threshold&gt;</strong></p>
  </dt>
  <dd>
    <p>Set the threshold at which we attempt to move a cpu into powersave mode If more than &lt;threshold&gt; cpus are more than 1 standard deviation below the average cpu softirq workload, and no cpus are more than 1 standard deviation above (and have more than 1 irq assigned to them), attempt to place 1 cpu in powersave mode.  In powersave mode, a cpu will not have any irqs balanced to it, in an effort to prevent that cpu from waking up without need.</p>
  </dd>
  <dt>
    <p><strong>--banirq=&lt;irqnum&gt;</strong></p>
  </dt>
  <dd>
    <p>Add the specified irq to the set of banned irqs. irqbalance will not affect the affinity of any irqs on the banned list, allowing them to be specified manually.  This option is addative and can be specified multiple times. For example to ban irqs 43 and 44 from balancing, use the following command line: <strong>irqbalance --banirq=43 --banirq=44</strong></p>
  </dd>
  <dt>
    <p><strong>--policyscript=&lt;script&gt;</strong></p>
  </dt>
  <dd>
    <p>When specified, the referenced script will execute once for each discovered irq, with the sysfs device path and irq number passed as arguments. The script may specify zero or more key=value pairs that will guide irqbalance in the management of that irq.  Key=value pairs are printed by the script on stdout and will be captured and interpreted by irqbalance.  Irqbalance expects a zero exit code from the provided utility.  Recognized key=value pairs are:</p>
  </dd>
  <dt>
    <p><em>ban=[true | false]</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>Directs irqbalance to exclude the passed in irq from balancing</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><em>balance_level=[none | package | cache | core]</em></p>
  </dt>
  <dd>
    <p>This allows a user to override the balance level of a given irq.  By default the balance level is determined automatically based on the pci device class of the device that owns the irq.</p>
  </dd>
  <dt>
    <p><em>numa_node=&lt;integer&gt;</em></p>
  </dt>
  <dd>
    <p>This allows a user to override the numa node that sysfs indicates a given device irq is local to.  Often, systems will not specify this information in ACPI, and as a result devicesa are considered equidistant from all numa nodes in a system. This option allows for that hardware provided information to be overridden, so that irqbalance can bias irq affinity for these devices toward its most local node.  Note that specifying a -1 here forces irqbalance to consider an interrupt from a device to be equidistant from all nodes.</p>
  </dd>
  <dt>
    <p><strong>--pid=&lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>Have irqbalance write its process id to the specified file.  By default no pidfile is written.  The written pidfile is automatically unlinked when irqbalance exits.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>IRQBALANCE_ONESHOT</strong></p>
  </dt>
  <dd>
    <p>Same as --oneshot</p>
  </dd>
  <dt>
    <p><strong>IRQBALANCE_DEBUG</strong></p>
  </dt>
  <dd>
    <p>Same as --debug</p>
  </dd>
  <dt>
    <p><strong>IRQBALANCE_BANNED_CPUS</strong></p>
  </dt>
  <dd>
    <p>Provides a mask of cpus which irqbalance should ignore and never assign interrupts to</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>SIGHUP</strong></p>
  </dt>
  <dd>
    <p>Forces a rescan of the available irqs and system topology</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Homepage</h2>
        <div class="sectioncontent">
<p>http://code.google.com/p/irqbalance</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="irpty.1.html"><span aria-hidden="true">&larr;</span> irpty.1: Pseudo tty driver</a></li>
   <li class="next"><a href="irqbench.1.html">irqbench.1: Xenomai irq benchmark, host control <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
