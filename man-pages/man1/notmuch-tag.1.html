<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>notmuch-tag: Add/remove tags for all messages matching the search terms</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Add/remove tags for all messages matching the search terms">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="notmuch-tag (1) manual">
  <meta name="twitter:description" content="Add/remove tags for all messages matching the search terms">
  <meta name="twitter:image" content="https://www.carta.tech/images/notmuch-notmuch-tag-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/notmuch-tag.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="notmuch-tag (1) manual" />
  <meta property="og:description" content="Add/remove tags for all messages matching the search terms" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/notmuch-notmuch-tag-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">notmuch-tag<small> (1)</small></h1>
        <p class="lead">Add/remove tags for all messages matching the search terms</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/notmuch-tag.1.html">
      <span itemprop="name">notmuch-tag: Add/remove tags for all messages matching the search terms</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/notmuch/">
      <span itemprop="name">notmuch</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/notmuch-tag.1.html">
      <span itemprop="name">notmuch-tag: Add/remove tags for all messages matching the search terms</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>notmuch</strong> <strong>tag</strong> [options ...] +&lt;<em>tag</em>&gt;|-&lt;<em>tag</em>&gt; [--] &lt;<em>search-term</em>&gt; ...</p><p><strong>notmuch</strong> <strong>tag</strong> <strong>--batch</strong> [--input=&lt;<em>filename</em>&gt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Add/remove tags for all messages matching the search terms.</p><p>See <a href="../man7/notmuch-search-terms.7.html"><strong>notmuch-search-terms</strong>(7)</a></strong> for details of the supported syntax for &lt;<em>search-term</em>&gt;.</p><p>Tags prefixed by &apos;+&apos; are added while those prefixed by &apos;-&apos; are removed. For each message, tag changes are applied in the order they appear on the command line.</p><p>The beginning of the search terms is recognized by the first argument that begins with neither &apos;+&apos; nor &apos;-&apos;. Support for an initial search term beginning with &apos;+&apos; or &apos;-&apos; is provided by allowing the user to specify a "--" argument to separate the tags from the search terms.</p><p><strong>notmuch tag</strong> updates the maildir flags according to tag changes if the <strong>maildir.synchronize_flags</strong> configuration option is enabled. See <a href="../man1/notmuch-config.1.html"><strong>notmuch-config</strong>(1)</a></strong> for details.</p><p>Supported options for <strong>tag</strong> include</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>--remove-all</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Remove all tags from each message matching the search terms before applying the tag changes appearing on the command line. This means setting the tags of each message to the tags to be added. If there are no tags to be added, the messages will have no tags.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--batch</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Read batch tagging operations from a file (stdin by default). This is more efficient than repeated <strong>notmuch tag</strong> invocations. See <em>TAG FILE FORMAT</em> below for the input format. This option is not compatible with specifying tagging on the command line.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--input=</strong><strong>&lt;filename&gt;</strong></p>
  </dt>
  <dd>
    <p>Read input from given file, instead of from stdin. Implies <strong>--batch</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TAG FILE FORMAT</h2>
        <div class="sectioncontent">
<p>The input must consist of lines of the format:</p><p>+&lt;<em>tag</em>&gt;|-&lt;<em>tag</em>&gt; [...] [--] &lt;<em>query</em>&gt;</p><p>Each line is interpreted similarly to <strong>notmuch tag</strong> command line arguments. The delimiter is one or more spaces &apos; &apos;. Any characters in &lt;<em>tag</em>&gt; <strong>may</strong> be hex-encoded with %NN where NN is the hexadecimal value of the character. To hex-encode a character with a multi-byte UTF-8 encoding, hex-encode each byte. Any spaces in &lt;tag&gt; <strong>must</strong> be hex-encoded as %20. Any characters that are not part of &lt;<em>tag</em>&gt; <strong>must</strong> not be hex-encoded.</p><p>In the future tag:"tag with spaces" style quoting may be supported for &lt;<em>tag</em>&gt; as well; for this reason all double quote characters in &lt;<em>tag</em>&gt; <strong>should</strong> be hex-encoded.</p><p>The &lt;<em>query</em>&gt; should be quoted using Xapian boolean term quoting rules: if a term contains whitespace or a close paren or starts with a double quote, it must be enclosed in double quotes (not including any prefix) and double quotes inside the term must be doubled (see below for examples).</p><p>Leading and trailing space &apos; &apos; is ignored. Empty lines and lines beginning with &apos;#&apos; are ignored.</p><h3>EXAMPLE</h3>
<p>The following shows a valid input to batch tagging. Note that only the isolated &apos;*&apos; acts as a wildcard. Also note the two different quotings of the tag <strong>space in tags</strong></p>
<pre>
+winner *
+foo::bar%25 -- (One and Two) or (One and tag:winner)
+found::it -- tag:foo::bar%
# ignore this line and the next

+space%20in%20tags -- Two
# add tag &apos;(tags)&apos;, among other stunts.
+crazy{ +(tags) +&are +#possible&#92; -- tag:"space in tags"
+match*crazy -- tag:crazy{
+some_tag -- id:"this is ""nauty)"""
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO notmuch-tag&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/notmuch.1.html"><strong>notmuch</strong>(1)</a></strong>, <a href="../man1/notmuch-config.1.html"><strong>notmuch-config</strong>(1)</a></strong>, <a href="../man1/notmuch-count.1.html"><strong>notmuch-count</strong>(1)</a></strong>, <a href="../man1/notmuch-dump.1.html"><strong>notmuch-dump</strong>(1)</a></strong>, <a href="../man5/notmuch-hooks.5.html"><strong>notmuch-hooks</strong>(5)</a></strong>, <a href="../man1/notmuch-insert.1.html"><strong>notmuch-insert</strong>(1)</a></strong>, <a href="../man1/notmuch-new.1.html"><strong>notmuch-new</strong>(1)</a></strong>, <a href="../man1/notmuch-reply.1.html"><strong>notmuch-reply</strong>(1)</a></strong>, <a href="../man1/notmuch-restore.1.html"><strong>notmuch-restore</strong>(1)</a></strong>, <a href="../man1/notmuch-search.1.html"><strong>notmuch-search</strong>(1)</a></strong>, <a href="../man7/notmuch-search-terms.7.html"><strong>notmuch-search-terms</strong>(7)</a></strong>, <a href="../man1/notmuch-show.1.html"><strong>notmuch-show</strong>(1)</a></strong>,</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Carl Worth and many others</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2014, Carl Worth and many others</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="notmuch-show.1.html"><span aria-hidden="true">&larr;</span> notmuch-show.1: Show messages matching the given search terms</a></li>
   <li class="next"><a href="nountangle.1.html">nountangle.1: Noweb, a literate-programming tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
