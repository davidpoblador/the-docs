<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>distccd: Distributed c/c++ compiler server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed c/c++ compiler server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="distccd (1) manual">
  <meta name="twitter:description" content="Distributed c/c++ compiler server">
  <meta name="twitter:image" content="https://www.carta.tech/images/distcc-distccd-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/distccd.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="distccd (1) manual" />
  <meta property="og:description" content="Distributed c/c++ compiler server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/distcc-distccd-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">distccd<small> (1)</small></h1>
        <p class="lead">Distributed c/c++ compiler server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/distccd.1.html">
      <span itemprop="name">distccd: Distributed c/c++ compiler server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/distcc/">
      <span itemprop="name">distcc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/distccd.1.html">
      <span itemprop="name">distccd: Distributed c/c++ compiler server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>distccd --daemon</strong> <em>[OPTIONS]</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>distccd</em> is the server for the <a href="../man1/distcc.1.html"><strong>distcc</strong>(1)</a> distributed compiler.  It accepts and runs compilation jobs for network clients.</p><p>distcc can run over either TCP or a connection command such as <strong>ssh</strong>(1). TCP connections are fast but relatively insecure.  SSH connections are secure but slower.</p><p>For SSH connections, distccd must be installed on the volunteer but should not run as a daemon -- it will be started over SSH as needed. SSH connections have several advantages: neither the client nor server listens on any new ports; compilations run with the privileges of the user that requested them; unauthorized users cannot access the server; and source and output is protected in transit.</p><p>For TCP connections, distccd can run either from an inetd-style program, or as a standalone server.  Standalone mode is recommended because it is slightly more efficient and allows distccd to regulate the number of incoming jobs.  The <strong>--listen</strong> and <strong>--allow</strong> options can be used for simple IP-based access control.</p><p>distcc may be started either by root or any other user.  If run by root, it gives away privileges and changes to the user specified by the <strong>--user</strong> option, or the user called "distcc", or the user called "nobody".</p><p>distccd does not have a configuration file; it's behaviour is controlled only by command-line options and requests from clients.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STANDALONE SERVER</h2>
        <div class="sectioncontent">
<p>The recommended method for running distccd is as a standalone server. distccd will listen for network connections and fork several child processes to serve them.</p><p>If you installed distcc using a packaged version you may be able to start the server using the standard mechanism for your operating system, such as</p><p># service distcc start</p><p>To start distccd as a standalone service, run a command like this either as root or an ordinary user:</p><p># distccd --daemon</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUNNING FROM INIT</h2>
        <div class="sectioncontent">
<p>distccd may be run as a standalone daemon under the control of another program like <a href="../man8/init.8.html"><strong>init</strong>(8)</a> or daemontools.  The super-server starts distccd when the system boots, and whenever it exits.</p><p>distccd should be started just as for a standalone server, except that the <strong>--no-detach</strong> option should be used so that the super-server can monitor it.</p><p>For example, to add distccd as a process to Linux sysvinit, add this line to <em>/etc/inittab</em></p><p>dscc:2345:respawn:/usr/local/bin/distccd --verbose --no-detach --daemon</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUNNING FROM INETD</h2>
        <div class="sectioncontent">
<p>distccd may be started from a network super-server such as inetd or xinetd.  In this case inetd listens for network connections and invokes distccd when one arrives.</p><p>This is slightly less efficient than running a standalone distccd daemon.  distccd is not able to regulate the number of concurrent jobs accepted, but there may be an option in your inetd configuration to do so.</p><p>For traditional Unix inetd, a line like this can be added to /etc/inetd.conf:</p><p>distcc stream tcp nowait.6000 root /usr/local/bin/distccd distccd --inetd</p><p>inetd imposes a limit on the rate of connections to a service to protect against accidental or intentional overuse.  The default in Linux NetKit inetd is 40 per minute, which is far  too low for distccd. The .6000 option raises the limit to 6000 per minute.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TERMINATING DISTCCD</h2>
        <div class="sectioncontent">
<p>To shut down a standalone server, send a SIGTERM signal to the parent process.  The most reliable way to do this from a script is to use the <em>--pid-file</em> option to record its process ID.  Shutting down the server in this way should allow any jobs currently in progress to complete.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display summary usage information.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Shows the daemon version and exits.</p>
  </dd>
  <dt>
    <p><strong>-j, --jobs JOBS</strong></p>
  </dt>
  <dd>
    <p>Sets a limit on the number of jobs that can be accepted at any time. By default this is set to two greater than the number of CPUs on the machine, to allow for some processes being blocked on network IO. (Daemon mode only.)</p>
  </dd>
  <dt>
    <p><strong>-N, --nice NICENESS</strong></p>
  </dt>
  <dd>
    <p>Makes the daemon more nice about giving up the CPU to other tasks on the machine.  NICENESS is an increment to the current priority of the process.  The range of priorities depends on the operating system but is typically 0 to 20.  By default the niceness is increased by 5.</p>
  </dd>
  <dt>
    <p><strong>-p, --port PORT</strong></p>
  </dt>
  <dd>
    <p>Set the TCP port to listen on, rather than the default of 3632. (Daemon mode only.)</p>
  </dd>
  <dt>
    <p><strong>--listen ADDRESS</strong></p>
  </dt>
  <dd>
    <p>Instructs the distccd daemon to listen on the IP address ADDRESS.  This can be useful for access control on dual-homed hosts.  (Daemon mode only.)</p>
  </dd>
  <dt>
    <p><strong>-P, --pid-file FILE</strong></p>
  </dt>
  <dd>
    <p>Save daemon process id to file FILE.  (Daemon mode only.)</p>
  </dd>
  <dt>
    <p><strong>--user USER</strong></p>
  </dt>
  <dd>
    <p>If distccd gets executed as root, change to user USER.</p>
  </dd>
  <dt>
    <p><strong>-a, --allow IPADDR[/MASK]</strong></p>
  </dt>
  <dd>
    <p>Instructs distccd to accept connections from the IP address IPADDR.  A CIDR mask length can be supplied optionally after a trailing slash, e.g. 192.168.0.0/24, in which case addresses that match in the most significant MASK bits will be allowed.  If no --allow options are specified, distccd will exit immediately!  Unauthorized connections are rejected by closing the TCP connection immediately.  A warning is logged on the server but nothing is sent to the client.</p>
  </dd>
  <dt>
    <p><strong>--job-lifetime SECONDS</strong></p>
  </dt>
  <dd>
    <p>Kills a distccd job if it runs for more than SECONDS seconds. This prevents denial of service from clients that don't properly disconnect and compilers that fail to terminate. By default this is turned off.</p>
  </dd>
  <dt>
    <p><strong>--no-detach</strong></p>
  </dt>
  <dd>
    <p>Do not detach from the shell that started the daemon.</p>
  </dd>
  <dt>
    <p><strong>--no-fork</strong></p>
  </dt>
  <dd>
    <p>Don't fork children for each connection, to allow attaching gdb. Don't use this if you don't understand it!</p>
  </dd>
  <dt>
    <p><strong>--log-file FILE</strong></p>
  </dt>
  <dd>
    <p>Send messages to file FILE instead of syslog. Logging directly to a file is significantly faster than going via syslog and is recommended.</p>
  </dd>
  <dt>
    <p><strong>--log-level LEVEL</strong></p>
  </dt>
  <dd>
    <p>Set the minimum severity of error that will be included in the log file.  Useful if you only want to see error messages rather than an entry for each connection.  LEVEL can be any of the standard syslog levels, and in particular <em>critical, error, warning, notice, info,</em> or <em>debug.</em></p>
  </dd>
  <dt>
    <p><strong>--log-stderr</strong></p>
  </dt>
  <dd>
    <p>Send log messages to stderr, rather than to a file or syslog.  This is mainly intended for use in debugging.  Do not use in inetd mode.</p>
  </dd>
  <dt>
    <p><strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Include debug messages in log.  Equivalent to <strong>--log-level=debug</strong></p>
  </dd>
  <dt>
    <p><strong>--wizard</strong></p>
  </dt>
  <dd>
    <p>Turn on all options appropriate for starting distccd under gdb: run as a daemon, log verbosely to stderr, and do not detach or fork.  For wizards only.</p>
  </dd>
  <dt>
    <p><strong>--stats</strong></p>
  </dt>
  <dd>
    <p>Turn on the statistics HTTP server. By default it is off. (Daemon mode only.)</p>
  </dd>
  <dt>
    <p><strong>--stats-port PORT</strong></p>
  </dt>
  <dd>
    <p>Set the TCP port to listen on for HTTP requests, rather than the default of 3633. (Daemon mode only.)</p>
  </dd>
  <dt>
    <p><strong>--inetd</strong></p>
  </dt>
  <dd>
    <p>Serve a client connected to stdin/stdout.  As the name suggests, this option should be used when distccd is run from within a super-server like inetd.  distccd assumes inetd mode when stdin is a socket.</p>
  </dd>
  <dt>
    <p><strong>--daemon</strong></p>
  </dt>
  <dd>
    <p>Bind and listen on a socket, rather than running from inetd.  This is used for standalone mode.  distccd assumes daemon mode at startup if stdin is a tty, so --daemon should be explicitly specified when starting distccd from a script or in a non-interactive ssh connection.</p>
  </dd>
  <dt>
    <p><strong>--zeroconf</strong></p>
  </dt>
  <dd>
    <p>Register the availability of this distccd server using Avahi Zeroconf DNS Service Discovery (DNS-SD).  This allows distcc clients on the local network to access this distccd server without explicitly listing its host name or IP address in their distcc host list: the distcc clients can just use "+zeroconf" in their distcc host lists. <strong>This option is only available if distccd was compiled with</strong> <strong>Avahi support enabled.</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEARCH PATHS</h2>
        <div class="sectioncontent">
<p>distcc can pass either a relative or an absolute name for the compiler to distccd.  If distcc is given an explicit absolute compiler filename, that name is used verbatim on both the client and server. If the compiler name is not an absolute path, or if the client is used in masquerade mode, then the server's PATH is searched.</p><p>distccd inherits its search path from its parent process.  By default distccd tries to remove directories that seem to contain distccd masquerade links, to guard against inadvertent recursion.  The <strong>DISTCCD_PATH</strong> environment variable may be used to set the path.</p><p>The search path is logged when --verbose is given.  In case of confusion, check the logs.</p><p>When distccd is run over ssh, the <em>$HOME/.ssh/environment</em> file may be useful in setting the path.  See <strong>ssh</strong>(1).</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>distccd logs messages to syslog's <em>daemon</em> facility by default, which normally writes to <em>/var/log/daemon</em> or <em>/var/log/messages.</em> Log messages can be sent to a different file using the <strong>--log-file option.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>DISTCC_CMDLIST</strong></p>
  </dt>
  <dd>
    <p>If the environment variable DISTCC_CMDLIST is set, load a list of supported commands from the file named by DISTCC_CMDLIST, and refuse to serve any command whose last DISTCC_CMDLIST_MATCHWORDS last words do not match those of a command in that list.  See the comments in src/serve.c.</p>
  </dd>
  <dt>
    <p><strong>DISTCC_CMDLIST_NUMWORDS</strong></p>
  </dt>
  <dd>
    <p>The number of words, from the end of the command, to match. The default is 1.</p>
  </dd>
  <dt>
    <p><strong>DISTCCD_PATH</strong></p>
  </dt>
  <dd>
    <p>When starting distccd, if this value is set it will be used unaltered for the command-execution PATH.  The code that normally tries to remove masquerade directories from the path is skipped.</p>
  </dd>
  <dt>
    <p><strong>DISTCC_SAVE_TEMPS</strong></p>
  </dt>
  <dd>
    <p>If set to 1, temporary files are not deleted after use.</p>
  </dd>

</dl>
<p>Note that <strong>DISTCC_LOG</strong> does not affect the log destination for the server.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>DISTCC_TCP_DEFER_ACCEPT</strong></p>
  </dt>
  <dd>
    <p>On Linux, turn on the TCP_DEFER_ACCEPT socket option.  Defaults to on.</p>
  </dd>
  <dt>
    <p><strong>TMPDIR</strong></p>
  </dt>
  <dd>
    <p>Directory for temporary files such as preprocessor output.  By default /tmp/ is used.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO distccd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/distcc.1.html"><strong>distcc</strong>(1)</a>, <a href="../man1/distcc-pump.1.html"><strong>distcc-pump</strong>(1)</a>, <a href="../man1/include_server.1.html"><strong>include_server</strong>(1)</a>, <strong>gcc</strong>(1), <a href="../man1/make.1.html"><strong>make</strong>(1)</a>, and  <a href="../man1/ccache.1.html"><strong>ccache</strong>(1)</a> <em>http://code.google.com/p/distcc/</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>IP-based access control is not secure against attackers able to spoof TCP connections, and cannot discriminate different users on a client.</p><p>TCP connections are not secure against attackers able to observe or modify network traffic.</p><p>Because ccache does not cache compilation from <strong>.i</strong> files, it is not useful to call it from distccd.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENCE</h2>
        <div class="sectioncontent">
<p>You are free to use distcc.  distcc (including this manual) may be copied, modified or distributed only under the terms of the GNU General Public Licence version 2 or later.  distcc comes with absolutely no warrany.  A copy of the GPL is included in the file COPYING.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>distcc was written by Martin Pool &lt;mbp@sourcefrog.net&gt;, with the co-operation of many scholars including Wayne Davison, Frerich Raabe, Dimitri Papadopoulos and others noted in the NEWS file. See <a href="../man1/distcc-pump.1.html"><strong>distcc-pump</strong>(1)</a> for the authors of pump mode. Please report bugs to &lt;distcc@lists.samba.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="distcc-pump.1.html"><span aria-hidden="true">&larr;</span> distcc-pump.1: Accelerate remote compilation with distcc</a></li>
   <li class="next"><a href="distccmon-gnome.1.html">distccmon-gnome.1: Gtk monitor for distcc a distributed client and server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
