<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>opusenc: Encode audio into the opus format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Encode audio into the opus format">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="opusenc (1) manual">
  <meta name="twitter:description" content="Encode audio into the opus format">
  <meta name="twitter:image" content="https://www.carta.tech/images/opus-tools-opusenc-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/opusenc.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="opusenc (1) manual" />
  <meta property="og:description" content="Encode audio into the opus format" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/opus-tools-opusenc-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">opusenc<small> (1)</small></h1>
        <p class="lead">Encode audio into the opus format</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/opusenc.1.html">
      <span itemprop="name">opusenc: Encode audio into the opus format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/opus-tools/">
      <span itemprop="name">opus-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/opusenc.1.html">
      <span itemprop="name">opusenc: Encode audio into the opus format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>opusenc</strong> [ <strong>-h</strong> ] [ <strong>-V</strong> ] [ <strong>--bitrate</strong> <em>kbit/sec</em> ] [ <strong>--vbr</strong> ] [ <strong>--cvbr</strong> ] [ <strong>--hard-cbr</strong> ] [ <strong>--comp</strong> <em>complexity</em> ] [ <strong>--framesize</strong> <em>2.5, 5, 10, 20, 40, 60</em> ] [ <strong>--expect-loss</strong> <em>pct</em> ] [ <strong>--downmix-mono</strong> ] [ <strong>--downmix-stereo</strong> ] [ <strong>--max-delay</strong> <em>ms</em> ] [ <strong>--serial</strong> <em>serial number</em> ] [ <strong>--save-range</strong> <em>file</em> ] [ <strong>--set-ctl-int</strong> <em>ctl=value</em> ] [ <strong>--comment</strong> <em>tag=value</em> ] [ <strong>--artist</strong> <em>author</em> ] [ <strong>--title</strong> <em>'track title'</em> ] [ <strong>--album</strong> <em>'album title'</em> ] [ <strong>--date</strong> <em>YYYY-MM-DD</em> ] [ <strong>--genre</strong> <em>genre</em> ] [ <strong>--picture</strong> <em>filename</em><strong>|</strong><em>specification</em> ] [ <strong>--padding</strong> <em>n</em> ] [ <strong>--discard-comments</strong> ] [ <strong>--discard-pictures</strong> ] [ <strong>--raw</strong> ] [ <strong>--raw-bits</strong> <em>bits/sample</em> ] [ <strong>--raw-rate</strong> <em>Hz</em> ] [ <strong>--raw-chan</strong> <em>N</em> ] [ <strong>--raw-endianness</strong> <em>flag</em> ] [ <strong>--ignorelength</strong> ] <em>input.wav</em> <em>output.opus</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>opusenc</strong> reads audio data in either raw, Wave, or AIFF format and encodes it into an Opus stream. If the input file is "-" audio data is read from stdin. Likewise, if the output file is "-" opus data is written to stdout.</p><p>Unless quieted <strong>opusenc</strong> displays fancy statistics about the encoding progress.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -h, --help
  </dt>
  <dd>
    <p>Show command help</p>
  </dd>
  <dt>
    -V, --version
  </dt>
  <dd>
    <p>Show the version number</p>
  </dd>
  <dt>
    --bitrate N.nnn
  </dt>
  <dd>
    <p>Target bitrate in kbit/sec (6-256 per channel)</p><p>In VBR mode this specifies the average rate for a large and diverse collection of audio. In CVBR and Hard-CBR mode it specifies the specific output bitrate.</p><p>Default for &gt;=44.1kHz input is 64kbps per mono stream, 96kbps per coupled pair.</p>
  </dd>
  <dt>
    --vbr
  </dt>
  <dd>
    <p>Use variable bitrate encoding (default)</p><p>In VBR mode the bitrate may go up and down freely depending on the content to achieve more consistent quality.</p>
  </dd>
  <dt>
    --cvbr
  </dt>
  <dd>
    <p>Use constrained variable bitrate encoding.</p><p>Outputs to a specific bitrate. This mode is analogous to CBR in AAC/MP3 encoders and managed mode in vorbis coders. This delivers less consistent quality than VBR mode but consistent bitrate.</p>
  </dd>
  <dt>
    --hard-cbr
  </dt>
  <dd>
    <p>Use hard constant bitrate encoding.</p><p>With hard-cbr every frame will be exactly the same size, similar to how speech codecs work. This delivers lower overall quality but is useful  where bitrate changes might leak data in encrypted channels or on synchronous transports.</p>
  </dd>
  <dt>
    --comp N
  </dt>
  <dd>
    <p>Encoding computational complexity (0-10, default: 10). Zero gives the fastest encodes but lower quality, while 10 gives the highest quality but slower encoding.</p>
  </dd>
  <dt>
    --framesize N
  </dt>
  <dd>
    <p>Maximum frame size in milliseconds (2.5, 5, 10, 20, 40, 60, default: 20)</p><p>Smaller framesizes achieve lower latency but less quality at a given bitrate.</p><p>Sizes greater than 20ms are only interesting at fairly low bitrates.</p>
  </dd>
  <dt>
    --expect-loss N
  </dt>
  <dd>
    <p>Percentage packet loss to expect (default: 0)</p>
  </dd>
  <dt>
    --downmix-mono
  </dt>
  <dd>
    <p>Downmix to mono</p>
  </dd>
  <dt>
    --downmix-stereo
  </dt>
  <dd>
    <p>Downmix to stereo (if &gt;2 channels input)</p>
  </dd>
  <dt>
    --max-delay N
  </dt>
  <dd>
    <p>Maximum container delay in milliseconds (0-1000, default: 1000)</p>
  </dd>
  <dt>
    --serial n
  </dt>
  <dd>
    <p>Forces the stream serial number to a specified value (instead of being random). This is used to make the encoder deterministic for testing and is not generally recommended.</p>
  </dd>
  <dt>
    --save-range file
  </dt>
  <dd>
    <p>Saves check values for every frame to a file</p>
  </dd>
  <dt>
    --set-ctl-int x=y
  </dt>
  <dd>
    <p>Pass the encoder control x with value y (advanced) Preface with s: to direct the ctl to multistream s</p><p>This may be used multiple times</p>
  </dd>
  <dt>
    --comment tag=value
  </dt>
  <dd>
    <p>Add an extra comment.  This may be used multiple times, and all instances will be added to each of the input files specified. The argument should be in the form "tag=value". See the vorbis-comment specification for well known tag names: http://www.xiph.org/vorbis/doc/v-comment.html</p>
  </dd>
  <dt>
    --artist artist
  </dt>
  <dd>
    <p>Set the artist comment field to <em>artist.</em> This may be used multiple times to list contributing artists individually. Note that some playback software does not display multiple artists gracefully.</p>
  </dd>
  <dt>
    --title title
  </dt>
  <dd>
    <p>Set the track title comment field to <em>title</em></p>
  </dd>
  <dt>
    --album album
  </dt>
  <dd>
    <p>Set the album or collection title field to <em>album</em></p>
  </dd>
  <dt>
    --date YYYY-MM-DD
  </dt>
  <dd>
    <p>Set the date comment field to <em>YYYY-MM-DD</em></p>
  </dd>
  <dt>
    --genre genre
  </dt>
  <dd>
    <p>Set the genre comment field to <em>genre.</em> This option may be specified multiple times to tag a track with multiple overlapping genres.</p>
  </dd>
  <dt>
    --picture filename|specification
  </dt>
  <dd>
    <p>Attach album art for the track.</p><p>Either a <em>filename</em> for the artwork or a more complete <em>specification</em> form can be used. The picture is added to a <strong>METADATA_BLOCK_PICTURE</strong> comment field similar to what is used in <small>FLAC.</small> The <em>specification</em> is a string whose parts are separated by | (pipe) characters. Some parts may be left empty to invoke default values. Passing a plain filename is just shorthand for the "||||filename" specification.</p><p>The format of <em>specification</em> is [<strong>type</strong>]|[<strong>mime-type</strong>]|[<strong>description</strong>]|[<strong>width</strong>x<strong>height</strong>x<strong>depth</strong>[/<strong>colors</strong>]]|<strong>filename</strong></p><p><em>type</em> is an optional number describing the nature of the picture. Defined values are from one of:</p>
<pre>
  0: Other
</pre>

<pre>
  1: 32x32 pixel 'file icon' (PNG only)
</pre>

<pre>
  2: Other file icon
</pre>

<pre>
  3: Cover (front)
</pre>

<pre>
  4: Cover (back)
</pre>

<pre>
  5: Leaflet page
</pre>

<pre>
  6: Media (e.g., label side of a CD)
</pre>

<pre>
  7: Lead artist/lead performer/soloist
</pre>

<pre>
  8: Artist/performer
</pre>

<pre>
  9: Conductor
</pre>
<p> 10: Band/Orchestra</p><p> 11: Composer</p><p> 12: Lyricist/text writer</p><p> 13: Recording location</p><p> 14: During recording</p><p> 15: During performance</p><p> 16: Movie/video screen capture</p><p> 17: A bright colored fish</p><p> 18: Illustration</p><p> 19: Band/artist logotype</p><p> 20: Publisher/studio logotype</p><p>The default is 3 (front cover). More than one --picture option can be specified to attach multiple pictures. There may only be one picture each of type 1 and 2 in a file.</p><p><em>mime-type</em> is optional. If left blank, it will be detected from the file. For best compatibility with players, use pictures with a <em>mime-type</em> of image/jpeg or image/png. The <em>mime-type</em> can also be "--&gt;" to mean that <em>filename</em> is actually a URL to an image, though this use is discouraged. The file at the URL will not be fetched. The URL itself is stored in the comment field.</p><p><em>description</em> is optional. The default is an empty string.</p><p>The next part specifies the resolution and color information. If the <em>mime-type</em> is image/jpeg, image/png, or image/gif, you can usually leave this empty and they can be detected from the file. Otherwise, you must specify the width in pixels, height in pixels, and color depth in bits-per-pixel. If the image has indexed colors you should also specify the number of colors used. If possible, these are checked against the file for accuracy.</p><p><em>filename</em> is the path to the picture file to be imported, or the URL if the <em>mime-type</em> is --&gt;.</p>
  </dd>
  <dt>
    --padding n
  </dt>
  <dd>
    <p>Reserve <em>n</em> extra bytes for metadata tags. This can make later tag editing more efficient. Defaults to 512.</p>
  </dd>
  <dt>
    --discard-comments
  </dt>
  <dd>
    <p>Don't propagate metadata tags from the input file.</p>
  </dd>
  <dt>
    --discard-pictures
  </dt>
  <dd>
    <p>Don't propagate pictures or art from the input file.</p>
  </dd>
  <dt>
    --raw
  </dt>
  <dd>
    <p>Raw (headerless) PCM input</p>
  </dd>
  <dt>
    --raw-bits N
  </dt>
  <dd>
    <p>Set bits/sample for raw input (default: 16)</p>
  </dd>
  <dt>
    --raw-rate N
  </dt>
  <dd>
    <p>Set sampling rate for raw input (default: 48000)</p>
  </dd>
  <dt>
    --raw-chan N
  </dt>
  <dd>
    <p>Set number of channels for raw input (default: 2)</p>
  </dd>
  <dt>
    --raw-endianness [0/1]
  </dt>
  <dd>
    <p>Set the endianness for raw input: 1 for bigendian, 0 for little (defaults to 0)</p>
  </dd>
  <dt>
    --ignorelength
  </dt>
  <dd>
    <p>Always ignore the datalength in Wave headers. Opusenc automatically ignores the length when its implausible (very small or very large) but some STDIN usage may still need this option to avoid truncation.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Simplest usage. Take input as input.wav and produce output as output.opus:</p><p>opusenc input.wav output.opus</p><p>Produce a very high quality encode with a target rate of 160kbps:</p><p>opusenc --bitrate 160 input.wav output.opus</p><p>Record and send a live stream to an Icecast HTTP streaming server using oggfwd:</p><p>arecord -c 2 -r 48000 -twav - | opusenc --bitrate 96 -  - | oggfwd icecast.somewhere.org 8000 password /stream.opus</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>While it is possible to use opusenc for low latency streaming (e.g. with --max-delay set to 0 and netcat instead of Icecast) it's not really designed for this, and the Ogg container and TCP transport aren't the best tools for that application. Shell pipelines themselves will often have high buffering. The ability to set framesizes as low as 2.5 ms in opusenc mostly exists to try out the quality of the format with low latency settings, but not really for actual low latency usage.</p><p>Interactive usage should use UDP/RTP directly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Gregory Maxwell &lt;greg@xiph.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO opusenc&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/opusdec.1.html"><strong>opusdec</strong>(1)</a>, <a href="../man1/opusinfo.1.html"><strong>opusinfo</strong>(1)</a>, <strong>oggfwd</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="opusdec.1.html"><span aria-hidden="true">&larr;</span> opusdec.1: Decode audio from opus format to wav (or simple audio output)</a></li>
   <li class="next"><a href="opusinfo.1.html">opusinfo.1: Gives information about opus files and does extensive validity checking <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
