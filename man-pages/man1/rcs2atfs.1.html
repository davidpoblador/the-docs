<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rcs2atfs: Convert rcs archives to atfs format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert rcs archives to atfs format">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rcs2atfs (1) manual">
  <meta name="twitter:description" content="Convert rcs archives to atfs format">
  <meta name="twitter:image" content="https://www.carta.tech/images/atfs-rcs2atfs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rcs2atfs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rcs2atfs (1) manual" />
  <meta property="og:description" content="Convert rcs archives to atfs format" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/atfs-rcs2atfs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rcs2atfs<small> (1)</small></h1>
        <p class="lead">Convert rcs archives to atfs format</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rcs2atfs.1.html">
      <span itemprop="name">rcs2atfs: Convert rcs archives to atfs format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/atfs/">
      <span itemprop="name">atfs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rcs2atfs.1.html">
      <span itemprop="name">rcs2atfs: Convert rcs archives to atfs format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>rcs2atfs</strong> &#92;$1&#92;fB&#92;$2&#92;fP <em>outputfile</em>] <strong>-q</strong>] <em>archive</em> ...</p><p><strong>rcs2atfs</strong> <em>outputfile</em>] <strong>-q</strong>] <strong>-R</strong> <em>directory</em> ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Rcs2atfs</strong> converts version histories from RCS archives to ShapeTools' AtFS format. It uses <a href="../man1/rlog.1.html"><strong>rlog</strong>(1)</a> to get information about an RCS archive and issues shell commands (usually through a pipe directly to &#92;fC&#92;$1&#92;fP&#92;fR&#92;$2&#92;fP to check out the RCS revisions and check the files in as AtFS versions, trying to keep as many attributes as possible.</p><p><strong>The RCS archives are left unchanged.</strong></p><p>It is recommended to create a special directory with the name RCS for the RCS archives, but AtFS histories are <em>always</em> kept in a special directory</p><p><strong>Rcs2atfs</strong> treats its arguments as names of RCS archives. These can be the names of the archive files themselves, ending with or the names of the files stored in the archives.</p><p>If the <strong>-R</strong> option is given, the arguments are interpreted as directory names. <strong>Rcs2atfs</strong> recursively descends each directory tree (symbolic links are followed) and converts the RCS archives it finds. The correspondig AtFS archives are created where the RCS archives are found.</p><p><strong>Rcs2atfs</strong> tries to keep the revision numbers of the RCS history also as AtFS version numbers. This is impossible if an RCS history contains branches. In this case the revisions are saved as AtFS versions in the order of their check-in date. In either case the RCS revision number is kept as a symbolic name for the corresponding AtFS version, e.g. the AtFS version of RCS revision 1.2 will have the symbolic name ``r1.2''.</p><h3>Attributes that don't change:</h3>
<ul>
<li><p>author</p></li><li><p>log message</p></li><li><p>comment leader</p></li><li><p>description</p></li><li><p>symbolic names (with the exception of the <em>additional</em> symbolic name derived from the RCS revision number)</p></li>
</ul>
<h3>Other attributes:</h3>

<dl class='dl-vertical'>
  <dt>
    <p>mtime</p>
  </dt>
  <dd>
    <p>set to the check-in date of the RCS revision</p>
  </dd>
  <dt>
    <p>state</p>
  </dt>
  <dd>
    <p>The value of this attribute is given to the AtFS attribute RCSstate. If it has the value the state of the AtFS version will be if it will be if it will be</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>(recursive)</p><p>The arguments are treated as directories. <strong>Rcs2atfs</strong> recursively descends the directory tree (symbolic links are followed) and builds an AtFS archive for each RCS archive it finds.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em> outputfile</em></p>
  </dt>
  <dd>
    <p><strong>rcs2atfs</strong> writes shell commands to <em>outputfile</em>, not directly to /bin/sh, and no conversion is done. If this shell script is executed from the directory where <strong>rcs2atfs</strong> was invoked, the archives are converted as if <strong>rcs2atfs</strong> had been invoked without <strong>-o</strong>.</p><p>The main use of this option is to investigate problems with the conversion of archives.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>(quiet)</p><p>The names and revision numbers of converted archives are not echoed on standard output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The command</p><ul>
<li><p>rcs2atfs -R $HOME/development</p></li>
</ul><p>traverses the directory tree $HOME/development and converts every RCS archive in it into an AtFS archive. During the conversion, the name of every RCS archive and every revision number is echoed on standard output.</p><ul>
<li><p>rcs2atfs -q RCS/*</p></li>
</ul><p>Each archive in the RCS directory is converted to an AtFS history. The names and revision numbers of the converted archives are not echoed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rcs2atfs&hellip;</h2>
        <div class="sectioncontent">
<p>sh(1), <strong>rcsintro</strong>(1), <a href="../man1/rcs.1.html"><strong>rcs</strong>(1)</a>, <a href="../man1/rlog.1.html"><strong>rlog</strong>(1)</a>, co(1), <strong>vcintro</strong>(1), <strong>save</strong>(1), <a href="../man1/vadm.1.html"><strong>vadm</strong>(1)</a>, <a href="../man1/utime.1.html"><strong>utime</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<h3>Warnings</h3>

<dl class='dl-vertical'>
  <dt>
    <p>-R flag not set, directory skipped</p>
  </dt>
  <dd>
    <p>If the <strong>-R</strong> flag is not set, directories given as arguments in the command line are ignored.</p>
  </dd>
  <dt>
    <p>locked version(s) exist</p>
  </dt>
  <dd>
    <p>A revision of the specified RCS history is locked. This is not really a problem, but perhaps <strong>rcs2atfs</strong> does not convert the most recent version of the file.</p>
  </dd>
  <dt>
    <p>branches exist, can't keep revision numbers</p>
  </dt>
  <dd>
    <p>If the RCS history contains branches, the numbers of AtFS versions cannot be the same as those of the corresponding RCS revisions.</p>
  </dd>
  <dt>
    <p>symbolic name to non-existent revision</p>
  </dt>
  <dd>
    <p><em>rlog</em> has reported a symbolic name of a revision that does not exist in this archive. Probably this never happens (I don't know), but if, the symbolic name is ignored.</p>
  </dd>

</dl>

<h3>Errors</h3>

<dl class='dl-vertical'>
  <dt>
    <p>ATFS history exists, file skipped</p>
  </dt>
  <dd>
    <p>The specified file is already known to AtFS as a history or a busy version. This file will nor be converted.</p>
  </dd>

</dl>
<p>colon after symbolic name missing, file skipped</p><p>revision not found, file skipped</p><p>date not found, file skipped</p><p>author not found, file skipped</p><p>status not found, file skipped</p><p>rlog information missing, file skipped</p><ul>
<li><p>These messages indicate problems with the <em>rlog</em> output, perhaps an old rlog version is used. works correctly with <em>rlog</em> version 5.5.)</p><p>The specified file will not be converted.</p></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p>rlog command failed, file skipped</p>
  </dt>
  <dd>
    <p>For some unknown reason <em>rlog</em> returned a non-zero exit status. <em>rlog</em> should have provided an explanatory message.</p>
  </dd>

</dl>

<h3>Fatal Errors</h3>

<dl class='dl-vertical'>
  <dt>
    <p>popen to rlog command failed</p>
  </dt>
  <dd>
    <p>The <em>rlog</em> command could not be invoked.</p>
  </dd>
  <dt>
    <p>popen to shell failed</p>
  </dt>
  <dd>
    <p>The shell could not be invoked.</p>
  </dd>
  <dt>
    <p>no more core</p>
  </dt>
  <dd>
    <p><strong>Rcs2atfs</strong> could not allocate enough memory. The amount of memory in your machine should be increased.</p>
  </dd>

</dl>

<h3>Internal Errors</h3>
<p>Oops? Unknown reader state in readin_rcsfile!</p><p>revision numbers corrupted</p><p>number of revisions is wrong!</p><ul>
<li><p>You should never see these error messages.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>If <strong>rcs2atfs</strong> visits the same RCS archive twice (e.g. because a symbolic link is followed to a directory which is also accessed directly), the check for existing AtFS archives may be done a second time before the conversion commands from the first visit are executed by the shell. This results in lots of annoying messages and duplicate AtFS versions of RCS revisions. To avoid this, make sure that <strong>rcs2atfs</strong> doesn't reach a directory twice.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>Rcs2atfs</strong> is rather slow since it invokes a shell command for every action.</p><p>Attribute citations in files are not translated from RCS to AtFS (e.g. ``$Header: ... $'' to ``$__Header$'').</p><p><strong>Rcs2atfs</strong> strongly relies on the format of <em>rlog</em>'s output. Since I don't know any other <em>rlog</em> than our version (5.5), it may fail to work with other versions.</p><p>Due to the lack of serious RCS archives, <strong>rcs2atfs</strong> isn't thoroughly tested yet. (Well, we use ShapeTools. :-)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Juergen.Nickelsen@cs.tu-berlin.de</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rcs-checkin.xemacs21.1.html"><span aria-hidden="true">&larr;</span> rcs-checkin.xemacs21.1: Accepts any number of file arguments and checks them into rcs</a></li>
   <li class="next"><a href="rcsclean.1.html">rcsclean.1: Clean up working files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
