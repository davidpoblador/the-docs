<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pegasus-kickstart: Remote job wrapper</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Remote job wrapper">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pegasus-kickstart (1) manual">
  <meta name="twitter:description" content="Remote job wrapper">
  <meta name="twitter:image" content="https://www.carta.tech/images/pegasus-wms-pegasus-kickstart-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pegasus-kickstart.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pegasus-kickstart (1) manual" />
  <meta property="og:description" content="Remote job wrapper" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pegasus-wms-pegasus-kickstart-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pegasus-kickstart<small> (1)</small></h1>
        <p class="lead">Remote job wrapper</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pegasus-kickstart.1.html">
      <span itemprop="name">pegasus-kickstart: Remote job wrapper</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pegasus-wms/">
      <span itemprop="name">pegasus-wms</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pegasus-kickstart.1.html">
      <span itemprop="name">pegasus-kickstart: Remote job wrapper</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<strong>pegasus-kickstart</strong> [<strong>-n</strong> <em>tr</em>] [<strong>-N</strong> <em>dv</em>] [<strong>-H</strong>] [<strong>-R</strong> <em>site</em>] [<strong>-W</strong> | <strong>-w</strong> <em>dir</em>]
                  [<strong>-L</strong> <em>lbl</em> <strong>-T</strong> <em>iso</em>] [<strong>-s</strong> <em>p</em> | <em>@fn</em>] [<strong>-S</strong> <em>p</em> | <em>@fn</em>] [<strong>-i</strong> <em>fn</em>]
                  [<strong>-o</strong> <em>fn</em>] [<strong>-e</strong> <em>fn</em>] [<strong>-X</strong>] [<strong>-l</strong> <em>fn</em> <em>sz</em>] [<strong>-F</strong>] (<strong>-I</strong> <em>fn</em> | <em>app</em> [<em>appflags</em>])
<strong>pegasus-kickstart</strong> <strong>-V</strong>
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>pegasus-kickstart</strong> is a wrapper program which manages and monitors the execution of jobs on remote resources.</p><p>Sitting in between the remote scheduler and the application process, it is possible for <strong>pegasus-kickstart</strong> to gather additional information about the process&apos; run-time behavior and resource usage, including the exit status of jobs. This information is important for Pegasus invocation tracking as well as detecting Globus GRAM job failures.</p><p><strong>pegasus-kickstart</strong> allows the optional execution of jobs before and after the main application job that run in chained execution with the main application job. See section <strong>SUBJOBS</strong> for details about this feature.</p><p>It also allows stdin, stdout, and stderr to be redirected from/to specific files.</p><p>All jobs with relative path specifications to the application are part of search relative to the current working directory (yes, this is unsafe), and by prepending each component from the <em>PATH</em> environment variable. The first match is used. Jobs that use absolute pathnames, starting in a slash, are exempt. Using an absolute path to your executable is the safe and recommended option.</p><p><strong>pegasus-kickstart</strong> rewrites the command line of any job (pre, post and main) with variable substitutions from Unix environment variables. See section <strong>VARIABLE REWRITING</strong> below for details on this feature.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-n</strong> <em>tr</em></p><p>In order to associate the minimal performance information of the job with the invocation records, the jobs needs to carry which <em>transformation</em> was responsible for producing it. The format is the textual notation for fully-qualified definition names, like namespace::name:version, with only the name portion being mandatory.</p><p>There is no default. If no value is given, "null" will be reported.</p><p><strong>-N</strong> <em>dv</em></p><p>The jobs may carry which instantiation of a transformation was responsible for producing it. The format is the textual notation for fully-qualified definition names, like namespace::name:version, with only the name portion being mandatory.</p><p>There is no default. If no value is given, "null" will be reported.</p><p><strong>-H</strong></p><p>This option avoids pegasus-kickstart writing the XML preamble (entity), if you need to combine multiple pegasus-kickstart records into one document.</p><p>Additionally, if specified, the environment and the resource usage segments will not be written, assuming that a in a concatenated record version, the initial run will have captured those settings.</p><p><strong>-R</strong> <em>site</em></p><p>In order to provide the greater picture, pegasus-kickstart can reflect the site handle (resource identifier) into its output.</p><p>There is no default. If no value is given, the attribute will not be generated.</p><p><strong>-L</strong> <em>lbl</em>, <strong>-T</strong> <em>iso</em></p><p>These optional arguments denote the workflow label (from DAX) and the workflow\(cqs last modification time (from DAX). The label <em>lbl</em> can be any sensible string of up to 32 characters, but should use C identifier characters. The timestamp <em>iso</em> must be an ISO 8601 compliant time-stamp.</p><p><strong>-S</strong> <em>l=p</em></p><p>If stat information on any file is required <em>before</em> any jobs were started, logical to physical file mappings to stat can be passed using the <strong>-S</strong> option. The LFN and PFN are concatenated by an equals (=) sign. The LFN is optional: If no equals sign is found, the argument is taken as sole PFN specification without LFN.</p><p>This option may be specified multiple times. To reduce and overcome command line length limits, if the argument is prefixed with an at (@) sign, the argument is taken to be a textual file of LFN to PFN mappings. The optionality mentioned above applies. Each line inside the file argument is the name of a file to stat. Comments (#) and empty lines are permitted.</p><p>Each PFN will incur a <em>statcall</em> record (element) with attribute <em>id</em> set to value <em>initial</em>. The optional <em>lfn</em> attribute is set to the LFN stat\(cqed. The filename is part of the <em>statinfo</em> record inside.</p><p>There is no default.</p><p><strong>-s</strong> <em>fn</em></p><p>If stat information on any file is required <em>after</em> all jobs have finished, logical to physical file mappings to stat can be passed using the <strong>-s</strong> option. The LFN and PFN are concatenated by an equals (=) sign. The LFN is optional: If no equals sign is found, the argument is taken as sole PFN specification without LFN.</p><p>This option may be specified multiple times. To reduce and overcome commandline length limits, if the argument is prefixed with an at (@) sign, the argument is taken to be a textual file of LFN to PFN mappings. The optionality mentioned above applies. Each line inside the file argument is the name of a file to stat. Comments (#) and empty lines are permitted.</p><p>Each PFN will incur a <em>statcall</em> record (element) with attribute <em>id</em> set to value <em>final</em>. The optional <em>lfn</em> attribute is set to the LFN stat\(cqed. The filename is part of the <em>statinfo</em> record inside.</p><p>There is no default.</p><p><strong>-i</strong> <em>fn</em></p><p>This option allows <strong>pegasus-kickstart</strong> to re-connect the stdin of the application that it starts. Use a single hyphen to share <em>stdin</em> with the one provided to <strong>pegasus-kickstart</strong>.</p><p>The default is to connect <em>stdin</em> to <em>/dev/null</em>.</p><p><strong>-o</strong> <em>fn</em></p><p>This option allows <strong>pegasus-kickstart</strong> to re-connect the <em>stdout</em> of the application that it starts. The mode is used whenever an application produces meaningful results on its <em>stdout</em> that need to be tracked by Pegasus. The real <em>stdout</em> of Globus jobs is staged via GASS (GT2) or RFT (GT4). The real <em>stdout</em> is used to propagate the invocation record back to the submit site. Use the single hyphen to share the application\(cqs <em>stdout</em> with the one that is provided to <strong>pegasus-kickstart</strong>. In that case, the output from <strong>pegasus-kickstart</strong> will interleave with application output. For this reason, such a mode is not recommended.</p><p>In order to provide an un-captured <em>stdout</em> as part of the results, it is the default to connect the <em>stdout</em> of the application to a temporary file. The content of this temporary file will be transferred as payload data in the <strong>pegasus-kickstart</strong> results. The content size is subject to payload limits, see the <strong>-B</strong> option. If the content grows large, only the last portion will become part of the payload. If the temporary file grows too large, it may flood the worker node\(cqs temporary space. The temporary file will be deleted after <strong>pegasus-kickstart</strong> finishes.</p><p>If the filename is prefixed with an exclamation point, the file will be opened in append mode instead of overwrite mode. Note that you may need to escape the exclamation point from the shell.</p><p>The default is to connect <em>stdout</em> to a temporary file.</p><p><strong>-e</strong> <em>fn</em></p><p>This option allows <strong>pegasus-kickstart</strong> to re-connect the <em>stderr</em> of the application that it starts. This option is used whenever an application produces meaningful results on <em>stderr</em> that needs tracking by Pegasus. The real <em>stderr</em> of Globus jobs is staged via GASS (GT2) or RFT (GT4). It is used to propagate abnormal behavior from both, <strong>pegasus-kickstart</strong> and the application that it starts, though its main use is to propagate application dependent data and heartbeats. Use a single hyphen to share <em>stderr</em> with the <em>stderr</em> that is provided to <strong>pegasus-kickstart</strong>. This is the backward compatible behavior.</p><p>In order to provide an un-captured <em>stderr</em> as part of the results, by default the <em>stderr</em> of the application will be connected to a temporary file. Its content is transferred as payload data in the <strong>pegasus-kickstart</strong> results. If too large, only the last portion will become part of the payload. If the temporary file grows too large, it may flood the worker node\(cqs temporary space. The temporary file will be deleted after <strong>pegasus-kickstart</strong> finishes.</p><p>If the filename is prefixed with an exclamation point, the file will be opened in append mode instead of overwrite mode. Note that you may need to escape the exclamation point from the shell.</p><p>The default is to connect <em>stderr</em> to a temporary file.</p><p><strong>-l</strong> <em>logfn</em></p><p>allows to append the performance data to the specified file. Thus, multiple XML documents may end up in the same file, including their XML preamble. <em>stdout</em> is normally used to stream back the results. Usually, this is a GASS-staged stream. Use a single hyphen to generate the output on the <em>stdout</em> that was provided to <strong>pegasus-kickstart</strong>, the default behavior.</p><p>Default is to append the invocation record onto the provided <em>stdout</em>.</p><p><strong>-w</strong> <em>dir</em></p><p>permits the explicit setting of a new working directory once pegasus-kickstart is started. This is useful in a remote scheduling environment, when the chosen working directory is not visible on the job submitting host. If the directory does not exist, <strong>pegasus-kickstart</strong> will fail. This option is mutually exclusive with the <strong>-W</strong><em>dir</em> option.</p><p>Default is to use the working directory that the application was started in. This is usually set up by a remote scheduling environment.</p><p><strong>-W</strong> <em>dir</em></p><p>permits the explicit creation and setting of a new working directory once pegasus-kickstart is started. This is useful in a remote scheduling environment, when the chosen working directory is not visible on the job submitting host. If the directory does not exist, <strong>pegasus-kickstart</strong> will attempt to create it, and then change into it. Both, creation and directory change may still fail. This option is mutually exclusive with the <strong>-w</strong><em>dir</em> option.</p><p>Default is to use the working directory that the application was started in. This is usually set up by a remote scheduling environment.</p><p><strong>-X</strong></p><p>make an application executable, no matter what. It is a work-around code for a weakness of <strong>globus-url-copy</strong> which does not copy the permissions of the source to the destination. Thus, if an executable is staged-in using GridFTP, it will have the wrong permissions. Specifying the <strong>-X</strong> flag will attempt to change the mode to include the necessary x (and r) bits to make the application executable.</p><p>Default is not to change the mode of the application. Note that this feature can be misused by hackers, as it is attempted to call chmod on whatever path is specified.</p><p><strong>-B</strong> <em>sz</em></p><p>Changes the amount of stdout and stderr data to include in the output. The last <em>sz</em> bytes of the stdout and stderr of the process will be copied into kickstart\(cqs output. All other data will be discarded. The special value <em>all</em> can be used to capture all the stdout/stderr of the process. The default is 256KB.</p><p><strong>-F</strong></p><p>This flag will issue an explicit <strong>fsync()</strong> call on kickstart\(cqs own <em>stdout</em> file. Typically you won\(cqt need this flag. Albeit, certain shared file system situations may improve when adding a flush after the written invocation record.</p><p>The default is to just use kickstart\(cqs NFS alleviation strategy by locking and unlocking <em>stdout</em>.</p><p><strong>-I</strong> <em>fn</em></p><p>In this mode, the application name and any arguments to the application are specified inside of file <em>fn</em>. The file contains one argument per line. Escaping from Globus, Condor and shell meta characters is not required. This mode permits to use the maximum possible command line length of the underlying operating system, e.g. 128k for Linux. Using the <strong>-I</strong> mode stops any further command line processing of <strong>pegasus-kickstart</strong> command lines.</p><p>Default is to use the <em>app flags</em> mode, where the application is specified explicitly on the command-line.</p><p><strong>-f</strong></p><p>This flag causes kickstart to output full information, including the environment and resource limits under which the job ran, and any useful auxilliary statcalls. If the job fails, then <strong>-f</strong> is implied.</p><p><strong>-t</strong></p><p>This flag causes kickstart to skip tracing the child process and omit the &lt;proc&gt; element. This flag only exists when kickstart is compiled for Linux.</p><p><strong>-q</strong></p><p>This flag causes kickstart to omit the &lt;data&gt; part of the &lt;statcall&gt; records when the job exits successfully. This is designed to reduce the size of the output logs for large workflows.</p><p><em>app</em></p><p>The path to the application has to be completely specified. The application is a mandatory option.</p><p><em>appflags</em></p><p>Application may or may not have additional flags.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p><strong>pegasus-kickstart</strong> will return the return value of the main job. In addition, the error code 127 signals that the call to exec failed, and 126 that reconnecting the stdio failed. A job failing with the same exit codes is indistinguishable from <strong>pegasus-kickstart</strong> failures.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pegasus-kickstart&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/pegasus-plan.1.html"><strong>pegasus-plan</strong>(1)</a>, <a href="../man1/condor_submit_dag.1.html"><strong>condor_submit_dag</strong>(1)</a>, <a href="../man1/condor_submit.1.html"><strong>condor_submit</strong>(1)</a>, getrusage(3c).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUBJOBS</h2>
        <div class="sectioncontent">
<p>Subjobs are a new feature and may have a few wrinkles left.</p><p>In order to allow specific setups and assertion checks for compute nodes, <strong>pegasus-kickstart</strong> allows the optional execution of a <em>prejob</em>. This <em>prejob</em> is anything that the remote compute node is capable of executing. For modern Unix systems, this includes #! scripts interpreter invocations, as long as the x bits on the executed file are set. The main job is run if and only if the prejob returned regularly with an exit code of zero.</p><p>With similar restrictions, the optional execution of a <em>postjob</em> is chained to the success of the main job. The postjob will be run, if the main job terminated normally with an exit code of zero.</p><p>In addition, a user may specify a <em>setup</em> and a <em>cleanup</em> job. The <em>setup</em> job sets up the remote execution environment. The <em>cleanup</em> job may tear down and clean-up after any job ran. Failure to run the setup job has no impact on subsequent jobs. The cleanup is a job that will even be attempted to run for all failed jobs. No job information is passed. If you need to invoke multiple setup or clean-up jobs, bundle them into a script, and invoke the clean-up script. Failure of the clean-up job is not meant to affect the progress of the remote workflow (DAGMan). This may change in the future.</p><p>The setup-, pre-, and post- and cleanup-job run on the same compute node as the main job to execute. However, since they run in separate processes as children of <strong>pegasus-kickstart</strong>, they are unable to influence each others nor the main jobs environment settings.</p><p>All jobs and their arguments are subject to variable substitutions as explained in the next section.</p><p>To specify the prejob, insert the the application invocation and any optional commandline argument into the environment variable <em>GRIDSTART_PREJOB</em>. If you are invoking from a shell, you might want to use single quotes to protect against the shell. If you are invoking from Globus, you can append the RSL string feature. From Condor, you can use Condor\(cqs notion of environment settings. In Pegasus use the <em>profile</em> command to set generic scripts that will work on multiple sites, or the transformation catalog to set environment variables in a pool-specific fashion. Please remember that the execution of the main job is chained to the success of the prejob.</p><p>To set up the postjob, use the environment variable <em>GRIDSTART_POSTJOB</em> to point to an application with potential arguments to execute. The same restrictions as for the prejob apply. Please note that the execution of the post job is chained to the main job.</p><p>To provide the independent setup job, use the environment variable <em>GRIDSTART_SETUP</em>. The exit code of the setup job has no influence on the remaining chain of jobs. To provide an independent cleanup job, use the environment variable <em>GRIDSTART_CLEANUP</em> to point to an application with possible arguments to execute. The same restrictions as for prejob and postjob apply. The cleanup is run regardless of the exit status of any other jobs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VARIABLE REWRITING</h2>
        <div class="sectioncontent">
<p>Variable substitution is a new feature and may have a few wrinkles left.</p><p>The variable substitution employs simple rules from the Bourne shell syntax. Simple quoting rules for backslashed characters, double quotes and single quotes are obeyed. Thus, in order to pass a dollar sign to as argument to your job, it must be escaped with a backslash from the variable rewriting.</p><p>For pre- and postjobs, double quotes allow the preservation of whitespace and the insertion of special characters like &#92;a (alarm), &#92;b (backspace), &#92;n (newline), &#92;r (carriage return), &#92;t (horizontal tab), and &#92;v (vertical tab). Octal modes are <em>not</em> allowed. Variables are still substituted in double quotes. Single quotes inside double quotes have no special meaning.</p><p>Inside single quotes, no variables are expanded. The backslash only escapes a single quote or backslash.</p><p>Backticks are not supported.</p><p>Variables are only substituted once. You cannot have variables in variables. If you need this feature, please request it.</p><p>Outside quotes, arguments from the pre- and postjob are split on linear whitespace. The backslash makes the next character verbatim.</p><p>Variables that are rewritten must start with a dollar sign either outside quotes or inside double quotes. The dollar may be followed by a valid identifier. A valid identifier starts with a letter or the underscore. A valid identifier may contain further letters, digits or underscores. The identifier is case sensitive.</p><p>The alternative use is to enclose the identifier inside curly braces. In this case, almost any character is allowed for the identifier, including whitespace. This is the <em>only</em> curly brace expansion. No other Bourne magic involving curly braces is supported.</p><p>One of the advantages of variable substitution is, for example, the ability to specify the application as <em>$HOME/bin/app1</em> in the transformation catalog, and thus to gridstart. As long as your home directory on any compute node has a <em>bin</em> directory that contains the application, the transformation catalog does not need to care about the true location of the application path on each pool. Even better, an administrator may decide to move your home directory to a different place. As long as the compute node is set up correctly, you don\(cqt have to adjust any Pegasus data.</p><p>Mind that variable substitution is an expert feature, as some degree of tricky quoting is required to protect substitutable variables and quotes from Globus, Condor and Pegasus in that order. Note that Condor uses the dollar sign for its own variables.</p><p>The variable substitution assumptions for the main job differ slightly from the prejob and postjob for technical reasons. The pre- and postjob command lines are passed as one string. However, the main jobs command line is already split into pieces by the time it reaches <strong>pegasus-kickstart</strong>. Thus, any whitespace on the main job\(cqs command line must be preserved, and further argument splitting avoided.</p><p>It is highly recommended to experiment on the Unix command line with the <em>echo</em> and <em>env</em> applications to obtain a feeling for the different quoting mechanisms needed to achieve variable substitution.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>You can run the <strong>pegasus-kickstart</strong> executable locally to verify that it is functioning well. In the initial phase, the format of the performance data may be slightly adjusted.</p>
<pre>
$ env GRIDSTART_PREJOB=&apos;/bin/usleep 250000&apos; &#92;&#92;
  GRIDSTART_POSTJOB=&apos;/bin/date -u&apos; &#92;&#92;
  pegasus-kickstart -l xx &#92;&#92;$PEGASUS_HOME/bin/keg -T1 -o-
$ cat xx
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
  ...
  &lt;/statcall&gt;
&lt;/invocation&gt;
</pre>
<p>Please take note a few things in the above example:</p><p>The output from the postjob is appended to the output of the main job on <em>stdout</em>. The output could potentially be separated into different data sections through different temporary files. If you truly need the separation, request that feature.</p><p>The log file is reported with a size of zero, because the log file did indeed barely exist at the time the data structure was (re-) initialized. With regular GASS output, it will report the status of the socket file descriptor, though.</p><p>The file descriptors reported for the temporary files are from the perspective of <strong>pegasus-kickstart</strong>. Since the temporary files have the close-on-exec flag set, <strong>pegasus-kickstart</strong><em>s file descriptors are invisible to the job processes. Still, the &apos;stdio</em> of the job processes are connected to the temporary files.</p><p>Even this output already appears large. The output may already be too large to guarantee that the append operation on networked pipes (GASS, NFS) are atomically written.</p><p>The current format of the performance data is as follows:</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT FORMAT</h2>
        <div class="sectioncontent">
<p>Refer to \m[blue]<strong>http://pegasus.isi.edu/wms/docs/schemas/iv-2.2/iv-2.2.html</strong>\m[] for an up-to-date description of elements and their attributes. Check with \m[blue]<strong>http://pegasus.isi.edu/documentation</strong>\m[] for invocation schemas with a higher version number.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p>There is no version for the Condor <em>standard</em> universe. It is simply not possible within the constraints of Condor.</p><p>Due to its very nature, <strong>pegasus-kickstart</strong> will also prove difficult to port outside the Unix environment.</p><p>Any of the pre-, main-, cleanup and postjob are unable to influence one another\(cqs visible environment.</p><p>Do not use a Pegasus transformation with just the name <em>null</em> and no namespace nor version.</p><p>First Condor, and then Unix, place a limit on the length of the command line. The additional space required for the gridstart invocation may silently overflow the maximum space, and cause applications to fail. If you suspect to work with many argument, try an argument-file based approach.</p><p>A job failing with exit code 126 or 127 is indistinguishable from <strong>pegasus-kickstart</strong> failing with the same exit codes. Sometimes, careful examination of the returned data can help.</p><p>If the logfile is collected into a shared file, due to the size of the data, simultaneous appends on a shared filesystem from different machines may still mangle data. Currently, file locking is not even attempted, although all data is written atomically from the perspective of <strong>pegasus-kickstart</strong>.</p><p>The upper limit of characters of command line characters is currently not checked by <strong>pegasus-kickstart</strong>. Thus, some variable substitutions could potentially result in a command line that is larger than permissible.</p><p>If the output or error file is opened in append mode, but the application decides to truncate its output file, as in the above example by opening <em>/dev/fd/1</em> inside <em>keg</em>, the resulting file will still be truncated. This is correct behavior, but sometimes not obvious.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>/usr/share/pegasus/schema/iv-2.2.xsd</strong></p><p>is the suggested location of the latest XML schema describing the data on the submit host.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p><strong>GRIDSTART_TMP</strong></p><p>is the hightest priority to look for a temporary directory, if specified. This rather special variable was introduced to overcome some peculiarities with the FNAL cluster.</p><p><strong>TMP</strong></p><p>is the next hightest priority to look for a temporary directory, if specified.</p><p><strong>TEMP</strong></p><p>is the next priority for an environment variable denoting a temporary files directory.</p><p><strong>TMPDIR</strong></p><p>is next in the checklist. If none of these are found, either the <em>stdio</em> definition <em>P_tmpdir</em> is taken, or the fixed string <em>/tmp</em>.</p><p><strong>GRIDSTART_SETUP</strong></p><p>contains a string that starts a job to be executed unconditionally before any other jobs, see above for a detailed description.</p><p><strong>GRIDSTART_PREJOB</strong></p><p>contains a string that starts a job to be executed before the main job, see above for a detailed description.</p><p><strong>GRIDSTART_POSTJOB</strong></p><p>contains a string that starts a job to be executed conditionally after the main job, see above for a detailed description.</p><p><strong>GRIDSTART_CLEANUP</strong></p><p>contains a string that starts a job to be executed unconditionally after any of the previous jobs, see above for a detailed description.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>As you may have noticed, <strong>pegasus-kickstart</strong> had the name <strong>kickstart</strong> in previous incantations. We are slowly moving to the new name to avoid clashes in a larger OS installation setting. However, there is no pertinent need to change the internal name, too, as no name clashes are expected.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Michael Milligan &lt;mbmillig@uchicago.edu&gt;</p><p>Mike Wilde &lt;wilde@mcs.anl.gov&gt;</p><p>Yong Zhao &lt;yongzh@cs.uchicago.edu&gt;</p><p>Jens-S. VÃ¶ckler &lt;voeckler@isi.edu&gt;</p><p>Gideon Juve &lt;gideon@isi.edu&gt;</p><p>Pegasus Team \m[blue]<strong>http://pegasus.isi.edu/</strong>\m[]</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pegasus-keg.1.html"><span aria-hidden="true">&larr;</span> pegasus-keg.1: Kanonical executable for grids</a></li>
   <li class="next"><a href="pegasus-monitord.1.html">pegasus-monitord.1: Tracks a workflow progress, mining information <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
