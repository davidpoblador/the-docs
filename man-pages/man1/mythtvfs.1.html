<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mythtvfs: A fuse filesystem for accessing and managing mythtv recordings</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A fuse filesystem for accessing and managing mythtv recordings">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mythtvfs (1) manual">
  <meta name="twitter:description" content="A fuse filesystem for accessing and managing mythtv recordings">
  <meta name="twitter:image" content="https://www.carta.tech/images/mythtvfs-mythtvfs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mythtvfs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mythtvfs (1) manual" />
  <meta property="og:description" content="A fuse filesystem for accessing and managing mythtv recordings" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mythtvfs-mythtvfs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mythtvfs<small> (1)</small></h1>
        <p class="lead">A fuse filesystem for accessing and managing mythtv recordings</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mythtvfs.1.html">
      <span itemprop="name">mythtvfs: A fuse filesystem for accessing and managing mythtv recordings</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mythtvfs/">
      <span itemprop="name">mythtvfs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mythtvfs.1.html">
      <span itemprop="name">mythtvfs: A fuse filesystem for accessing and managing mythtv recordings</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
 mythtvfs [-h|--help]
 mythtvfs [-V|--version]
 mythtvfs [options] -o host=BACKEND ORIGPATH MOUNT
</pre>
<p>\*(C`BACKEND\*(C' is the hostname of the MythTV backend system</p><p>\*(C`ORIGPATH\*(C' is the path to MythTV's recordings directory</p><p>\*(C`MOUNT\*(C' is a location to mount the new \s-1FUSE\s0 filesystem mythtvfs will establish.</p><p>Options:</p><p>    -h, --help             prints a help message and exits     -V, --version          prints the version and exits     -d,  -o debug          enable debug output (implies -f)     -f                     foreground operation     -s                     disable multi-threaded operation     -o host=HOST           MythTV backend hostname     -o port=PORT           MythTV backend port number     -o format=FORMAT       format to use for filename     -o date_format=FORMAT  format to use for date fields (i.e. airdate)     -o datetime_format=S   format to use for date+time fields (i.e. start)     -o short-display       shorter filename display format     -o logfile=FILE        write verbose logging to FILE     -o backend-version=N   force a specific backend version     -o program-width=N     force a specific backend program width     -o invalid-chars=STR   list of characters not allowed in filenames     -o replacement-char=C  character to replace invalid characters with     -o &lt;option[=value]&gt;    passes FUSE-specific options to the FUSE system</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mythtvfs</strong> is a \*(L"filesystem in userspace\*(R" (\s-1FUSE\s0) interface to the MythTV Personal Video Recorder (\s-1PVR\s0) software, that allows you to interact with mythtv as if it were a file system.  It creates an overlay filesystem that encodes recording metadata (title, episode, description, etc.) into a filename so that systems that do not natively talk to MythTV can still get information about a given show.  This allows use of standard \s-1UNIX\s0 programs (ls, grep, cut, sort) to search and select programs, and permits running video software like mplayer directly from the command line rather than via the normal MythTV \s-1GUI\s0 frontend.</p><p>The value of this is that it enables scripting of MythTV interactions using any scripting language, through standard file system type operations.  Examples could include: a bash script for grepping through the listings to find a show and play it with mplayer; a Perl script to encode and copy episodes of your favorite television shows onto a video iPod; a Python script that downsamples/compresses recordings of a given tv series more than a month old to save disk space; a Ruby program to generate an alternate \s-1GUI\s0 interface to list available recordings and allow playing them via mplayer.</p><p>This may also be useful for users wishing to access mythtv and play recordings from systems that cannot run mythtv (such as if they're running different Linux distros).</p><p>A design goal is to provide compatibility with the in-filename metadata extraction capabilities in Galleon.  See Filename Structure below.</p><h3>Usage</h3>
<p>After installing the \s-1FUSE\s0 libraries and kernel modules, mythtvfs can be built using the standard `./configure && make`.</p><p>Unless your MythTV backend is running locally, you will also need to enable \s-1NFS\s0 on the backend, export the MythTV video repository (typically /var/lib/mythtv) and establish an \s-1NFS\s0 mount locally (at, say, /srv/myth).</p><p>MythTVfs can then be started from the command line as root:</p><p>  mythtvfs -o host=mythtv.my.network /srv/myth/recordings /media/mythtvfs</p><p>or you can mount mythtvfs via fstab, for example:</p><p>  mythtvfs#/media/mythtvfs /srv/myth/recordings fuse noauto,host=mythtv.my.network 0 0</p><p>See \s-1EXAMPLES\s0 below for more alternatives.</p>
<h3>Filename Structure</h3>
<p>Filenames in the MythTVfs filesystem default to being named based on their \s-1TV\s0 Program's metadata.  The elements are contained by the brace symbols (\*(L"{}\*(R") and have the original filename embedded, and then end with \*(L".mpg\*(R".</p><p>{\s-1SERIES_TITLE\s0}{\s-1AIRED\s0}{\s-1EP_TITLE\s0}{\s-1REC_DATE\s0}{\s-1CHAN\s0}{\s-1DURATION\s0}{\s-1DESC\s0}FILE.mpg</p><p>Where \*(L"\s-1REC_DATE\s0\*(R" has the format \*(L"Sat Jan 24 22:58:00 2009\*(R", and \*(L"\s-1AIRED\s0\*(R" has the format \*(L"2005-03-31\*(R".  \*(L"\s-1DURATION\s0\*(R" is measured in seconds, and \*(L"\s-1CHAN\s0\*(R" is the shortened channel \*(L"callsign\*(R".  \*(L"\s-1FILE\s0\*(R" is the original MythTV filename for storage (e.g. \*(L"1013_20051207210000_20051207220000.nuv\*(R").  The file ends with \*(L".mpg\*(R" because Galleon will only recognize file extensions that it expects the TiVo to be able to play.</p><p>If you dislike the default filename format, you can change it using the \*(L"format\*(R" option.</p>
<h3>Hooking to Galleon</h3>
<p>You'll need a version of Galleon that understands this file format layout.  A patch against 2.1.0 is available on the MythTVfs homepage. Just add a \*(L"GoBack\*(R" path that matches your MythTVfs mount point, and it will automatically extract all the metadata from the filename.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-h</strong>, <strong>--help</strong>
  </dt>
  <dd>
    <p>Prints a synopsis of program usage and exits.</p>
  </dd>
  <dt>
    <strong>-V</strong>, <strong>--version</strong>
  </dt>
  <dd>
    <p>Prints the program version and exits.</p>
  </dd>
  <dt>
    <strong>-d</strong>, <strong>-o debug</strong>
  </dt>
  <dd>
    <p>Enable debug output (implies -f)</p>
  </dd>
  <dt>
    <strong>-f</strong>
  </dt>
  <dd>
    <p>Foreground operation</p>
  </dd>
  <dt>
    <strong>-s</strong>
  </dt>
  <dd>
    <p>disable multi-threaded operation</p>
  </dd>
  <dt>
    <strong>-o</strong> <strong>option</strong>[=<em>value</em>]
  </dt>
  <dd>
    <p>-o host=HOST           MythTV backend hostname -o port=PORT           MythTV backend port number -o format=FORMAT       Format to use for filenames.  Defaults to \*(L"{%T}{%a}{%S}{%s}{%c}{%d}{%D}%f.mpg\*(R".  See below for what the various tags mean. -o date_format=S       Format to use within date fields, i.e. airdate. These tags follow <em>strftime</em>\|(1) rules. -o datetime_format=S   Format to use within date+time fields, i.e. start. These tags follow <em>strftime</em>\|(1) rules. -o short-display       shorter filename display format.  Equivalent to setting format=\*(L"{%T}{%a}{%S}{%s}{%c}{%d}%f.mpg\*(R", except for a slight change in the internal format of %s. -o logfile=FILE        write verbose logging to \s-1FILE\s0 -o backend-version=N   force a specific backend version -o program-width=N     force a specific backend program width -o invalid-chars=STR   list of characters not allowed in filenames -o replacement-char=C  character to replace invalid characters with Other options passed directly to the \s-1FUSE\s0 system: -o allow_other         allow access to other users -o allow_root          allow access to root -o nonempty            allow mounts over non-empty file/dir -o default_permissions enable permission checking by kernel -o fsname=NAME         set filesystem name -o subtype=NAME        set filesystem type -o large_read          issue large read requests (2.4 only) -o max_read=N          set maximum size of read requests -o hard_remove         immediate removal (don't hide files) -o use_ino             let filesystem set inode numbers -o readdir_ino         try to fill in d_ino in readdir -o direct_io           use direct I/O -o kernel_cache        cache files in kernel -o [no]auto_cache      enable caching based on modification times -o umask=M             set file permissions (octal) -o uid=N               set file owner -o gid=N               set file group -o entry_timeout=T     cache timeout for names (1.0s) -o negative_timeout=T  cache timeout for deleted names (0.0s) -o attr_timeout=T      cache timeout for attributes (1.0s) -o ac_attr_timeout=T   auto cache timeout for attributes (attr_timeout) -o intr                allow requests to be interrupted -o intr_signal=NUM     signal to send on interrupt (10) -o modules=M1[:M2...]  names of modules to push onto filesystem stack -o max_write=N         set maximum size of write requests -o max_readahead=N     set maximum readahead -o async_read          perform reads asynchronously (default) -o sync_read           perform reads synchronously -o subdir=DIR          prepend this directory to all paths -o [no]rellinks        transform absolute symlinks to relative -o from_code=CHARSET   original encoding of file names (default: \s-1UTF-8\s0) -o to_code=CHARSET     new encoding of the file names (default: \s-1ANSI_X3\s0.4-1968)</p>
  </dd>

</dl>
<h3>Format tags</h3>
<p>The following format tags are undersood:</p><p>%a                     Airdate, e.g. \*(L"1961-11-17\*(R", defined by -o date_format</p><p>%c                     Station callsign, e.g. \*(L"\s-1SCIFI\s0\*(R"</p><p>%D                     Show description, e.g. \*(L"The Earth begins moving closer to the sun.\*(R"</p><p>%d                     Show duration in seconds, e.g. \*(L"1800\*(R"</p><p>%f                     mythtv file basename, e.g. \*(L"1029_20090201053000.mpg\*(R".</p><p>%S                     Show subtitle, e.g. \*(L"The Midnight Sun\*(R"</p><p>%s                     Start time, e.g. \*(L"05.30 \s-1AM\s0 Sun Feb 01, 2009\*(R", defined by -o datetime_format</p><p>%T                     Show title, e.g. \*(L"The Twilight Zone\*(R"</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>Filesystem Mount Examples</h3>
<p>To create a /media/mythtvfs on a local MythTV system (both backend and frontend are on the same system)</p><p>  mythtvfs -o host=localhost /var/lib/mythtv/recordings /media/mythtvfs</p><p>For mounting against a remote host named 'sparky', with its mythtv dir \s-1NFS\s0 mounted locally at /myth, you might do:</p><p>  mythtvfs -o allow_other,host=sparky /myth/recordings /media/mythtvfs</p><p>If you prefer a different file name format:</p><p>  mythtvfs -o host=localhost,format="%T - %S - %s.mpg" /myth /mythtvfs</p>
<h3>Command Line Use</h3>
<p>Show a listing of all recorded titles and number of episodes for each:</p><p># ls | cut -d} -f 1 | sed -e \*(L"s/{//\*(R" | uniq -c</p><p>     23 Dark Angel       7 Nature       4 Survivorman      26 The Colbert Report      42 The Daily Show With Jon Stewart</p><p>Listing Nature programs sorted by original air date with newest first:</p><p># ls {Nature}* | cut -d} -f 2,3 | sed -e \*(L"s/{//g\*(R" | sed -e \*(L"s/}/ /g\*(R" | sort -r</p><p> 2007-11-11 The Cheetah Orphans  2007-11-04 In the Valley of the Wolves  2007-10-28 Silence of the Bees  2007-02-11 Supersize Crocs  2005-02-13 From Orphan to King  2005-01-09 Violent Hawaii  2004-02-08 Diamonds</p><p>Play the oldest episode of Dark Angel by original air date:</p><p># ls {Dark&#92; Angel}* | cut -d} -f 2,8 | sort -r | &#92;</p>
<pre>
  sed -e \*(L"s/.*&#92;}&#92;(.*&#92;)&#92;.mpg$/&#92;1/\*(R" | head -1 | xargs mplayer
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mythtvfs&hellip;</h2>
        <div class="sectioncontent">
<p>http://outflux.net/software/pkgs/mythtvfs-fuse/ &lt;http://outflux.net/software/pkgs/mythtvfs-fuse/&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">
<h3>No listings in /media/mythtvfs, but files present in /myth/recordings</h3>
<p>Check that the mythtv system's mysql process is running. Doublecheck that the second argument to mythtvfs is a valid hostname that is network accessible.  Try running `ping myhost`. Something appears to have killed the mythtvfs process or mythtvfs has otherwise died (perhaps due to a bug you should report?) rendering its mount point unavailable.  Try umount'ing the mount point, killing the mythtvfs process (if it's hung), and re-establishing the mythtvfs process.  In the worst case, it may be required to reboot the system to get things back to normal. A process is still accessing the mythtvfs file system, preventing it from being unmounted.  Try running `lsof | grep mythtvfs` to find processes that may have open file handles in the file system.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs directly to the author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p><strong>mythtvfs</strong> was written initially with the motivation to connect mythtv into Galleon.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p><strong>Copyright (C)</strong> 2005-2008 by Kees Cook</p><p><strong>mythtvfs</strong> is free software; you can redistribute it and/or modify it under the terms of the \s-1GPL\s0.</p><p>Manpage <strong>Copyright (C)</strong> 2007 by Bryce Harrington (licensed under the same terms as mythtvfs itself).</p><p>Format support based on work by Morty Abzug, and licensed under the same terms as mythtvfs itself.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mythtv_recording_soon.1.html"><span aria-hidden="true">&larr;</span> mythtv_recording_soon.1: Test whether a mythtv backend will be recording soon</a></li>
   <li class="next"><a href="mytool.1.html">mytool.1: Manipulate map files for yudit, uniconv and uniprint <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
