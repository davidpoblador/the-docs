<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sahara: Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sahara (1) manual">
  <meta name="twitter:description" content="Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-saharaclient-sahara-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sahara.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sahara (1) manual" />
  <meta property="og:description" content="Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-saharaclient-sahara-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sahara<small> (1)</small></h1>
        <p class="lead">Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sahara.1.html">
      <span itemprop="name">sahara: Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-saharaclient/">
      <span itemprop="name">python-saharaclient</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sahara.1.html">
      <span itemprop="name">sahara: Sahara client  this is a client for openstack sahara api. theres a python api (the saharaclient module), and a command-line script (installed as sahara). each implements the entire openstack sahara api.  youll need credentials for an openstack cloud that implements the data processing api, in order to use the sahara client.  you may want to read the openstack sahara docs  -- the overview, at least -- to get an idea of the concepts. by understanding the concepts this library should make more sense.  contents:</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SAHARA CLIENT</h2>
        <div class="sectioncontent">
<h3>Overview</h3>
<p>Sahara Client provides a list of Python interfaces to communicate with the Sahara REST API. Sahara Client enables users to perform most of the existing operations like retrieving template lists, creating Clusters, submitting EDP Jobs, etc.</p>
<h3>Instantiating a Client</h3>
<p>To start using the Sahara Client users have to create an instance of the <em>Client</em> class. The client constructor has a list of parameters to authenticate and locate Sahara endpoint.</p><ul>
<li><p>auth_url - Keystone URL that will be used for authentication.</p></li><li><p>sahara_url - Sahara REST API URL to communicate with.</p></li><li><p>service_type - Sahara service name in Keystone catalog. (Default: data_processing)</p></li><li><p>endpoint_type - Desired Sahara endpoint type. (Default: publicURL)</p></li><li><p>username - Username for Keystone authentication.</p></li><li><p>api_key - Password for Keystone authentication.</p></li><li><p>project_name - Keystone Tenant name.</p></li><li><p>project_id - Keystone Tenant id.</p></li><li><p>input_auth_token - Keystone authorization token.</p></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>Important!</strong><strong></strong></p>
  </dt>
  <dd>
    <p>It is not a mandatory rule to provide all of the parameters above. The minimum number should be enough to determine Sahara endpoint, check user authentication and tenant to operate in.</p>
  </dd>

</dl>

<h3>Authentication check</h3>
<p>If a user already has a Keystone authentication token, it may be used in <em>input_auth_token</em> parameter.</p>
<pre>
from saharaclient.api.client import Client as saharaclient

sahara = saharaclient(sahara_url="http://sahara:8386/v1.1",
                      project_id="11111111-2222-3333-4444-555555555555",
                      input_auth_token="66666666-7777-8888-9999-000000000000")
</pre>
<p>In this case no other authentication parameters are required and <em>input_auth_token</em> has a higher priority than other parameters. Otherwise user has to provide:</p><ul>
<li><p>auth_url</p></li><li><p>username</p></li><li><p>api_key</p></li><li><p>any of project_name or project_id</p>
<pre>
from saharaclient.api.client import Client as saharaclient

sahara = saharaclient(auth_url="http://keystone:5000/v2.0",
                      sahara_url="http://sahara:8386/v1.1",
                      username="user",
                      api_key="PaSsWoRd",
                      project_name="demo-project")
</pre>
</li>
</ul>
<h3>Sahara endpoint discovery</h3>
<p>If user has a direct URL pointing to Sahara REST API, it may be specified as <em>sahara_url</em>. If this parameter is missing, Sahara client will use Keystone Service Catalog to find the endpoint. There are two parameters: <em>service_type</em> and <em>endpoint_type</em> to configure endpoint search. Both parameters have default values.</p>
<pre>
from saharaclient.api.client import Client as saharaclient

sahara = saharaclient(auth_url="http://keystone:5000/v2.0",
                      username="user",
                      api_key="PaSsWoRd",
                      project_name="demo-project",
                      service_type="non-default-service-type",
                      endpoint_type="internalURL")
</pre>

<h3>Tenant specification</h3>
<p>All Sahara operations should be performed in one of OpenStack tenants. There are two parameters: <em>project_name</em> and <em>project_id</em> which allow to specify a tenant. <em>project_id</em> parameter has a higher priority.</p>
<h3>Object managers</h3>
<p>Sahara Client has a list of fields to operate with:</p><ul>
<li><p>plugins</p></li><li><p>clusters</p></li><li><p>cluster_templates</p></li><li><p>node_group_templates</p></li><li><p>images</p></li><li><p>data_sources</p></li><li><p>job_binaries</p></li><li><p>job_binary_internals</p></li><li><p>job_executions</p><p>Each of this fields is a reference to a Manager for a corresponding group of REST calls.</p></li>
</ul>
<h3>Supported operations</h3>
<p>The following methods are allowed for all Managers:</p><ul>
<li><p>list() - Get a list of all objects of specified type.</p></li><li><p>get(id) - Get an object by id. (In case of plugins, the Plugin name should be provided)</p></li><li><p>delete(id) - Delete an object by id. (Available only for templates and EDP objects)</p></li>
</ul>
<h3>Plugin Manager ops</h3>
<ul>
<li><p>get_version_details(plugin_name, hadoop_version) - Get the list of Services and Service Parameters for a specified Plugin and Hadoop Version</p></li><li><p>convert_to_cluster_template(plugin_name, hadoop_version, template_name, filecontent) - This call is used to create Cluster Templates directly, avoiding Cluster Template mechanism.</p></li>
</ul>
<h3>Image Registry ops</h3>
<ul>
<li><p>update_image(image_id, user_name, descr) - Create or update an Image in Image Registry.</p></li><li><p>unregister_image(image_id) - Remove an Image from Sahara Image Registry.</p></li><li><p>update_tags(image_id, new_tags) - Updates Image tags. <em>new_tags</em> list will replace currently assigned tags.</p></li>
</ul>
<h3>Node Group Template ops</h3>
<ul>
<li><p>create(name, plugin_name, hadoop_version, flavor_id, description, volumes_per_node, volumes_size, node_processes, node_configs, floating_ip_pool) - Create a Node Group Template with specified parameters.</p></li>
</ul>
<h3>Cluster Template ops</h3>
<ul>
<li><p>create(name, plugin_name, hadoop_version, description, cluster_configs, node_groups, anti_affinity, net_id) - Create a Cluster Template with specified parameters.</p></li>
</ul>
<h3>Cluster ops</h3>
<ul>
<li><p>create(name, plugin_name, hadoop_version, cluster_template_id, default_image_id, is_transient, description, cluster_configs, node_groups, user_keypair_id, anti_affinity, net_id) - Launch a Cluster with specified parameters.</p></li><li><p>scale(cluster_id, scale_object) - Scale an existing Cluster. <em>scale_object</em> format is described in REST API doc.</p></li>
</ul>
<h3>Data Source ops</h3>
<ul>
<li><p>create(name, description, data_source_type, url, credential_user, credential_pass) - Create a Data Source with specified parameters.</p></li>
</ul>
<h3>Job Binary Internal ops</h3>
<ul>
<li><p>create(name, data) - Create a Job Binary Internal from provided <em>data</em>.</p></li>
</ul>
<h3>Job Binary ops</h3>
<ul>
<li><p>create(name, url, description, extra) - Create a Job Binary with specified parameters.</p></li><li><p>get_file(job_binary_id) - Download a Job Binary</p></li>
</ul>
<h3>Job ops</h3>
<ul>
<li><p>create(name, type, mains, libs, description) - Create a Job with specified parameters.</p></li><li><p>get_configs(job_type) - Get config hints for a specified Job type.</p></li>
</ul>
<h3>Job Execution ops</h3>
<ul>
<li><p>create(job_id, cluster_id, input_id, output_id, configs) - Launch a Job with specified parameters.</p><p>Code is hosted in <em>review.o.o</em> and mirrored to <em>github</em> and <em>git.o.o</em> . Submit bugs to the Sahara project on <em>launchpad</em> and to the Sahara client on <em>launchpad_client</em>. Submit code to the openstack/python-saharaclient project using <em>gerrit</em>.</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>OpenStack Foundation</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2013, OpenStack Foundation</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sagasu.1.html"><span aria-hidden="true">&larr;</span> sagasu.1: Gnome tool to find strings in multiple files</a></li>
   <li class="next"><a href="saidar.1.html">saidar.1: A curses-based tool for viewing system statistics <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
