<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>uupdate: Upgrade a source code package from an upstream revision</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Upgrade a source code package from an upstream revision">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="uupdate (1) manual">
  <meta name="twitter:description" content="Upgrade a source code package from an upstream revision">
  <meta name="twitter:image" content="https://www.carta.tech/images/devscripts-uupdate-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/uupdate.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="uupdate (1) manual" />
  <meta property="og:description" content="Upgrade a source code package from an upstream revision" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/devscripts-uupdate-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">uupdate<small> (1)</small></h1>
        <p class="lead">Upgrade a source code package from an upstream revision</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/uupdate.1.html">
      <span itemprop="name">uupdate: Upgrade a source code package from an upstream revision</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/devscripts/">
      <span itemprop="name">devscripts</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/uupdate.1.html">
      <span itemprop="name">uupdate: Upgrade a source code package from an upstream revision</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>uupdate</strong> [<em>options</em>] <em>new_upstream_archive</em> [<em>version</em>]</p><p><strong>uupdate</strong> [<em>options</em>] <strong>--patch</strong>|<strong>-p</strong> <em>patch_file</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>uupdate</strong> modifies an existing Debian source code archive to reflect an upstream update supplied as a patch or from a wholly new source code archive.  The utility needs to be invoked from the top directory of the old source code directory, and if a relative name is given for the new archive or patch file, it will be looked for first relative to the execution directory and then relative to the parent of the source tree.  (For example, if the changelog file is <em>/usr/local/src/foo/foo-1.1/debian/changelog</em>, then the archive or patch file will be looked for relative to <em>/usr/local/src/foo</em>.) Note that the patch file or archive cannot be within the source tree itself.  The full details of what the code does are given below.</p><p>Currently supported source code file types are <em>.tar.gz</em>, <em>.tar.bz2</em>, <em>.tar.Z</em>, <em>.tgz</em>, <em>.tar</em>, <em>.tar.lzma</em>, <em>.tar.xz</em>, <em>.7z</em> and <em>.zip</em> archives.  Also supported are already unpacked source code archives; simply give the path of the source code directory.  Supported patch file types are <strong>gzip</strong>-compressed, <strong>bzip2</strong>-compressed, <strong>lzma</strong>-compressed, <strong>xz</strong>-compressed and uncompressed patch files.  The file types are identified by the file names, so they must use the standard suffixes.</p><p>Usually <strong>uupdate</strong> will be able to deduce the version number from the source archive name (as long as it only contains digits and periods).  If that fails, you need to specify the version number explicitly (without the Debian release number which will always be initially &ldquo;1&rdquo;, or &ldquo;0ubuntu1&rdquo; on Ubuntu-detected systems).  This can be done with an initial <strong>--upstream-version</strong> or <strong>-v</strong> option, or in the case of an archive, with a version number after the filename. (The reason for the latter is so that <strong>uupdate</strong> can be called directly from <strong>uscan</strong>.)</p><p>Since <strong>uupdate</strong> uses <strong>debuild</strong> to clean the current archive before trying to apply a patch file, it accepts a <strong>--rootcmd</strong> or <strong>-r</strong> option allowing the user to specify a gain-root command to be used.  The default is to use <strong>fakeroot</strong>.</p><p>If an archive is being built, the pristine upstream source should be used to create the <em>.orig.tar.gz</em> file wherever possible.  This means that MD5 sums or other similar methods can be used to easily compare the upstream source to Debian's copy of the upstream version. This is the default behaviour, and can be switched off using the <strong>--no-pristine</strong> option below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>This is a summary of what was explained above.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--upstream-version </strong><em>version</em>, <strong>-v </strong><em>version</em></p>
  </dt>
  <dd>
    <p>Specify the version number of the upstream package explicitly.</p>
  </dd>
  <dt>
    <p><strong>--rootcmd </strong><em>gain-root-command</em>, <strong>-r </strong><em>gain-root-command</em></p>
  </dt>
  <dd>
    <p>Specify the command to be used to become root to build the package and is passed onto <a href="../man1/debuild.1.html"><strong>debuild</strong>(1)</a> if it is specified.</p>
  </dd>
  <dt>
    <p><strong>--pristine</strong>, <strong>-u</strong></p>
  </dt>
  <dd>
    <p>Treat the source as pristine upstream source and symlink to it from <em>&lt;package&gt;_&lt;version&gt;.orig.tar.gz</em> whenever possible.  This option has no meaning for patches.  This is the default behaviour.</p>
  </dd>
  <dt>
    <p><strong>--no-pristine</strong></p>
  </dt>
  <dd>
    <p>Do not attempt to make a <em>&lt;package&gt;_&lt;version&gt;.orig.tar.gz</em> symlink.</p>
  </dd>
  <dt>
    <p><strong>--symlink</strong>, <strong>-s</strong></p>
  </dt>
  <dd>
    <p>Simply create a symlink when moving a new upstream <em>.tar.gz</em> archive to the new <em>&lt;package&gt;_&lt;version&gt;.orig.tar.gz</em> location. This is the default behaviour.</p>
  </dd>
  <dt>
    <p><strong>--no-symlink</strong></p>
  </dt>
  <dd>
    <p>Copy the upstream <em>.tar.gz</em> to the new location instead of making a symlink.</p>
  </dd>
  <dt>
    <p><strong>--no-conf</strong>, <strong>--noconf</strong></p>
  </dt>
  <dd>
    <p>Do not read any configuration files.  This can only be used as the first option given on the command-line.</p>
  </dd>
  <dt>
    <p><strong>--help</strong>, <strong>-h</strong></p>
  </dt>
  <dd>
    <p>Display a help message and exit successfully.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version and copyright information and exit successfully.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION VARIABLES</h2>
        <div class="sectioncontent">
<p>The two configuration files <em>/etc/devscripts.conf</em> and <em>~/.devscripts</em> are sourced in that order to set configuration variables.  Command line options can be used to override configuration file settings.  Environment variable settings are ignored for this purpose.  The currently recognised variables are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>UUPDATE_PRISTINE</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>no</em>, then it is the same as the <strong>--no-pristine</strong> command line parameter being used.</p>
  </dd>
  <dt>
    <p><strong>UUPDATE_SYMLINK_ORIG</strong></p>
  </dt>
  <dd>
    <p>If this is set to <em>no</em>, then it is the same as the <strong>--no-symlink</strong> command line parameter being used.</p>
  </dd>
  <dt>
    <p><strong>UUPDATE_ROOTCMD</strong></p>
  </dt>
  <dd>
    <p>This is equivalent to the <strong>--rootcmd</strong> option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTIONS TAKEN ON AN ARCHIVE</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>Figure out new version number</strong></p>
  </dt>
  <dd>
    <p>Unless an explicit version number is provided, the archive name is analyzed for a sequence of digits separated by dots.  If something like that is found, it is taken to be the new upstream version number.  If not, processing is aborted.</p>
  </dd>
  <dt>
    <p><strong>Create the .orig.tar.gz archive</strong></p>
  </dt>
  <dd>
    <p>If the <strong>--pristine</strong> or <strong>-u</strong> option is specified and the upstream archive is a <em>.tar.gz</em> or <em>.tgz</em> archive, then this will be copied directly to <em>&lt;package&gt;_&lt;version&gt;.orig.tar.gz</em>.</p>
  </dd>
  <dt>
    <p><strong>Unpacking</strong></p>
  </dt>
  <dd>
    <p>The archive is unpacked and placed in a directory with the correct name according to Debian policy: package-upstream_version.orig. Processing is aborted if this directory already exists.</p>
  </dd>
  <dt>
    <p><strong>Patching</strong></p>
  </dt>
  <dd>
    <p>The <em>.diffs.gz</em> from the current version are applied to the unpackaged archive.  A non-zero exit status and warning message will occur if the patches did not apply cleanly or if no patch file was found.  Also, the list of rejected patches will be shown.  The file <em>debian/rules</em> is made executable and all of the <em>.orig</em> files created by <strong>patch</strong> are deleted.</p>
  </dd>
  <dt>
    <p><strong>Changelog update</strong></p>
  </dt>
  <dd>
    <p>A changelog entry with the new version number is generated with the text &ldquo;New upstream release&rdquo;.</p><p>When used on Ubuntu systems, <strong>dpkg-vendor</strong> detection is used to set the Debian revision to &ldquo;0ubuntu1&rdquo;.  You may change <em>debian/changelog</em> manually afterwards.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTIONS TAKEN ON A PATCH FILE</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>Figure out new version number</strong></p>
  </dt>
  <dd>
    <p>Unless an explicit version number is provided, the patch file name is analyzed for a sequence of digits separated by dots.  If something like that is found, it is taken to be the new upstream version number.  If not, processing is aborted.</p>
  </dd>
  <dt>
    <p><strong>Clean the current source tree</strong></p>
  </dt>
  <dd>
    <p>The command <strong>debuild clean</strong> is executed within the current Debian source archive to clean it.  If a <strong>-r</strong> option is given to <strong>uupdate</strong>, it is passed on to <strong>debuild</strong>.</p>
  </dd>
  <dt>
    <p><strong>Patching</strong></p>
  </dt>
  <dd>
    <p>The current source archive (<em>.orig.tar.gz</em>) is unpacked and the patch applied to the original sources.  If this is successful, then the <em>.orig</em> directory is renamed to reflect the new version number and the current Debian source directory is copied to a directory with the new version number, otherwise processing is aborted.  The patch is then applied to the new copy of the Debian source directory.  The file <em>debian/rules</em> is made executable and all of the <em>.orig</em> files created by <strong>patch</strong> are deleted.  If there was a problem with the patching, a warning is issued and the program will eventually exit with non-zero exit status.</p>
  </dd>
  <dt>
    <p><strong>Changelog update</strong></p>
  </dt>
  <dd>
    <p>A changelog entry with the new version number is generated with the text &ldquo;New upstream release&rdquo;.</p><p>When used on Ubuntu systems, <strong>dpkg-vendor</strong> detection is used to set the Debian revision to &ldquo;0ubuntu1&rdquo;.  You may change <em>debian/changelog</em> manually afterwards.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO uupdate&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/debuild.1.html"><strong>debuild</strong>(1)</a>, <strong>fakeroot</strong>(1), <a href="../man1/patch.1.html"><strong>patch</strong>(1)</a>, <a href="../man5/devscripts.conf.5.html"><strong>devscripts.conf</strong>(5)</a></p><p><strong>The Debian Policy Manual</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The original version of <strong>uupdate</strong> was written by Christoph Lameter &lt;clameter@debian.org&gt;.  Several changes and improvements have been made by Julian Gilbey &lt;jdg@debian.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="uuname.1.html"><span aria-hidden="true">&larr;</span> uuname.1: List the names of the known remote uucp sites.</a></li>
   <li class="next"><a href="uupick.1.html">uupick.1: Get files stored in the public directory by uucp -t. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
