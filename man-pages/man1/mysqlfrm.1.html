<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mysqlfrm: Show create table from .frm files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Show create table from .frm files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mysqlfrm (1) manual">
  <meta name="twitter:description" content="Show create table from .frm files">
  <meta name="twitter:image" content="https://www.carta.tech/images/mysql-utilities-mysqlfrm-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mysqlfrm.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mysqlfrm (1) manual" />
  <meta property="og:description" content="Show create table from .frm files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mysql-utilities-mysqlfrm-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mysqlfrm<small> (1)</small></h1>
        <p class="lead">Show create table from .frm files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysqlfrm.1.html">
      <span itemprop="name">mysqlfrm: Show create table from .frm files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mysql-utilities/">
      <span itemprop="name">mysql-utilities</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysqlfrm.1.html">
      <span itemprop="name">mysqlfrm: Show create table from .frm files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mysqlfrm</strong> <em>--server=</em>[<em>user</em>[<em>:&lt;pass&gt;</em>]<em>@host</em>[<em>:&lt;port&gt;</em>][<em>:&lt;socket&gt;</em>]<em>|&lt;login-path&gt;</em>[<em>:&lt;port&gt;</em>][<em>:&lt;socket&gt;</em>]] [<em>path\tbl1.frm|db:tbl.frm</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>mysqlfrm - show CREATE TABLE from .frm files</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version number and exit <strong>--help</strong></p>
  </dd>
  <dt>
    <p><strong>--basedir</strong>=<em>BASEDIR</em></p>
  </dt>
  <dd>
    <p>the base directory for the server</p>
  </dd>
  <dt>
    <p><strong>--diagnostic</strong></p>
  </dt>
  <dd>
    <p>read the frm files byte-by-byte to form the CREATE statement. May require the <strong>--server</strong> or <strong>--basedir</strong> options to decipher character set information</p>
  </dd>
  <dt>
    <p><strong>--new-storage-engine</strong>=<em>NEW_ENGINE</em></p>
  </dt>
  <dd>
    <p>change ENGINE clause to use this engine.</p>
  </dd>
  <dt>
    <p><strong>--port</strong>=<em>PORT</em></p>
  </dt>
  <dd>
    <p>Port to use for the spawned server.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--show-stats</strong></p>
  </dt>
  <dd>
    <p>show file statistics and general table information.</p>
  </dd>
  <dt>
    <p><strong>--server</strong>=<em>SERVER</em></p>
  </dt>
  <dd>
    <p>connection information for the server in the form: &lt;user&gt;[:&lt;password&gt;]@&lt;host&gt;[:&lt;port&gt;][:&lt;socket&gt;] or &lt;login-path&gt;[:&lt;port&gt;][:&lt;socket&gt;] (optional) - if provided, the storage engine and character set information will be validated against this server.</p>
  </dd>
  <dt>
    <p><strong>--user</strong>=<em>USER</em></p>
  </dt>
  <dd>
    <p>user account to launch spawned server. Required if running as root user. Used only in the default mode.</p>
  </dd>
  <dt>
    <p><strong>--start-timeout</strong>=<em>START_TIMEOUT</em></p>
  </dt>
  <dd>
    <p>Number of seconds to wait for spawned server to start. Default = 10.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>control how much information is displayed. e.g., <strong>-v</strong> = verbose, <strong>-vv</strong> = more verbose, <strong>-vvv</strong> = debug</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>turn off all messages for quiet execution.</p>
  </dd>

</dl>
<p>Introduction <strong>------------</strong> The mysqlfrm utility is designed as a recovery tool that reads .frm files and produces facsimile CREATE statements from the table definition data found in the .frm file. In most cases, the CREATE statement produced will be usable for recreating the table on another server or for extended diagnostics. However, some features are not saved in the .frm files and therefore will be omitted. The exclusions include but are not limited to:</p><ul>
<li><p>- foreign key constraints - auto increment number sequences</p></li>
</ul><p>The mysqlfrm utility has two modes of operation. The default mode is designed to spawn an instance of an installed server by reference to the base directory using the <strong>--basedir</strong> option or by connecting to the server with the <strong>--server</strong> option. The process will not alter the original .frm file(s). This mode also requires the <strong>--port</strong> option to specify a port to use for the spawned server. The spawned server will be shutdown and all temporary files removed after the .frm files are read.</p><p>A diagnostic mode is available by using the <strong>--diagnostic</strong> option. This will switch the utility to reading the .frm files byte-by-byte to recover as much information as possible. The diagnostic mode has additional limitations in that it cannot decipher character set or collation values without using an existing server installation specified with either the <strong>--server</strong> or <strong>--basedir</strong> option. This can also affect the size of the columns if the table uses multi-byte characters. Use this mode when the default mode cannot read the file or if there is no server installed on the host.</p><p>To read .frm files, list each file as a separate argument for the utility as shown in the following examples. You will need to specify the path for each .frm file you want to read or supply a path to a directory and all of the .frm files in that directory will be read.</p><ul>
<li><p># Read a single .frm file in the default mode using the server installed # in <em>/usr/local/bin/mysql</em> where the .frm file is in the current folder. # Notice the use of the db:table.frm format for specifying the database # name for the table. The database name appears to the left of ':' and # the .frm name to the right. So in this case, we have database = test1 # and table = db1 so the CREATE statement will read CREATE test1.db1.</p></li><li><p>$ mysqlfrm --basedir=/usr/local/bin/mysql test1:db1.frm --port=3333</p></li><li><p># Read multiple .frm files in the default mode using a running server # where the .frm files are located in different folders.</p></li><li><p>$ mysqlfrm --server=root:pass@localhost:3306 /mysql/data/temp1/t1.frm &#92;</p></li><li><p><em>/mysql/data/temp2/g1.frm</em> <strong>--port</strong>=<em>3310</em></p></li><li><p># Execute the spawned server under a different user name and read # all of the .frm files in a particular folder in default mode.</p></li><li><p>$ mysqlfrm --server=root:pass@localhost:3306 /mysql/data/temp1/t1.frm &#92;</p></li><li><p><em>/mysql/data/temp2/g1.frm</em> <strong>--port</strong>=<em>3310</em> <strong>--user</strong>=<em>joeuser</em></p></li><li><p># Read all of the .frm files in a particular folder using the diagnostic # mode.</p></li><li><p>$ mysqlfrm --diagnostic /mysql/data/database1</p></li>
</ul><p>Helpful Hints <strong>-------------</strong></p><ul>
<li><p>- Tables with certain storage engines cannot be read in the default mode.</p></li><li><p>These include PARTITION, PERFORMANCE_SCHEMA. You must read these with the <strong>--diagnostic</strong> mode.</p></li><li><p>- Use the <strong>--diagnostic</strong> mode for tables that fail to open correctly</p></li><li><p>in the default mode or if there is no server installed on the host.</p></li><li><p>- To change the storage engine in the CREATE statement generated for all</p></li><li><p>.frm files read, use the <strong>--new-storage-engine</strong> option</p></li><li><p>- To turn off all messages except the CREATE statement and warnings or</p></li><li><p>errors, use the <strong>--quiet</strong> option.</p></li><li><p>- Use the <strong>--show-stats</strong> option to see file statistics for each .frm file.</p></li><li><p>- If you encounter connection or similar errors when running in default</p></li><li><p>mode, re-run the command with the <strong>--verbosity</strong> option and view the output from the spawned server and repair any errors in launching the server. If mysqlfrm fails in the middle, you may need to manually shutdown the server on the port specified with <strong>--port</strong>.</p></li><li><p>- If the spawned server takes more than 10 seconds to start, use the <strong>--start-timeout</strong> option to increase the timeout to wait for the</p></li><li><p>spawned server to start.</p></li><li><p>- If you need to run the utility with elevated privileges, use the <strong>--user</strong></p></li><li><p>option to execute the spawned server using a normal user account.</p></li><li><p>- You can specify the database name to be used in the resulting CREATE</p></li><li><p>statement by prepending the .frm file with the name of the database followed by a colon. For example, oltp:t1.frm will use 'oltp' for the database name in the CREATE statement. The optional database name can also be used with paths. For example, /home/me/oltp:t1.frm will use 'oltp' as the database name. If you leave off the optional database name and include a path, the last folder will be the database name. For example <em>/home/me/data1/t1.frm</em> will use 'data1' as the database name. If you do not want to use the last folder as the database name, simply specify the colon like this: /home/me/data1/:t1.frm. In this case, the database will be omitted from the CREATE statement.</p></li>
</ul><p>Enjoy!</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mysqlfailover.1.html"><span aria-hidden="true">&larr;</span> mysqlfailover.1: Automatic replication failover</a></li>
   <li class="next"><a href="mariadb-server-10.0-mysqlhotcopy.1.html">mysqlhotcopy.1: A database backup program <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
