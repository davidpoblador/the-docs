<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bsign: Embed and verify secure hashes and digital signatures</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Embed and verify secure hashes and digital signatures">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="bsign (1) manual">
  <meta name="twitter:description" content="Embed and verify secure hashes and digital signatures">
  <meta name="twitter:image" content="https://www.carta.tech/images/bsign-bsign-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/bsign.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="bsign (1) manual" />
  <meta property="og:description" content="Embed and verify secure hashes and digital signatures" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/bsign-bsign-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">bsign<small> (1)</small></h1>
        <p class="lead">Embed and verify secure hashes and digital signatures</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bsign.1.html">
      <span itemprop="name">bsign: Embed and verify secure hashes and digital signatures</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/bsign/">
      <span itemprop="name">bsign</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bsign.1.html">
      <span itemprop="name">bsign: Embed and verify secure hashes and digital signatures</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>bsign</strong> [ <em>options</em> | <em>FILENAMES</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The goal purpose of <strong>bsign</strong> is to verify and authenticate data files, especially executables and other binaries.</p><p>The program reads all of the <em>options</em> and \FIFILENAMES from the command line and then begins to operate on the input files.  In one invocation in can only one of either hash files, sign files, check hashes, or check signatures.</p><p>At present, it only works with the ELF (Execution and Link Format) files used by several flavors of UN*X including GNU/Linux, and it only supports gpg for creating and verifying signatures.  It embeds a secure hash of the file contents in the file and optionally signs this hash value.  Any change in the file contents will be easily discovered.  Either the hash value does not match the file contents, the hash is absent, the signature (optional) of the hash value is invalid, ir the signature (optional) is absent.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>One of these commands must be present.  Only the last one on the command line will be recognized.</p>
<dl class='dl-vertical'>
  <dt>
    <p>-c, --checkhash</p>
  </dt>
  <dd>
    <p>Verify the embedded hash value.</p>
  </dd>
  <dt>
    <p>-H, --hash</p>
  </dt>
  <dd>
    <p>Rewrite the input files with a hash.</p>
  </dd>
  <dt>
    <p>-s, --sign</p>
  </dt>
  <dd>
    <p>Rewrite the input files with signed hash data.  Note that the while rewriting process will fail if generation of the digital signature fails.  If no supported facility for creating signatures is available, only the --hash method will work.</p>
  </dd>
  <dt>
    <p>-V, --verify</p>
  </dt>
  <dd>
    <p>Verify the embedded hash value and digital signature.</p>
  </dd>
  <dt>
    <p>--version</p>
  </dt>
  <dd>
    <p>Display program version.</p>
  </dd>
  <dt>
    <p>-h, --help</p>
  </dt>
  <dd>
    <p>Display program options and usage information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-d, --debug</p>
  </dt>
  <dd>
    <p>Enable the display of debug messages.</p>
  </dd>
  <dt>
    <p>-e, --exclude <em>PATH</em></p>
  </dt>
  <dd>
    <p>Add <em>PATH</em> to the list of directories to exclude for input files, it may be used more than once.  A trailing path separator ('/') will be ignored.</p>
  </dd>
  <dt>
    <p>-f, --files <em>FILE</em></p>
  </dt>
  <dd>
    <p>Process filenames in <em>FILE</em>, one per line.  Use filename - for standard input.  This options has the same effect as putting each line in FILE on the command line as a distinct word.</p>
  </dd>
  <dt>
    <p>--force-resign</p>
  </dt>
  <dd>
    <p>By default, <strong>bsign</strong> will not resign a file if there is already a signature section present.  Note that this means it won't resign a file that has been hashed without a signature, too.  This option will override that behavior, replacing the existing signature block.</p>
  </dd>
  <dt>
    <p>-G, --ignore-good-sigs</p>
  </dt>
  <dd>
    <p>Inhibit information messages about finding good signatures.  This option is helpful when verifying from a cron script where all files are expected to have good signatures.  Messages about missing or broken signatures are unaffected by --ignore-good-sigs.</p>
  </dd>
  <dt>
    <p>-i, --include <em>PATH</em></p>
  </dt>
  <dd>
    <p>Add <em>PATH</em> to the list of directories to search for input files, it may be used more than once.  This method will tend to be faster and simpler than using the <strong>find</strong> program to generate a list of filenames.</p>
  </dd>
  <dt>
    <p>-I, --ignore-unsupported</p>
  </dt>
  <dd>
    <p>Ignore directories and non-ELF files in error messages.  This option reduces bsign output.</p>
  </dd>
  <dt>
    <p>--nosymlinks</p>
  </dt>
  <dd>
    <p>Treat symlinks as an unsupported file type.  This prevents some files from being signed redundantly.</p>
  </dd>
  <dt>
    <p>-o, --output <em>FILE</em></p>
  </dt>
  <dd>
    <p>Write signed, rewritten version of the input file to <em>FILE</em>.  Without this option, the input file is replaced by the rewritten version. The --output option only works when there is a single input filename on the command line.</p>
  </dd>
  <dt>
    <p>-P, --pgoptions <em>OPTS</em></p>
  </dt>
  <dd>
    <p>Pass <em>OPTS</em> to gpg as command lines options.  This is helpful for telling gpg where to find keys.</p>
  </dd>
  <dt>
    <p>-q, --quiet</p>
  </dt>
  <dd>
    <p>Inhibit informational messages.  With this option, the result of executing <strong>bsign</strong> is known only by checking the return status.</p>
  </dd>
  <dt>
    <p>-S, --summary</p>
  </dt>
  <dd>
    <p>Print a summary after processing the last input file.  At the  moment, it only tracks the total number of input files reviewed.</p>
  </dd>
  <dt>
    <p>-v, --verbose</p>
  </dt>
  <dd>
    <p>Report details about program progress.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>The program return value reflects the result from the last file processed.  Therefore, it is most useful when processing a single file.  It returns zero when successfully signing or hashing a file, or when the signature or hash is found to be present and valid.  Return codes less than 64 are errno values.</p><ul>
<li><p> 0	no error</p><p> 1	permission denied</p><p> 2	file not found</p><p>12	no memory</p><p>21	is directory</p><p>22	invalid argument</p><p>24	too many open files</p><p>26	file busy</p><p>28	no space on device</p><p>36	name too long</p><p>64	no hash found</p><p>65	no signature found</p><p>66	bad hash found</p><p>67	bad signature found</p><p>68	unsupported file type</p><p>69	bad pass phrase</p><p>70	rewrite failed</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p> you intend to use bsign only to protect the contents of the filesystem against corruption, there is little that must be done aside from hashing the files and performing periodic checks for correct hash values.  Refer to the <strong>EXAMPLES</strong> section for some possible invocations.</p><p>If you intend to use bsign to detect intrusion, the way is less clear.  First, the usual reminder: the security of a system is only as strong as the weakest link.  More detailed instructions on how to use <strong>bsign</strong> in this mode may be found in the <strong>/usr/share/doc/bsign/README</strong> file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>bsign --hash <strong>file</strong></p>
  </dt>
  <dd>
    <p>rewrite <strong>file</strong> with a hash</p>
  </dd>
  <dt>
    <p>bsign --check-hash <strong>file</strong></p>
  </dt>
  <dd>
    <p>verify the hash in <strong>file</strong></p>
  </dd>
  <dt>
    <p>bsign --sign <strong>file</strong> -P "--homedir <strong>keydir</strong>"</p>
  </dt>
  <dd>
    <p>rewrite <strong>file</strong> with a hash and sign it with the default secret key in <strong>keydir</strong></p>
  </dd>
  <dt>
    <p>bsign --verify <strong>file</strong> -P "--homedir <strong>keydir</strong>"</p>
  </dt>
  <dd>
    <p>verify the hash and signature in <strong>file</strong> using the key in <strong>keydir</strong></p>
  </dd>
  <dt>
    <p>bsign --sign -i / -e /proc -I -s --P "--homedir <strong>keydir</strong>"</p>
  </dt>
  <dd>
    <p>sign the unsigned files in the whole filesystem</p>
  </dd>
  <dt>
    <p>bsign --verify -i / -e /proc -I -G --P "--homedir <strong>keydir</strong>"</p>
  </dt>
  <dd>
    <p>verify signatures for all files in the filesystem and only report those that have been tampered or are unsigned.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p><strong>bsign</strong> should use environment variables to select the method for generating digital signatures.  It doesn't.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>It supports only one hash algorithm, an insignificant bug if one at all.  It supports only GNU Privacy Guard for creating and verifying digital signatures.  It can embed only in ELF format files, others would be helpful.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Marc Singer &lt;elf@debian.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bsh.1.html"><span aria-hidden="true">&larr;</span> bsh.1: Beanshell: a java scripting environment (command-line version).</a></li>
   <li class="next"><a href="bskk.1.html">bskk.1: Bayesian estimation for skk <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
