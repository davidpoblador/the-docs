<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>reformime: Mime e-mail reformatting tool</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mime e-mail reformatting tool">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="reformime (1) manual">
  <meta name="twitter:description" content="Mime e-mail reformatting tool">
  <meta name="twitter:image" content="https://www.carta.tech/images/courier-maildrop-reformime-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/courier-maildrop-reformime.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="reformime (1) manual" />
  <meta property="og:description" content="Mime e-mail reformatting tool" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/courier-maildrop-reformime-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">reformime<small> (1)</small></h1>
        <p class="lead">Mime e-mail reformatting tool</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/reformime.1.html">
      <span itemprop="name">reformime: Mime e-mail reformatting tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/courier-maildrop/">
      <span itemprop="name">courier-maildrop</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/reformime.1.html">
      <span itemprop="name">reformime: Mime e-mail reformatting tool</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>reformime</strong> [<em>options</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>reformime</strong> is a utility for reformatting MIME messages.</p><p>Generally, <strong>reformime</strong> expects to see an \m[blue]<strong>RFC 2045</strong>\m[]\s-2\u[1]\d\s+2 compliant message on standard input, except in few cases such as the <strong>-m</strong> option.</p><p>If no options are given, <strong>reformime</strong> prints the MIME structure of the message. The output consists of so-called "MIME reference tags", one per line. For example:</p>
<pre>
1
1.1
1.2
</pre>
<p>This shows that the message contains two different MIME sections. The first line of the MIME structure output will always contain "1", which refers to the entire message. In this case it happens to be a multipart/mixed message. "1.1" refers to the first section of the multipart message, which happens to be a text/plain section. "1.2" refers to the second section of the message, which happens to be an application/octet-stream section.</p><p>If the message is not a MIME message, or it does not contain any attachments, <strong>reformime</strong> prints only "1", that refers to the entire message itself:</p>
<pre>
1
</pre>
<p>Here&apos;s the output from <strong>reformime</strong> when the first part of the message was itself a multipart/alternative section:</p>
<pre>
1
1.1
1.1.1
1.1.2
1.2
</pre>
<p>Arbitrarily complex MIME constructs are possible.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-d</p><p>Parse a delivery status notification MIME message (\m[blue]<strong>RFC 1894</strong>\m[]\s-2\u[2]\d\s+2). <strong>reformime</strong> expects to see on standard input a MIME message that consists of a delivery status notification, as defined by RFC 1894. <strong>reformime</strong> reads the message and prints on standard output a list of addresses and their corresponding delivery status, as specified in the delivery status notification. Each line printed by <strong>reformime</strong> consists of a delivery status, a space, and the address. <strong>reformime</strong> then terminates with a 0 exit status. <strong>reformime</strong> produces no output and terminates with an exit status of 1 if the standard input does not contain a delivery status notification.</p><p>-D</p><p>Like the <strong>-d</strong> except that <strong>reformime</strong> lists the address found in the Original-Recipient: header, if it exists.</p><p>-e</p><p>Extract the contents of the indicated MIME section, and display it on standard output. The <strong>-s</strong> option is required when <strong>-e</strong> is specified. If the specified section or sections use either the base64 or quoted-printable encoding method, <strong>reformime</strong> automatically decodes it. In this case you&apos;re better off redirecting the standard output into a file.</p><p>-i</p><p>Display MIME information for each section. <strong>reformime</strong> displays the contents of the Content-Type: header, any encoding used, and the character set. <strong>reformime</strong> also displays the byte offset in the message where each section starts and ends (and where the actual contents of the section start, after skipping all the headers).</p><p>-m</p><p>Create a multipart/digest MIME message digest.</p><p>-r</p><p>Rewrite message, adding or standardizing \m[blue]<strong>RFC 2045</strong>\m[]\s-2\u[1]\d\s+2 MIME headers.</p><p>-r7</p><p>Like <strong>-r</strong> but also convert 8bit-encoded MIME sections to quoted-printable.</p><p>-r8</p><p>Like <strong>-r</strong> but also convert quoted-printable-encoded MIME sections to 8bit.</p><p>-s <em>section</em></p><p>Display MIME information for this section only. <em>section</em> is a MIME specification tag. The <strong>-s</strong> option is required if <strong>-e</strong> is also specified, and is optional with <strong>-i</strong>.</p><p>Multiple sections may be specified by separating them with commas. <strong>reformime</strong> processes each section using the other options that were specified.</p><p>-x</p><p>Extract the contents of the indicated MIME section to a file.</p><p>-X</p><p>Pipe the contents of the indicated MIME section to a program.</p><h3>Extracting RFC 2045 MIME section(s) to file(s)</h3>
<p>The <strong>-x</strong> and <strong>-X</strong> options extract a specific MIME section to a file or to a pipe to an external program. Use the <strong>-s</strong> option to identify the MIME section to extract. If the <strong>-s</strong> option is not specified, every MIME section in the message is extracted, one at a time. If <strong>-s</strong> lists multiple sections, each section gets extracted separately. quoted-printable and base64 encoding are automatically decoded.</p><p>-x</p><p>Interactive extraction. <strong>reformime</strong> prints the MIME content type of each section. Answer with &apos;y&apos; or &apos;Y&apos; to extract the MIME section. Specify the filename at the next prompt. <strong>reformime</strong> prompts with a default filename. <strong>reformime</strong> tries to choose the default filename based on the MIME headers, if possible. If not, the default filename will be attachment1.dat (if the -s option is not specified, the next filename will be attachment2.dat, and so on).</p><p>-x<em>PREFIX</em></p><p>Automatic extraction. <strong>reformime</strong> automatically extracts one or more MIME sections, and saves them to a file. The filename is formed by taking <em>PREFIX</em>, and appending the default filename to it. Note that there&apos;s no space between "-x" and "PREFIX". For example:</p>
<pre>
reformime -xfiles-
</pre>
<p>This command saves MIME sections as files-attachment1.dat, then files-attachment2.dat, etc. <strong>reformime</strong> tries to append the filename specified in the MIME headers for each section, where possible. <strong>reformime</strong> replaces all suspect characters with the underscore character.</p><p>-X prog arg1 arg2 ...</p><p>The <strong>-X</strong> option must be the last option to <strong>reformime</strong>. <strong>reformime</strong> runs an external program <strong>prog</strong>, and pipes the contents of the MIME section to the program. <strong>reformime</strong> sets the environment variable <strong>CONTENT_TYPE</strong> to the MIME content type. The environment variable <strong>FILENAME</strong> gets set to the default filename of <strong>reformime</strong>&apos;s liking. If the <strong>-s</strong> option is not specified, the program runs once for every MIME section in the message. The external program, <strong>prog</strong> must terminate with a zero exit status in order for <strong>reformime</strong> to proceed to the next MIME section in the message (or the next section specified by <strong>-s</strong>). In any case, if <strong>prog</strong> terminates with a non-zero exit status, <strong>reformime</strong> terminates with the exit status of 20 plus <strong>prog</strong>&apos;s exit status.</p><p><strong>Note</strong></p><p><strong>reformime</strong> extracts every MIME section in the message unless the <strong>-s</strong> option is specified. This includes even the text/plain MIME content that usually precedes a binary attachment.</p>
<h3>Adding RFC 2045 MIME headers</h3>
<p>The <strong>-r</strong> option performs the following actions:</p><p>If there is no Mime-Version:, Content-Type:, or Content-Transfer-Encoding: header, <strong>reformime</strong> adds one.</p><p>If the Content-Transfer-Encoding: header contains 8bit or raw, but only seven-bit data is found, <strong>reformime</strong> changes the Content-Transfer-Encoding header to 7bit.</p><p><strong>-r7</strong> does the same thing, but also converts 8bit-encoded content that contains eight-bit characters to quoted-printable encoding.</p><p><strong>-r8</strong> does the same thing, but also converts quoted-printable-encoded content to 8bit, except in some situations.</p>
<h3>Creating multipart/digest MIME digests</h3>
<p>The <strong>-m</strong> option creates a MIME digest. <strong>reformime</strong> reads a list of filenames on standard input. Each line read from standard input contains the name of a file that is presumed to contain an RFC 2822-formatted message. <strong>reformime</strong> splices all files into a <strong>multipart/digest</strong> MIME section, and writes it to standard output.</p>
<h3>Translating MIME headers</h3>
<p>The following options do not read a message from standard input. These options process MIME headers via the command line, and are designed to be conveniently used by mail-handling scripts.</p><p>-h "<em>header</em>"</p><p>Decode a MIME-encoded "<em>header</em>" and print the decoded 8-bit content on standard output. The decoding gets carried out as if the contents occurred in the &ldquo;Subject&rdquo; header. Example:</p>
<pre>
$ reformime -h &apos;=?iso-8859-1?Q?H=F3la!?=&apos;
Hóla!
</pre>
<p>-H "<em>header</em>"</p><p>Like <strong>-h</strong> except that <em>header</em> is parsed as a list of email addresses, like &ldquo;From&rdquo; or &ldquo;To&rdquo;.</p><p>-o "<em>text</em>"</p><p>MIME-encode "<em>text</em>", and print the results on standard output.</p><p>-O "<em>text</em>"</p><p>Like the <strong>-o option</strong>, except that <em>text</em> is a structured header with RFC 2822 addresses.</p><p>-c "<em>charset</em>"</p><p>Use <em>charset</em> as the character set setting, by the <strong>-h</strong>, <strong>-H</strong>, <strong>-o</strong> and <strong>-O</strong> options.</p><p>-u</p><p>This &ldquo;undocumented&rdquo; option reads a MIME message on standard input, and converts its contents to an UTF-8-encoded character stream, which is written to standard output.</p><p>The standard output receives a concatenated amalgam of the headers and &ldquo;text&rdquo; MIME object data. It is meant to be used as part of a generic search function. This option decodes various kinds of header MIME encoding, the quoted-printable and base64 transfer encodings of &ldquo;text&rdquo; MIME objects.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO reformime&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong></strong><a href="../man1/reformail.1.html"><strong>reformail</strong>(1)</a>\m[]\s-2\u[3]\d\s+2, <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a>, \m[blue]<strong></strong><a href="../man1/mailbot.1.html"><strong>mailbot</strong>(1)</a>\m[]\s-2\u[4]\d\s+2, \m[blue]<strong></strong><a href="../man1/maildrop.1.html"><strong>maildrop</strong>(1)</a>\m[]\s-2\u[5]\d\s+2, \m[blue]<strong></strong><strong>maildropfilter</strong>(5)\m[]\s-2\u[6]\d\s+2, <a href="../man1/egrep.1.html"><strong>egrep</strong>(1)</a>, <a href="../man1/grep.1.html"><strong>grep</strong>(1)</a>, <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Sam Varshavchik</strong></p><p>Author</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>RFC 2045</p><p>http://www.rfc-editor.org/rfc/rfc2045.txt</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>RFC 1894</p><p>http://www.rfc-editor.org/rfc/rfc1894.txt</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p><a href="../man1/reformail.1.html"><strong>reformail</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/reformail.html</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p><a href="../man1/mailbot.1.html"><strong>mailbot</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/mailbot.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p><a href="../man1/maildrop.1.html"><strong>maildrop</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/maildrop.html</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><strong>maildropfilter</strong>(5)</p><p>[set $man.base.url.for.relative.links]/maildropfilter.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="maildrop-reformail.1.html"><span aria-hidden="true">&larr;</span> reformail.1: E-mail reformatting tool</a></li>
   <li class="next"><a href="maildrop-reformime.1.html">reformime.1: Mime e-mail reformatting tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
