<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>petit: Log analysis tool for systems administrators</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Log analysis tool for systems administrators">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="petit (1) manual">
  <meta name="twitter:description" content="Log analysis tool for systems administrators">
  <meta name="twitter:image" content="https://www.carta.tech/images/petit-petit-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/petit.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="petit (1) manual" />
  <meta property="og:description" content="Log analysis tool for systems administrators" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/petit-petit-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">petit<small> (1)</small></h1>
        <p class="lead">Log analysis tool for systems administrators</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/petit.1.html">
      <span itemprop="name">petit: Log analysis tool for systems administrators</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/petit/">
      <span itemprop="name">petit</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/petit.1.html">
      <span itemprop="name">petit: Log analysis tool for systems administrators</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>petit</strong> [<em>OPTION</em>] [<em>FILE</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>petit</strong> was developed to quickly analyze syslog and Apache log files in large environments. It can also be used for word discovery within log data. It is a general purpose tool that can do hashing, word counts, and command line graphing of Apache and syslog files. It is designed to be a standard Unix tool that can be employed with pipes or by opening files. Petit works by sifting data with standard patterns and allows for custom filters and fingerprints. This leaves the analyst with data that is both varied and interesting.</p><p><em>FILE</em> can be Syslog, Apache Access, Apache Error, Snort or Raw log files. Petit can also be used to analyze any type of file as a Raw log file, but since time/date is not understood, they cannot be graphed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Displays simple usage message</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Adds verbose output to any function</p>
  </dd>
  <dt>
    <p><strong>--sample</strong></p>
  </dt>
  <dd>
    <p>Sample any line for which there are 3 or less entries found</p>
  </dd>
  <dt>
    <p><strong>--allsample</strong></p>
  </dt>
  <dd>
    <p>Show samples for all lines found</p>
  </dd>
  <dt>
    <p><strong>--filter</strong></p>
  </dt>
  <dd>
    <p>Force filter files to be used during processing because some functions do not filter by default.</p>
  </dd>
  <dt>
    <p><strong>--nofilter</strong></p>
  </dt>
  <dd>
    <p>Force filter files to be skipped during processing. This will work for any function.</p>
  </dd>
  <dt>
    <p><strong>--wide</strong></p>
  </dt>
  <dd>
    <p>Make graphing wider for bigger screens</p>
  </dd>
  <dt>
    <p><strong>--tick</strong>="%"</p>
  </dt>
  <dd>
    <p>Change tick character from default of "#". This can be any single character.</p>
  </dd>
  <dt>
    <p><strong>--finterprint</strong></p>
  </dt>
  <dd>
    <p>Use fingerprinting to remove certain patterns from analysis. By default this is off for most or all functions. This is a safety feature to prevent an analyst from removing data without using an explicit switch.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display the version of petit and exit</p>
  </dd>
  <dt>
    <p><strong>--hash</strong></p>
  </dt>
  <dd>
    <p>This is one of the most basic functions of petit. This function tallies lines found. Each output line displays the number of similar lines found in the log and what the group generally looked like. If filtering is used in conjunction with hashing then numbers and patterns which are commonly found and not profoundly necessary are removed from the input stream. This leaves the analyst with approximate log entries as opposed to actual log entries. This is useful for analyzing large log sets commonly found in clusters/pools of servers.</p>
  </dd>
  <dt>
    <p><strong>--wordcount</strong></p>
  </dt>
  <dd>
    <p>Word counting is essentially like hashing except that data is grouped by word instead of line. A custom stopwords list is used to filter out common words found in the english language. A common use case for this function would be word discovery. When used in connection with grep or swatch, word counting can be used to enumarate all of the words found in a log file which have similar meanings, such as "error, can't, fail, reject", etc.</p><p>This is extremely useful for giving confidence when building white lists and black lists. These lists can then be used for daily reporting or graphing for anamoly detection.</p>
  </dd>
  <dt>
    <p><strong>--daemon</strong></p>
  </dt>
  <dd>
    <p>Gives a simple report of lines produced, keyed by the daemon that produced them</p>
  </dd>
  <dt>
    <p><strong>--host</strong></p>
  </dt>
  <dd>
    <p>Gives a simple report of lines produced, keyed by the host that produced them. This can be useful for analyzing machines in a cluster dedicated to the same task. If one machine is producing too much or too little log output there is generally a problem.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GRAPHS</h2>
        <div class="sectioncontent">
<p>Graphs are displayed with the following information to help analyze the log file</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--sgraph</strong></p>
  </dt>
  <dd>
    <p>Show a graph of first 60 seconds of the log file</p>
  </dd>
  <dt>
    <p><strong>--mgraph</strong></p>
  </dt>
  <dd>
    <p>Show a graph of first 60 minutes of the log file</p>
  </dd>
  <dt>
    <p><strong>--hgraph</strong></p>
  </dt>
  <dd>
    <p>Show a graph of first 24 hours of the log file</p>
  </dd>
  <dt>
    <p><strong>--dgraph</strong></p>
  </dt>
  <dd>
    <p>Show a graph of first 31 days of the log file</p>
  </dd>
  <dt>
    <p><strong>--mograph</strong></p>
  </dt>
  <dd>
    <p>Show a graph of first 12 months of the log file</p>
  </dd>
  <dt>
    <p><strong>--ygraph</strong></p>
  </dt>
  <dd>
    <p>Show a graph of first 10 years. 10 years was chosen arbitrarily and could be changed in the code if more time is needed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/var/lib/petit/fingerprint_library</strong></p>
  </dt>
  <dd>
    <p>Fingerprint library which can be used to construct custom fingerprint files. They are in the same format as petit's output so it is easy to construct new fingerprints.</p>
  </dd>
  <dt>
    <p><strong>/var/lib/petit/fingerprints</strong></p>
  </dt>
  <dd>
    <p>Aggregate fingerprint files which can be used to filter out reboots and other events which the administrator does not care to see</p>
  </dd>
  <dt>
    <p><strong>/var/lib/petit/filters/</strong></p>
  </dt>
  <dd>
    <p>Each function has a separate list of words and patterns which are removed. Each list is stored in a designated file and specified with standard regular expression format.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Scott McCarty, see the AUTHORS file</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>This program is licensed under the GNU General Public License, see the file COPYING included in the distribution archive.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pesvideo2ts.1.html"><span aria-hidden="true">&larr;</span> pesvideo2ts.1: Tool from opencaster suite</a></li>
   <li class="next"><a href="petri-foo.1.html">petri-foo.1: Midi controlled sampler <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
