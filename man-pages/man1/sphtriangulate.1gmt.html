<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sphtriangulate: Perform optimal delaunay triangulation or voronoi construction of spherical data</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perform optimal delaunay triangulation or voronoi construction of spherical data">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sphtriangulate (1gmt) manual">
  <meta name="twitter:description" content="Perform optimal delaunay triangulation or voronoi construction of spherical data">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-sphtriangulate-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/sphtriangulate.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sphtriangulate (1gmt) manual" />
  <meta property="og:description" content="Perform optimal delaunay triangulation or voronoi construction of spherical data" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-sphtriangulate-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sphtriangulate<small> (1gmt)</small></h1>
        <p class="lead">Perform optimal delaunay triangulation or voronoi construction of spherical data</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/sphtriangulate.1gmt.html">
      <span itemprop="name">sphtriangulate: Perform optimal delaunay triangulation or voronoi construction of spherical data</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/sphtriangulate.1gmt.html">
      <span itemprop="name">sphtriangulate: Perform optimal delaunay triangulation or voronoi construction of spherical data</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sphtriangulate</strong> <em>infiles</em> [ <strong>-A</strong> ] [ <strong>-C</strong> ] [ <strong>-D</strong> ] [ <strong>-H</strong>[<strong>i</strong>][<em>nrec</em>] ] [ <strong>-L</strong><em>unit</em> ] [ <strong>-N</strong><em>nfile</em> ] [ <strong>-Q</strong><strong>d</strong>|<strong>v</strong> ] [ <strong>-T</strong> ] [ <strong>-V</strong> ] [ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ] [ <strong>-b</strong>[<strong>i</strong>|<strong>o</strong>][<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ] [ <strong>-m</strong>[<strong>i</strong>|<strong>o</strong>][<em>flag</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sphtriangulate</strong> reads one or more ASCII [or binary] files (or standard input) containing lon, lat and performs a spherical Delaunay triangulation, i.e., it find how the points should be connected to give the most equilateral triangulation possible on the sphere.  Optionally, you may choose <strong>-Qv</strong> which will do further processing to obtain the Voronoi polygons.  Normally, either set of polygons will be written as fillable multi-segment output; use <strong>-T</strong> to write unique arcs instead. As an option, compute the area of each triangle or polygon.  The algorithm used is STRIPACK.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>infiles</em></p>
  </dt>
  <dd>
    <p>Data files with the point coordinates in ASCII (or binary; see <strong>-b</strong>).  If no files are given the standard input is read.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>Compute the area of the spherical triangles (<strong>-Qd</strong>) or polygons (<strong>-Qv</strong>) and write the areas (in chosen units; see <strong>-L</strong>) in the multisegment output headers [no areas calculated].</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>For large data set you can save some memory (at the expense of more processing) by only storing one form of location coordinates (geographic or Cartesian 3-D vectors) at any given time, translating from one form to the other when necessary [Default keeps both arrays in memory].</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Used with <strong>-m</strong> to skip the last (repeated) input vertex at the end of a closed segment if it equals the first point in the segment.  Requires <strong>-m</strong> [Default uses all points].</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Input file(s) has header record(s).  If used, the default number of header records is <strong>N_HEADER_RECS</strong>. Use <strong>-Hi</strong> if only input data should have header records [Default will write out header records if the input data have them]. Blank lines and lines starting with # are always skipped.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Specify the unit used for distance and area calculations.  Choose among <strong>e</strong> (m), <strong>k</strong> (km), <strong>m</strong> (mile), <strong>n</strong> (nautical mile), or <strong>d</strong> (spherical degree).  A spherical approximation is used unless <strong>ELLIPSOID</strong> is set to an actual ellipsoid.  When degree is selected the areas are given in steradians.</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>Write the information pertaining to each polygon (for Delaunay: the three node number and the triangle area; for Voronoi the unique node lon, lat and polygon area) to a separate file [Default puts this information in the segment headers of the output file].  Required if binary output is needed.</p>
  </dd>
  <dt>
    <p><strong>-Q</strong></p>
  </dt>
  <dd>
    <p>Select between BD(d)elaunay or BD(v)oronoi mode [Delaunay].</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>Write the unique arcs of the construction [Default writes fillable triangles or polygons]. When used with <strong>-A</strong> we store arc length in the segment header in chosen unit (see <strong>-L</strong>).</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-:</strong></p>
  </dt>
  <dd>
    <p>Toggles between (longitude,latitude) and (latitude,longitude) input and/or output.  [Default is (longitude,latitude)]. Append <strong>i</strong> to select input only or <strong>o</strong> to select output only.  [Default affects both].</p>
  </dd>
  <dt>
    <p><strong>-bi</strong></p>
  </dt>
  <dd>
    <p>Selects binary input. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of columns in your binary input file if it exceeds the columns needed by the program. Or append <strong>c</strong> if the input file is netCDF. Optionally, append <em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>...</em> to specify the variables to be read. [Default is 2 input columns].</p>
  </dd>
  <dt>
    <p><strong>-bo</strong></p>
  </dt>
  <dd>
    <p>Selects binary output. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of desired columns in your binary output file. [Default is same as input].</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Multiple segment file(s).  Segments are separated by a special record. For ASCII files the first character must be <em>flag</em> [Default is '&gt;']. For binary files all fields must be NaN and <strong>-b</strong> must set the number of output columns explicitly.  By default the <strong>-m</strong> setting applies to both input and output.  Use <strong>-mi</strong> and <strong>-mo</strong> to give separate settings to input and output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ASCII FORMAT PRECISION</h2>
        <div class="sectioncontent">
<p>The ASCII output formats of numerical data are controlled by parameters in your .gmtdefaults4 file.  Longitude and latitude are formatted according to <strong>OUTPUT_DEGREE_FORMAT</strong>, whereas other values are formatted according to <strong>D_FORMAT</strong>.  Be aware that the format in effect can lead to loss of precision in the output, which can lead to various problems downstream.  If you find the output is not written with enough precision, consider switching to binary output (<strong>-bo</strong> if available) or specify more decimals using the <strong>D_FORMAT</strong> setting.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GRID VALUES PRECISION</h2>
        <div class="sectioncontent">
<p>Regardless of the precision of the input data, GMT programs that create grid files will internally hold the grids in 4-byte floating point arrays.  This is done to conserve memory and furthermore most if not all real data can be stored using 4-byte floating point values.  Data with higher precision (i.e., double precision values) will lose that precision once GMT operates on the grid or writes out new grids.  To limit loss of precision when processing data you should always consider normalizing the data prior to processing.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To triangulate the points in the file testdata.txt, and make a Voronoi diagram via <strong>psxy</strong>, use</p><p><strong>sphtriangulate</strong> testdata.txt <strong>-Qv</strong> | psxy <strong>-Rg -JG</strong>30/30/6i <strong>-M -L -P -W</strong>1p <strong>-B</strong>0g30 | gv -</p><p>To compute the optimal Delaunay triangulation network based on the multiple segment file globalnodes.d and save the area of each triangle in the header record, try</p><p><strong>sphtriangulate</strong> globalnodes.d <strong>-M -Qd -A</strong> &gt; global_tri.d</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sphtriangulate&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/gmt.1.html"><strong>GMT</strong>(1)</a>, <strong>triangulate</strong>(1) <strong>sphinterpolate</strong>(1) <strong>sphdistance</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>Renka, R, J., 1997, Algorithm 772: STRIPACK: Delaunay Triangulation and Voronoi Diagram on the Surface of a Sphere, <em>AMC Trans. Math. Software, 23</em> (3), 416-434.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sphinterpolate.1gmt.html"><span aria-hidden="true">&larr;</span> sphinterpolate.1gmt: Gridding in tension of spherical data</a></li>
   <li class="next"><a href="gmt-splitxyz.1gmt.html">splitxyz.1gmt: Filter to divide (x,y,z[,distance,heading]) data into (x,y,z) track segments. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
