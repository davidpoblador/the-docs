<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sitecopy: Maintain remote copies of web sites</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Maintain remote copies of web sites">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sitecopy (1) manual">
  <meta name="twitter:description" content="Maintain remote copies of web sites">
  <meta name="twitter:image" content="https://www.carta.tech/images/sitecopy-sitecopy-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sitecopy.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sitecopy (1) manual" />
  <meta property="og:description" content="Maintain remote copies of web sites" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sitecopy-sitecopy-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sitecopy<small> (1)</small></h1>
        <p class="lead">Maintain remote copies of web sites</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sitecopy.1.html">
      <span itemprop="name">sitecopy: Maintain remote copies of web sites</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sitecopy/">
      <span itemprop="name">sitecopy</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sitecopy.1.html">
      <span itemprop="name">sitecopy: Maintain remote copies of web sites</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sitecopy [options] [operation mode]</strong> <em>sitename</em> <strong>...</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>sitecopy</em> is for copying locally stored web sites to remote web servers.  A single command will upload files to the server which have changed locally, and delete files from the server which have been removed locally, to keep the remote site synchronized with the local site. The aim is to remove the hassle of uploading and deleting individual files using an FTP client.  sitecopy will also optionally try to spot files you move locally, and move them remotely.</p><p>FTP, SFTP, WebDAV and other HTTP-based authoring servers (for instance, AOLserver and Netscape Enterprise) are supported.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GETTING STARTED</h2>
        <div class="sectioncontent">
<p>This section covers how to start maintaining a web site using sitecopy.  After introducing the basics, two situations are covered: first, where you have already upload the site to the remote server; second, where you haven't.  Lastly, normal site maintenance activities are explained.</p><h3>Introducing the Basics</h3>
<p>If you have not already done so, you need to create an rcfile, which will store information about the sites you wish to administer. You also need to create a storage directory, which sitecopy uses to record the state of the files on each of the remote sites. The rcfile and storage directory must both be accessible only by you - sitecopy will not run otherwise.  To create the storage directory with the correct permissions, use the command</p><p><strong>	mkdir -m 700 .sitecopy</strong></p><p>from your home directory. To create the rcfile, use the commands</p><p><strong>	touch .sitecopyrc</strong></p><p><strong>	chmod 600 .sitecopyrc</strong></p><p>from your home directory. Once this is done, edit the rcfile to enter your site details as shown in the CONFIGURATION section.</p>
<h3>Existing Remote Site</h3>
<p>If you have already uploaded the site to the remote server, ensure your local files are synchronized with the remote files. Then, run</p><p><strong>	sitecopy --catchup sitename</strong></p><p>where sitename is the name of the site you used after the <strong>site</strong> keyword in the rcfile.</p><p>If you do not have a local copy of the remote site, then you can use <strong>fetch mode</strong> to discover what is on the remote site, and <strong>synchronize mode</strong> to download it. Fetch mode works well for WebDAV servers, and might work if you're lucky for FTP servers. Run</p><p><strong>	sitecopy --fetch sitename</strong></p><p>to fetch the site - if this succeeds, then run</p><p><strong>	sitecopy --synch sitename</strong></p><p>to download a local copy.  Do NOT do this if you already have a local copy of your site.</p>
<h3>New Remote Site</h3>
<p>Ensure that the root directory of the site has been created on the server by the server administrator. Run</p><p><strong>	sitecopy --init sitename</strong></p><p>where sitename is the name of the site you used after the <strong>site</strong> keyword in the rcfile.</p>
<h3>Site Maintenance</h3>
<p>After setting up the site as given in one of the two above sections, you can now start editing your local files as normal. When you have finished a set of changes, and you want to update the remote copy of the site, run:</p><p><strong>	sitecopy --update sitename</strong></p><p>and all the changed files will be uploaded to the server. Any files you delete locally will be deleted remotely too, unless the <strong>nodelete</strong> option is specified in the rcfile. If you move any files between directories, the remote files will be deleted from the server then uploaded again unless you specify the <strong>checkmoved</strong> option in the rcfile.</p><p>At any time, if you wish to see what changes you have made to the local site since the last update, you can run</p><p><strong>	sitecopy sitename</strong></p><p>which will display the list of differences.</p>
<h3>Synchronization Problems</h3>
<p>In some circumstances, the actual files which make up the remote site will be different from what sitecopy <em>thinks</em> is on the remote site. This can happen, for instance, if the connection to the server is broken during an update. When this situation arises, <strong>Fetch Mode</strong> should be used to fetch the list of files making up the site from the remote server.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INVOCATION</h2>
        <div class="sectioncontent">
<p>In normal operation, specify a <em>single</em> operation mode, followed by any options you choose, then one or more site names. For instance,</p><p><strong>	sitecopy --update --quiet mainsite anothersite</strong></p><p>will quietly update the sites named 'mainsite' and 'anothersite'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPERATION MODES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -l, --list
  </dt>
  <dd>
    <p><strong>List Mode</strong> - produces a listing of all the differences between the local files and the remote copy for the specified sites.</p>
  </dd>
  <dt>
    -ll, --flatlist
  </dt>
  <dd>
    <p><strong>Flat list Mode</strong> - like list mode, except the output produced is suitable for parsing by an external script or program. An AWK script, <strong>changes.awk.</strong> is provided which produces an HTML page from this mode.</p>
  </dd>
  <dt>
    -u, --update
  </dt>
  <dd>
    <p><strong>Update Mode</strong> - updates the remote copy of the specified sites.</p>
  </dd>
  <dt>
    -f, --fetch
  </dt>
  <dd>
    <p><strong>Fetch Mode</strong> - fetches the list of files from the remote server.  Note that this mode has only limited support in FTP - the server must accept the <strong>MDTM</strong> command, and use a Unix-style 'ls' for LIST implementation.</p>
  </dd>
  <dt>
    -s, --synchronize
  </dt>
  <dd>
    <p><strong>Synchronize Mode</strong> - updates the <em>local</em> site from the remote copy. <strong>WARNING:</strong> This mode overwrites local files. Use with care.</p>
  </dd>
  <dt>
    -i, --initialize
  </dt>
  <dd>
    <p><strong>Initialization Mode</strong> - initializes the sites specified - making sitecopy think there are NO files on the remote server.</p>
  </dd>
  <dt>
    -c, --catchup
  </dt>
  <dd>
    <p><strong>Catchup Mode</strong> - makes sitecopy think the local site is exactly the same as the remote copy.</p>
  </dd>
  <dt>
    -v, --view
  </dt>
  <dd>
    <p><strong>View Mode</strong> - displays all the site definitions from the rcfile.</p>
  </dd>
  <dt>
    -e, --verify
  </dt>
  <dd>
    <p> Verify stored state of site matches real remote state</p>
  </dd>
  <dt>
    -h, --help
  </dt>
  <dd>
    <p>Display help information.</p>
  </dd>
  <dt>
    -V, --version
  </dt>
  <dd>
    <p>Display version information.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -y, --prompting
  </dt>
  <dd>
    
  </dd>
  <dt>
    -g, --logfile=FILE
  </dt>
  <dd>
    <p> Append debugging messages to FILE (else use stderr)</p>
  </dd>
  <dt>
    -x, --create-remote
  </dt>
  <dd>
    <p> Create root for remote site</p>
  </dd>
  <dt>
    -n, --dry-run
  </dt>
  <dd>
    <p> Display but do not carry out the operation Applicable in <strong>Update Mode</strong> only, will prompt the user for confirmation for each update (i.e., creating a directory, uploading a file etc.).</p>
  </dd>
  <dt>
    -r RCFILE, --rcfile=RCFILE
  </dt>
  <dd>
    <p>Specify an alternate run control file location.</p>
  </dd>
  <dt>
    -p PATH, --storepath=PATH
  </dt>
  <dd>
    <p>Specify an alternate location to use for the remote site storage directory.</p>
  </dd>
  <dt>
    -q, --quiet
  </dt>
  <dd>
    <p>Quiet output - display the filename only for each update performed.</p>
  </dd>
  <dt>
    -qq, --silent
  </dt>
  <dd>
    <p>Very quiet output - display nothing for each update performed.</p>
  </dd>
  <dt>
    -o, --show-progress
  </dt>
  <dd>
    <p>Applicable in <strong>Update Mode</strong> only, displays the progress (percentage complete) of data transfer.</p>
  </dd>
  <dt>
    -k, --keep-going
  </dt>
  <dd>
    <p>Keep going past errors in <strong>Update Mode</strong> or <strong>Synch Mode</strong></p>
  </dd>
  <dt>
    -a, --allsites
  </dt>
  <dd>
    <p>Perform the given operation on all sites - applicable for all modes except <strong>View Mode,</strong> for which it has no effect.</p>
  </dd>
  <dt>
    -d MASK, --debug=KEY[,KEY...]
  </dt>
  <dd>
    <p>Turns on debugging.  A list of comma-separated keywords should be given. Each keyword may be one of:</p>
<pre>
  socket    Socket handling
</pre>

<pre>
  files     File handling
</pre>

<pre>
  rcfile    rcfile parser
</pre>

<pre>
  http      HTTP driver
</pre>

<pre>
  httpbody  Display response bodies in HTTP
</pre>

<pre>
  ftp       FTP driver
</pre>

<pre>
  sftp      SFTP driver
</pre>

<pre>
  xml       XML parsing information
</pre>

<pre>
  xmlparse  Low-level XML parsing information
</pre>

<pre>
  httpauth  HTTP authentication information
</pre>

<pre>
  cleartext Display passwords in plain text
</pre>
<p>Passwords will be obscured in the debug output unless the cleartext keyword is used. An example use of debugging is to debug FTP fetch mode:</p><p><strong>	sitecopy --debug=ftp,socket --fetch sitename</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONCEPTS</h2>
        <div class="sectioncontent">
<p>The <strong>stored state</strong> of a site is the snapshot of the state of the site saved into the storage directory (~/.sitecopy/). The <strong>storage file</strong> is used to record this state between invocations. In update mode, sitecopy builds up a <strong>files list</strong> for each site by scanning the local directory, reading in the stored state, and comparing the two - determining which files have changed, which have moved, and so on.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>Configuration is performed via the run control file (rcfile).  This file contains a set of site definitions.  A unique name is assigned to every site definition, which is used on the command line to refer to the site.</p><p>Each site definition contains the details of the server the site is stored on, how the site may be accessed at that server, where the site is held locally and remotely, and any other options for the site.</p><h3>Site Definition</h3>
<p>A site definition is made up of a series of lines:</p><p><strong>site </strong>sitename</p><p><strong>   server </strong>server-name</p><p><strong>   remote </strong>remote-root-directory</p><p><strong>   local </strong>local-root-directory</p><p> [ <strong>port</strong> port-number ]</p><p> [ <strong>username</strong> username ]</p><p> [ <strong>password</strong> password ]  [ <strong>proxy-server </strong>proxy-name</p><p><strong>   proxy-port </strong>port-number ]  [ <strong>url </strong>siteURL ]</p><p> [ <strong>protocol </strong>{ ftp | sftp | webdav } ]</p><p> [ <strong>ftp</strong> nopasv ]</p><p> [ <strong>ftp</strong> showquit ]</p><p> [ <strong>ftp</strong> { usecwd | nousecwd } ]</p><p> [ <strong>http</strong> expect ]</p><p> [ <strong>http</strong> secure ]  [ <strong>safe</strong> ]</p><p> [ <strong>state </strong>{ checksum | timesize } ]  [ <strong>permissions</strong> { ignore | exec | all | dir } ]  [ <strong>symlinks</strong> { ignore | follow | maintain } ]  [ <strong>nodelete</strong> ]  [ <strong>nooverwrite</strong> ]  [ <strong>checkmoved</strong> [renames] ]  [ <strong>tempupload</strong> ]  [ <strong>exclude</strong> pattern ]...  [ <strong>ignore</strong> pattern ]...  [ <strong>ascii</strong> pattern ]...</p><p>Anything after a hash (#) in a line is ignored as a comment. Values may be quoted and characters may be backslash-escaped. For example, to use the <strong>exclude</strong> pattern *#, use the following line:</p><p><strong>	exclude </strong><strong>*#</strong></p>
<h3>Remote Server Options</h3>
<p>The <strong>server</strong> key is used to specify the remote server the site is stored on. This may be either a DNS name or IP address. A connection is made to the default port for the protocol used, or that given by the <strong>port</strong> key. sitecopy supports the WebDAV or (S)FTP protocols - the <strong>protocol</strong> key specifies which to use, taking the value of either <strong>webdav</strong> or <strong>ftp/sftp</strong> respectively. By default, FTP will be used.</p><p>The <strong>proxy-server</strong> and <strong>proxy-port</strong> keys may be used to specify a proxy server to use. Proxy servers are currently only supported for WebDAV.</p><p>If the FTP server does not support passive (PASV) mode, then the key <strong>ftp nopasv</strong> should be used.  To display the message returned by the server on closing the connection, use the <strong>ftp showquit</strong> option. If the server only supports uploading files in the current working directory, use the key <strong>ftp usecwd</strong> (possible symptom: "overwrite permission denied"). Note that the remote-directory (keyword <strong>remote</strong>) must be an absolute path (starting with '/'), or <strong>usecwd</strong> will be ignored.</p><p>If the WebDAV server correctly supports the 100-continue expectation, e.g. Apache 1.3.9 and later, the key <strong>http expect</strong> should be used. Doing so can save some bandwidth and time in an update.</p><p>If the WebDAV server supports access via SSL, the key <strong>http secure</strong> can be used.  Doing so will cause the transfers between sitecopy and the host to be performed using an secure, encrypted link.  The first time SSL is used to access the server, the user will be prompted to verify the SSL certificate, if it's not signed by a CA trusted in the system's CA root bundle.</p><p>To authenticate the user with the server, the <strong>username</strong> and <strong>password</strong> keys are used. If it exists, the <strong>~/.netrc</strong> will be searched for a password if one is not specified. See <strong>ftp</strong>(1) for the syntax of this file.</p><p>Basic and digest authentication are supported for WebDAV. Note that basic authentication must not be used unless the connection is known to be secure.</p><p>The full URL that is used to access the site can optionally be specified in the <strong>url</strong> key. This is used only in flat list mode, so the site URL can be inserted in 'Recent Changes' pages. The URL must <em>not</em> have a trailing slash; a valid example is</p><p><strong>	url </strong>http://www.site.com/mysite</p><p>If the <strong>tempupload</strong> option is given, new or changed files are upload with a ".in." prefix, then moved to the true filename when the upload is complete.</p>
<h3>File State</h3>
<p>File state is stored in the storage files (~/.sitecopy/*), and is used to discover when a file has been changed.  Two methods are supported, and can be selected using the <strong>state</strong> option, with either parameter: <strong>timesize</strong> (the default), and <strong>checksum.</strong></p><p><strong>timesize</strong> uses the last-modification date and the size of files to detect when they have changed. <strong>checksum</strong> uses an MD5 checksum to detect any changes to the file contents.</p><p>Note that MD5 checksumming involves reading in the entire file, and is slower than simply using the last-modification date and size. It may be useful for instance if a versioning system is in use which updates the last-modification date on a 'checkout', but this doesn't actually change the file contents.</p>
<h3>Safe Mode</h3>
<p><strong>Safe Mode</strong> is enabled by using the <strong>safe</strong> key. When enabled, each time a file is uploaded to the server, the modification time of the file <strong>as on the server</strong> is recorded. Subsequently, whenever this file has been changed locally and is to be uploaded again, the current modification time of the file on the server is retrieved, and compared with the stored value. If these differ, then the remote copy of the file has been altered by a foreign party.  A warning message is issued, and your local copy of the file will not be uploaded over it, to prevent losing any changes.</p><p>Safe Mode can be used with FTP or WebDAV servers, but if Apache/mod_dav is used, mod_dav 0.9.11 or later is required.</p><p><strong>Note</strong> Safe mode cannot be used in conjunction with the <strong>nooverwrite</strong> option (see below).</p>
<h3>File Storage Locations</h3>
<p>The <strong>remote</strong> key specifies the root directory of the remote copy of the site. It may be in the form of an absolute pathname, e.g.</p><p><strong>	remote </strong>/www/mysite/</p><p>For FTP, the directory may also be specified relative to the login directory, in which case it must be prefixed by "~/", for example:</p><p><strong>	remote </strong>~/public_html/</p><p>The <strong>local</strong> key specifies the directory in which the site is stored locally.  This may be given relative to your home directory (as given by the environment variable $HOME), again using the "~/" prefix.</p><p><strong>	local </strong>~/html/foosite/</p><p><strong>	local </strong>/home/fred/html/foosite/</p><p>are equivalent, if $HOME is set to "/home/fred".</p><p>For both the local and remote keywords, a trailing slash may be used, but is not required.</p>
<h3>File Permissions Handling</h3>
<p>File permissions handling is dictated by the <strong>permissions</strong> key, which may be given one of three values:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ignore</strong></p>
  </dt>
  <dd>
    <p>to ignore file permissions completely (the default),</p>
  </dd>
  <dt>
    <p><strong>exec</strong></p>
  </dt>
  <dd>
    <p>to mirror the permissions of executable files only,</p>
  </dd>
  <dt>
    <p><strong>all</strong></p>
  </dt>
  <dd>
    <p>to mirror the permissions of all files.</p>
  </dd>

</dl>
<p>This can be used, for instance, to ensure the permissions of CGI files are set. The option is currently ignored for WebDAV servers. For FTP servers, a <strong>chmod</strong> is performed remotely to set the permissions.</p><p>To handle directory permissions, the key:</p><p><strong>   permissions dir</strong></p><p>may be used in addition to a <strong>permissions</strong> key of either <strong>exec,</strong> <strong>local</strong> or <strong>all.</strong> Note that <strong>permissions all</strong> does not imply <strong>permissions dir.</strong></p>
<h3>Symbolic Link Handling</h3>
<p>Symlinks found in the local site can be either ignored, followed, or maintained. In 'follow' mode, the files references by the symlinks will be uploaded in their place. In 'maintain' mode, the link will be created remotely as well, see below for more information. The mode used for each site is specified with the <strong>symlinks</strong> rcfile key, which may take the value of <strong>ignore,</strong> <strong>follow</strong> or <strong>maintain</strong> to select the mode as appropriate.</p><p>The default mode is <strong>follow,</strong> i.e. symbolic links found in the local site are followed.</p>
<h3>Symbolic link Maintain Mode</h3>
<p>This mode is currently only supported by the WebDAV driver, and will work only with servers which implement WebDAV Advanced Collections, which is a work-in-progress. The target of the link on the server is literally copied from the target of the symlink. Hint: you can use URL's if you like:</p><p><strong>	ln -s  http://www.somewhere.org/  somewherehome</strong></p><p>In this way, a "302 Redirect" can be easily set up from the client, without having to alter the server configuration.</p>
<h3>Deleting and Moving Remote Files</h3>
<p>The <strong>nodelete</strong> option may be used to prevent remote files from ever being deleted. This may be useful if you keep large amounts of data on the remote server which you do not need to store locally as well.</p><p>If your server does not allow you to upload changed files over existing files, then you can use the <strong>nooverwrite</strong> option. When this is used, before uploading a changed file, the remote file will be deleted.</p><p>If the <strong>checkmoved</strong> option is used, sitecopy will look for any files which have been moved locally. If any are found, when the remote site is updated, the files will be moved remotely.</p><p>If the <strong>checkmoved renames</strong> option is used, sitecopy will look for any files which have been moved or renamed locally. This option may only be used in conjunction with the <strong>state checksum</strong> option.</p><p><strong>WARNING</strong></p><p>If you are not using MD5 checksumming (i.e. the <strong>state checksum</strong> option) to determine file state, do NOT use the <strong>checkmoved</strong> option if you tend to hold files in different directories with identical sizes, modification times and names and ever move them about. This seems unlikely, but don't say you haven't been warned.</p>
<h3>Excluding Files</h3>
<p>Files may be excluded from the files list by use of the <strong>exclude</strong> key, which accepts shell-style globbing patterns. For example, use</p><p><strong>	exclude </strong>*.bak</p><p><strong>	exclude </strong>*~</p><p><strong>	exclude </strong><strong>#*#</strong></p><p>to exclude all files which have a .bak extension, end in a tilde (~) character, or which begin and end with a a hash. Don't forget to quote or escape the value if it includes a hash!</p><p>To exclude certain files within an particular directory, simply prefix the pattern with the directory name - including a leading slash. For instance:</p><p><strong>	exclude </strong>/docs/*.m4</p><p><strong>	exclude </strong>/files/*.gz</p><p>which will exclude all files with the .m4 extension in the 'docs' subdirectory of the site, and all files with the .gz extension in the files subdirectory.</p><p>An entire directory can also be excluded - simply use the directory name with no trailing slash. For example</p><p><strong>	exclude </strong>/foo/bar</p><p><strong>	exclude </strong>/where/else</p><p>to exclude the 'foo/bar' and 'where/else' subdirectories of the site.</p><p>Exclude patterns are consulted when scanning the local directory, and when scanning the remote site during a --fetch.  Any file which matches any exclude pattern is not added to the files list.  This means that a file which has already been uploaded by sitecopy, and subsequently matches an exclude pattern will be deleted from the server.</p>
<h3>Ignoring Local Changes to Files</h3>
<p>The <strong>ignore</strong> option is used to instruct sitecopy to ignore any local changes made to a file. If a change is made to the contents of an ignored file, this file will <strong>not</strong> be uploaded by update mode. Ignored files will be created, moved and deleted as normal.</p><p>The <strong>ignore</strong> option is used in the same way as the <strong>exclude</strong> option.</p><p>Note that synchronize mode <strong>will</strong> overwrite changes made to ignored files.</p>
<h3>FTP Transfer Mode</h3>
<p>To specify the FTP transfer mode for files, use the <strong>ascii</strong> key. Any files which are transferred using ASCII mode have CRLF/LF translation performed appropriately. For example, use</p><p><strong>	ascii </strong>*.pl</p><p>to upload all files with the .pl extension as ASCII text. This key has no effect with WebDAV (currently).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>Return values are specified for different operation modes. If multiple sites are specified on the command line, the return value is in respect to the last site given.</p><h3>Update Mode</h3>
<p> -1 ... update never even started - configuration problem</p>
<pre>
  0 ... update was entirely successful.
  1 ... update went wrong somewhere
  2 ... could not connect or login to server
</pre>

<h3>List Mode (default mode of operation)</h3>
<p> -1 ... could not form list - configuration problem</p>
<pre>
  0 ... the remote site does not need updating
  1 ... the remote site needs updating
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE RCFILE CONTENTS</h2>
        <div class="sectioncontent">
<h3>FTP Server, Simple Usage</h3>
<p>Fred's site is uploaded to the FTP server 'my.server.com' and held in the directory 'public_html', which is in the login directory. The site is stored locally in the directory /home/fred/html.</p><p>site mysite</p>
<pre>
  server my.server.com
  url http://www.server.com/fred
  username fred
  password juniper
  local /home/fred/html/
  remote ~/public_html/
</pre>

<h3>FTP Server, Complex Usage</h3>
<p>Here, Freda's site is uploaded to the FTP server \'ftp.elsewhere.com\', where it is held in the directory /www/freda/. The local site is stored in /home/freda/sites/elsewhere/</p><p>site anothersite</p>
<pre>
  server ftp.elsewhere.com
  username freda
  password blahblahblah
  local /home/freda/sites/elsewhere/
  remote /www/freda/
  # Freda wants files with a .bak extension or a
  # trailing ~ to be ignored:
  exclude *.bak
  exclude *~
</pre>

<h3>WebDAV Server, Simple Usage</h3>
<p>This example shows use of a WebDAV server.</p><p>site supersite</p>
<pre>
  server dav.wow.com
  protocol webdav
  username pow
  password zap
  local /home/joe/www/super/
  remote /
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>~/.sitecopyrc</em> Default run control file location.</p><p><em>~/.sitecopy/</em> Remote site information storage directory</p><p><em>~/.netrc</em> Remote server accounts information</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Known problems: Fetch + synch modes are NOT reliable for FTP.  If you need reliable operation of fetch or synch modes, you shouldn't be using sitecopy.  Try rsync instead.</p><p>Please send bug reports and feature requests to &lt;sitecopy@lyra.org&gt; rather than to the author, since the mailing list is archived and can be a useful resource for others.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sitecopy&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/rsync.1.html"><strong>rsync</strong>(1)</a>, <strong>ftp</strong>(1), <strong>sftp</strong>(1), <strong>mirror</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STANDARDS</h2>
        <div class="sectioncontent">
<p>[Listed for reference only, no claim of compliance to any of the below standards is made.]</p><p><strong>RFC 959</strong> - File Transfer Protocol (FTP)</p><p><strong>RFC 1521</strong> - Multipurpose Internet Mail Extensions Part One</p><p><strong>RFC 1945</strong> - Hypertext Transfer Protocol -- HTTP/1.0</p><p><strong>RFC 2396</strong> - Uniform Resource Identifiers: Generic Syntax</p><p><strong>RFC 2518</strong> - HTTP Extensions for Distributed Authoring -- WEBDAV</p><p><strong>RFC 2616</strong> - Hypertext Transfer Protocol -- HTTP/1.1</p><p><strong>RFC 2617</strong> - HTTP Authentication</p><p><strong>REC-XML</strong> - Extensible Markup Language (XML) 1.0</p><p><strong>REC-XML-NAMES</strong> - Namespaces in XML</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DRAFT STANDARDS</h2>
        <div class="sectioncontent">
<p><strong>draft-ietf-ftpext-mlst-05.txt</strong> - Extensions to FTP</p><p><strong>draft-ietf-webdav-collections-protocol-03.txt</strong> - WebDAV Advanced Collections Protocol</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Joe Orton and others.</p><p>e-mail: sitecopy@lyra.org</p><p>www: http://www.lyra.org/sitecopy/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sisu_vim.1.html"><span aria-hidden="true">&larr;</span> sisu_vim.1: Vim syntax and folds file for sisu: markup, structuring, publishing in multiple standard formats, and search</a></li>
   <li class="next"><a href="sivtest.1.html">sivtest.1: Interactive managesieve test program <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
