<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>moin: Moinmoin wiki management command-line interface</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Moinmoin wiki management command-line interface">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="moin (1) manual">
  <meta name="twitter:description" content="Moinmoin wiki management command-line interface">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-moinmoin-moin-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/moin.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="moin (1) manual" />
  <meta property="og:description" content="Moinmoin wiki management command-line interface" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-moinmoin-moin-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">moin<small> (1)</small></h1>
        <p class="lead">Moinmoin wiki management command-line interface</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/moin.1.html">
      <span itemprop="name">moin: Moinmoin wiki management command-line interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-moinmoin/">
      <span itemprop="name">python-moinmoin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/moin.1.html">
      <span itemprop="name">moin: Moinmoin wiki management command-line interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>moin</strong> [<em>general options</em>] [<em>command</em>  <em>command-subcommand</em>] [<em>specific options</em>]</p><p><strong>moin</strong> [--help|--version]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>moin</strong> is a tool to interact with moinmoin wiki from the command line. The command can manipulate moinmoin user accounts, print/dump data, import irclogs, do maintenance task, etc.</p><p>This command should be executed under the operating system account that "own" the wiki content (files).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--config-dir</strong>=<em>DIR</em></p>
  </dt>
  <dd>
    <p>Path to the directory containing the wiki configuration files. [default: current directory] (Debian's /usr/bin/moin defaults to /etc/moin/)</p>
  </dd>
  <dt>
    <p><strong>--wiki-url</strong>=<em>WIKIURL</em></p>
  </dt>
  <dd>
    <p>URL of a single wiki to migrate e.g. http://localhost/mywiki/ [default: CLI]</p>
  </dd>
  <dt>
    <p><strong>--page</strong>=<em>PAGE</em></p>
  </dt>
  <dd>
    <p>wiki page name [default: all pages]</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version number and exit</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>Be quiet (no informational messages)</p>
  </dd>
  <dt>
    <p><strong>--show-timing</strong></p>
  </dt>
  <dd>
    <p>Show timing values [default: False]</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MOIN COMMANDS</h2>
        <div class="sectioncontent">
<p><strong>moin</strong> command supports many commands, which in turns have sub-commands.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>account</strong> <strong>check</strong> <strong>--help</strong> <strong>[check-option]</strong></p>
  </dt>
  <dd>
    <p>When using ACLs, a wiki user name has to be unique, there must not be multiple accounts having the same username. The problem is, that this was possible before the introduction of ACLs and many users, who forgot their ID, simply created a new ID using the same user name.</p><p>Because access rights (when using ACLs) depend on the NAME (not the ID), this must be cleaned up before using ACLs or users will have difficulties changing settings and saving their account data (system won't accept the save, if the user name and email is not unique).</p>
  </dd>
  <dt>
    <p><strong>account</strong> <strong>create</strong> <strong>--help</strong> <strong>[create-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to create user accounts via a command line interface.</p>
  </dd>
  <dt>
    <p><strong>account</strong> <strong>disable</strong> <strong>--help</strong> <strong>[disable-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to disable user accounts via a command line interface.</p>
  </dd>
  <dt>
    <p><strong>account</strong> <strong>homepage</strong> <strong>--help</strong> <strong>[homepage-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to create user homepages via a command line interface.</p>
  </dd>
  <dt>
    <p><strong>account</strong> <strong>inactive</strong> <strong>--help</strong> <strong>[inactive-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to find inactive users on your wiki via a command line interface.</p><p>Inactive user means: a user profile with a specific userid exists, but there is not any edit logged for that userid.</p><p>But please review the list before removing or disabling users, there are legitimate users who just read and never edit. If your wiki has strict ACLs, they might need to be able to log in to read. Use --show.</p><p>Usage:</p>
<pre>
    For all your wikis sharing a single user_dir, run:
        moin ... account inactive --py-append keep-users.py
    Then, run (for one of the wikis sharing this user_dir):
        moin ... account inactive --py-exec keep-users.py --show
    If you want to keep some user profiles that are shown there, add the userids to
    the keep-users.py file in the same way as all the other userids you see there.
    Finally run the command with --disable or --remove instead of --show.
</pre>

  </dd>
  <dt>
    <p><strong>account</strong> <strong>resetpw</strong> <strong>--help</strong> <strong>[resetpw-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to change a user password via a command line interface.</p>
  </dd>
  <dt>
    <p><strong>cli</strong> <strong>show</strong> <strong>--help</strong> <strong>[show-option]</strong></p>
  </dt>
  <dd>
    <p>Just run a CLI request and show the output.</p>
  </dd>
  <dt>
    <p><strong>export</strong> <strong>dump</strong> <strong>--help</strong> <strong>[dump-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to dump MoinMoin wiki pages to static HTML files.</p>
  </dd>
  <dt>
    <p><strong>export</strong> <strong>eventlog</strong> <strong>--help</strong> <strong>[eventlog-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to dump a MoinMoin wiki event-log to CSV.</p>
  </dd>
  <dt>
    <p><strong>export</strong> <strong>package</strong> <strong>--help</strong> <strong>[package-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to create a package of certain wiki pages.</p>
  </dd>
  <dt>
    <p><strong>import</strong> <strong>irclog</strong> <strong>--help</strong> <strong>[irclog-option]</strong></p>
  </dt>
  <dd>
    <p>This script pushes files from a directory into the wiki (to be exact: it pushes all except the last file, as this is maybe still written to in case of irc logs). One application is to use it to store IRC logs into the wiki.</p>
  </dd>
  <dt>
    <p><strong>import</strong> <strong>wikipage</strong> <strong>--help</strong> <strong>[wikipage-option]</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>index</strong> <strong>build</strong> <strong>--help</strong> <strong>[build-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to control xapian's index of Moin.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>cleancache</strong> <strong>--help</strong> <strong>[cleancache-option]</strong></p>
  </dt>
  <dd>
    <p>This script allows you to globally delete all the cache files in the directories:</p><p>* &lt;data_dir&gt;/pages/PageName/cache/ * &lt;data_dir&gt;/cache * &lt;user_dir&gt;/cache</p><p>You will usually do this after changing MoinMoin code, by either upgrading version, installing or removing macros or changing the regex expression for dicts or groups. This often makes the text_html file invalid, so you have to remove it (the wiki will recreate it automatically).</p><p>text_html is the name of the cache file used for compiled pages formatted by the wiki text to html formatter.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>cleanpage</strong> <strong>--help</strong> <strong>[cleanpage-option]</strong></p>
  </dt>
  <dd>
    <p>This tool outputs a shell script which upon execution will remove unused or trashed pages from the wiki.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>cleansessions</strong> <strong>--help</strong> <strong>[cleansessions-option]</strong></p>
  </dt>
  <dd>
    <p>This script allows you to clean up session files (usually used to maintain a "logged-in session" for http(s) or xmlrpc).</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>globaledit</strong> <strong>--help</strong> <strong>[globaledit-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to edit all the pages in a wiki.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>mailtranslators</strong> <strong>--help</strong> <strong>[mailtranslators-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to have a message read in from standard input, and then sent to all translators via email. If you use %(lang)s in the message it will be replaced with the appropriate language code for the translator.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>makecache</strong> <strong>--help</strong> <strong>[makecache-option]</strong></p>
  </dt>
  <dd>
    <p>This script allows you to create cache files in data/pages/PageName/cache/ and /data/cache directories</p><p>You will usually do this after changing MoinMoin code and calling "maint cleancache", by either upgrading version, installing or removing macros.</p><p>text_html is the name of the cache file used for compiled pages formatted by the wiki text to html formatter.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>mkpagepacks</strong> <strong>--help</strong> <strong>[mkpagepacks-option]</strong></p>
  </dt>
  <dd>
    <p>This tool generates a set of packages from all the pages in a wiki.</p>
  </dd>
  <dt>
    <p><strong>maint</strong> <strong>reducewiki</strong> <strong>--help</strong> <strong>[reducewiki-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to reduce a data/ directory to just the latest page revision of each non-deleted page (plus all attachments).</p><p>This is used to make the distributed underlay directory, but can also be used for other purposes.</p><p>So we change like this:</p>
<pre>
    * data/pages/PageName/revisions/{1,2,3,4}
        -&gt; data/pages/revisions/1  (with content of 4)
    * data/pages/PageName/current (pointing to e.g. 4)
        -&gt; same (pointing to 1)
    * data/pages/PageName/edit-log and data/edit-log
        -&gt; do not copy
    * data/pages/PageName/attachments/*
        -&gt; just copy
</pre>

  </dd>
  <dt>
    <p><strong>migration</strong> <strong>data</strong> <strong>--help</strong> <strong>[data-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allow you to migrate data of pages to a newer version</p>
  </dd>
  <dt>
    <p><strong>server</strong> <strong>standalone</strong> <strong>--help</strong> <strong>[standalone-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to start a standalone server</p>
  </dd>
  <dt>
    <p><strong>xmlrpc</strong> <strong>mailimport</strong> <strong>--help</strong> <strong>[mailimport-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to import mail into the wiki.</p>
  </dd>
  <dt>
    <p><strong>xmlrpc</strong> <strong>remote</strong> <strong>--help</strong> <strong>[remote-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to execute moin scripts remotely.</p>
  </dd>
  <dt>
    <p><strong>xmlrpc</strong> <strong>retrieve</strong> <strong>--help</strong> <strong>[retrieve-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to print out the contents of a page via xmlrpc.</p>
  </dd>
  <dt>
    <p><strong>xmlrpc</strong> <strong>write</strong> <strong>--help</strong> <strong>[write-option]</strong></p>
  </dt>
  <dd>
    <p>This tool allows you to edit a page with xmlrpc. It is more of a commented example than an actual script.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Clean the cache containing pre-computed/pre-rendered pages.</p><p>$ moin --config-dir=/etc/moin --wiki-url=http://webserver/mywiki maint cleancache</p><p>Manually migrate the wiki content.</p><p>$ moin --config-dir=/where/your/configdir/is  --wiki-url=http://webserver/mywiki migration data</p><p>Create the initial Xapian index (after enabling it in the configuration file)</p><p>$ moin --config-dir=/etc/moin  --wiki-url=http://webserver/mywiki index build --mode=add</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO moin&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for moin command line is maintained as a Wiki page (HelpOnMoinCommand). A copy is available at /usr/share/doc/python-moinmoin/HelpOnMoinCommand. Read the help page on your running instance of moinmoin because other MoinMoin instances, like http://moinmo.in/HelpOnMoinCommand may run a different version.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mogrify-im6.1.html"><span aria-hidden="true">&larr;</span> mogrify-im6.1: Resize an image, blur, crop, despeckle, dither, draw on, flip, join, re-sample, and much more. mogrify overwrites the original image file, whereas, convert(1) writes to a different image file.</a></li>
   <li class="next"><a href="moin-update-wikilist.1.html">moin-update-wikilist.1: Add or remove user from /etc/moin/wikilist <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
