<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cvs-upgrade: Upgrade a debian source package kept in a cvs repository</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Upgrade a debian source package kept in a cvs repository">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cvs-upgrade (1) manual">
  <meta name="twitter:description" content="Upgrade a debian source package kept in a cvs repository">
  <meta name="twitter:image" content="https://www.carta.tech/images/cvs-buildpackage-cvs-upgrade-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cvs-upgrade.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cvs-upgrade (1) manual" />
  <meta property="og:description" content="Upgrade a debian source package kept in a cvs repository" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cvs-buildpackage-cvs-upgrade-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cvs-upgrade<small> (1)</small></h1>
        <p class="lead">Upgrade a debian source package kept in a cvs repository</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cvs-upgrade.1.html">
      <span itemprop="name">cvs-upgrade: Upgrade a debian source package kept in a cvs repository</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cvs-buildpackage/">
      <span itemprop="name">cvs-buildpackage</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cvs-upgrade.1.html">
      <span itemprop="name">cvs-upgrade: Upgrade a debian source package kept in a cvs repository</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cvs-upgrade</strong> <em>[options]</em> <strong>&lt;package name&gt;</strong> <strong>&lt;upstream version&gt;</strong> <strong>[&lt;debian revision&gt;]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page explains the Debian <strong>cvs-upgrade</strong> utility, which is used to upgrade Debian source packages in a <em>CVS</em> repository. It expect a properly conditioned new upstream sources in the <em>cvs-buildpackage work directory</em></p><p>The upstream sources are imported to the vendor branch and tagged <em>upstream_version_&lt;upstream version&gt;</em> with all dots translated to underscores. At this point the <strong>cvs-upgrade</strong> utility pauses automatic actions, since manual intervention is required to resolve any conflicts that may have occurred. It reminds the user about checking out the sources, resolving conflicts, and tagging the debianized sources, using <em>debian_version_&lt;upstream version&gt;-&lt;debian revision&gt;</em> with all dots translated to underscores.</p><p>Please note that this command does not actually change the working directory, or any checked out copies. If you do not have a working directory, you may simply do the following manually:</p><p><strong>cvs co -jupstream_version_&lt;OLD-VERS&gt; -jupstream_version_&lt;NEW VERS&gt; &lt;PKG&gt;</strong></p><p>If you already have a checked out working directory, please do:</p><p><strong>cvs update -d -jupstream_version_&lt;OLD-VERS&gt; -jupstream_version__&lt;NEW VERS&gt;</strong></p><p><strong>cvs-upgrade</strong> expects the package name, upstream version, and, if relevant, the Debian revision on the command line. It also expects to find a properly conditioned new upstream source archive, in .orig.tar.gz format, in the <em>cvs-buildpackage working directory.</em> Please note that the cvs-buildpackage work directory referred to here is the scratch directory where this program works, not the directory that the human uses to work in.</p><p><strong>cvs-upgrade</strong> reads the same config file <em>/etc/cvsdeb.conf</em> as the the other cvs-* utilities do. People may use of the dry-run option to inspect the steps this utility takes.</p><p>Combined with the companion utilities <strong>cvs-buildpackage</strong> and <strong>cvs-inject,</strong> this provides an infrastructure to facilitate the use of <strong>CVS</strong> by Debian maintainers. This allows one to keep separate CVS branches of a package for <em>stable,</em> <em>unstable,</em> and possibly <em>experimental</em> distributions, along with the other benefits of a version control system.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>Please note that the current behaviour of <strong>cvs-upgrade</strong> is to ignore files that match the default list of file name patterns to be ignored (this is built into cvs); and that any <strong>.cvsignore</strong> files in the upstream sources shall be honoured. This should be fine as long as upstream sources do not include files that match CVS ignore patterns and yet should be in the sources. The current list of ignored file name patterns is:</p><p><strong>RCS SCCS CVS CVS.adm RCSLOG cvslog.* tags TAGS .make.state</strong> <strong>.nse_depinfo *~ #* .#* ,* _$* *$ *.old *.bak *.BAK *.orig *.rej .del-*</strong> <strong>*.a *.olb *.o *.obj *.so *.exe *.Z *.elc *.ln core</strong></p><p>If you wish to modify this behaviour, there are ways to do this (you should see <strong>CVS</strong> documentation).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>o)</strong></p>
  </dt>
  <dd>
    <p>The per-repository list in <em>`$CVSROOT/CVSROOT/cvsignore'</em> is appended to the list, if that file exists.</p>
  </dd>
  <dt>
    <p><strong>o)</strong></p>
  </dt>
  <dd>
    <p>The per-user list in <em>`.cvsignore'</em> in your home directory is appended to the list, if it exists.</p>
  </dd>
  <dt>
    <p><strong>o)</strong></p>
  </dt>
  <dd>
    <p>Any entries in the environment variable <em>$CVSIGNORE</em> is appended to the list.</p>
  </dd>

</dl>
<p>In any of the places listed above, a single exclamation mark <strong>(`!')</strong> clears the ignore list.  This can be used if you want to store any file which normally is ignored by CVS. Also, any <em>.cvsignore</em> file found in the source directory is also honoured.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print out a usage message.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>If present, this option directs this program to include the latest debian changelog, if any, into the commit message. This overrides the environment variable <strong>CVSDEB_USE_CHANGELOG</strong></p>
  </dd>
  <dt>
    <p><strong>-M&lt;module&gt;</strong></p>
  </dt>
  <dd>
    <p>The name of the CVS module. This argument overrides the settings in the environment variable <strong>CVSDEB_MODULE.</strong> There is no corresponding config file variable.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>There are two things <strong>CVS</strong> may choke on <em>symbolic links</em> and <em>CVS</em> directories in the source tree. Also, there are times when one may not want to honour the upstream <em>.cvsignore</em> files. Without this option, the <strong>cvs-upgrade</strong> program shall exit with an error message. This option causes <strong>cvs-upgrade</strong> to ask whether you want to delete the offending files. If you answer y, it removes them and continues; else it shall exit with an error message.  This argument overrides the settings in the environment variable <strong>CVSDEB_FORCECLEAN,</strong> which in turn overrides the setting in the configuration file, <strong>conf_forceclean.</strong></p>
  </dd>
  <dt>
    <p><strong>-T&lt;tag&gt;</strong></p>
  </dt>
  <dd>
    <p>The CVS tag to use for exporting sources, rather than constructing one from the version. This assumes you know what you are doing.</p>
  </dd>
  <dt>
    <p><strong>-U&lt;tag&gt;</strong></p>
  </dt>
  <dd>
    <p>The CVS tag to use for the upstream tag, rather than constructing one from the upstream version. This assumes you know what you are doing.</p>
  </dd>
  <dt>
    <p><strong>-x&lt;prefix&gt;</strong></p>
  </dt>
  <dd>
    <p>The name of the default CVS prefix.  This argument overrides the settings in the environment variable <strong>CVSDEB_PREFIX,</strong> which in turn overrides the setting in the configuration file, <strong>conf_prefix.</strong></p>
  </dd>
  <dt>
    <p><strong>-R&lt;root&nbsp;directory&gt;</strong></p>
  </dt>
  <dd>
    <p>Root of the original sources archive. We expect to find the <em>&lt;package&nbsp;name&gt;_&lt;version&gt;.orig.tar.gz</em> file under <em>&lt;root&nbsp;directory&gt;/package&nbsp;name&gt;/</em> unless the cvs-buildpackage work directory has been set, or we want to export the original sources from the vendor branch of the <em>CVS</em> tree. If the cvs-buildpackage work directory is set anywhere, (command line, configuration file, environment variable), the root directory value is ignored, since we only need the root directory to set defaults for the work directory. This argument overrides the settings in the environment variable <strong>CVSDEB_ROOTDIR,</strong> and the configuration file variable <strong>conf_rootdir.</strong> Please note that the cvs-buildpackage work directory referred to here is the scratch directory where this program works, not the directory that the human uses to work in. This should probably not be a sub dir of <strong>CVSROOT,</strong> since cvs shall refuse to export packages there, and the script shall fail.</p>
  </dd>
  <dt>
    <p><strong>-W&lt;work directory&gt;</strong></p>
  </dt>
  <dd>
    <p>The working directory, into which the sources will be exported out of CVS and which should contain the original <em>&lt;package&nbsp;name&gt;_&lt;version&gt;.orig.tar.gz</em> Please note that it is not essential to have the original sources, as this script will check out the vendor branch version tagged as <strong>upstream_version_&lt;version&gt;</strong> (without the Debian revision). Setting this variable overrides the settings for the root directory. This argument also overrides the settings in the environment variable <strong>CVSDEB_WORKDIR,</strong> and in the configuration file variable <strong>conf_workdir.</strong> This should probably not be a sub dir of <strong>CVSROOT,</strong> since cvs shall refuse to export packages there, and the script shall fail.</p>
  </dd>
  <dt>
    <p><strong>-d&lt;number&gt;</strong></p>
  </dt>
  <dd>
    <p>Turn on debugging output. This lists the version numbers, the work and root directories, as well as the CVS tag used to export the sources. This overrides the <em>DEBUG</em> variable in the configuration file.</p>
  </dd>
  <dt>
    <p><strong>-ctp</strong></p>
  </dt>
  <dd>
    <p>Include <em>package</em><strong>_</strong> at the start of the CVS tag.  This overrides the <strong>CVSDEB_PACKAGEINTAG</strong> environment variable and the <strong>conf_forcetag</strong> configuration file option.  The default is not to include the prefix.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>The no exec (or dry-run) option, causing <strong>cvs-upgrade</strong> to print out all actions that would be taken without actually executing them.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Make the utility more verbose.</p>
  </dd>
  <dt>
    <p><strong>CVSDEB_IMPORTSUBSTMODE</strong></p>
  </dt>
  <dd>
    <p>You are also allowed to specify an environment variable, <strong>CVSDEB_IMPORTSUBSTMODE,</strong> that overrides the default substitution option of -ko -d.  This is useful when you want to import a package that has a bunch of binary files in the source tree (like emacs or rscheme).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Apart from the runtime options, <strong>cvs-upgrade</strong> also looks for site-wide defaults in the file <em>/etc/cvsdeb.conf.</em> After that, it looks for and reads <em>~/.cvsdeb.conf</em> The default configuration allows there to be a site-wide override for the root or the cvs-buildpackage working directories on the site, but the <em>cvsdeb.conf</em> files are actually Bourne shell snippets, and any legal shell directives may be included in there. <strong>Note:</strong> Caution is urged with this file, since you can totally change the way that the script behaves by suitable editing this file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cvs-upgrade&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/cvs-buildpackage.1.html"><strong>cvs-buildpackage</strong>(1)</a>, <a href="../man1/cvs-inject.1.html"><strong>cvs-inject</strong>(1)</a>, <a href="../man5/cvsdeb.conf.5.html"><strong>cvsdeb.conf</strong>(5)</a>, <a href="../man1/cvs.1.html"><strong>cvs</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written Manoj Srivastava &lt;srivasta@debian.org&gt;, for the Debian GNU/Linux system.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cvs-mailcommit.1.html"><span aria-hidden="true">&larr;</span> cvs-mailcommit.1: Send cvs commitments via mail</a></li>
   <li class="next"><a href="cvs2bzr.1.html">cvs2bzr.1: Convert a cvs repository into a bazaar repository <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
