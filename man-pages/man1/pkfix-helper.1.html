<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pkfix-helper: Preprocess dvips-produced postscript documents before passing them to pkfix</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Preprocess dvips-produced postscript documents before passing them to pkfix">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pkfix-helper (1) manual">
  <meta name="twitter:description" content="Preprocess dvips-produced postscript documents before passing them to pkfix">
  <meta name="twitter:image" content="https://www.carta.tech/images/texlive-extra-utils-pkfix-helper-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pkfix-helper.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pkfix-helper (1) manual" />
  <meta property="og:description" content="Preprocess dvips-produced postscript documents before passing them to pkfix" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/texlive-extra-utils-pkfix-helper-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pkfix-helper<small> (1)</small></h1>
        <p class="lead">Preprocess dvips-produced postscript documents before passing them to pkfix</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pkfix-helper.1.html">
      <span itemprop="name">pkfix-helper: Preprocess dvips-produced postscript documents before passing them to pkfix</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/texlive-extra-utils/">
      <span itemprop="name">texlive-extra-utils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pkfix-helper.1.html">
      <span itemprop="name">pkfix-helper: Preprocess dvips-produced postscript documents before passing them to pkfix</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>pkfix-helper [<strong>--help</strong>] [<strong>--verbose</strong>] [<strong>--force</strong>=<em>name</em>=<em>fontspec</em>] [<strong>--ps</strong>=<em>filename.ps</em>] [<strong>--tex</strong>=<em>filename.tex</em>] [<strong>--cache</strong>=<em>filename</em>] [<strong>--include</strong>=<em>fontspec</em>] [<strong>--exclude</strong>=<em>regexp</em>] [<strong>--keep</strong>=<em>fontspec</em>] [<strong>--quiet</strong>] [<strong>--no-repeats</strong>] [<strong>--spp</strong>=<em>number</em>] [<em>input.ps</em> [<em>output.ps</em>]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>Motivation</h3>
<p>PostScript documents created with old versions of <strong>dvips</strong> almost invariably utilize bitmapped (PostScript Type&nbsp;3) fonts.  The problem with bitmapped fonts is that they target a specific device resolution; a PostScript file produced using 300&nbsp;\s-1DPI\s0 fonts will look grainy on a 600&nbsp;\s-1DPI\s0 printer.  Even worse, <em>all</em> bitmapped fonts look grainy when zoomed in on screen.  The solution is to use vector (PostScript Type&nbsp;1) fonts, which are resolution-independent and appear crisp at any size or scale.</p><p>While it is no longer difficult to configure <strong>dvips</strong> to use vector fonts, it is not always possible to rerun <strong>dvips</strong> on an old <em>.dvi</em> file.  The <em>.dvi</em> file and document source may have been lost; or, the source may no longer compile because packages it depends upon may no longer be available.</p><p>Heiko Oberdiek's <strong>pkfix</strong> script replaces bitmapped fonts in <strong>dvips</strong>-produced PostScript files with the corresponding vector fonts.  It works by parsing the PostScript comments with which <strong>dvips</strong> surrounds bitmapped-font definitions.  For example, a font definition beginning with the comment \*(C`%DVIPSBitmapFont: Fi cmss10 11 28\*(C' and ending with a matching %EndDVIPSBitmapFont is known to define font \*(C`Fi\*(C' as \*(C`cmss10\*(C' (Computer Modern Sans Serif at a design size of 10&nbsp;points) scaled to 11&nbsp;points.  Only the 28 characters actually used by the document are defined.  <strong>pkfix</strong> then replaces the font definition with one that defines \*(C`Fi\*(C' using the same set of characters but taken from the <em>cmss10.pfb</em> vector font file.</p><p>Unfortunately, <strong>pkfix</strong> works only with versions of <strong>dvips</strong> newer than v5.58 (ca.&nbsp;1996).  Naturally, the older a PostScript document, the less likely its sources still exist and can still be recompiled. Older versions of <strong>dvips</strong> lack %DVIPSBitmapFont comments and various other PostScript comments on which <strong>pkfix</strong> relies.  Without PostScript comments to guide it, <strong>pkfix</strong> is unable to determine which vector fonts correspond with which bitmapped fonts.</p>
<h3>Overview</h3>
<p>The <strong>pkfix-helper</strong> script is a preprocessor for <strong>pkfix</strong> that attempts to determine the association between each document-font name (e.g.,&nbsp;\*(C`Fi\*(C') in a PostScript file and the original font (e.g.,&nbsp;\*(C`cmss10\*(C') and fonts size (e.g., 11&nbsp;points).  It then fabricates the PostScript comments that <strong>pkfix</strong> expects to see so that <strong>pkfix</strong> can do its job.</p><p><strong>pkfix-helper</strong> works by comparing every document font against every <em>.tfm</em> font file it knows about (assuming that each such font has a corresponding <em>.pfb</em> vector version) and selecting the best matching <em>.tfm</em> file for every document font.  <strong>pkfix-helper</strong> has access only to the widths of characters and only to those characters actually used in the document.  Also, the program recognizes only a limited set of the most popular <em>.tfm</em> files and scaling factors.  Consequently, the comparison is imperfect and <strong>pkfix-helper</strong> may attribute an incorrect font to a given name.  Fonts comprising only one or two characters actually used in a document are particularly problematic for <strong>pkfix-helper</strong> because many fonts may be near-enough matches to fool the problem.</p><p><strong>pkfix-helper</strong> is designed so that a user can guide the font-selection process by manually designating matching fonts.  With a modicum of diligence and patience a user can correct any mismatched fonts and help the program provide proper input to <strong>pkfix</strong>.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>pkfix-helper</strong> accepts on the command line the filename of a PostScript document to process (with the default being the standard input device) and the filename of a modified PostScript document to create (with the default being the standard output device).  The program also accepts the following command-line options:</p><h3>Frequently Used Options</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>-h</strong>, <strong>--help</strong>
  </dt>
  <dd>
    <p>Display usage information and exit.  The <strong>--verbose</strong> and <strong>--quiet</strong> options can be used to increase and decrease the amount of information presented.</p>
  </dd>
  <dt>
    <strong>-v</strong>, <strong>--verbose</strong>
  </dt>
  <dd>
    <p>Increase the amount of status information that <strong>pkfix-helper</strong> displays as it runs.  Additional instances of <strong>--verbose</strong> on the command line further increase the program's verbosity.  By default, only major operations are displayed.  A single <strong>--verbose</strong> additionally displays information about individual font comparisons. A second <strong>--verbose</strong> additionally displays details about some of the program's internal operations.</p>
  </dd>
  <dt>
    <strong>-f</strong> <em>name</em>=<em>fontspec</em>, <strong>--force</strong>=<em>name</em>=<em>fontspec</em>
  </dt>
  <dd>
    <p>Force <strong>pkfix-helper</strong> to associate a specific font with a given font name appearing the document.  <em>name</em> is a two-character <strong>dvips</strong> font name such as \*(C`Fa\*(C'.  <em>fontspec</em> is a font specification such as \*(C`cmmi8\*(C' or \*(C`cmsy10&nbsp;@&nbsp;1.1X\*(C'.  An asterisk used in the name of the base font (e.g.,&nbsp;\*(C`cmti*\*(C') will automatically try all integral test font sizes from 5 to 17 points (\*(C`cmti5\*(C', \*(C`cmti6\*(C',&nbsp;..., \*(C`cmti17\*(C').  An asterisk used as a scale value (e.g.,&nbsp;\*(C`cmsy10&nbsp;@&nbsp;*\*(C') will be replaced by the scale value that gives the best match to the original font's metrics.  The <strong>--force</strong> option can be specified repeatedly on the command line.</p>
  </dd>
  <dt>
    <strong>-p</strong> <em>filename.ps</em>, <strong>--ps</strong>=<em>filename.ps</em>
  </dt>
  <dd>
    <p>Create a PostScript file called <em>filename.ps</em> that shows the <strong>dvips</strong> name and a font sample of every font used by the input document.</p>
  </dd>
  <dt>
    <strong>-t</strong> <em>filename.tex</em>, <strong>--tex</strong>=<em>filename.tex</em>
  </dt>
  <dd>
    <p>Create a Plain TeX file called <em>filename.tex</em> that shows the <strong>dvips</strong> name and a font sample of every font that <strong>pkfix-helper</strong> used in the output document.</p>
  </dd>

</dl>

<h3>Infrequently Used Options</h3>

<dl class='dl-vertical'>
  <dt>
    <strong>-C</strong> <em>filename</em>, <strong>--cache</strong>=<em>filename</em>
  </dt>
  <dd>
    <p>Speed up \s-1TFM\s0 file processing by caching character metrics into file <em>filename</em>.  On some systems it takes a long time to read a \s-1TFM\s0 file, spawn <em>tftopl</em> to convert it to \s-1PL\s0 format, and extract from the \s-1PL\s0 data the metrics for each character.  The first time <strong>--cache</strong> is specified, <strong>pkfix-helper</strong> proceeds as normal then writes all of the extracted character metrics to <em>filename</em>.  On subsequent runs in which <strong>--cache</strong>=<em>filename</em> is specified, <strong>pkfix-helper</strong> reads the previously extracted metrics from <em>filename</em>, going through the <em>tftopl</em>-based process only for \s-1TFM\s0 files that were not previously encountered.</p>
  </dd>
  <dt>
    <strong>-q</strong>, <strong>--quiet</strong>
  </dt>
  <dd>
    <p>Instruct <strong>pkfix-helper</strong> to produce no output during its run except for fatal error messages.</p>
  </dd>
  <dt>
    <strong>-1</strong>, <strong>--no-repeats</strong>
  </dt>
  <dd>
    <p>Prevent <strong>pkfix-helper</strong> from associating the same <em>fontspec</em> with more than one <strong>dvips</strong> font name.</p>
  </dd>
  <dt>
    <strong>-i</strong> <em>fontspec</em>, <strong>--include</strong>=<em>fontspec</em>
  </dt>
  <dd>
    <p>Add <em>fontspec</em> to the list of font specifications against which <strong>pkfix-helper</strong> compares <em>every</em> document font.  (In contrast, <strong>--force</strong> designates a font specification to use only for a <em>specific</em> document font.)  The <strong>--include</strong> option can be specified repeatedly on the command line.</p>
  </dd>
  <dt>
    <strong>-x</strong> <em>regexp</em>, <strong>--exclude</strong>=<em>regexp</em>
  </dt>
  <dd>
    <p>Remove all font specifications matching regular expression <em>regexp</em> from <strong>pkfix-helper</strong>'s list of known fonts.  The <strong>--exclude</strong> option can be specified repeatedly on the command line.</p>
  </dd>
  <dt>
    <strong>-k</strong> <em>fontspec</em>, <strong>--keep</strong>=<em>fontspec</em>
  </dt>
  <dd>
    <p>Do not substitute a vector font for bitmapped font <em>fontspec</em> (\*(C`Fa\*(C', \*(C`Fb\*(C', etc.).  This is useful when converting documents that use obscure bitmapped fonts for which there is no vector equivalent.  For example, it was somewhat common in the past to include graphics such as university or corporate logos into a document by converting the bitmapped image into a single-character font and using that font in LaTeX.  <strong>--keep</strong> prevents such fonts from being replaced.  The <strong>--keep</strong> option can be specified repeatedly on the command line.</p>
  </dd>
  <dt>
    <strong>-a</strong>, <strong>--any-scale</strong>
  </dt>
  <dd>
    <p>Allow any value to be used to scale a font when "\*(C`*\*(C'" is specified as the scale factor.  Normally, <strong>pkfix-helper</strong> considers only integer multiples of 0.1 that are greater than or equal to 1.0 (i.e., <em>fontname</em>@1X, \*(C`@1.1X\*(C', \*(C`@1.2X\*(C', \*(C`@1.3X\*(C', etc.).</p>
  </dd>
  <dt>
    <strong>-s</strong>, <strong>--spp</strong>
  </dt>
  <dd>
    <p>Specify the number of font samples per page to print to the files indicated using the <strong>--ps</strong> and <strong>--tex</strong> options.  The default value,&nbsp;25, should work well in most circumstances.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>The best font <strong>pkfix-helper</strong> found for <strong>dvips</strong> font name <em>name</em> has a mismatch value greater than or equal to&nbsp;1.0.  (The mismatch value is the sum of the squares of the difference between the character widths of a document font and a potential replacement font.)  Use the <strong>--force</strong> option to designate an alternative replacement font or scaling amount.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>For the purpose of the following examples, assume that <em>oldfile.ps</em> is the name of a PostScript file produced by an old version of <strong>dvips</strong> and utilizing at least one bitmapped font.  It's always worth verifying that <strong>pkfix</strong> can't convert the file on its own:</p>
<pre>
    $ pkfix oldfile.ps newfile.ps
    PKFIX 1.3, 2005/02/25 - Copyright (c) 2001, 2005 by Heiko Oberdiek.
    ==&gt; no fonts converted
</pre>
<p>(Alternatively <strong>pkfix</strong> may issue an error message such as \*(C`!!! Error: Parse error (@start parameters)!\*(C'.)  Only when <strong>pkfix</strong> can't replace bitmapped fonts with vector fonts is <strong>pkfix-helper</strong> needed. In its simplest form, <strong>pkfix-helper</strong> takes the name of an input file (<em>oldfile.ps</em> in this example) and the name of an output file (<em>pkfix-oldfile.ps</em>), which will have the same contents as the input file but serve as suitable input for <strong>pkfix</strong>:</p><p>    $ pkfix-helper oldfile.ps pkfix-oldfile.ps     Reading oldfile.ps ... done.     Number of Type 3 fonts encountered: 10     Bitmapped fonts are typeset at 600 DPI.     Finding character widths ... done.     Reading TFM files ... done (103 TFMs in 193 scaling variations).     Matching fonts:         Processing Fi ... done (cmr10 @ 1X, mismatch=0.11683).         Processing Fa ... done (cmti10 @ 1X, mismatch=0.08892).         Processing Fb ... done (cmr8 @ 1X, mismatch=0.07133).         Processing Ff ... done (cmbx12 @ 1.2X, mismatch=0.02948).         Processing Fh ... done (cmtt10 @ 1X, mismatch=0.06895).         Processing Fd ... done (cmmi10 @ 1X, mismatch=0.03966).         Processing Fj ... done (cmbx12 @ 1X, mismatch=0.03972).         Processing Fe ... done (cmbx10 @ 1X, mismatch=0.00762).         Processing Fg ... done (cmsy10 @ 1X, mismatch=0.00875).         Processing Fc ... done (cmr6 @ 1X, mismatch=0.00284).</p><p>    $ pkfix pkfix-oldfile.ps newfile.ps     PKFIX 1.3, 2005/02/25 - Copyright (c) 2001, 2005 by Heiko Oberdiek.     *** Font conversion: &#96;cmti10&apos; -&gt; &#96;CMTI10&apos;.     *** Font conversion: &#96;cmr8&apos; -&gt; &#96;CMR8&apos;.     *** Font conversion: &#96;cmr6&apos; -&gt; &#96;CMR6&apos;.     *** Font conversion: &#96;cmmi10&apos; -&gt; &#96;CMMI10&apos;.     *** Font conversion: &#96;cmbx10&apos; -&gt; &#96;CMBX10&apos;.     *** Font conversion: &#96;cmbx12&apos; -&gt; &#96;CMBX12&apos;.     *** Font conversion: &#96;cmsy10&apos; -&gt; &#96;CMSY10&apos;.     *** Font conversion: &#96;cmtt10&apos; -&gt; &#96;CMTT10&apos;.     *** Font conversion: &#96;cmr10&apos; -&gt; &#96;CMR10&apos;.     *** Font conversion: &#96;cmbx12&apos; -&gt; &#96;CMBX12&apos;.     *** Merging font &#96;CMBX12&apos; (2).     ==&gt; 10 converted fonts.     ==&gt; 1 merged font.</p><p>Although <strong>pkfix-helper</strong> tries to automate as much as possible the font-detection process, some fonts will invariably be incorrectly identified.  The program outputs a warning message if it <em>knows</em> a match is bad but the lack of a warning message does not necessarily indicate that <strong>pkfix-helper</strong> did a good job.  It is therefore strongly recommended that the user produce \*(L"before\*(R" and \*(L"after\*(R" font sheets:</p><p>    $ pkfix-helper -q oldfile.ps pkfix-oldfile.ps &#92;       --ps=oldfonts.ps --tex=newfonts.tex</p><p>    $ tex newfonts.tex     This is TeX, Version 3.14159 (Web2C 7.4.5)     (./newfonts.tex [1] )     Output written on newfonts.dvi (1 page, 1292 bytes).     Transcript written on newfonts.log.</p><p>    $ dvips newfonts.dvi -o newfonts.ps     This is dvips(k) 5.92b Copyright 2002 Radical Eye Software (www.radicaleye.com)     &apos; TeX output 2006.06.11:1636&apos; -&gt; newfonts.ps     &lt;texc.pro&gt;&lt;8r.enc&gt;&lt;texps.pro&gt;. &lt;cmr6.pfb&gt;&lt;cmsy10.pfb&gt;&lt;cmbx10.pfb&gt;&lt;cmbx12.pfb&gt;     &lt;cmmi10.pfb&gt;&lt;cmtt10.pfb&gt;&lt;cmr8.pfb&gt;&lt;cmti10.pfb&gt;&lt;cmr10.pfb&gt;[1]</p><p>After running the preceding commands, <em>oldfonts.ps</em> shows samples of the fonts in <em>oldfile.ps</em> and <em>newfonts.ps</em> shows samples of the replacement fonts that <strong>pkfix-helper</strong> used to produce <em>pkfix-oldfile.ps</em>.  Print <em>oldfonts.ps</em> and <em>newfonts.ps</em> and compare them carefully for incorrect fonts and sizes.</p><p>Suppose that the choice of \*(C`cmbx12 @ 1.2X\*(C' for font \*(C`Ff\*(C' looks wrong; say the characters look taller in <em>oldfonts.ps</em> than in <em>newfonts.ps</em>.  This is where the trial-and-error stage begins. Let's hypothesize that \*(C`cmb12\*(C' is a better match than \*(C`cmbx12\*(C' but we don't know how much to scale the font.  Fortunately, <strong>pkfix-helper</strong> allows \*(C`*\*(C' to be used as a scaling factor to tell the program to automatically detect an optimal scaling factor, even if doing so means choosing a nonstandard font size:</p><p>    $ pkfix-helper oldfile.ps pkfix-oldfile.ps --force="Ff=cmb12 @ *"     Reading oldfile.ps ... done.     Number of Type 3 fonts encountered: 10     Bitmapped fonts are typeset at 600 DPI.     Finding character widths ... done.     Reading TFM files ... failed.     pkfix-helper: Unable to process user-specified TFM file "cmb12"</p><p>Oops, it looks like we don't have a <em>cmb12.tfm</em> file on our system. Let's try scaling up <em>cmb10.tfm</em> instead:</p><p>    $ pkfix-helper oldfile.ps pkfix-oldfile.ps --force="Ff=cmb10 @ *"     Reading oldfile.ps ... done.     Number of Type 3 fonts encountered: 10     Bitmapped fonts are typeset at 600 DPI.     Finding character widths ... done.     Reading TFM files ... done (103 TFMs in 193 scaling variations).     Matching fonts:         Processing Fi ... done (cmr10 @ 1X, mismatch=0.11683).         Processing Fa ... done (cmti10 @ 1X, mismatch=0.08892).         Processing Fb ... done (cmr8 @ 1X, mismatch=0.07133).         Processing Ff ... done (cmb10 @ 1.5X, mismatch=0.00035).         Processing Fh ... done (cmtt10 @ 1X, mismatch=0.06895).         Processing Fd ... done (cmmi10 @ 1X, mismatch=0.03966).         Processing Fj ... done (cmbx12 @ 1X, mismatch=0.03972).         Processing Fe ... done (cmbx10 @ 1X, mismatch=0.00762).         Processing Fg ... done (cmsy10 @ 1X, mismatch=0.00875).         Processing Fc ... done (cmr6 @ 1X, mismatch=0.00284).</p><p>The match has definitely improved, although 15&nbsp;pt. is certainly an odd size for a font.  Then again, many documents <em>do</em> use nonstandard sizes so this may in fact be correct.  The best way to verify is once again to produce, print, and compare a pair of font samples and iterate until all of the fonts look correct.  Use one instance of <strong>--force</strong> for each font you want to alter.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p><strong>pkfix-helper</strong> honors the following environment variables:</p>
<dl class='dl-vertical'>
  <dt>
    \s-1GS\s0
  </dt>
  <dd>
    <p>The name of the Ghostscript interpreter (default: <em>gs</em>)</p>
  </dd>
  <dt>
    \s-1TFTOPL\s0
  </dt>
  <dd>
    <p>The name of a utility for converting <em>.tfm</em> files to <em>.pl</em> files (default: <em>tftopl</em>)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Even when <strong>pkfix-helper</strong> finds a perfect match (i.e.,&nbsp;the correct font in the correct size) the mismatch value is still typically nonzero.  The same error is probably what causes <strong>pkfix-helper</strong> sometimes to consider the wrong font as being a better match than the correct font.  Suggestions for fixing these bugs are welcome.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p><strong>pkfix-helper</strong> works only with PostScript files produced by <strong>dvips</strong>, not with arbitrary PostScript files.  The program has not been tested with output from versions of <strong>dvips</strong> older than v5.490 (ca.&nbsp;1992); output from older versions may or may not work.  Only bitmapped fonts loaded by <strong>dvips</strong> can be analyzed, not bitmapped fonts loaded by embedded graphics.</p><p><strong>pkfix-helper</strong> works by comparing character widths, not the actual glyphs.  Consequently, it is misled by sets of fonts with similar character widths (at least for those characters used by a given document).  As an extreme example, all Computer Modern Teletype fonts of a given design size (e.g., \*(C`cmtt10\*(C', \*(C`cmsltt10\*(C', and \*(C`cmitt10\*(C') use exactly the same widths for all characters.  Human assistance is generally needed to guide <strong>pkfix-helper</strong>'s font-matching procedures.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Files produced using the <strong>--tex</strong> option are Plain TeX files and therefore must be compiled with <em>tex</em> (or a variation such as <em>pdftex</em>, <em>luatex</em>, etc.), <em>not</em> with <em>latex</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pkfix-helper&hellip;</h2>
        <div class="sectioncontent">
<p><em>pkfix</em>\|(1), <em>dvips</em>\|(1), <em>tex</em>\|(1), <em>gs</em>\|(1)</p><p>PostScript Language Reference, Third Edition. Published by Addison-Wesley, \s-1ISBN\s0 0-201-37922-8, &lt;http://www.adobe.com/products/postscript/pdfs/PLRM.pdf&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Scott Pakin, <em>scott+pkfh@pakin.org</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2011, Scott Pakin</p><p>This file may be distributed and/or modified under the conditions of the LaTeX Project Public License, either version 1.3c of this license or (at your option) any later version.  The latest version of this license is in &lt;http://www.latex-project.org/lppl.txt&gt; and version 1.3c or later is part of all distributions of LaTeX version 2006/05/20 or later.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pkexec.1.html"><span aria-hidden="true">&larr;</span> pkexec.1: Execute a command as another user</a></li>
   <li class="next"><a href="pkg-config-pkg-config.1.html">pkg-config.1: Return metainformation about installed libraries <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
