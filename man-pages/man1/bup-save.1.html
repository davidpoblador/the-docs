<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bup-save: Create a new bup backup set</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a new bup backup set">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="bup-save (1) manual">
  <meta name="twitter:description" content="Create a new bup backup set">
  <meta name="twitter:image" content="https://www.carta.tech/images/bup-doc-bup-save-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/bup-save.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="bup-save (1) manual" />
  <meta property="og:description" content="Create a new bup backup set" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/bup-doc-bup-save-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">bup-save<small> (1)</small></h1>
        <p class="lead">Create a new bup backup set</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bup-save.1.html">
      <span itemprop="name">bup-save: Create a new bup backup set</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/bup-doc/">
      <span itemprop="name">bup-doc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bup-save.1.html">
      <span itemprop="name">bup-save: Create a new bup backup set</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>bup save [-r <em>host</em>:<em>path</em>] &lt;-t|-c|-n <em>name</em>&gt; [-#][-f *indexfile*] [-v][-q] [--smaller=<em>maxsize</em>] &lt;paths...&gt;;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>bup&nbsp;save saves the contents of the given files or paths into a new backup set and optionally names that backup set.</p><p>Note that in order to refer to your backup set later (i.e. for restoration), you must either specify --name (the normal case), or record the tree or commit id printed by --tree or --commit.</p><p>Before trying to save files using bup&nbsp;save, you should first update the index using bup&nbsp;index. The reasons for separating the two steps are described in the man page for <a href="../man1/bup-index.1.html"><strong>bup-index</strong>(1)</a>.</p><p>By default, metadata will be saved for every path, and the metadata for any unindexed parent directories of indexed paths will be taken directly from the filesystem. However, if --strip, --strip-path, or --graft is specified, metadata will not be saved for the root directory (<em>/</em>). See <a href="../man1/bup-restore.1.html"><strong>bup-restore</strong>(1)</a> for more information about the handling of metadata.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-r, --remote=</strong><em>host</em>:<em>path</em></p>
  </dt>
  <dd>
    <p>save the backup set to the given remote server. If <em>path</em> is omitted, uses the default path on the remote server (you still need to include the \[aq]:\[aq]). The connection to the remote server is made with SSH. If you\[aq]d like to specify which port, user or private key to use for the SSH connection, we recommend you use the ~/.ssh/config file.</p>
  </dd>
  <dt>
    <p><strong>-t, --tree</strong></p>
  </dt>
  <dd>
    <p>after creating the backup set, print out the git tree id of the resulting backup.</p>
  </dd>
  <dt>
    <p><strong>-c, --commit</strong></p>
  </dt>
  <dd>
    <p>after creating the backup set, print out the git commit id of the resulting backup.</p>
  </dd>
  <dt>
    <p><strong>-n, --name=</strong><em>name</em></p>
  </dt>
  <dd>
    <p>after creating the backup set, create a git branch named <em>name</em> so that the backup can be accessed using that name. If <em>name</em> already exists, the new backup will be considered a descendant of the old <em>name</em>. (Thus, you can continually create new backup sets with the same name, and later view the history of that backup set to see how files have changed over time.)</p>
  </dd>
  <dt>
    <p><strong>-d, --date=</strong><em>date</em></p>
  </dt>
  <dd>
    <p>specify the date of the backup, in seconds since the epoch, instead of the current time.</p>
  </dd>
  <dt>
    <p><strong>-f, --indexfile=</strong><em>indexfile</em></p>
  </dt>
  <dd>
    <p>use a different index filename instead of $BUP_DIR/bupindex.</p>
  </dd>
  <dt>
    <p><strong>-v, --verbose</strong></p>
  </dt>
  <dd>
    <p>increase verbosity (can be used more than once). With one -v, prints every directory name as it gets backed up. With two -v, also prints every filename.</p>
  </dd>
  <dt>
    <p><strong>-q, --quiet</strong></p>
  </dt>
  <dd>
    <p>disable progress messages.</p>
  </dd>
  <dt>
    <p><strong>--smaller=</strong><em>maxsize</em></p>
  </dt>
  <dd>
    <p>don\[aq]t back up files &gt;= <em>maxsize</em> bytes. You can use this to run frequent incremental backups of your small files, which can usually be backed up quickly, and skip over large ones (like virtual machine images) which take longer. Then you can back up the large files less frequently. Use a suffix like k, M, or G to specify multiples of 1024, 1024<em>1024, 1024</em>1024*1024 respectively.</p>
  </dd>
  <dt>
    <p><strong>--bwlimit=</strong><em>bytes/sec</em></p>
  </dt>
  <dd>
    <p>don\[aq]t transmit more than <em>bytes/sec</em> bytes per second to the server. This is good for making your backups not suck up all your network bandwidth. Use a suffix like k, M, or G to specify multiples of 1024, 1024<em>1024, 1024</em>1024*1024 respectively.</p>
  </dd>
  <dt>
    <p><strong>--strip</strong></p>
  </dt>
  <dd>
    <p>strips the path that is given from all files and directories.</p><p>A directory <em>/root/chroot/etc</em> saved with "bup save -n chroot --strip /root/chroot" would be saved as <em>/etc</em>. Note that currently, metadata will not be saved for the root directory (<em>/</em>) when this option is specified.</p>
  </dd>
  <dt>
    <p><strong>--strip-path=</strong><em>path-prefix</em></p>
  </dt>
  <dd>
    <p>strips the given path prefix <em>path-prefix</em> from all files and directories.</p><p>A directory <em>/root/chroot/webserver</em> saved with "bup save -n webserver --strip-path=/root/chroot" would be saved as <em>/webserver/etc</em>. Note that currently, metadata will not be saved for the root directory (<em>/</em>) when this option is specified.</p>
  </dd>
  <dt>
    <p><strong>--graft=</strong><em>old_path</em>=<em>new_path</em></p>
  </dt>
  <dd>
    <p>a graft point <em>old_path</em>=<em>new_path</em> (can be used more than once).</p><p>A directory <em>/root/chroot/a/etc</em> saved with "bup save -n chroot --graft /root/chroot/a=/chroot/a" would be saved as <em>/chroot/a/etc</em>. Note that currently, metadata will not be saved for the root directory (<em>/</em>) when this option is specified.</p>
  </dd>
  <dt>
    <p><strong>-</strong><em>#</em>, --compress=<em>#</em></p>
  </dt>
  <dd>
    <p>set the compression level to # (a value from 0-9, where 9 is the highest and 0 is no compression). The default is 1 (fast, loose compression)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<ul>
<li>
<pre>
$&nbsp;bup&nbsp;index&nbsp;-ux&nbsp;/etc
Indexing:&nbsp;1981,&nbsp;done.

$&nbsp;bup&nbsp;save&nbsp;-r&nbsp;myserver:&nbsp;-n&nbsp;my-pc-backup&nbsp;--bwlimit=50k&nbsp;/etc
Reading&nbsp;index:&nbsp;1981,&nbsp;done.
Saving:&nbsp;100.00%&nbsp;(998/998k,&nbsp;1981/1981&nbsp;files),&nbsp;done.



$&nbsp;ls&nbsp;/home/joe/chroot/httpd
bin&nbsp;var

$&nbsp;bup&nbsp;index&nbsp;-ux&nbsp;/home/joe/chroot/httpd
Indexing:&nbsp;1337,&nbsp;done.

$&nbsp;bup&nbsp;save&nbsp;--strip&nbsp;-n&nbsp;joes-httpd-chroot&nbsp;/home/joe/chroot/httpd
Reading&nbsp;index:&nbsp;1337,&nbsp;done.
Saving:&nbsp;100.00%&nbsp;(998/998k,&nbsp;1337/1337&nbsp;files),&nbsp;done.

$&nbsp;bup&nbsp;ls&nbsp;joes-httpd-chroot/latest/
bin/
var/


$&nbsp;bup&nbsp;save&nbsp;--strip-path=/home/joe/chroot&nbsp;-n&nbsp;joes-chroot&nbsp;&#92;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/joe/chroot/httpd
Reading&nbsp;index:&nbsp;1337,&nbsp;done.
Saving:&nbsp;100.00%&nbsp;(998/998k,&nbsp;1337/1337&nbsp;files),&nbsp;done.

$&nbsp;bup&nbsp;ls&nbsp;joes-chroot/latest/
httpd/


$&nbsp;bup&nbsp;save&nbsp;--graft&nbsp;/home/joe/chroot/httpd=/http-chroot&nbsp;&#92;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-n&nbsp;joe
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/joe/chroot/httpd
Reading&nbsp;index:&nbsp;1337,&nbsp;done.
Saving:&nbsp;100.00%&nbsp;(998/998k,&nbsp;1337/1337&nbsp;files),&nbsp;done.

$&nbsp;bup&nbsp;ls&nbsp;joe/latest/
http-chroot/

</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO bup-save&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/bup-index.1.html"><strong>bup-index</strong>(1)</a>, <a href="../man1/bup-split.1.html"><strong>bup-split</strong>(1)</a>, <a href="../man1/bup-on.1.html"><strong>bup-on</strong>(1)</a>, <a href="../man1/bup-restore.1.html"><strong>bup-restore</strong>(1)</a>, <strong>ssh_config</strong>(5)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUP</h2>
        <div class="sectioncontent">
<p>Part of the <a href="../man1/bup.1.html"><strong>bup</strong>(1)</a> suite.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Avery Pennarun &lt;apenwarr@gmail.com&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bup-restore.1.html"><span aria-hidden="true">&larr;</span> bup-restore.1: Extract files from a backup set</a></li>
   <li class="next"><a href="bup-server.1.html">bup-server.1: The server side of the bup client-server relationship <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
