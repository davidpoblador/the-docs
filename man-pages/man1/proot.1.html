<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>proot: Chroot, mount --bind, and binfmt_misc without privilege/setup</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Chroot, mount --bind, and binfmt_misc without privilege/setup">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="proot (1) manual">
  <meta name="twitter:description" content="Chroot, mount --bind, and binfmt_misc without privilege/setup">
  <meta name="twitter:image" content="https://www.carta.tech/images/proot-proot-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/proot.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="proot (1) manual" />
  <meta property="og:description" content="Chroot, mount --bind, and binfmt_misc without privilege/setup" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/proot-proot-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">proot<small> (1)</small></h1>
        <p class="lead">Chroot, mount --bind, and binfmt_misc without privilege/setup</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/proot.1.html">
      <span itemprop="name">proot: Chroot, mount --bind, and binfmt_misc without privilege/setup</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/proot/">
      <span itemprop="name">proot</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/proot.1.html">
      <span itemprop="name">proot: Chroot, mount --bind, and binfmt_misc without privilege/setup</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>proot</strong> [<em>option</em>] ... [<em>command</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>PRoot is a user-space implementation of <strong>chroot</strong>, <strong>mount --bind</strong>, and <strong>binfmt_misc</strong>.  This means that users don&apos;t need any privileges or setup to do things like using an arbitrary directory as the new root filesystem, making files accessible somewhere else in the filesystem hierarchy, or executing programs built for another CPU architecture transparently through QEMU user-mode.  Also, developers can use PRoot as a generic Linux process instrumentation engine thanks to its extension mechanism, see <em>CARE</em> for an example.  Technically PRoot relies on <strong>ptrace</strong>, an unprivileged system-call available in every Linux kernel.</p><p>The new root file-system, a.k.a <em>guest rootfs</em>, typically contains a Linux distribution.  By default PRoot confines the execution of programs to the guest rootfs only, however users can use the built-in <em>mount/bind</em> mechanism to access files and directories from the actual root file-system, a.k.a <em>host rootfs</em>, just as if they were part of the guest rootfs.</p><p>When the guest Linux distribution is made for a CPU architecture incompatible with the host one, PRoot uses the CPU emulator QEMU user-mode to execute transparently guest programs.  It&apos;s a convenient way to develop, to build, and to validate any guest Linux packages seamlessly on users&apos; computer, just as if they were in a <em>native</em> guest environment.  That way all of the cross-compilation issues are avoided.</p><p>PRoot can also <em>mix</em> the execution of host programs and the execution of guest programs emulated by QEMU user-mode.  This is useful to use host equivalents of programs that are missing from the guest rootfs and to speed up build-time by using cross-compilation tools or CPU-independent programs, like interpreters.</p><p>It is worth noting that the guest kernel is never involved, regardless of whether QEMU user-mode is used or not.  Technically, when guest programs perform access to system resources, PRoot translates their requests before sending them to the host kernel.  This means that guest programs can use host resources (devices, network, ...) just as if they were "normal" host programs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The command-line interface is composed of two parts: first PRoot&apos;s options (optional), then the command to launch (<strong>/bin/sh</strong> if not specified).  This section describes the options supported by PRoot, that is, the first part of its command-line interface.</p><h3>Regular options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-r</strong><em></em><strong>path</strong>,<strong></strong><em></em><strong>--rootfs</strong><strong>=</strong><em>path</em></p>
  </dt>
  <dd>
    <p>Use <em>path</em> as the new guest root file-system, default is <strong>/</strong>.</p><p>The specified <em>path</em> typically contains a Linux distribution where all new programs will be confined.  The default rootfs is <strong>/</strong> when none is specified, this makes sense when the bind mechanism is used to relocate host files and directories, see the <strong>-b</strong> option and the <strong>Examples</strong> section for details.</p><p>It is recommended to use the <strong>-R</strong> or <strong>-S</strong> options instead.</p>
  </dd>
  <dt>
    <p><strong>-b</strong><em></em><strong>path</strong>,<strong></strong><em></em><strong>--bind</strong><strong>=</strong><em>path</em>,<strong></strong><strong></strong><em>-m</em><strong></strong><em>path</em>,<strong></strong><strong></strong><em>--mount</em><strong>=</strong><strong>path</strong></p>
  </dt>
  <dd>
    <p>Make the content of <em>path</em> accessible in the guest rootfs.</p><p>This option makes any file or directory of the host rootfs accessible in the confined environment just as if it were part of the guest rootfs.  By default the host path is bound to the same path in the guest rootfs but users can specify any other location with the syntax: <strong>-b *host_path*:*guest_location*</strong>.  If the guest location is a symbolic link, it is dereferenced to ensure the new content is accessible through all the symbolic links that point to the overlaid content.  In most cases this default behavior shouldn&apos;t be a problem, although it is possible to explicitly not dereference the guest location by appending it the <strong>!</strong> character: <strong>-b *host_path*:*guest_location!*</strong>.</p>
  </dd>
  <dt>
    <p><strong>-q</strong><em></em><strong>command</strong>,<strong></strong><em></em><strong>--qemu</strong><strong>=</strong><em>command</em></p>
  </dt>
  <dd>
    <p>Execute guest programs through QEMU as specified by <em>command</em>.</p><p>Each time a guest program is going to be executed, PRoot inserts the QEMU user-mode <em>command</em> in front of the initial request. That way, guest programs actually run on a virtual guest CPU emulated by QEMU user-mode.  The native execution of host programs is still effective and the whole host rootfs is bound to <strong>/host-rootfs</strong> in the guest environment.</p>
  </dd>
  <dt>
    <p><strong>-w</strong><em></em><strong>path</strong>,<strong></strong><em></em><strong>--pwd</strong><strong>=</strong><em>path</em>,<strong></strong><strong></strong><em>--cwd</em><strong>=</strong><strong>path</strong></p>
  </dt>
  <dd>
    <p>Set the initial working directory to <em>path</em>.</p><p>Some programs expect to be launched from a given directory but do not perform any <strong>chdir</strong> by themselves.  This option avoids the need for running a shell and then entering the directory manually.</p>
  </dd>
  <dt>
    <p><strong>-v</strong><em></em><strong>value</strong>,<strong></strong><em></em><strong>--verbose</strong><strong>=</strong><em>value</em></p>
  </dt>
  <dd>
    <p>Set the level of debug information to <em>value</em>.</p><p>The higher the integer <em>value</em> is, the more detailed debug information is printed to the standard error stream.  A negative <em>value</em> makes PRoot quiet except on fatal errors.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>,<strong> --version</strong>,<strong> --about</strong></p>
  </dt>
  <dd>
    <p>Print version, copyright, license and contact, then exit.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>,<strong> --help</strong>,<strong> --usage</strong></p>
  </dt>
  <dd>
    <p>Print the version and the command-line usage, then exit.</p>
  </dd>

</dl>

<h3>Extension options</h3>
<p>The following options enable built-in extensions.  Technically developers can add their own features to PRoot or use it as a Linux process instrumentation engine thanks to its extension mechanism, see the sources for further details.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-k</strong><em></em><strong>string</strong>,<strong></strong><em></em><strong>--kernel-release</strong><strong>=</strong><em>string</em></p>
  </dt>
  <dd>
    <p>Make current kernel appear as kernel release <em>string</em>.</p><p>If a program is run on a kernel older than the one expected by its GNU C library, the following error is reported: "FATAL: kernel too old".  To be able to run such programs, PRoot can emulate some of the features that are available in the kernel release specified by <em>string</em> but that are missing in the current kernel.</p>
  </dd>
  <dt>
    <p><strong>-0</strong>,<strong> --root-id</strong></p>
  </dt>
  <dd>
    <p>Make current user appear as "root" and fake its privileges.</p><p>Some programs will refuse to work if they are not run with "root" privileges, even if there is no technical reason for that.  This is typically the case with package managers.  This option allows users to bypass this kind of limitation by faking the user/group identity, and by faking the success of some operations like changing the ownership of files, changing the root directory to <strong>/</strong>, ...  Note that this option is quite limited compared to <strong>fakeroot</strong>.</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em></em><strong>string</strong>,<strong></strong><em></em><strong>--change-id</strong><strong>=</strong><em>string</em></p>
  </dt>
  <dd>
    <p>Make current user and group appear as <em>string</em> "uid:gid".</p><p>This option makes the current user and group appear as <em>uid</em> and <em>gid</em>.  Likewise, files actually owned by the current user and group appear as if they were owned by <em>uid</em> and <em>gid</em> instead. Note that the <strong>-0</strong> option is the same as <strong>-i 0:0</strong>.</p>
  </dd>

</dl>

<h3>Alias options</h3>
<p>The following options are aliases for handy sets of options.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-R</strong><em></em><strong>path</strong></p>
  </dt>
  <dd>
    <p>Alias: <strong>-r *path*</strong> + a couple of recommended <strong>-b</strong>.</p><p>Programs isolated in <em>path</em>, a guest rootfs, might still need to access information about the host system, as it is illustrated in the <strong>Examples</strong> section of the manual.  These host information are typically: user/group definition, network setup, run-time information, users&apos; files, ...  On all Linux distributions, they all lie in a couple of host files and directories that are automatically bound by this option:</p><ul>
<li><p>/etc/host.conf</p></li><li><p>/etc/hosts</p></li><li><p>/etc/hosts.equiv</p></li><li><p>/etc/mtab</p></li><li><p>/etc/netgroup</p></li><li><p>/etc/networks</p></li><li><p>/etc/passwd</p></li><li><p>/etc/group</p></li><li><p>/etc/nsswitch.conf</p></li><li><p>/etc/resolv.conf</p></li><li><p>/etc/localtime</p></li><li><p>/dev/</p></li><li><p>/sys/</p></li><li><p>/proc/</p></li><li><p>/tmp/</p></li><li><p>$HOME</p></li><li><p><em>path</em></p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-S</strong><em></em><strong>path</strong></p>
  </dt>
  <dd>
    <p>Alias: <strong>-0 -r *path*</strong> + a couple of recommended <strong>-b</strong>.</p><p>This option is useful to safely create and install packages into the guest rootfs.  It is similar to the <strong>-R</strong> option expect it enables the <strong>-0</strong> option and binds only the following minimal set of paths to avoid unexpected changes on host files:</p><ul>
<li><p>/etc/host.conf</p></li><li><p>/etc/hosts</p></li><li><p>/etc/nsswitch.conf</p></li><li><p>/etc/resolv.conf</p></li><li><p>/dev/</p></li><li><p>/sys/</p></li><li><p>/proc/</p></li><li><p>/tmp/</p></li><li><p>$HOME</p></li><li><p><em>path</em></p></li>
</ul>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>If an internal error occurs, <strong>proot</strong> returns a non-zero exit status, otherwise it returns the exit status of the last terminated program. When an error has occurred, the only way to know if it comes from the last terminated program or from <strong>proot</strong> itself is to have a look at the error message.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>PRoot reads links in <strong>/proc/&lt;pid&gt;/fd/</strong> to support <a href="../man2/openat.2.html"><strong>openat</strong>(2)</a></em>-like syscalls made by the guest programs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>In the following examples the directories <strong>/mnt/slackware-8.0</strong> and <strong>/mnt/armslack-12.2/</strong> contain a Linux distribution respectively made for x86 CPUs and ARM CPUs.</p><h3>\fBchroot\fP equivalent</h3>
<p>To execute a command inside a given Linux distribution, just give <strong>proot</strong> the path to the guest rootfs followed by the desired command.  The example below executes the program <strong>cat</strong> to print the content of a file:</p>
<pre>
proot -r /mnt/slackware-8.0/ cat /etc/motd

Welcome to Slackware Linux 8.0
</pre>
<p>The default command is <strong>/bin/sh</strong> when none is specified. Thus the shortest way to confine an interactive shell and all its sub-programs is:</p>
<pre>
proot -r /mnt/slackware-8.0/

$ cat /etc/motd
Welcome to Slackware Linux 8.0
</pre>

<h3>\fBmount --bind\fP equivalent</h3>
<p>The bind mechanism enables one to relocate files and directories.  This is typically useful to trick programs that perform access to hard-coded locations, like some installation scripts:</p>
<pre>
proot -b /tmp/alternate_opt:/opt

$ cd to/sources
$ make install
[...]
install -m 755 prog "/opt/bin"
[...] # prog is installed in "/tmp/alternate_opt/bin" actually
</pre>
<p>As shown in this example, it is possible to bind over files not even owned by the user.  This can be used to <em>overlay</em> system configuration files, for instance the DNS setting:</p>
<pre>
ls -l /etc/hosts
-rw-r--r-- 1 root root 675 Mar  4  2011 /etc/hosts
</pre>

<pre>
proot -b ~/alternate_hosts:/etc/hosts

$ echo &apos;1.2.3.4 google.com&apos; &gt; /etc/hosts
$ resolveip google.com
IP address of google.com is 1.2.3.4
$ echo &apos;5.6.7.8 google.com&apos; &gt; /etc/hosts
$ resolveip google.com
IP address of google.com is 5.6.7.8
</pre>
<p>Another example: on most Linux distributions <strong>/bin/sh</strong> is a symbolic link to <strong>/bin/bash</strong>, whereas it points to <strong>/bin/dash</strong> on Debian and Ubuntu.  As a consequence a <strong>#!/bin/sh</strong> script tested with Bash might not work with Dash.  In this case, the binding mechanism of PRoot can be used to set non-disruptively <strong>/bin/bash</strong> as the default <strong>/bin/sh</strong> on these two Linux distributions:</p>
<pre>
proot -b /bin/bash:/bin/sh [...]
</pre>
<p>Because <strong>/bin/sh</strong> is initially a symbolic link to <strong>/bin/dash</strong>, the content of <strong>/bin/bash</strong> is actually bound over this latter:</p>
<pre>
proot -b /bin/bash:/bin/sh

$ md5sum /bin/sh
089ed56cd74e63f461bef0fdfc2d159a  /bin/sh
$ md5sum /bin/bash
089ed56cd74e63f461bef0fdfc2d159a  /bin/bash
$ md5sum /bin/dash
089ed56cd74e63f461bef0fdfc2d159a  /bin/dash
</pre>
<p>In most cases this shouldn&apos;t be a problem, but it is still possible to strictly bind <strong>/bin/bash</strong> over <strong>/bin/sh</strong> -- without dereferencing it -- by specifying the <strong>!</strong> character at the end:</p>
<pre>
proot -b &apos;/bin/bash:/bin/sh!&apos;

$ md5sum /bin/sh
089ed56cd74e63f461bef0fdfc2d159a  /bin/sh
$ md5sum /bin/bash
089ed56cd74e63f461bef0fdfc2d159a  /bin/bash
$ md5sum /bin/dash
c229085928dc19e8d9bd29fe88268504  /bin/dash
</pre>

<h3>\fBchroot\fP + \fBmount --bind\fP equivalent</h3>
<p>The two features above can be combined to make any file from the host rootfs accessible in the confined environment just as if it were initially part of the guest rootfs.  It is sometimes required to run programs that rely on some specific files:</p>
<pre>
proot -r /mnt/slackware-8.0/

$ ps -o tty,command
Error, do this: mount -t proc none /proc
</pre>
<p>works better with:</p>
<pre>
proot -r /mnt/slackware-8.0/ -b /proc

$ ps -o tty,command
TT       COMMAND
?        -bash
?        proot -b /proc /mnt/slackware-8.0/
?        /lib/ld-linux.so.2 /bin/sh
?        /lib/ld-linux.so.2 /usr/bin/ps -o tty,command
</pre>
<p>Actually there&apos;s a bunch of such specific files, that&apos;s why PRoot provides the option <strong>-R</strong> to bind automatically a pre-defined list of recommended paths:</p>
<pre>
proot -R /mnt/slackware-8.0/

$ ps -o tty,command
TT       COMMAND
pts/6    -bash
pts/6    proot -R /mnt/slackware-8.0/
pts/6    /lib/ld-linux.so.2 /bin/sh
pts/6    /lib/ld-linux.so.2 /usr/bin/ps -o tty,command
</pre>

<h3>\fBchroot\fP + \fBmount --bind\fP + \fBsu\fP equivalent</h3>
<p>Some programs will not work correctly if they are not run by the "root" user, this is typically the case with package managers.  PRoot can fake the root identity and its privileges when the <strong>-0</strong> (zero) option is specified:</p>
<pre>
proot -r /mnt/slackware-8.0/ -0

# id
uid=0(root) gid=0(root) [...]

# mkdir /tmp/foo
# chmod a-rwx /tmp/foo
# echo &apos;I bypass file-system permissions.&apos; &gt; /tmp/foo/bar
# cat /tmp/foo/bar
I bypass file-system permissions.
</pre>
<p>This option is typically required to create or install packages into the guest rootfs.  Note it is <em>not</em> recommended to use the <strong>-R</strong> option when installing packages since they may try to update bound system files, like <strong>/etc/group</strong>.  Instead, it is recommended to use the <strong>-S</strong> option.  This latter enables the <strong>-0</strong> option and binds only paths that are known to not be updated by packages:</p>
<pre>
proot -S /mnt/slackware-8.0/

# installpkg perl.tgz
Installing package perl...
</pre>

<h3>\fBchroot\fP + \fBmount --bind\fP + \fBbinfmt_misc\fP equivalent</h3>
<p>PRoot uses QEMU user-mode to execute programs built for a CPU architecture incompatible with the host one.  From users&apos; point-of-view, guest programs handled by QEMU user-mode are executed transparently, that is, just like host programs.  To enable this feature users just have to specify which instance of QEMU user-mode they want to use with the option <strong>-q</strong>:</p>
<pre>
proot -R /mnt/armslack-12.2/ -q qemu-arm

$ cat /etc/motd
Welcome to ARMedSlack Linux 12.2
</pre>
<p>The parameter of the <strong>-q</strong> option is actually a whole QEMU user-mode command, for instance to enable its GDB server on port 1234:</p>
<pre>
proot -R /mnt/armslack-12.2/ -q "qemu-arm -g 1234" emacs
</pre>
<p>PRoot allows one to mix transparently the emulated execution of guest programs and the native execution of host programs in the same file-system namespace.  It&apos;s typically useful to extend the list of available programs and to speed up build-time significantly.  This mixed-execution feature is enabled by default when using QEMU user-mode, and the content of the host rootfs is made accessible through <strong>/host-rootfs</strong>:</p>
<pre>
proot -R /mnt/armslack-12.2/ -q qemu-arm

$ file /bin/echo
[...] ELF 32-bit LSB executable, ARM [...]
$ /bin/echo &apos;Hello world!&apos;
Hello world!

$ file /host-rootfs/bin/echo
[...] ELF 64-bit LSB executable, x86-64 [...]
$ /host-rootfs/bin/echo &apos;Hello mixed world!&apos;
Hello mixed world!
</pre>
<p>Since both host and guest programs use the guest rootfs as <strong>/</strong>, users may want to deactivate explicitly cross-filesystem support found in most GNU cross-compilation tools.  For example with GCC configured to cross-compile to the ARM target:</p>
<pre>
proot -R /mnt/armslack-12.2/ -q qemu-arm

$ export CC=/host-rootfs/opt/cross-tools/arm-linux/bin/gcc
$ export CFLAGS="--sysroot=/"   # could be optional indeed
$ ./configure; make
</pre>
<p>As with regular files, a host instance of a program can be bound over its guest instance.  Here is an example where the guest binary of <strong>make</strong> is overlaid by the host one:</p>
<pre>
proot -R /mnt/armslack-12.2/ -q qemu-arm -b /usr/bin/make

$ which make
/usr/bin/make
$ make --version # overlaid
GNU Make 3.82
Built for x86_64-slackware-linux-gnu
</pre>
<p>It&apos;s worth mentioning that even when mixing the native execution of host programs and the emulated execution of guest programs, they still believe they are running in a native guest environment.  As a demonstration, here is a partial output of a typical <strong>./configure</strong> script:</p>
<pre>
checking whether the C compiler is a cross-compiler... no
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DOWNLOADS</h2>
        <div class="sectioncontent">
<h3>PRoot</h3>
<p>The latest release of PRoot is packaged on <em>http://packages.proot.me</em> and sources are hosted on <em>http://github.proot.me</em>.  It is also available as highly compatible static binaries:</p><ul>
<li><p>for x86_64: <em>http://static.proot.me/proot-x86_64</em></p></li><li><p>for x86: <em>http://static.proot.me/proot-x86</em></p></li><li><p>for ARM: <em>http://static.proot.me/proot-arm</em></p></li><li><p>other architectures: on demand.</p></li>
</ul>
<h3>Rootfs</h3>
<p>Here follows a couple of URLs where some rootfs archives can be freely downloaded.  Note that <strong>mknod</strong> errors reported by <strong>tar</strong> when extracting these archives can be safely ignored since special files are typically bound (see <strong>-R</strong> option for details).</p><ul>
<li><p><em>http://download.openvz.org/template/precreated/</em></p></li><li><p><em>https://images.linuxcontainers.org/images/</em></p></li><li><p><em>http://distfiles.gentoo.org/releases/</em></p></li><li><p><em>http://cdimage.ubuntu.com/ubuntu-core/releases/</em></p></li><li><p><em>http://archlinuxarm.org/developers/downloads</em></p><p>Technically such rootfs archive can be created by running the following command on the expected Linux distribution:</p>
<pre>
tar --one-file-system --create --gzip --file my_rootfs.tar.gz /
</pre>
</li>
</ul>
<h3>QEMU user-mode</h3>
<p>QEMU user-mode is required only if the guest rootfs was made for a CPU architecture incompatible with the host one, for instance when using a ARM rootfs on a x86_64 computer.  This package can be installed either from <em>http://qemu.proot.me</em> or from the host package manager under the name of "qemu-user" on most Linux distro.  In case one would like to build QEMU user-mode from sources, the <strong>--enable-linux-user</strong> option has to be specified to the <strong>./configure</strong> script.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO proot&hellip;</h2>
        <div class="sectioncontent">
<p><strong>chroot</strong>(1), <a href="../man8/mount.8.html"><strong>mount</strong>(8)</a>, binfmt_misc, <a href="../man2/ptrace.2.html"><strong>ptrace</strong>(2)</a>, <strong>qemu</strong>(1), <a href="../man1/sb2.1.html"><strong>sb2</strong>(1)</a>, <a href="../man1/bindfs.1.html"><strong>bindfs</strong>(1)</a>, <strong>fakeroot</strong>(1), <strong>fakechroot</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLOPHON</h2>
        <div class="sectioncontent">
<p>Visit <em>http://proot.me</em> for help, bug reports, suggestions, patches, ... Copyright (C) 2014 STMicroelectronics, licensed under GPL v2 or later.</p>
<pre>
 _____ _____              ___
|  __ &#92;  __ &#92;_____  _____|   |_
|   __/     /  _  &#92;/  _  &#92;    _|
|__|  |__|__&#92;_____/&#92;_____/&#92;____|
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="prooftree.1.html"><span aria-hidden="true">&larr;</span> prooftree.1: Proof-tree display for proof general</a></li>
   <li class="next"><a href="prop2po.1.html">prop2po.1: Convert java/mozilla .properties files to gettext po localization files. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
