<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>api-sanity-checker: An automatic generator of basic unit tests for a c/c++ library api.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="An automatic generator of basic unit tests for a c/c++ library api.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="api-sanity-checker (1) manual">
  <meta name="twitter:description" content="An automatic generator of basic unit tests for a c/c++ library api.">
  <meta name="twitter:image" content="https://www.carta.tech/images/api-sanity-checker-api-sanity-checker-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/api-sanity-checker.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="api-sanity-checker (1) manual" />
  <meta property="og:description" content="An automatic generator of basic unit tests for a c/c++ library api." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/api-sanity-checker-api-sanity-checker-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">api-sanity-checker<small> (1)</small></h1>
        <p class="lead">An automatic generator of basic unit tests for a c/c++ library api.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/api-sanity-checker.1.html">
      <span itemprop="name">api-sanity-checker: An automatic generator of basic unit tests for a c/c++ library api.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/api-sanity-checker/">
      <span itemprop="name">api-sanity-checker</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/api-sanity-checker.1.html">
      <span itemprop="name">api-sanity-checker: An automatic generator of basic unit tests for a c/c++ library api.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>NAME:</h3>
<ul>
<li><p>API Sanity Checker (api-sanity-checker) Generate basic unit tests for a C/C++ library API</p></li>
</ul>
<h3>DESCRIPTION:</h3>
<ul>
<li><p>API Sanity Checker is an automatic generator of basic unit tests for a C/C++ library. It helps to quickly generate simple ("sanity" or "shallow" quality) tests for every function in an API using their signatures, data type definitions and relationships between functions straight from the library header files ("Header-Driven Generation"). Each test case contains a function call with reasonable (in most, but unfortunately not all, cases) input parameters. The quality of generated tests allows to check absence of critical errors in simple use cases and can be greatly improved by involving of highly reusable specialized types for the library.</p></li><li><p>The tool can execute generated tests and detect crashes, aborts, all kinds of emitted signals, non-zero program return code, program hanging and requirement failures (if specified). The tool can be considered as a tool for out-of-box low-cost sanity checking of library API or as a test development framework for initial generation of templates for advanced tests. Also it supports universal Template2Code format of tests, splint specifications, random test generation mode and other useful features.</p></li><li><p>This tool is free software: you can redistribute it and/or modify it under the terms of the GNU LGPL or GNU GPL.</p></li>
</ul>
<h3>USAGE:</h3>
<ul>
<li><p>api-sanity-checker [options]</p></li>
</ul>
<h3>EXAMPLE:</h3>
<ul>
<li><p>api-sanity-checker <strong>-lib</strong> NAME <strong>-d</strong> VER.xml <strong>-gen</strong> <strong>-build</strong> <strong>-run</strong></p></li><li><p>VERSION.xml is XML-descriptor:</p></li><li><p>&lt;version&gt;</p></li><li><p>1.0</p></li><li><p>&lt;/version&gt;</p></li><li><p>&lt;headers&gt;</p></li><li><p>/path1/to/header(s)/ /path2/to/header(s)/</p></li><li><p>...</p></li><li><p>&lt;/headers&gt;</p></li><li><p>&lt;libs&gt;</p></li><li><p>/path1/to/library(ies)/ /path2/to/library(ies)/</p></li><li><p>...</p></li><li><p>&lt;/libs&gt;</p></li>
</ul>
<h3>INFORMATION OPTIONS:</h3>
<p><strong>-h</strong>|-help</p><ul>
<li><p>Print this help. <strong>-info</strong></p></li><li><p>Print complete info. <strong>-v</strong>|-version</p></li><li><p>Print version information. <strong>-dumpversion</strong></p></li><li><p>Print the tool version (1.98.6) and don't do anything else.</p></li>
</ul>
<h3>GENERAL OPTIONS:</h3>
<p><strong>-l</strong>|-lib|-library NAME</p><ul>
<li><p>Library name (without version). <strong>-d</strong>|-descriptor PATH</p></li><li><p>Path to the library descriptor (VER.xml file):</p></li><li><p>&lt;version&gt;</p></li><li><p>1.0</p></li><li><p>&lt;/version&gt;</p></li><li><p>&lt;headers&gt;</p></li><li><p>/path1/to/header(s)/ /path2/to/header(s)/ ...</p></li><li><p>&lt;/headers&gt;</p></li><li><p>&lt;libs&gt;</p></li><li><p>/path1/to/library(ies)/ /path2/to/library(ies)/ ...</p></li><li><p>&lt;/libs&gt;</p></li><li><p>... (XML-descriptor template</p></li><li><p>can be generated by <strong>-d-tmpl</strong> option)</p></li><li><p>For more information, please see:</p></li><li><p>http://ispras.linuxbase.org/index.php/Library_Descriptor <strong>-gen</strong>|-generate</p></li><li><p>Generate test(s). Options <strong>-l</strong> and <strong>-d</strong> should be specified. To generate test for the particular function use it with <strong>-f</strong> option. Exit code: number of test cases failed to build. <strong>-build</strong>|-make</p></li><li><p>Build test(s). Options <strong>-l</strong> and <strong>-d</strong> should be specified. To build test for the particular function use it with <strong>-f</strong> option. Exit code: number of test cases failed to generate. <strong>-run</strong></p></li><li><p>Run test(s), create test report. Options <strong>-l</strong> and <strong>-d</strong> should be specified. To run test for the particular function use it with <strong>-f</strong> option. Exit code: number of failed test cases. <strong>-clean</strong></p></li><li><p>Clean test(s). Options <strong>-l</strong> and <strong>-d</strong> should be specified. To clean test for the particular function use it with <strong>-f</strong> option.</p></li>
</ul>
<h3>EXTRA OPTIONS:</h3>
<p><strong>-d-tmpl</strong>|-descriptor-template</p><ul>
<li><p>Create XML-descriptor template ./VERSION.xml <strong>-s-tmpl</strong>|specialized-type-template</p></li><li><p>Create specialized type template ./SPECTYPES.xml <strong>-vnum</strong> NUM</p></li><li><p>Specify library version outside the descriptor. <strong>-s</strong>|-symbol NAME</p></li><li><p>Generate/Build/Run test for the specified function (mangled name in C++). <strong>-symbols-list</strong> PATH</p></li><li><p>This option allows to specify a file with a list of functions (one per line, mangled name in C++) that should be tested, other library functions will not be tested. <strong>-header</strong> NAME</p></li><li><p>This option allows to restrict a list of functions that should be tested by providing a header file name in which they are declared. This option is intended for step-by-step tests development. <strong>-xvfb</strong></p></li><li><p>Use Xvfb-server instead of current X-server (default) for running tests. <strong>-t2c</strong>|-template2code</p></li><li><p>Generate tests in the universal Template2Code format. For more information, please see:</p></li><li><p>http://sourceforge.net/projects/template2code/ <strong>-strict-gen</strong></p></li><li><p>Terminate the process of generating tests and return error code '1' if cannot generate at least one test case. <strong>-strict-build</strong></p></li><li><p>Terminate the process of building tesst and return error code '1' if cannot build at least one test case. <strong>-strict-run</strong></p></li><li><p>Terminate the process of running tests and return error code '1' if at least one test case failed. <strong>-strict</strong></p></li><li><p>This option enables all <strong>-strict-</strong>* options. <strong>-r</strong>|-random</p></li><li><p>Random test generation mode. <strong>-min</strong></p></li><li><p>Generate minimun code, call functions with minimum number of parameters to initialize parameters of other functions. <strong>-max</strong></p></li><li><p>Generate maximum code, call functions with maximum number of parameters to initialize parameters of other functions. <strong>-show-retval</strong></p></li><li><p>Show the function return type in the report. <strong>-check-retval</strong></p></li><li><p>Insert requirements on return values (retval!=NULL) for each called function. <strong>-st</strong>|-specialized-types PATH</p></li><li><p>Path to the file with the collection of specialized types. For more information, please see:</p></li><li><p>http://ispras.linuxbase.org/index.php/Specialized_Type <strong>-td</strong>|-test-data PATH</p></li><li><p>Path to the directory with the test data files. For more information, please see:</p></li><li><p>http://ispras.linuxbase.org/index.php/Specialized_Type <strong>-headers-only</strong></p></li><li><p>If the library consists of inline functions only and has no shared objects then you should specify this option. <strong>-no-inline</strong></p></li><li><p>Don't generate tests for inline functions. <strong>-keep-internal</strong></p></li><li><p>Generate tests for internal symbols (functions with '__' prefix and methods of classes declared inside other classes). <strong>-isolated</strong></p></li><li><p>Allow to restrict functions usage by the lists specified by the <strong>-functions-list</strong> option or by the group devision in the descriptor. <strong>-view-only</strong></p></li><li><p>Remove all files from the test suite except *.html files. This option allows to create a lightweight html-index for all tests. <strong>-disable-default-values</strong></p></li><li><p>Disable usage of default values for function parameters. <strong>-optimize-includes</strong> LEVEL</p></li><li><p>Enable optimization of the list of included headers in each test case. Available levels:</p></li><li><p>High (default) Medium Low None - disable <strong>-p</strong>|-params PATH</p></li><li><p>Path to file with the function parameter names. It can be used for improving generated tests if the library header files don't contain parameter names. File format:</p></li><li><p>func1;param1;param2;param3 ... func2;param1;param2;param3 ... ... <strong>-l-full</strong>|-lib-full NAME</p></li><li><p>Library name in the report title. <strong>-relpath</strong>|-reldir PATH</p></li><li><p>Replace {RELPATH} in the library descriptor by PATH. <strong>-lang</strong> LANG</p></li><li><p>Set library language (C or C++). You can use this option if the tool cannot auto-detect a language. <strong>-target</strong> COMPILER</p></li><li><p>The compiler that should be used to build generated tests under Windows. Supported:</p></li><li><p>gcc - GNU compiler cl - MS compiler (default) <strong>-debug</strong></p></li><li><p>Write extended log for debugging. <strong>-cache</strong></p></li><li><p>Cache the ABI dump and use it on the next run.</p></li>
</ul>
<h3>OTHER OPTIONS:</h3>
<p><strong>-test</strong></p><ul>
<li><p>Run internal tests. Create a simple library and run the tool on it. This option allows to check if the tool works correctly on the system. <strong>-disable-variable-reuse</strong></p></li><li><p>Disable reusing of previously created variables in the test. <strong>-long-variable-names</strong></p></li><li><p>Enable long (complex) variable names instead of short names. <strong>-b</strong>|-browse PROGRAM</p></li><li><p>Open report(s) in the browser (firefox, opera, etc.). <strong>-open</strong></p></li><li><p>Open report(s) in the default browser.</p></li>
</ul>
<h3>EXIT CODES:</h3>
<ul>
<li><p>0 - Successful tests. The tool has run without any errors. non-zero - Tests failed or the tool has run with errors.</p></li>
</ul>
<h3>REPORT BUGS TO:</h3>
<ul>
<li><p>Andrey Ponomarenko &lt;aponomarenko@rosalab.ru&gt;</p></li>
</ul>
<h3>MORE INFORMATION:</h3>
<ul>
<li><p>http://ispras.linuxbase.org/index.php/API_Sanity_Checker https://github.com/lvc/api-sanity-checker</p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by Mathieu Malaterre &lt;malat@debian.org&gt; for the Debian GNU/Linux system (but may be used by others).</p><p>Written by Andrey Ponomarenko.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2013 ROSA Lab License: LGPL or GPL &lt;http://www.gnu.org/licenses/&gt; This program is free software: you can redistribute it and/or modify it.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="apgdiff.1.html"><span aria-hidden="true">&larr;</span> apgdiff.1: Another postgresql diff tool</a></li>
   <li class="next"><a href="apigen.1.html">apigen.1: Api documentation generator <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
