<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nifti_tool: Multipurpose manipulation tool for nifti files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Multipurpose manipulation tool for nifti files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nifti_tool (1) manual">
  <meta name="twitter:description" content="Multipurpose manipulation tool for nifti files">
  <meta name="twitter:image" content="https://www.carta.tech/images/nifti-bin-nifti_tool-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nifti_tool.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nifti_tool (1) manual" />
  <meta property="og:description" content="Multipurpose manipulation tool for nifti files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nifti-bin-nifti_tool-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nifti_tool<small> (1)</small></h1>
        <p class="lead">Multipurpose manipulation tool for nifti files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nifti_tool.1.html">
      <span itemprop="name">nifti_tool: Multipurpose manipulation tool for nifti files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nifti-bin/">
      <span itemprop="name">nifti-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nifti_tool.1.html">
      <span itemprop="name">nifti_tool: Multipurpose manipulation tool for nifti files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nifti_tool -help</strong> show this help</p><p><strong>nifti_tool -help_hdr</strong> show nifti_1_header field info</p><p><strong>nifti_tool -help_nim</strong> show nifti_image field info</p><p><strong>nifti_tool -help_ana</strong> show nifti_analyze75 field info</p><p><strong>nifti_tool -help_datatypes</strong> show datatype table</p><p><strong></strong></p><p><strong>nifti_tool -ver</strong> show the current version</p><p><strong>nifti_tool -hist</strong> show the modification history</p><p><strong>nifti_tool -nifti_ver</strong> show the nifti library version</p><p><strong>nifti_tool -nifti_hist</strong> show the nifti library history</p><p><strong>nifti_tool -with_zlib</strong> was library compiled with zlib</p><p><strong></strong></p><p><strong></strong></p><p><strong>nifti_tool -check_hdr -infiles f1 ...</strong></p><p><strong>nifti_tool -check_nim -infiles f1 ...</strong></p><p><strong></strong></p><p><strong>nifti_tool -copy_brick_list -infiles f1"[indices...]"</strong></p><p><strong>nifti_tool -copy_collapsed_image I J K T U V W -infiles f1</strong></p><p><strong>nifti_tool -copy_im -infiles f1</strong></p><p><strong></strong></p><p><strong>nifti_tool -make_im -prefix new_im.nii</strong></p><p><strong></strong></p><p><strong>nifti_tool -disp_hdr [-field FIELDNAME] [...] -infiles f1 ...</strong></p><p><strong>nifti_tool -disp_nim [-field FIELDNAME] [...] -infiles f1 ...</strong></p><p><strong>nifti_tool -disp_ana [-field FIELDNAME] [...] -infiles f1 ...</strong></p><p><strong>nifti_tool -disp_exts -infiles f1 ...</strong></p><p><strong>nifti_tool -disp_ts I J K [-dci_lines] -infiles f1 ...</strong></p><p><strong>nifti_tool -disp_ci I J K T U V W [-dci_lines] -infiles f1 ...</strong></p><p><strong></strong></p><p><strong>nifti_tool -mod_hdr  [-mod_field FIELDNAME NEW_VAL] [...] -infiles f1</strong></p><p><strong>nifti_tool -mod_nim  [-mod_field FIELDNAME NEW_VAL] [...] -infiles f1</strong></p><p><strong></strong></p><p><strong>nifti_tool -swap_as_nifti   -overwrite -infiles f1</strong></p><p><strong>nifti_tool -swap_as_analyze -overwrite -infiles f1</strong></p><p><strong>nifti_tool -swap_as_old     -overwrite -infiles f1</strong></p><p><strong></strong></p><p><strong>nifti_tool -add_afni_ext    "extension in quotes" [...] -infiles f1</strong></p><p><strong>nifti_tool -add_comment_ext "extension in quotes" [...] -infiles f1</strong></p><p><strong>nifti_tool -add_comment_ext "file</strong> FILENAME" [...] -infiles f1</p><p><strong>nifti_tool -rm_ext INDEX [...] -infiles f1 ...</strong></p><p><strong>nifti_tool -strip_extras -infiles f1 ...</strong></p><p><strong></strong></p><p><strong>nifti_tool -diff_hdr [-field FIELDNAME] [...] -infiles f1 f2</strong></p><p><strong>nifti_tool -diff_nim [-field FIELDNAME] [...] -infiles f1 f2</strong></p><p><strong></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This tool can</p><ul>
<li><p>display, modify or compare nifti structures in datasets</p></li><li><p>copy a dataset by selecting a list of volumes from the original</p></li><li><p>copy a dataset, collapsing any dimensions, each to a single index</p></li><li><p>display a time series for a voxel, or more generally, the data from any collapsed image, in ASCII text</p></li>
</ul><p>This program can be used to display information from nifti datasets, to modify information in nifti datasets, to look for differences between two nifti datasets (like the UNIX "diff" command), and to copy a dataset to a new one, either by restricting any dimensions, or by copying a list of volumes (the time dimension) from a dataset.</p><p>Only one action type is allowed, e.g. one cannot modify a dataset and then take a "diff".</p><p>one can display</p><ul>
<li><p>any or all fields in the nifti_1_header structure</p></li><li><p>any or all fields in the nifti_image structure</p></li><li><p>any or all fields in the nifti_analyze75 structure</p></li><li><p>the extensions in the nifti_image structure</p></li><li><p>the time series from a 4-D dataset, given i,j,k</p></li><li><p>the data from any collapsed image, given dims. list</p></li>
</ul><p>one can check</p><ul>
<li><p>perform internal check on the nifti_1_header struct (by nifti_hdr_looks_good())</p></li><li><p>perform internal check on the nifti_image struct (by nifti_nim_is_valid())</p></li>
</ul><p>one can modify</p><ul>
<li><p>any or all fields in the nifti_1_header structure</p></li><li><p>any or all fields in the nifti_image structure</p></li><li><p>swap all fields in NIFTI or ANALYZE header structure add/rm  - any or all extensions in the nifti_image structure remove  - all extensions and descriptions from the datasets</p></li>
</ul><p>one can compare</p><ul>
<li><p>any or all field pairs of nifti_1_header structures</p></li><li><p>any or all field pairs of nifti_image structures</p></li>
</ul><p>one can copy</p><ul>
<li><p>an arbitrary list of dataset volumes (time points)</p></li><li><p>a dataset, collapsing across arbitrary dimensions (restricting those dimensions to the given indices)</p></li>
</ul><p>one can create</p><ul>
<li><p>a new dataset out of nothing</p></li>
</ul><p><strong>Note:</strong> to learn about which fields exist in either of the structures, or to learn a field"s type, size of each element, or the number of elements in the field, use either the "-help_hdr" option, or the "-help_nim" option.  No further options are required.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>Check options</strong><strong></strong></p><p><em>-check_hdr</em>         : check for a valid nifti_1_header struct</p><p>This action is used to check the nifti_1_header structure for problems.  The nifti_hdr_looks_good() function is used for the test, and currently checks:</p><p>dim[], sizeof_hdr, magic, datatype</p><p>More tests can be requested of the author.</p><p>e.g. perform checks on the headers of some datasets nifti_tool -check_hdr -infiles dset0.nii dset1.nii nifti_tool -check_hdr -infiles *.nii *.hdr</p><p>e.g. add the -quiet option, so that only erros are reported nifti_tool -check_hdr -quiet -infiles *.nii *.hdr</p><p><em>-check_nim</em>         : check for a valid nifti_image struct</p><p>This action is used to check the nifti_image structure for problems.  This is tested via both nifti_convert_nhdr2nim() and nifti_nim_is_valid(), though other functions are called below them, of course.  Current checks are:</p><p>dim[], sizeof_hdr, datatype, fname, iname, nifti_type</p><p>Note that creation of a nifti_image structure depends on good header fields.  So errors are terminal, meaning this check would probably report at most one error, even if more exist.  The <em>-check_hdr</em> action is more complete.</p><p>More tests can be requested of the author.</p><p>e.g. nifti_tool -check_nim -infiles dset0.nii dset1.nii e.g. nifti_tool -check_nim -infiles *.nii *.hdr</p><p><strong>Create options</strong><strong></strong></p><p><em>-make_im</em>           : create a new dataset from nothing</p><p>With this the user can create a new dataset of a basic style, which can then be modified with other options.  This will create zero-filled data of the appropriate size.</p><p>The default is a 1x1x1 image of shorts.  These settings can be modified with the -new_dim option, to set the 8 dimension values, and the -new_datatype, to provide the integral type for the data.</p><p>See -new_dim, -new_datatype and -infiles for more information.</p><p>Note that any -infiles dataset of the name MAKE_IM will also be created on the fly.</p><p><em>-new_dim</em> D0 .. D7  : specify the dim array for the a new dataset.</p><p>e.g. -new_dim 4 64 64 27 120 0 0 0</p><p>This dimension list will apply to any dataset created via MAKE_IM or -make_im.  All 8 values are required.  Recall that D0 is the number of dimensions, and D1 through D7 are the sizes.</p><p><em>-new_datatype</em> TYPE : specify the dim array for the a new dataset.</p><p>e.g. -new_datatype 16 default: -new_datatype 4   (short)</p><p>This dimension list will apply to any dataset created via MAKE_IM or -make_im.  TYPE should be one of the NIFTI_TYPE_* numbers, from nifti1.h.</p><p><strong>Copy options</strong><strong></strong></p><p><em>-copy_brick_list</em>   : copy a list of volumes to a new dataset</p><p><em>-cbl</em>               : (a shorter, alternative form)</p><p><em>-copy_im</em>           : (a shorter, alternative form)</p><p>This action allows the user to copy a list of volumes (over time) from one dataset to another.  The listed volumes can be in any order and contain repeats, but are of course restricted to the set of values {1, 2, ..., nt-1}, from dimension 4.</p><p>This option is a flag.  The index list is specified with the input dataset, contained in square brackets.  Note that square brackets are special to most UNIX shells, so they should be contained within single quotes.  Syntax of an index list:</p><p>notes:</p><ul>
<li><p>indices start at zero</p></li><li><p>indices end at nt-1, which has the special symbol "$"</p></li><li><p>single indices should be separated with commas, "," e.g. -infiles dset0.nii"[0,3,8,5,2,2,2]"</p></li><li><p>ranges may be specified using ".." or "-" e.g. -infiles dset0.nii"[2..95]" e.g. -infiles dset0.nii"[2..$]"</p></li><li><p>ranges may have step values, specified in () example: 2 through 95 with a step of 3, i.e. {2,5,8,11,...,95} e.g. -infiles dset0.nii"[<strong>2..95</strong>(3)]"</p></li>
</ul><p>This functionality applies only to 3 or 4-dimensional datasets.</p><p>e.g. to copy a dataset: nifti_tool -copy_im -prefix new.nii -infiles dset0.nii</p><p>e.g. to copy sub-bricks 0 and 7: nifti_tool -cbl -prefix new_07.nii -infiles dset0.nii"[0,7]"</p><p>e.g. to copy an entire dataset: nifti_tool -cbl -prefix new_all.nii -infiles dset0.nii"[0..$]"</p><p>e.g. to copy every other time point, skipping the first three: nifti_tool -cbl -prefix new_partial.nii  <em>-infiles</em> dset0.nii"[3..$(2)]"</p><p><em>-copy_collapsed_image</em> ... : copy a list of volumes to a new dataset</p><p><em>-cci</em> I J K T U V W        : (a shorter, alternative form)</p><p>This action allows the user to copy a collapsed dataset, where some dimensions are collapsed to a given index.  For instance, the X dimension could be collapsed to i=42, and the time dimensions could be collapsed to t=17.  To collapse a dimension, set Di to the desired index, where i is in {0..ni-1}.  Any dimension that should not be collapsed must be listed as -1.</p><p>Any number (of valid) dimensions can be collapsed, even down to a a single value, by specifying enough valid indices.  The resulting dataset will then have a reduced number of non-trivial dimensions.</p><p>Assume dset0.nii has nim-&gt;dim[8] = { 4, 64, 64, 21, 80, 1, 1, 1 }. Note that this is a 4-dimensional dataset.</p><p>e.g. copy the time series for voxel i,j,k = 5,4,17 nifti_tool -cci 5 4 17 -1 -1 -1 -1 -prefix new_5_4_17.nii</p><p>e.g. read the single volume at time point 26 nifti_tool -cci -1 -1 -1 26 -1 -1 -1 -prefix new_t26.nii</p><p>Assume dset1.nii has nim-&gt;dim[8] = { 6, 64, 64, 21, 80, 4, 3, 1 }. Note that this is a 6-dimensional dataset.</p><p>e.g. copy all time series for voxel i,j,k = 5,0,17, with v=2 (and add the command to the history) nifti_tool -cci 5 0 17 -1 -1 2 -1  -keep_hist  <em>-prefix</em> new_5_0_17_2.nii</p><p>e.g. copy all data where i=3, j=19 and v=2 (I do not claim to know a good reason to do this) nifti_tool -cci 3 19 -1 -1 -1 2 -1 -prefix new_mess.nii</p><p>See "-disp_ci" for more information (which displays/prints the data, instead of copying it to a new dataset).</p><p><strong>Display options</strong><strong></strong></p><p><em>-disp_hdr</em>          : display nifti_1_header fields for datasets</p><p>This flag means the user wishes to see some of the nifti_1_header fields in one or more nifti datasets. The user may want to specify mutliple "-field" options along with this.  This option requires one or more files input, via "-infiles".</p><p>If no "-field" option is present, all fields will be displayed.</p><p>e.g. to display the contents of all fields: nifti_tool -disp_hdr -infiles dset0.nii nifti_tool -disp_hdr -infiles dset0.nii dset1.nii dset2.nii</p><p>e.g. to display the contents of select fields: nifti_tool -disp_hdr -field dim -infiles dset0.nii nifti_tool -disp_hdr -field dim -field descrip -infiles dset0.nii</p><p><em>-disp_nim</em>          : display nifti_image fields for datasets</p><p>This flag option works the same way as the "-disp_hdr" option, except that the fields in question are from the nifti_image structure.</p><p><em>-disp_ana</em>          : display nifti_analyze75 fields for datasets</p><p>This flag option works the same way as the "-disp_hdr" option, except that the fields in question are from the nifti_analyze75 structure.</p><p><em>-disp_exts</em>         : display all AFNI-type extensions</p><p>This flag option is used to display all nifti_1_extension data, for only those extensions of type AFNI (code = 4).  The only other option used will be "-infiles".</p><p>e.g. to display the extensions in datasets: nifti_tool -disp_exts -infiles dset0.nii nifti_tool -disp_exts -infiles dset0.nii dset1.nii dset2.nii</p><p><em>-disp_ts</em> I J K    : display ASCII time series at i,j,k = I,J,K</p><p>This option is used to display the time series data for the voxel at i,j,k indices I,J,K.  The data is displayed in text, either all on one line (the default), or as one number per line (via the "-dci_lines" option).</p><p>Notes:</p><ul>
<li><p>This function applies only to 4-dimensional datasets.</p></li><li><p>The "-quiet" option can be used to suppress the text header, leaving only the data.</p></li><li><p>This option is short for using "-disp_ci" (display collapsed image), restricted to 4-dimensional datasets.  i.e. : <em>-disp_ci</em> I J K -1 -1 -1 -1</p></li>
</ul><p>e.g. to display the time series at voxel 23, 0, 172: nifti_tool -disp_ts 23 0 172            -infiles dset1_time.nii nifti_tool -disp_ts 23 0 172 -dci_lines -infiles dset1_time.nii nifti_tool -disp_ts 23 0 172 -quiet     -infiles dset1_time.nii</p><p><em>-disp_collapsed_image</em>  : display ASCII values for collapsed dataset</p><p><em>-disp_ci</em> I J K T U V W : (a shorter, alternative form)</p><p>This option is used to display all of the data from a collapsed image, given the dimension list.  The data is displayed in text, either all on one line (the default), or as one number per line (by using the "-dci_lines" flag).</p><p>The "-quiet" option can be used to suppress the text header.</p><p>e.g. to display the time series at voxel 23, 0, 172: nifti_tool -disp_ci 23 0 172 -1 0 0 0 -infiles dset1_time.nii</p><p>e.g. to display z-slice 14, at time t=68: nifti_tool -disp_ci -1 -1 14 68 0 0 0 -infiles dset1_time.nii</p><p>See "-ccd" for more information, which copies such data to a new dataset, instead of printing it to the terminal window.</p><p><strong>Modification options</strong><strong></strong></p><p><em>-mod_hdr</em>           : modify nifti_1_header fields for datasets</p><p>This action is used to modify some of the nifti_1_header fields in one or more datasets.  The user must specify a list of fields to modify via one or more "-mod_field" options, which include field names, along with the new (set of) values.</p><p>The user can modify a dataset in place, or use "-prefix" to produce a new dataset, to which the changes have been applied. It is recommended to normally use the "-prefix" option, so as not to ruin a dataset.</p><p>Note that some fields have a length greater than 1, meaning that the field is an array of numbers, or a string of characters.  In order to modify an array of numbers, the user must provide the correct number of values, and contain those values in quotes, so that they are seen as a single option.</p><p>To modify a string field, put the string in quotes.</p><p>The "-mod_field" option takes a field_name and a list of values.</p><p>e.g. to modify the contents of various fields:</p><p>nifti_tool -mod_hdr -prefix dnew -infiles dset0.nii   <em>-mod_field</em> qoffset_x -17.325</p><p>nifti_tool -mod_hdr -prefix dnew -infiles dset0.nii   <em>-mod_field</em> dim "4 64 64 20 30 1 1 1 1"</p><p>nifti_tool -mod_hdr -prefix dnew -infiles dset0.nii   <em>-mod_field</em> descrip "beer, brats and cheese, mmmmm..."</p><p>e.g. to modify the contents of multiple fields: nifti_tool -mod_hdr -prefix dnew -infiles dset0.nii   <em>-mod_field</em> qoffset_x -17.325 -mod_field slice_start 1</p><p>e.g. to modify the contents of multiple files (must overwrite): nifti_tool -mod_hdr -overwrite -mod_field qoffset_x -17.325    <em>-infiles</em> dset0.nii dset1.nii</p><p><em>-mod_nim</em>          : modify nifti_image fields for datasets</p><p>This action option is used the same way that "-mod_hdr" is used, except that the fields in question are from the nifti_image structure.</p><p><em>-strip_extras</em>     : remove extensions and descriptions from datasets</p><p>This action is used to attempt to "clean" a dataset of general text, in order to make it more anonymous.  Extensions and the nifti_image descrip field are cleared by this action.</p><p>e.g. to strip all *.nii datasets in this directory: nifti_tool -strip -overwrite -infiles *.nii</p><p><em>-swap_as_nifti</em>    : swap the header according to nifti_1_header</p><p>Perhaps a NIfTI header is mal-formed, and the user explicitly wants to swap it before performing other operations.  This action will swap the field bytes under the assumption that the header is in the NIfTI format.</p><p>** The recommended course of action is to make a copy of the dataset and overwrite the header via -overwrite.  If the header needs such an operation, it is likely that the data would not otherwise be read in correctly.</p><p><em>-swap_as_analyze</em>  : swap the header according to nifti_analyze75</p><p>Perhaps an ANALYZE header is mal-formed, and the user explicitly wants to swap it before performing other operations.  This action will swap the field bytes under the assumption that the header is in the ANALYZE 7.5 format.</p><p>** The recommended course of action is to make a copy of the dataset and overwrite the header via -overwrite.  If the header needs such an operation, it is likely that the data would not otherwise be read in correctly.</p><p><em>-swap_as_old</em>      : swap the header using the old method</p><p>As of library version 1.35 (3 Aug, 2008), nifticlib now swaps all fields of a NIfTI dataset (including UNUSED ones), and it swaps ANALYZE datasets according to the nifti_analyze75 structure. This is a significant different in the case of ANALYZE datasets.</p><p>The -swap_as_old option was added to compare the results of the swapping methods, or to undo one swapping method and replace it with another (such as to undo the old method and apply the new).</p><p><strong>Add, remove options</strong><strong></strong></p><p><em>-add_afni_ext</em> EXT : add an AFNI extension to the dataset</p><p>This option is used to add AFNI-type extensions to one or more datasets.  This option may be used more than once to add more than one extension.</p><p>If EXT is of the form "file:FILENAME", then the extension will be read from the file, FILENAME.</p><p>The "-prefix" option is recommended, to create a new dataset. In such a case, only a single file may be taken as input.  Using "-overwrite" allows the user to overwrite the current file, or to add the extension(s) to multiple files, overwriting them.</p><p>e.g. to add a generic AFNI extension: nifti_tool -add_afni_ext "wow, my first extension" -prefix dnew  <em>-infiles</em> dset0.nii</p><p>e.g. to add multiple AFNI extensions: nifti_tool -add_afni_ext "wow, my first extension :)"       <em>-add_afni_ext</em> "look, my second..."                <em>-prefix</em> dnew -infiles dset0.nii</p><p>e.g. to add an extension, and overwrite the dataset: nifti_tool -add_afni_ext "some AFNI extension" -overwrite  <em>-infiles</em> dset0.nii dset1.nii</p><p><em>-add_comment_ext</em> EXT : add a COMMENT extension to the dataset</p><p>This option is used to add COMMENT-type extensions to one or more datasets.  This option may be used more than once to add more than one extension.  This option may also be used with "-add_afni_ext".</p><p>If EXT is of the form "file:FILENAME", then the extension will be read from the file, FILENAME.</p><p>The "-prefix" option is recommended, to create a new dataset. In such a case, only a single file may be taken as input.  Using "-overwrite" allows the user to overwrite the current file, or to add the extension(s) to multiple files, overwriting them.</p><p>e.g. to add a comment about the dataset: nifti_tool -add_comment "converted from MY_AFNI_DSET+orig"  <em>-prefix</em> dnew                                      <em>-infiles</em> dset0.nii</p><p>e.g. to add multiple extensions: nifti_tool -add_comment  "add a comment extension"          <em>-add_afni_ext</em> "and an AFNI XML style extension"   <em>-add_comment</em>  "dataset copied from dset0.nii"     <em>-prefix</em> dnew -infiles dset0.nii</p><p><em>-rm_ext</em> INDEX     : remove the extension given by INDEX</p><p>This option is used to remove any single extension from the dataset.  Multiple extensions require multiple options.</p><p>notes  - extension indices begin with 0 (zero)</p><ul>
<li><p>to view the current extensions, see "-disp_exts"</p></li><li><p>all exensions can be removed using ALL or -1 for INDEX</p></li>
</ul><p>e.g. to remove the extension #0: nifti_tool -rm_ext 0 -overwrite -infiles dset0.nii</p><p>e.g. to remove ALL extensions: nifti_tool -rm_ext ALL -prefix dset1 -infiles dset0.nii nifti_tool -rm_ext -1  -prefix dset1 -infiles dset0.nii</p><p>e.g. to remove the extensions #2, #3 and #5: nifti_tool -rm_ext 2 -rm_ext 3 -rm_ext 5 -overwrite  <em>-infiles</em> dset0.nii</p><p><strong>Difference options</strong><strong></strong></p><p><em>-diff_hdr</em>         : display header field diffs between two datasets</p><p>This option is used to find differences between two datasets. If any fields are different, the contents of those fields is displayed (unless the "-quiet" option is used).</p><p>A list of fields can be specified by using multiple "-field" options.  If no "-field" option is given, all fields will be checked.</p><p>Exactly two dataset names must be provided via "-infiles".</p><p>e.g. to display all nifti_1_header field differences: nifti_tool -diff_hdr -infiles dset0.nii dset1.nii</p><p>e.g. to display selected nifti_1_header field differences: nifti_tool -diff_hdr -field dim -field intent_code   <em>-infiles</em> dset0.nii dset1.nii</p><p><em>-diff_nim</em>         : display nifti_image field diffs between datasets</p><p>This option works the same as "-diff_hdr", except that the fields in question are from the nifti_image structure.</p><p><strong>Miscellaneous options</strong><strong></strong></p><p><em>-debug</em> LEVEL      : set the debugging level</p><p>Level 0 will attempt to operate with no screen output, but errors. Level 1 is the default. Levels 2 and 3 give progressively more infomation.</p><p>e.g. -debug 2</p><p><em>-field</em> FIELDNAME  : provide a field to work with</p><p>This option is used to provide a field to display, modify or compare.  This option can be used along with one of the action options presented above.</p><p>See "-disp_hdr", above, for complete examples.</p><p>e.g. nifti_tool -field descrip e.g. nifti_tool -field descrip -field dim</p><p><em>-infiles</em> file0... : provide a list of files to work with</p><p>This parameter is required for any of the actions, in order to provide a list of files to process.  If input filenames do not have an extension, the directory we be searched for any appropriate files (such as .nii or .hdr).</p><p><strong>Note:</strong> if the filename has the form MAKE_IM, then a new dataset will be created, without the need for file input.</p><p>See "-mod_hdr", above, for complete examples.</p><p>e.g. nifti_tool -infiles file0.nii e.g. nifti_tool -infiles file1.nii file2 file3.hdr</p><p><em>-mod_field</em> NAME "VALUE_LIST" : provide new values for a field</p><p>This parameter is required for any the modification actions. If the user wants to modify any fields of a dataset, this is where the fields and values are specified.</p><p>NAME is a field name (in either the nifti_1_header structure or the nifti_image structure).  If the action option is "-mod_hdr", then NAME must be the name of a nifti_1_header field.  If the action is "-mod_nim", NAME must be from a nifti_image structure.</p><p>VALUE_LIST must be one or more values, as many as are required for the field, contained in quotes if more than one is provided.</p><p>Use "nifti_tool -help_hdr" to get a list of nifti_1_header fields Use "nifti_tool -help_nim" to get a list of nifti_image fields</p><p>See "-mod_hdr", above, for complete examples.</p><p>e.g. modifying nifti_1_header fields: <em>-mod_field</em> descrip "toga, toga, toga"</p><p><em>-mod_field</em> qoffset_x 19.4 -mod_field qoffset_z -11</p><p><em>-mod_field</em> pixdim "1 0.9375 0.9375 1.2 1 1 1 1"</p><p><em>-keep_hist</em>         : add the command as COMMENT (to the "history")</p><p>When this option is used, the current command will be added as a NIFTI_ECODE_COMMENT type extension.  This provides the ability to keep a history of commands affecting a dataset.</p><p>e.g. -keep_hist</p><p><em>-overwrite</em>        : any modifications will be made to input files</p><p>This option is used so that all field modifications, including extension additions or deletions, will be made to the files that are input.</p><p>In general, the user is recommended to use the "-prefix" option to create new files.  But if overwriting the contents of the input files is prefered, this is how to do it.</p><p>See "-mod_hdr" or "-add_afni_ext", above, for complete examples.</p><p>e.g. -overwrite</p><p><em>-prefix</em>           : specify an output file to write change into</p><p>This option is used to specify an output file to write, after modifications have been made.  If modifications are being made, then either "-prefix" or "-overwrite" is required.</p><p>If no extension is given, the output extension will be ".nii".</p><p>e.g. -prefix new_dset e.g. -prefix new_dset.nii e.g. -prefix new_dset.hdr</p><p><em>-quiet</em>            : report only errors or requested information</p><p>This option is equivalent to "-debug 0".</p><p><strong>Help options</strong><strong></strong></p><p><em>-help</em>             : show this help</p><p>e.g.  nifti_tool -help</p><p><em>-help_hdr</em>         : show nifti_1_header field info</p><p>e.g.  nifti_tool -help_hdr</p><p><em>-help_nim</em>         : show nifti_image field info</p><p>e.g.  nifti_tool -help_nim</p><p><em>-help_ana</em>         : show nifti_analyze75 field info</p><p>e.g.  nifti_tool -help_ana</p><p><em>-help_datatypes</em> [TYPE] : display datatype table</p><p>e.g.  nifti_tool -help_datatypes e.g.  nifti_tool -help_datatypes N</p><p>This displays the contents of the nifti_type_list table. An additional "D" or "N" parameter will restrict the type name to "DT_" or "NIFTI_TYPE_" names, "T" will test.</p><p><em>-ver</em>              : show the program version number</p><p>e.g.  nifti_tool -ver</p><p><em>-hist</em>             : show the program modification history</p><p>e.g.  nifti_tool -hist</p><p><em>-nifti_ver</em>        : show the nifti library version number</p><p>e.g.  nifti_tool -nifti_ver</p><p><em>-nifti_hist</em>       : show the nifti library modification history</p><p>e.g.  nifti_tool -nifti_hist</p><p><em>-with_zlib</em>        : print whether library was compiled with zlib</p><p>e.g.  nifti_tool -with_zlib</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p><em>A. checks header (for problems):</em></p><p>1. nifti_tool -check_hdr -infiles dset0.nii dset1.nii 2. nifti_tool -check_hdr -infiles *.nii *.hdr 3. nifti_tool -check_hdr -quiet -infiles *.nii *.hdr</p><p><em>B. show header differences:</em></p><p>1. nifti_tool -diff_hdr -field dim -field intent_code   <em>-infiles</em> dset0.nii dset1.nii</p><p>2. nifti_tool -diff_hdr -new_dims 3 10 20 30 0 0 0 0    <em>-infiles</em> my_dset.nii MAKE_IM</p><p><em>C. display structures or fields:</em></p><p>1. nifti_tool -disp_hdr -infiles dset0.nii dset1.nii dset2.nii 2. nifti_tool -disp_hdr -field dim -field descrip -infiles dset.nii 3. nifti_tool -disp_exts -infiles dset0.nii dset1.nii dset2.nii 4. nifti_tool -disp_ts 23 0 172 -infiles dset1_time.nii 5. nifti_tool -disp_ci 23 0 172 -1 0 0 0 -infiles dset1_time.nii</p><p>6. nifti_tool -disp_ana -infiles analyze.hdr 7. nifti_tool -disp_nim -infiles nifti.nii</p><p><em>D. create a new dataset from nothing:</em></p><p>1. nifti_tool -make_im -prefix new_im.nii 2. nifti_tool -make_im -prefix float_im.nii  <em>-new_dims</em> 3 10 20 30 0 0 0 0  -new_datatype 16</p><p>3. nifti_tool -mod_hdr -mod_field descrip "dataset with mods"   <em>-new_dims</em> 3 10 20 30 0 0 0 0                       <em>-prefix</em> new_desc.nii -infiles MAKE_IM</p><p><em>E. copy dataset, brick list or collapsed image:</em></p><p>1. nifti_tool -copy_im -prefix new.nii -infiles dset0.nii 2. nifti_tool -cbl -prefix new_07.nii -infiles dset0.nii"[0,7]" 3. nifti_tool -cbl -prefix new_partial.nii  <em>-infiles</em> dset0.nii"[3..$(2)]"</p><p>4. nifti_tool -cci 5 4 17 -1 -1 -1 -1 -prefix new_5_4_17.nii 5. nifti_tool -cci 5 0 17 -1 -1 2 -1  -keep_hist  <em>-prefix</em> new_5_0_17_2.nii</p><p><em>F. modify the header (modify fields or swap entire header):</em></p><p>1. nifti_tool -mod_hdr -prefix dnew -infiles dset0.nii   <em>-mod_field</em> dim "4 64 64 20 30 1 1 1 1"</p><p>2. nifti_tool -mod_hdr -prefix dnew -infiles dset0.nii   <em>-mod_field</em> descrip "beer, brats and cheese, mmmmm..."</p><p>3. cp old_dset.hdr nifti_swap.hdr nifti_tool -swap_as_nifti -overwrite -infiles nifti_swap.hdr 4. cp old_dset.hdr analyze_swap.hdr nifti_tool -swap_as_analyze -overwrite -infiles analyze_swap.hdr 5. nifti_tool -swap_as_old -prefix old_swap.hdr -infiles old_dset.hdr nifti_tool -diff_hdr -infiles nifti_swap.hdr old_swap.hdr</p><p><em>G. strip, add or remove extensions:</em> (in example #3, the extension is copied from a text file)</p><p>1. nifti_tool -strip -overwrite -infiles *.nii 2. nifti_tool -add_comment "converted from MY_AFNI_DSET+orig"  <em>-prefix</em> dnew -infiles dset0.nii</p><p><em>3. nifti_tool -add_comment "file:my.extension.txt" &#92;fR</em> <em>-prefix</em> dnew -infiles dset0.nii</p><p>4. nifti_tool -rm_ext ALL -prefix dset1 -infiles dset0.nii 5. nifti_tool -rm_ext 2 -rm_ext 3 -rm_ext 5 -overwrite  <em>-infiles</em> dset0.nii</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nifti_tool&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/libnifti.1.html"><strong>libnifti</strong>(1)</a>, <a href="../man1/nifti1_test.1.html"><strong>nifti1_test</strong>(1)</a>, <a href="../man1/nifti_stats.1.html"><strong>nifti_stats</strong>(1)</a>.</p><p>Homepage: <em>http://niftilib.sourceforge.net</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The <strong>NIfTI</strong> libraries were written by the NIfTI Data Format Working Group (DFWG, <em>http://nifti.nimh.nih.gov/</em> ).</p><p>This manual page was generated by a custom script, written by Michael Hanke &lt;michael.hanke@gmail.com&gt; (available within the Debian package) from the help output of the nifti_tool binary.'</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="nifti_stats.1.html"><span aria-hidden="true">&larr;</span> nifti_stats.1: Compute nifti statistical functions</a></li>
   <li class="next"><a href="niftidump.1.html">niftidump.1: Vtk-dicom cli <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
