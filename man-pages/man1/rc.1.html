<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rc: Shell</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shell">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rc (1) manual">
  <meta name="twitter:description" content="Shell">
  <meta name="twitter:image" content="https://www.carta.tech/images/rc-rc-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rc.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rc (1) manual" />
  <meta property="og:description" content="Shell" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/rc-rc-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rc<small> (1)</small></h1>
        <p class="lead">Shell</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rc.1.html">
      <span itemprop="name">rc: Shell</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/rc/">
      <span itemprop="name">rc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rc.1.html">
      <span itemprop="name">rc: Shell</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>rc</strong> [<strong>-deiIlnopsvx</strong>] [<strong>-c</strong> <em>command</em>] [<em>arguments</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>rc</em> is a command interpreter and programming language similar to <em>sh</em>(1). It is based on the AT&T Plan 9 shell of the same name. The shell offers a C-like syntax (much more so than the C shell), and a powerful mechanism for manipulating variables. It is reasonably small and reasonably fast, especially when compared to contemporary shells. Its use is intended to be interactive, but the language lends itself well to scripts.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>If</p>
  </dt>
  <dd>
    <p>is present, commands are executed from the immediately following argument. Any further arguments to <em>rc</em> are placed in Thus:</p>
<pre>

</pre>

  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>prints out</p>
  </dd>
  <dt>
    <p>This flag causes</p>
  </dt>
  <dd>
    <p><em>rc</em> not to ignore or Thus <em>rc</em> can be made to dump core if sent This flag is only useful for debugging <em>rc</em>.</p>
  </dd>
  <dt>
    <p>If the</p>
  </dt>
  <dd>
    <p>flag is present, then <em>rc</em> will exit if the exit status of a command is false (nonzero). <em>rc</em> will not exit, however, if a conditional fails, e.g., an command.</p>
  </dd>
  <dt>
    <p>If the</p>
  </dt>
  <dd>
    <p>flag is present or if the input to <em>rc</em> is from a terminal (as determined by <a href="../man3/isatty.3.html"><strong>isatty</strong>(3)</a>) then <em>rc</em> will be in <em>interactive</em> mode. That is, a prompt (from will be printed before an input line is taken, and <em>rc</em> will ignore</p>
  </dd>
  <dt>
    <p>If the</p>
  </dt>
  <dd>
    <p>flag is present, or if the input to <em>rc</em> is not from a terminal, then <em>rc</em> will not be in interactive mode. No prompts will be printed, and will cause <em>rc</em> to exit.</p>
  </dd>
  <dt>
    <p>If the</p>
  </dt>
  <dd>
    <p>flag is present, or if <em>rc</em>'s is a dash then <em>rc</em> will behave as a login shell. That is, it will run commands from if this file exists, before reading any other input.</p>
  </dd>
  <dt>
    <p>This flag causes</p>
  </dt>
  <dd>
    <p><em>rc</em> to read its input and parse it, but not to execute any commands. This is useful for syntax checking on scripts. If used in combination with the flag, <em>rc</em> will print each command as it is parsed in a form similar to the one used for exporting functions into the environment.</p>
  </dd>
  <dt>
    <p>This flag prevents the usual practice of trying to open</p>
  </dt>
  <dd>
    <p>on file descriptors 0, 1, and 2, if any of those descriptors are inherited closed.</p>
  </dd>
  <dt>
    <p>This flag prevents</p>
  </dt>
  <dd>
    <p><em>rc</em> from initializing shell functions from the environment. This allows <em>rc</em> to run in a protected mode, whereby it becomes more difficult for an <em>rc</em> script to be subverted by placing false commands in the environment. (Note that the presence of this flag does <em>not</em> mean that it is safe to run setuid <em>rc</em> scripts; the usual caveats about the setuid bit still apply.)</p>
  </dd>
  <dt>
    <p>This flag causes</p>
  </dt>
  <dd>
    <p><em>rc</em> to read from standard input. Any arguments are placed in</p>
  </dd>
  <dt>
    <p>This flag causes</p>
  </dt>
  <dd>
    <p><em>rc</em> to echo its input to standard error as it is read.</p>
  </dd>
  <dt>
    <p>This flag causes</p>
  </dt>
  <dd>
    <p><em>rc</em> to print every command on standard error before it is executed. It can be useful for debugging <em>rc</em> scripts.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>A simple command is a sequence of words, separated by white space (space and tab) characters that ends with a newline, semicolon or ampersand The first word of a command is the name of that command. If the name begins with or then the name is used as an absolute path name referring to an executable file. Otherwise, the name of the command is looked up in a table of shell functions, builtin commands, or as a file in the directories named by</p><h3>Background Tasks</h3>
<p>A command ending with is run in the background; that is, the shell returns immediately rather than waiting for the command to complete. Background commands have connected to their standard input unless an explicit redirection for standard input is used.</p>
<h3>Subshells</h3>
<p>A command prefixed with an at-sign is executed in a subshell. This insulates the parent shell from the effects of state changing operations such as a <strong>cd</strong> or a variable assignment. For example:</p><p>will run <a href="../man1/make.1.html"><strong>make</strong>(1)</a> in the parent directory but leaves the shell running in the current directory.</p>
<h3>Line continuation</h3>
<p>A long logical line may be continued over several physical lines by terminating each line (except the last) with a backslash The backslash-newline sequence is treated as a space. A backslash is not otherwise special to <em>rc</em>. (In addition, inside quotes a backslash loses its special meaning even when it is followed by a newline.)</p>
<h3>Quoting</h3>
<p><em>rc</em> interprets several characters specially; special characters automatically terminate words. The following characters are special:</p><p>The single quote prevents special treatment of any character other than itself. All characters, including control characters, newlines, and backslashes between two quote characters are treated as an uninterpreted string. A quote character itself may be quoted by placing two quotes in a row. The minimal sequence needed to enter the quote character is The empty string is represented by Thus:</p><p>prints out</p><p>The number sign begins a comment in <em>rc</em>. All characters up to but not including the next newline are ignored. Note that backslash continuation does not work inside a comment, i.e., the backslash is ignored along with everything else.</p>
<h3>Grouping</h3>
<p>Zero or more commands may be grouped within braces and and are then treated as one command. Braces do not otherwise define scope; they are used only for command grouping. In particular, be wary of the command:</p><p>Since pipe binds tighter than this command does not perform what the user expects it to. Instead, enclose the whole statement in braces:</p><p>Fortunately, <em>rc</em>'s grammar is simple enough that a (confident) user can understand it by examining the skeletal <strong>yacc</strong>(1) grammar at the end of this man page (see the section entitled <strong>GRAMMAR</strong>).</p>
<h3>Input and output</h3>
<p>The standard output may be redirected to a file with</p><p>and the standard input may be taken from a file with</p><p>Redirections can appear anywhere in the line: the word following the redirection symbol is the filename and must be quoted if it contains spaces or other special characters. These are all equivalent.</p><p>File descriptors other than 0 and 1 may be specified also. For example, to redirect standard error to a file, use:</p><p>In order to duplicate a file descriptor, use Thus to redirect both standard output and standard error to the same file, use</p><p>As in <em>sh</em>, redirections are processed from left to right. Thus this sequence</p><p>is usually a mistake. It first duplicates standard error to standard output; then redirects standard output to a file, leaving standard error wherever standard output originally was.</p><p>To close a file descriptor that may be open, use For example, to close file descriptor 7:</p><p>Note that no spaces may appear in these constructs:</p><p>would send the output of the command to a file named with the intended filename appearing in the command's argument list.</p><p>In order to place the output of a command at the end of an already existing file, use:</p><p>If the file does not exist, then it is created.</p><p>&ldquo;Here documents&rdquo; are supported as in <em>sh</em> with the use of</p><p>Subsequent lines form the standard input of the command, till a line containing just the marker, in this case is encountered.</p><p>If the end-of-file marker is enclosed in quotes, then no variable substitution occurs inside the here document. Otherwise, every variable is substituted by its space-separated-list value (see <strong>Flat Lists</strong>, below), and if a character follows a variable name, it is deleted. This allows the unambiguous use of variables adjacent to text, as in</p><p>To include a literal in a here document when an unquoted end-of-file marker is being used, enter it as</p><p>Additionally, <em>rc</em> supports &ldquo;here strings&rdquo;, which are like here documents, except that input is taken directly from a string on the command line. Their use is illustrated here:</p><p>(This feature enables <em>rc</em> to export functions using here documents into the environment; the author does not expect users to find this feature useful.)</p>
<h3>Pipes</h3>
<p>Two or more commands may be combined in a pipeline by placing the vertical bar between them. The standard output (file descriptor 1) of the command on the left is tied to the standard input (file descriptor 0) of the command on the right. The notation indicates that file descriptor <em>n</em> of the left process is connected to file descriptor <em>m</em> of the right process. is a shorthand for As an example, to pipe the standard error of a command to <em>wc</em>(1), use:</p><p>As with file redirections, no spaces may occur in the construct specifying numbered file descriptors.</p><p>The exit status of a pipeline is considered true if and only if every command in the pipeline exits true.</p>
<h3>Commands as Arguments</h3>
<p>Some commands, like <a href="../man1/cmp.1.html"><strong>cmp</strong>(1)</a> or <a href="../man1/diff.1.html"><strong>diff</strong>(1)</a>, take their arguments on the command line, and do not read input from standard input. It is convenient sometimes to build nonlinear pipelines so that a command like <em>cmp</em> can read the output of two other commands at once. <em>rc</em> does it like this:</p><p>compares the output of the two commands in braces. Note: since this form of redirection is implemented with some kind of pipe, and since one cannot <a href="../man2/lseek.2.html"><strong>lseek</strong>(2)</a> on a pipe, commands that use <a href="../man2/lseek.2.html"><strong>lseek</strong>(2)</a> will hang. For example, some versions of <a href="../man1/diff.1.html"><strong>diff</strong>(1)</a> use <a href="../man2/lseek.2.html"><strong>lseek</strong>(2)</a> on their inputs.</p><p>Data can be sent down a pipe to several commands using <a href="../man1/tee.1.html"><strong>tee</strong>(1)</a> and the output version of this notation:</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTROL STRUCTURES</h2>
        <div class="sectioncontent">
<p>The following may be used for control flow in <em>rc</em>:</p><h3>If-Else Statements</h3>
<p><em>    cmd</em></p>
<dl class='dl-vertical'>
  <dt>
    <p>The</p>
  </dt>
  <dd>
    <p><em>test</em> is executed, and if its return status is zero, the first command is executed, otherwise the second is. Braces are not mandatory around the commands. However, an statement is valid only if it follows a close-brace on the same line. Otherwise, the is taken to be a simple-if:</p>
  </dd>

</dl>

<h3>While and For Loops</h3>

<dl class='dl-vertical'>
  <dt>
    <p><em>rc</em></p>
  </dt>
  <dd>
    <p>executes the <em>test</em> and performs the command as long as the <em>test</em> is true.</p>
  </dd>
  <dt>
    <p><em>rc</em></p>
  </dt>
  <dd>
    <p>sets <em>var</em> to each element of <em>list</em> (which may contain variables and backquote substitutions) and runs <em>cmd</em>. If <em>list</em>&rdquo; is omitted, then <em>rc</em> will set <em>var</em> to each element of For example:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>will set to the name of each file in the current directory that is executable.</p>
  </dd>

</dl>

<h3>Switch</h3>

<dl class='dl-vertical'>
  <dt>
    <p><em>rc</em></p>
  </dt>
  <dd>
    <p>looks inside the braces after a for statements beginning with the word If any of the patterns following match the list supplied to then the commands up until the next statement are executed. The metacharacters or should not be quoted; matching is performed only against the strings in <em>list</em>, not against file names. (Matching for case statements is the same as for the command.)</p>
  </dd>

</dl>

<h3>Logical Operators</h3>
<p>There are a number of operators in <em>rc</em> which depend on the exit status of a command.</p><p>executes the first command and then executes the second command if and only if the first command exits with a zero exit status (&ldquo;true&rdquo; in Unix).</p><p>executes the first command and then executes the second command if and only if the first command exits with a nonzero exit status (&ldquo;false&rdquo; in Unix).</p><p>negates the exit status of a command.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PATTERN MATCHING</h2>
        <div class="sectioncontent">
<p>There are two forms of pattern matching in <em>rc</em>. One is traditional shell globbing. This occurs in matching for file names in argument lists:</p><p>When the characters or occur in an argument or command, <em>rc</em> looks at the argument as a pattern for matching against files. (Contrary to the behavior other shells exhibit, <em>rc</em> will only perform pattern matching if a metacharacter occurs unquoted and literally in the input. Thus,</p><p>will always echo just a star. In order for non-literal metacharacters to be expanded, an statement must be used in order to rescan the input.) Pattern matching occurs according to the following rules: a matches any number (including zero) of characters. A matches any single character, and a followed by a number of characters followed by a matches a single character in that class. The rules for character class matching are the same as those for <em>ed</em>(1), with the exception that character class negation is achieved with the tilde not the caret since the caret already means something else in <em>rc</em>.</p><p><em>rc</em> also matches patterns against strings with the command:</p><p>sets to zero if and only if a supplied pattern matches any single element of the subject list. Thus</p><p>sets status to zero, while</p><p>sets status to one. The null list is matched by the null list, so</p><p>checks to see whether is empty or not. This may also be achieved by the test</p><p>Note that inside a command <em>rc</em> does not match patterns against file names, so it is not necessary to quote the characters and However, <em>rc</em> does expand the subject against filenames if it contains metacharacters. Thus, the command</p><p>returns true if any of the files in the current directory have a single-character name. If the command is given a list as its first argument, then a successful match against any of the elements of that list will cause to return true. For example:</p><p>is true.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LISTS AND VARIABLES</h2>
        <div class="sectioncontent">
<p>The primary data structure in <em>rc</em> is the list, which is a sequence of words. Parentheses are used to group lists. The empty list is represented by Lists have no hierarchical structure; a list inside another list is expanded so the outer list contains all the elements of the inner list. Thus, the following are all equivalent</p><p>Note that the null string, and the null list, are two very different things. Assigning the null string to a variable is a valid operation, but it does not remove its definition.</p><p>produces the output</p><h3>List Concatenation</h3>
<p>Two lists may be joined by the concatenation operator Concatenation works according to the following rules: if the two lists have the same number of elements, then concatenation is pairwise:</p><p>produces the output</p><p>Otherwise, at least one of the lists must have a single element, and then the concatenation is distributive:</p><p>has the effect of performing the command</p><p>A single word is a list of length one, so</p><p>produces the output</p>
<h3>Free Carets</h3>
<p><em>rc</em> inserts carets (concatenation operators) for free in certain situations, in order to save some typing on the user's behalf. For example, the above example could also be typed in as:</p><p><em>rc</em> takes care to insert a free-caret between the and as well as between and The rule for free carets is as follows:  if a word or keyword is immediately followed by another word, keyword, dollar-sign or backquote, then <em>rc</em> inserts a caret between them.</p>
<h3>Variables</h3>
<p>A list may be assigned to a variable, using the notation:</p><p>The special variable may also be assigned to using this notation; <em>rc</em> has no <strong>set</strong> builtin.</p><p>Any non-empty sequence of characters, except a sequence including only digits, may be used as a variable name. Any character except may be used, but special characters must be quoted. All user-defined variables are exported into the environment.</p><p>The value of a variable is referenced with the dollar operator:</p><p>Any variable which has not been assigned a value returns the null list, when referenced. Multiple references are allowed:</p><p>prints</p><p>A variable's definition may also be removed by assigning the null list to a variable:</p><p>For &ldquo;free careting&rdquo; to work correctly, <em>rc</em> must make certain assumptions about what characters may appear in a variable name. <em>rc</em> assumes that a variable name consists only of alphanumeric characters, underscore and star To reference a variable with other characters in its name, quote the variable name. Thus:</p>
<h3>Local Variables</h3>
<p>Any number of variable assignments may be made local to a single command by typing:</p><p>The command may be a compound command, so for example:</p><p>sets to and removes for the duration of one long compound command.</p>
<h3>Variable Subscripts</h3>
<p>Variables may be subscripted with the notation</p><p>where <em>n</em> is a list of integers (origin 1). The opening parenthesis must immediately follow the variable name. The list of subscripts need not be in order or even unique. Thus,</p><p>prints</p><p>If <em>n</em> references a nonexistent element, then returns the null list. The notation where <em>n</em> is an integer, is a shorthand for Thus, <em>rc</em>'s arguments may be referred to as and so on.</p><p>Note also that the list of subscripts may be given by any of <em>rc</em>'s list operations:</p><p>returns the first 10 elements of</p><p>To count the number of elements in a variable, use</p><p>This returns a single-element list, with the number of elements in</p>
<h3>Flat Lists</h3>
<p>In order to create a single-element list from a multi-element list, with the components space-separated, use the dollar-caret operator:</p><p>This is useful when the normal list concatenation rules need to be bypassed. For example, to append a single period at the end of use:</p>
<h3>Backquote Substitution</h3>
<p>A list may be formed from the output of a command by using backquote substitution:</p><p>returns a list formed from the standard output of the command in braces. is used to split the output into list elements. By default, has the value space-tab-newline. The braces may be omitted if the command is a single word. Thus may be used instead of This last feature is useful when defining functions that expand to useful argument lists. A frequent use is:</p><p>followed by</p><p>(This will print out a word-count of all C source files in the current directory.)</p><p>In order to override the value of for a single backquote substitution, use:</p><p>will be temporarily ignored and the command's output will be split as specified by the list following the double backquote. For example:</p><p>splits up into fields, assuming that contains a newline as its value.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIAL VARIABLES</h2>
        <div class="sectioncontent">
<p>Several variables are known to <em>rc</em> and are treated specially. In the following list, &ldquo;default&rdquo; indicates that <em>rc</em> gives the variable a default value on startup; &ldquo;no-export&rdquo; indicates that the variable is never exported; and &ldquo;read-only&rdquo; indicates that an attempt to set the variable will silently have no effect.</p><p>Also, &ldquo;alias&rdquo; means that the variable is aliased to the same name in capitals. For example, an assignment to causes an automatic assignment to and vice-versa. If is set when <em>rc</em> is started, its value is imported into and are <em>rc</em> lists; and are colon-separated lists. Only the names spelt in capitals are exported into the environment.</p>
<dl class='dl-vertical'>
  <dt>
    <p>The argument list of</p>
  </dt>
  <dd>
    <p><em>rc</em>. etc. are the same as etc.</p>
  </dd>
  <dt>
    <p>The variable</p>
  </dt>
  <dd>
    <p>holds the value of with which <em>rc</em> was invoked. Additionally, is set to the name of a function for the duration of the execution of that function, and is also set to the name of the file being interpreted for the duration of a command. is not an element of and is never treated as one.</p>
  </dd>
  <dt>
    <p>The process ID of the last process started in the background.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>A list whose elements are the process IDs of all background processes</p>
  </dt>
  <dd>
    <p>which are still alive, or which have died and have not been waited for yet.</p>
  </dd>
  <dt>
    <p>The exit status of the</p>
  </dt>
  <dd>
    <p><em>rc</em> forked to execute the most recent backquote substitution.  Note that, unlike is always a single element list (see <strong>EXIT STATUS</strong> below).  For example:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>prints</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>whereas</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>prints</p>
  </dd>
  <dt>
    <p>A list of directories to search for the target of a</p>
  </dt>
  <dd>
    <p><strong>cd</strong> command. The empty string stands for the current directory. Note that if the variable does not contain the current directory, then the current directory will not be searched; this allows directory searching to begin in a directory other than the current directory.</p>
  </dd>
  <dt>
    <p>contains the name of a file to which commands are appended as</p>
  </dt>
  <dd>
    <p><em>rc</em> reads them. This facilitates the use of a stand-alone history program (such as <strong>history</strong>(1)) which parses the contents of the history file and presents them to <em>rc</em> for reinterpretation. If is not set, then <em>rc</em> does not append commands to any file.</p>
  </dd>
  <dt>
    <p>The default directory for the builtin</p>
  </dt>
  <dd>
    <p><strong>cd</strong> command, and the directory in which <em>rc</em> looks to find its initialization file, if <em>rc</em> has been started up as a login shell.</p>
  </dd>
  <dt>
    <p>The internal field separator, used for splitting up the output of</p>
  </dt>
  <dd>
    <p>backquote commands for digestion as a list.  On startup, <em>rc</em> assigns the list containing the characters space, tab, and newline to</p>
  </dd>
  <dt>
    <p>This is a list of directories to search in for commands.</p>
  </dt>
  <dd>
    <p>The empty string stands for the current directory. If neither nor is set at startup time, assumes a default value suitable for your system. This is typically</p>
  </dd>
  <dt>
    <p>On startup,</p>
  </dt>
  <dd>
    <p>is initialized to the numeric process ID of the currently running <em>rc</em>.</p>
  </dd>
  <dt>
    <p>This variable holds the two prompts (in list form, of course) that</p>
  </dt>
  <dd>
    <p><em>rc</em> prints. is printed before each command is read, and is printed when input is expected to continue on the next line. <em>rc</em> sets to by default. The reason for this is that it enables an <em>rc</em> user to grab commands from previous lines using a mouse, and to present them to <em>rc</em> for re-interpretation; the semicolon prompt is simply ignored by <em>rc</em>. The null also has its justification:  an <em>rc</em> script, when typed interactively, will not leave on the screen, and can therefore be grabbed by a mouse and placed directly into a file for use as a shell script, without further editing being necessary.</p>
  </dd>
  <dt>
    <p>If this function is defined, then it gets executed every time</p>
  </dt>
  <dd>
    <p><em>rc</em> is about to print</p>
  </dd>
  <dt>
    <p>The exit status of the last command.</p>
  </dt>
  <dd>
    <p>If the command exited with a numeric value, that number is the status. If the command died with a signal, the status is the name of that signal; if a core file was created, the string is appended. The value of for a pipeline is a list, with one entry, as above, for each process in the pipeline. For example, the command</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>usually sets to</p>
  </dd>
  <dt>
    <p>On startup, the first element of this list variable is initialized to</p>
  </dt>
  <dd>
    <p>a string which identifies this version of <em>rc</em>. The second element is initialized to a string which can be found by <a href="../man1/ident.1.html"><strong>ident</strong>(1)</a> and the <em>what</em> command of <strong>sccs</strong>(1).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p><em>rc</em> functions are identical to <em>rc</em> scripts, except that they are stored in memory and are automatically exported into the environment. A shell function is declared as:</p><p><em>rc</em> scans the definition until the close-brace, so the function can span more than one line. The function definition may be removed by typing</p><p>(One or more names may be specified. With an accompanying definition, all names receive the same definition. This is sometimes useful for assigning the same signal handler to many signals. Without a definition, all named functions are deleted.) When a function is executed, is set to the arguments to that function for the duration of the command. Thus a reasonable definition for a shorthand for <em>ls</em>(1), could be:</p><p>but not</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERRUPTS AND SIGNALS</h2>
        <div class="sectioncontent">
<p><em>rc</em> recognizes a number of signals, and allows the user to define shell functions which act as signal handlers. <em>rc</em> by default traps when it is in interactive mode. and are ignored, unless <em>rc</em> has been invoked with the flag. However, user-defined signal handlers may be written for these and all other signals. The way to define a signal handler is to write a function by the name of the signal in lower case. Thus:</p><p>In addition to Unix signals, <em>rc</em> recognizes the artificial signal which occurs as <em>rc</em> is about to exit.</p><p>In order to remove a signal handler's definition, remove it as though it were a regular function. For example:</p><p>returns the handler of to the default value. In order to ignore a signal, set the signal handler's value to Thus:</p><p>causes to be ignored by the shell. Only signals that are being ignored are passed on to programs run by <em>rc</em>; signal functions are not exported.</p><p>On System V-based Unix systems, <em>rc</em> will not allow you to trap</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUILTIN COMMANDS</h2>
        <div class="sectioncontent">
<p>Builtin commands execute in the context of the shell, but otherwise behave exactly like other commands. Although <strong>!</strong>, <strong>~</strong> and <strong>@</strong> are not strictly speaking builtin commands, they can usually be used as such.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>.</strong> [<strong>-i</strong>] <em>file </em>[<em>arg ...</em>]</p>
  </dt>
  <dd>
    <p>Reads <em>file</em> as input to <em>rc</em> and executes its contents. With a flag, input is interactive. Thus from within a shell script,</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>does the &ldquo;right thing&rdquo;.</p>
  </dd>
  <dt>
    <p><strong>break</strong></p>
  </dt>
  <dd>
    <p>Breaks from the innermost or as in C. It is an error to invoke <strong>break</strong> outside of a loop. (Note that there is no <strong>break</strong> keyword between commands in statements, unlike C.)</p>
  </dd>
  <dt>
    <p><strong>builtin </strong><em>command </em>[<em>arg ...</em>]</p>
  </dt>
  <dd>
    <p>Executes the command ignoring any function definition of the same name. This command is present to allow functions with the same names as builtins to use the underlying builtin or binary. For example:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>is a reasonable way to pass a default set of arguments to whereas</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>is a non-terminating recursion, which will cause to exhaust its stack space and (eventually) terminate if it is executed.</p>
  </dd>
  <dt>
    <p><strong>cd </strong>[<em>directory</em>]</p>
  </dt>
  <dd>
    <p>Changes the current directory to <em>directory</em>. The variable is searched for possible locations of <em>directory</em>, analogous to the searching of for executable files. With no argument, <strong>cd</strong> changes the current directory to</p>
  </dd>
  <dt>
    <p><strong>echo </strong>[<strong>-n</strong>] [<strong>-\|-</strong>] [<em>arg ...</em>]</p>
  </dt>
  <dd>
    <p>Prints its arguments to standard output, terminated by a newline. Arguments are separated by spaces. If the first argument is no final newline is printed. If the first argument is then all other arguments are echoed literally. This is used for echoing a literal</p>
  </dd>
  <dt>
    <p><strong>eval </strong>[<em>list</em>]</p>
  </dt>
  <dd>
    <p>Concatenates the elements of <em>list</em> with spaces and feeds the resulting string to <em>rc</em> for re-scanning. This is the only time input is rescanned in <em>rc</em>.</p>
  </dd>
  <dt>
    <p><strong>exec </strong>[<em>arg ...</em>]</p>
  </dt>
  <dd>
    <p>Replaces <em>rc</em> with the given command. If the exec contains only redirections, then these redirections apply to the current shell and the shell does not exit. For example,</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>places further output to standard error in the file <em>err.out</em>.</p>
  </dd>
  <dt>
    <p><strong>exit </strong>[<em>status</em>]</p>
  </dt>
  <dd>
    <p>Cause the current shell to exit with the given exit <em>status</em>. If no argument is given, the current value of is used.</p>
  </dd>
  <dt>
    <p><strong>limit </strong>[<strong>-h</strong>] [<em>resource </em>[<em>value</em>]]</p>
  </dt>
  <dd>
    <p>Similar to the <strong>csh</strong>(1) <strong>limit</strong> builtin, this command operates upon the BSD-style resource limits of a process. The flag displays/alters the hard limits. The resources which can be shown or altered are <strong>cputime</strong>, <strong>filesize</strong>, <strong>datasize</strong>, <strong>stacksize</strong>, <strong>coredumpsize</strong>, <strong>memoryuse</strong>, and, where supported, <strong>descriptors</strong>, <strong>memoryuse</strong>, <strong>memoryrss</strong>, <strong>maxproc</strong>, <strong>memorylocked</strong>, and <strong>filelocks</strong>. For example:</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>disables core dumps. To set a soft limit equal to the hard limit:</p>
  </dd>
  <dt>
    <p><strong>newpgrp</strong></p>
  </dt>
  <dd>
    <p>Puts <em>rc</em> into a new process group. This builtin is useful for making <em>rc</em> behave like a job-control shell in a hostile environment. One example is the NeXT Terminal program, which implicitly assumes that each shell it forks will put itself into a new process group.</p>
  </dd>
  <dt>
    <p><strong>return </strong>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Returns from the current function, with status <em>n</em>, where <em>n</em> is a valid exit status, or a list of them. Thus it is legal to have</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>(This is commonly used to allow a function to return with the exit status of a previously executed pipeline of commands.) If <em>n</em> is omitted, then is left unchanged. It is an error to invoke <strong>return</strong> when not inside a function.</p>
  </dd>
  <dt>
    <p><strong>shift </strong>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Deletes <em>n</em> elements from the beginning of and shifts the other elements down by <em>n</em>. <em>n</em> defaults to 1.</p>
  </dd>
  <dt>
    <p><strong>umask </strong>[<em>mask</em>]</p>
  </dt>
  <dd>
    <p>Sets the current umask (see <a href="../man2/umask.2.html"><strong>umask</strong>(2)</a>) to the octal <em>mask</em>. If no argument is present, the current mask value is printed.</p>
  </dd>
  <dt>
    <p><strong>wait </strong>[<em>pid</em>]</p>
  </dt>
  <dd>
    <p>Waits for process with the specified <em>pid</em>, which must have been started by <em>rc</em>, to exit. If no <em>pid</em> is specified, <em>rc</em> waits for all its child processes to exit.</p>
  </dd>
  <dt>
    <p><strong>whatis </strong>[<strong>-b</strong>] [<strong>-f</strong>] [<strong>-p</strong>] [<strong>-s</strong>] [<strong>-v</strong>] [<strong>-\|-</strong>] [<em>name ...</em>]</p>
  </dt>
  <dd>
    <p>Prints a definition of the named objects. For builtins, <em>foo</em> is printed; for functions, including signal handlers, their definitions are printed; for executable files, path names are printed; and for variables, their values are printed. The flags restrict output to builtins, functions, executable programs, signal handlers, and variables, respectively. If no <em>name</em>s are specified, <em>rc</em> lists all objects of that type. (This is not permitted for Without arguments, is equivalent to and prints the values of all shell variables and functions.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Note that <strong>whatis</strong> output is suitable for input to <em>rc</em>; by saving the output of <strong>whatis</strong> in a file, it should be possible to recreate the state of <em>rc</em> by sourcing this file with a command. Another note: cannot be used to store the state of <em>rc</em>'s signal handlers in a file, because builtins with redirections are run in a subshell, and <em>rc</em> always restores signal handlers to their default value after a</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Since <strong>whatis</strong> uses <a href="../man3/getopt.3.html"><strong>getopt</strong>(3)</a> to parse its arguments, you can use the special argument to terminate its flags. This allows you to use names beginning with a dash, such as the <strong>history</strong>(1) commands. For example,</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The <strong>shift</strong> builtin only shifts This function can shift any variable (except</p><p>With this definition in place,</p><p>prints</p><p>The operator flattens a list by separating each element with a space. This function allows the separator to be an arbitrary string.</p><p>With this definition in place,</p><p>prints (with no final newline)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The exit status of <em>rc</em> is normally the same as that of the last command executed. If the last command was a pipeline, <em>rc</em> exits if every command in the pipeline did; otherwise it exits</p><p><em>rc</em> can be made to exit with a particular status using the <strong>exit</strong> builtin.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GRAMMAR</h2>
        <div class="sectioncontent">
<p>Here is <em>rc</em>'s grammar, edited to remove semantic actions. %term ANDAND BACKBACK BANG CASE COUNT DUP ELSE END FLAT FN FOR IF IN %term OROR PIPE REDIR SUB SUBSHELL SWITCH TWIDDLE WHILE WORD HUH</p><p>%left WHILE &apos;)&apos; ELSE %left ANDAND OROR &apos;&#92;n&apos; %left BANG SUBSHELL %left PIPE %right &apos;$&apos; %left SUB</p><p>%start rc</p><p>%%</p><p>rc: line end 	| error end</p><p>end: END /* EOF */ | &apos;&#92;n&apos;</p><p>cmdsa: cmd &apos;;&apos; | cmd &apos;&&apos;</p><p>line: cmd | cmdsa line</p><p>body: cmd | cmdsan body</p><p>cmdsan: cmdsa | cmd &apos;&#92;n&apos;</p><p>brace: &apos;{&apos; body &apos;}&apos;</p><p>paren: &apos;(&apos; body &apos;)&apos;</p><p>assign: first &apos;=&apos; word</p><p>epilog: /* empty */ | redir epilog</p><p>redir: DUP | REDIR word</p><p>case: CASE words &apos;;&apos; | CASE words &apos;&#92;n&apos;</p><p>cbody: cmd | case cbody | cmdsan cbody</p><p>iftail: cmd	%prec ELSE 	| brace ELSE optnl cmd</p><p>cmd	: /* empty */	%prec WHILE 	| simple 	| brace epilog 	| IF paren optnl iftail 	| FOR &apos;(&apos; word IN words &apos;)&apos; optnl cmd 	| FOR &apos;(&apos; word &apos;)&apos; optnl cmd 	| WHILE paren optnl cmd 	| SWITCH &apos;(&apos; word &apos;)&apos; optnl &apos;{&apos; cbody &apos;}&apos; 	| TWIDDLE optcaret word words 	| cmd ANDAND optnl cmd 	| cmd OROR optnl cmd  	| cmd PIPE optnl cmd 	| redir cmd	%prec BANG 	| assign cmd	%prec BANG 	| BANG optcaret cmd 	| SUBSHELL optcaret cmd 	| FN words brace 	| FN words</p><p>optcaret: /* empty */ | &apos;^&apos;</p><p>simple: first | simple word | simple redir</p><p>first: comword | first &apos;^&apos; sword</p><p>sword: comword | keyword</p><p>word: sword | word &apos;^&apos; sword</p><p>comword: &apos;$&apos; sword 	| &apos;$&apos; sword SUB words &apos;)&apos; 	| COUNT sword 	| FLAT sword 	| &apos;&#96;&apos; sword 	| &apos;&#96;&apos; brace 	| BACKBACK word	brace | BACKBACK word sword 	| &apos;(&apos; words &apos;)&apos; 	| REDIR brace 	| WORD</p><p>keyword: FOR | IN | WHILE | IF | SWITCH 	| FN | ELSE | CASE | TWIDDLE | BANG | SUBSHELL</p><p>words: /* empty */ | words word</p><p>optnl: /* empty */ | optnl &apos;&#92;n&apos;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p><em>rc</em> was written by Byron Rakitzis, with valuable help from Paul Haahr, Hugh Redelmeier and David Sanderson. The design of this shell was copied from the <em>rc</em> that Tom Duff wrote at Bell Labs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There is a compile-time limit on the number of separated commands in a line: usually 500. This is sometimes a problem for automatically generated scripts: substituting the newline character for avoids the limit.</p><p>On modern systems that support or style redirection is implemented that way. However, on older systems it is implemented with named pipes. Allegedly, it is sometimes possible to foil <em>rc</em> into removing the FIFO it places in prematurely, or it is even possible to cause <em>rc</em> to hang. (The current maintainer has never seen this, but then he doesn't use systems which lack any more. If anybody can reproduce this problem, please let the maintainer know.)</p><p>The <strong>echo</strong> command does not need to be a builtin.  It is one for reasons of performance and portability (of <em>rc</em> scripts).</p><p>There should be a way to avoid exporting a variable.</p><p>Extra parentheses around a expression or a expression are a syntax error. Thus, this code is illegal.</p>
<dl class='dl-vertical'>
  <dt>
    <p>The redundant inner parentheses must be omitted.</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Variable subscripting cannot be used in here documents.</p><p>The builtin silently ignores extra arguments.</p><p>Backquote substitution never produces empty strings - multiple consecutive occurrences of the separator are treated the same as a single occurrence.</p><p>Bug reports should be mailed to</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INCOMPATIBILITIES</h2>
        <div class="sectioncontent">
<p>Here is a list of features which distinguish this incarnation of <em>rc</em> from the one described in the Bell Labs manual pages:</p><p>The Tenth Edition <em>rc</em> does not have the <strong>else</strong> keyword. Instead, <strong>if</strong> is optionally followed by an <strong>if not</strong> clause which is executed if the preceding <strong>if</strong> test does not succeed.</p><p>Backquotes are slightly different in Tenth Edition <em>rc</em>: a backquote must always be followed by a left-brace. This restriction is not present for single-word commands in this <em>rc</em>.</p><p>For <em>file</em>, the Tenth Edition <em>rc</em> searches for <em>file</em>. This <em>rc</em> does not, since it is not considered useful.</p><p>The list flattening operator, is spelt in those versions of the Bell Labs <em>rc</em> which have it.</p><p>The following are all new with this version of <em>rc</em>: The flag, here strings (they facilitate exporting of functions with here documents into the environment), the <strong>return</strong> and <strong>break</strong> keywords, the <strong>echo</strong> builtin, the and variables, the support for the GNU <strong>readline</strong>(3) library, and the support for the function. This <em>rc</em> also sets to the name of a function being executed/file being sourced.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rc&hellip;</h2>
        <div class="sectioncontent">
<p>&ldquo;rc &ndash; A Shell for Plan 9 and UNIX Systems&rdquo;, Unix Research System, Tenth Edition, Volume 2. (Saunders College Publishing)</p><p>an updated version of the above paper.</p><p><strong>history</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rbuic4.1.html"><span aria-hidden="true">&larr;</span> rbuic4.1: Qt/ruby user interface compiler.</a></li>
   <li class="next"><a href="rc-alert.1.html">rc-alert.1: Check for installed packages with release-critical bugs <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
