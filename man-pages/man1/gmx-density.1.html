<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>gmx-density: Calculate the density of the system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Calculate the density of the system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="gmx-density (1) manual">
  <meta name="twitter:description" content="Calculate the density of the system">
  <meta name="twitter:image" content="https://www.carta.tech/images/gromacs-data-gmx-density-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/gmx-density.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="gmx-density (1) manual" />
  <meta property="og:description" content="Calculate the density of the system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gromacs-data-gmx-density-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">gmx-density<small> (1)</small></h1>
        <p class="lead">Calculate the density of the system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gmx-density.1.html">
      <span itemprop="name">gmx-density: Calculate the density of the system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gromacs-data/">
      <span itemprop="name">gromacs-data</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/gmx-density.1.html">
      <span itemprop="name">gmx-density: Calculate the density of the system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>gmx density [-f [&lt;.xtc/.trr/...&gt;]] [-n [&lt;.ndx&gt;]]</p>
<pre>
            [-s [&lt;.tpr/.tpb/...&gt;]] [-ei [&lt;.dat&gt;]] [-o [&lt;.xvg&gt;]]
            [-nice &lt;int&gt;] [-b &lt;time&gt;] [-e &lt;time&gt;] [-dt &lt;time&gt;]
            [-[no]w] [-xvg &lt;enum&gt;] [-d &lt;string&gt;] [-sl &lt;int&gt;]
            [-dens &lt;enum&gt;] [-ng &lt;int&gt;] [-[no]center] [-[no]symm]
            [-[no]relative]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>gmx density</strong> computes partial densities across the box, using an index file.</p><p>For the total density of NPT simulations, use <strong>gmx energy</strong> instead.</p><p>Option <strong>-center</strong> performs the histogram binning relative to the center of an arbitrary group, in absolute box coordinates. If you are calculating profiles along the Z axis box dimension bZ, output would be from -bZ/2 to bZ/2 if you center based on the entire system. Note that this behaviour has changed in Gromacs 5.0; earlier versions merely performed a static binning in (0,bZ) and shifted the output. Now we compute the center for each frame and bin in (-bZ/2,bZ/2).</p><p>Option <strong>-symm</strong> symmetrizes the output around the center. This will automatically turn on <strong>-center</strong> too. Option <strong>-relative</strong> performs the binning in relative instead of absolute box coordinates, and scales the final output with the average box dimension along the output axis. This can be used in combination with <strong>-center</strong>.</p><p>Densities are in kg/m3, and number densities or electron densities can also be calculated. For electron densities, a file describing the number of electrons for each type of atom should be provided using <strong>-ei</strong>. It should look like: <strong>2</strong> <strong>atomname = nrelectrons</strong> <strong>atomname = nrelectrons</strong> The first line contains the number of lines to read from the file. There should be one line for each unique atom name in your system. The number of electrons for each atom is modified by its atomic partial charge.</p><p>IMPORTANT CONSIDERATIONS FOR BILAYERS</p><p>One of the most common usage scenarios is to calculate the density of various groups across a lipid bilayer, typically with the z axis being the normal direction. For short simulations, small systems, and fixed box sizes this will work fine, but for the more general case lipid bilayers can be complicated. The first problem that while both proteins and lipids have low volume compressibility, lipids have quite high area compressiblity. This means the shape of the box (thickness and area/lipid) will fluctuate substantially even for a fully relaxed system. Since Gromacs places the box between the origin and positive coordinates, this in turn means that a bilayer centered in the box will move a bit up/down due to these fluctuations, and smear out your profile. The easiest way to fix this (if you want pressure coupling) is to use the <strong>-center</strong> option that calculates the density profile with respect to the center of the box. Note that you can still center on the bilayer part even if you have a complex non-symmetric system with a bilayer and, say, membrane proteins - then our output will simply have more values on one side of the (center) origin reference.</p><p>Even the centered calculation will lead to some smearing out the output profiles, as lipids themselves are compressed and expanded. In most cases you probably want this (since it corresponds to macroscopic experiments), but if you want to look at molecular details you can use the <strong>-relative</strong> option to attempt to remove even more of the effects of volume fluctuations.</p><p>Finally, large bilayers that are not subject to a surface tension will exhibit undulatory fluctuations, where there are 'waves' forming in the system. This is a fundamental property of the biological system, and if you are comparing against experiments you likely want to include the undulation smearing effect.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options to specify input and output files:</p><p><strong>-f</strong><em> [&lt;.xtc/.trr/...&gt;] (traj.xtc) (Input)</em></p>
<pre>
    Trajectory: xtc trr cpt trj gro g96 pdb tng
</pre>
<p><strong>-n</strong><em> [&lt;.ndx&gt;] (index.ndx) (Input, Optional)</em></p>
<pre>
    Index file
</pre>
<p><strong>-s</strong><em> [&lt;.tpr/.tpb/...&gt;] (topol.tpr) (Input)</em></p>
<pre>
    Run input file: tpr tpb tpa
</pre>
<p><strong>-ei</strong><em> [&lt;.dat&gt;] (electrons.dat) (Input, Optional)</em></p>
<pre>
    Generic data file
</pre>
<p><strong>-o</strong><em> [&lt;.xvg&gt;] (density.xvg) (Output)</em></p>
<pre>
    xvgr/xmgr file
</pre>
<p>Other options:</p><p><strong>-nice</strong><em> &lt;int&gt; (19)</em></p>
<pre>
    Set the nicelevel
</pre>
<p><strong>-b</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    First frame (ps) to read from trajectory
</pre>
<p><strong>-e</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Last frame (ps) to read from trajectory
</pre>
<p><strong>-dt</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Only use frame when t MOD dt = first time (ps)
</pre>
<p><strong>-[no]w</strong><em>  (no)</em></p>
<pre>
    View output <strong>.xvg</strong>, <strong>.xpm</strong>, <strong>.eps</strong> and <strong>.pdb</strong> files
</pre>
<p><strong>-xvg</strong><em> &lt;enum&gt; (xmgrace)</em></p>
<pre>
    xvg plot formatting: xmgrace, xmgr, none
</pre>
<p><strong>-d</strong><em> &lt;string&gt; (Z)</em></p>
<pre>
    Take the normal on the membrane in direction X, Y or Z.
</pre>
<p><strong>-sl</strong><em> &lt;int&gt; (50)</em></p>
<pre>
    Divide the box in this number of slices.
</pre>
<p><strong>-dens</strong><em> &lt;enum&gt; (mass)</em></p>
<pre>
    Density: mass, number, charge, electron
</pre>
<p><strong>-ng</strong><em> &lt;int&gt; (1)</em></p>
<pre>
    Number of groups of which to compute densities.
</pre>
<p><strong>-[no]center</strong><em>  (no)</em></p>
<pre>
    Perform the binning relative to the center of the (changing) box. Useful for bilayers.
</pre>
<p><strong>-[no]symm</strong><em>  (no)</em></p>
<pre>
    Symmetrize the density along the axis, with respect to the center. Useful for bilayers.
</pre>
<p><strong>-[no]relative</strong><em>  (no)</em></p>
<pre>
    Use relative coordinates for changing boxes and scale output by average dimensions.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN ISSUES</h2>
        <div class="sectioncontent">
<p>- When calculating electron densities, atomnames are used instead of types. This is bad.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO gmx-density&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/gromacs.7.html"><strong>gromacs</strong>(7)</a></strong></p><p>More information about <strong>GROMACS</strong> is available at &lt;<em>http://www.gromacs.org/</em>&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gmx-current.1.html"><span aria-hidden="true">&larr;</span> gmx-current.1: Calculate dielectric constants and current autocorrelation function</a></li>
   <li class="next"><a href="gmx-densmap.1.html">gmx-densmap.1: Calculate 2d planar or axial-radial density maps <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
