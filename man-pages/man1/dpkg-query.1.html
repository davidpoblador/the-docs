<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dpkg-query: A tool to query the dpkg database</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A tool to query the dpkg database">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dpkg-query (1) manual">
  <meta name="twitter:description" content="A tool to query the dpkg database">
  <meta name="twitter:image" content="https://www.carta.tech/images/dpkg-dpkg-query-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dpkg-query.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dpkg-query (1) manual" />
  <meta property="og:description" content="A tool to query the dpkg database" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dpkg-dpkg-query-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dpkg-query<small> (1)</small></h1>
        <p class="lead">A tool to query the dpkg database</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dpkg-query.1.html">
      <span itemprop="name">dpkg-query: A tool to query the dpkg database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dpkg/">
      <span itemprop="name">dpkg</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dpkg-query.1.html">
      <span itemprop="name">dpkg-query: A tool to query the dpkg database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dpkg-query</strong> [<em>option</em>...] <em>command</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dpkg-query</strong> is a tool to show information about packages listed in the <strong>dpkg</strong> database.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-l</strong>, <strong>--list</strong> [<em>package-name-pattern</em>...]</p>
  </dt>
  <dd>
    <p>List packages matching given pattern. If no <em>package-name-pattern</em> is given, list all packages in <em>/var/lib/dpkg/status</em>, excluding the ones marked as not-installed (i.e. those which have been previously purged). Normal shell wildchars are allowed in <em>package-name-pattern</em>. Please note you will probably have to quote <em>package-name-pattern</em> to prevent the shell from performing filename expansion. For example this will list all package names starting with &ldquo;libc6&rdquo;:</p>
<pre>
  <strong>dpkg-query -l &apos;libc6*&apos;</strong>
</pre>
<p>The first three columns of the output show the desired action, the package status, and errors, in that order.</p><p>Desired action:</p>
<pre>
  u = Unknown
  i = Install
  h = Hold
  r = Remove
  p = Purge
</pre>
<p>Package status:</p>
<pre>
  n = Not-installed
  c = Config-files
  H = Half-installed
  U = Unpacked
  F = Half-configured
  W = Triggers-awaiting
  t = Triggers-pending
  i = Installed
</pre>
<p>Error flags:</p>
<pre>
  &lt;empty&gt; = (none)
  R = Reinst-required
</pre>
<p>An uppercase status or error letter indicates the package is likely to cause severe problems. Please refer to <a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a> for information about the above states and flags.</p><p>The output format of this option is not configurable, but varies automatically to fit the terminal width. It is intended for human readers, and is not easily machine-readable. See <strong>-W</strong> (<strong>--show</strong>) and <strong>--showformat</strong> for a way to configure the output format.</p>
  </dd>
  <dt>
    <p><strong>-W</strong>, <strong>--show</strong> [<em>package-name-pattern</em>...]</p>
  </dt>
  <dd>
    <p>Just like the <strong>--list</strong> option this will list all packages matching the given pattern. However the output can be customized using the <strong>--showformat</strong> option. The default output format gives one line per matching package, each line having the name (extended with the architecture qualifier for <strong>Multi-Arch</strong> <strong>same</strong> packages) and installed version of the package, separated by a tab.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--status</strong> <em>package-name</em>...</p>
  </dt>
  <dd>
    <p>Report status of specified package. This just displays the entry in the installed package status database. When multiple <em>package-name</em> are listed, the requested status entries are separated by an empty line, with the same order as specified on the argument list.</p>
  </dd>
  <dt>
    <p><strong>-L</strong>, <strong>--listfiles</strong> <em>package-name</em>...</p>
  </dt>
  <dd>
    <p>List files installed to your system from <em>package-name</em>. When multiple <em>package-name</em> are listed, the requested lists of files are separated by an empty line, with the same order as specified on the argument list. However, note that files created by package-specific installation-scripts are not listed.</p>
  </dd>
  <dt>
    <p><strong>--control-list</strong> <em>package-name</em></p>
  </dt>
  <dd>
    <p>List control files installed to your system from <em>package-name</em>. These can be used as input arguments to <strong>--control-show</strong>.</p>
  </dd>
  <dt>
    <p><strong>--control-show</strong> <em>package-name</em> <em>control-file</em></p>
  </dt>
  <dd>
    <p>Print the <em>control-file</em> installed to your system from <em>package-name</em> to the standard output.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--control-path</strong> <em>package-name</em> [<em>control-file</em>]</p>
  </dt>
  <dd>
    <p>List paths for control files installed to your system from <em>package-name</em>. If <em>control-file</em> is specified then only list the path for that control file if it is present.</p><p><strong>Warning</strong>: this command is deprecated as it gives direct access to the internal dpkg database, please switch to use <strong>--control-list</strong> and <strong>--control-show</strong> instead for all cases where those commands might give the same end result. Although, as long as there is still at least one case where this command is needed (i.e. when having to remove a damaging postrm maintainer script), and while there is no good solution for that, this command will not get removed.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>, <strong>--search</strong> <em>filename-search-pattern</em>...</p>
  </dt>
  <dd>
    <p>Search for packages that own files corresponding to the given pattern. Standard shell wildchars can be used in the pattern. This command will not list extra files created by maintainer scripts, nor will it list alternatives.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--print-avail</strong> <em>package-name</em>...</p>
  </dt>
  <dd>
    <p>Display details about <em>package-name</em>, as found in <em>/var/lib/dpkg/available</em>. When multiple <em>package-name</em> are listed, the requested <em>available</em> entries are separated by an empty line, with the same order as specified on the argument list.</p><p>Users of APT-based frontends should use <strong>apt-cache show</strong> <em>package-name</em> instead as the <em>available</em> file is only kept up-to-date when using <strong>dselect</strong>.</p>
  </dd>
  <dt>
    <p><strong>-?</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Show the usage message and exit.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Show the version and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--admindir=</strong><em>dir</em></p>
  </dt>
  <dd>
    <p>Change the location of the <strong>dpkg</strong> database. The default location is <em>/var/lib/dpkg</em>.</p>
  </dd>
  <dt>
    <p><strong>--load-avail</strong></p>
  </dt>
  <dd>
    <p>Also load the available file when using the <strong>--show</strong> and <strong>--list</strong> commands, which now default to only querying the status file.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--showformat=</strong><em>format</em></p>
  </dt>
  <dd>
    <p>This option is used to specify the format of the output <strong>--show</strong> will produce. The format is a string that will be output for each package listed.</p><p>In the format string, &ldquo;<strong>&#92;</strong>&rdquo; introduces escapes:</p>
<pre>
    <strong>&#92;n</strong>  newline
    <strong>&#92;r</strong>  carriage return
    <strong>&#92;t</strong>  tab
</pre>
<p>&ldquo;<strong>&#92;</strong>&rdquo; before any other character suppresses any special meaning of the following character, which is useful for &ldquo;<strong>&#92;</strong>&rdquo; and &ldquo;<strong>$</strong>&rdquo;.</p><p>Package information can be included by inserting variable references to package fields using the syntax &ldquo;<strong>${</strong><em>field</em>[<strong>;</strong><em>width</em>]<strong>}</strong>&rdquo;. Fields are printed right-aligned unless the width is negative in which case left alignment will be used. The following <em>field</em>s are recognized but they are not necessarily available in the status file (only internal fields or fields stored in the binary package end up in it):</p>
<pre>
    <strong>Architecture</strong>
    <strong>Bugs</strong>
    <strong>Conffiles</strong> (internal)
    <strong>Config-Version</strong> (internal)
    <strong>Conflicts</strong>
    <strong>Breaks</strong>
    <strong>Depends</strong>
    <strong>Description</strong>
    <strong>Enhances</strong>
    <strong>Essential</strong>
    <strong>Filename</strong> (internal, front-end related)
    <strong>Homepage</strong>
    <strong>Installed-Size</strong>
    <strong>MD5sum</strong> (internal, front-end related)
    <strong>MSDOS-Filename</strong> (internal, front-end related)
    <strong>Maintainer</strong>
    <strong>Origin</strong>
    <strong>Package</strong>
    <strong>Pre-Depends</strong>
    <strong>Priority</strong>
    <strong>Provides</strong>
    <strong>Recommends</strong>
    <strong>Replaces</strong>
    <strong>Revision</strong> (obsolete)
    <strong>Section</strong>
    <strong>Size</strong> (internal, front-end related)
    <strong>Source</strong>
    <strong>Status</strong> (internal)
    <strong>Suggests</strong>
    <strong>Tag</strong> (usually not in .deb but in repository Packages files)
    <strong>Triggers-Awaited</strong> (internal)
    <strong>Triggers-Pending</strong> (internal)
    <strong>Version</strong>
</pre>
<p>The following are virtual fields, generated by <strong>dpkg-query</strong> from values from other fields (note that these do not use valid names for fields in control files):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>binary:Package</strong></p>
  </dt>
  <dd>
    <p>It contains the binary package name with a possible architecture qualifier like "libc6:amd64" (since dpkg 1.16.2). The architecture qualifier will only be present if the package has a <strong>Multi-Arch</strong> field with a value of <strong>same</strong>. This makes the package name unambiguous.</p>
  </dd>
  <dt>
    <p><strong>binary:Summary</strong></p>
  </dt>
  <dd>
    <p>It contains the package short description (since dpkg 1.16.2).</p>
  </dd>
  <dt>
    <p><strong>db:Status-Abbrev</strong></p>
  </dt>
  <dd>
    <p>It contains the abbreviated package status, such as &ldquo;ii&rdquo; (since dpkg 1.16.2).</p>
  </dd>
  <dt>
    <p><strong>db:Status-Want</strong></p>
  </dt>
  <dd>
    <p>It contains the package wanted status, part of the Status field (since dpkg 1.17.11).</p>
  </dd>
  <dt>
    <p><strong>db:Status-Status</strong></p>
  </dt>
  <dd>
    <p>It contains the package status word, part of the Status field (since dpkg 1.17.11).</p>
  </dd>
  <dt>
    <p><strong>db:Status-Eflag</strong></p>
  </dt>
  <dd>
    <p>It contains the package status error flag, part of the Status field (since dpkg 1.17.11).</p>
  </dd>
  <dt>
    <p><strong>source:Package</strong></p>
  </dt>
  <dd>
    <p>It contains the source package name for this binary package (since dpkg 1.16.2).</p>
  </dd>
  <dt>
    <p><strong>source:Version</strong></p>
  </dt>
  <dd>
    <p>It contains the source package version for this binary package (since dpkg 1.16.2)</p>
  </dd>

</dl>
<ul>
<li><p>The default format string is &ldquo;<strong>${binary:Package}&#92;t${Version}&#92;n</strong>&rdquo;. Actually, all other fields found in the status file (i.e. user defined fields) can be requested, too. They will be printed as-is, though, no conversion nor error checking is done on them. To get the name of the <strong>dpkg</strong> maintainer and the installed version, you could run:</p>
<pre>
  <strong>dpkg-query -W -f=&apos;${binary:Package} ${Version}&#92;t${Maintainer}&#92;n&apos; dpkg</strong>
</pre>
</li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>The requested query was successfully performed.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>Problems were encountered while parsing the command line or performing the query, including no file or package being found (except for <strong>--control-path</strong>).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>DPKG_ADMINDIR</strong></p>
  </dt>
  <dd>
    <p>If set and the <strong>--admindir</strong> option has not been specified, it will be used as the <strong>dpkg</strong> data directory.</p>
  </dd>
  <dt>
    <p><strong>COLUMNS</strong></p>
  </dt>
  <dd>
    <p>This setting influences the output of the <strong>--list</strong> option by changing the width of its output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dpkg-query&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/dpkg.1.html"><strong>dpkg</strong>(1)</a>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dpkg-parsechangelog.1.html"><span aria-hidden="true">&larr;</span> dpkg-parsechangelog.1: Parse debian changelog files</a></li>
   <li class="next"><a href="dpkg-repack.1.html">dpkg-repack.1: Put an unpacked .deb file back together <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
