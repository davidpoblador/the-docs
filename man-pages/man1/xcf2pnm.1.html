<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>xcf2pnm: Convert from gimp xcf files to ppm/pgm/pbm format</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert from gimp xcf files to ppm/pgm/pbm format">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="xcf2pnm (1) manual">
  <meta name="twitter:description" content="Convert from gimp xcf files to ppm/pgm/pbm format">
  <meta name="twitter:image" content="https://www.carta.tech/images/xcftools-xcf2pnm-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/xcf2pnm.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="xcf2pnm (1) manual" />
  <meta property="og:description" content="Convert from gimp xcf files to ppm/pgm/pbm format" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/xcftools-xcf2pnm-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">xcf2pnm<small> (1)</small></h1>
        <p class="lead">Convert from gimp xcf files to ppm/pgm/pbm format</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/xcf2pnm.1.html">
      <span itemprop="name">xcf2pnm: Convert from gimp xcf files to ppm/pgm/pbm format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/xcftools/">
      <span itemprop="name">xcftools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/xcf2pnm.1.html">
      <span itemprop="name">xcf2pnm: Convert from gimp xcf files to ppm/pgm/pbm format</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>\*p</strong> [ <em>options</em> ] <em>filename</em> [ <em>layer names</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>xcf2pnm</strong> is a command-line tool that converts image files in the XCF format used by <a href="../man1/gimp.1.html"><strong>gimp</strong>(1)</a> to the generic image formats <a href="../man5/pbm.5.html"><strong>pbm</strong>(5)</a>, <a href="../man5/pgm.5.html"><strong>pgm</strong>(5)</a>, and <a href="../man5/ppm.5.html"><strong>ppm</strong>(5)</a>, flattening layers if necessary. It does not need to have the Gimp engine itself available.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong> <em>filename</em>, <strong>--alpha</strong> <em>filename</em></p>
  </dt>
  <dd>
    <p>Output a transparency mask for the flattened image to <em>filename</em> as a <a href="../man5/pgm.5.html"><strong>pgm</strong>(5)</a> file, in addition to the ordinary output. If the flattened image is completely opaque, this will produce an error message and exit status 101; use <strong>-A</strong> to suppress this.</p>
  </dd>
  <dt>
    <p><strong>-A</strong>, <strong>--force-alpha</strong></p>
  </dt>
  <dd>
    <p>Invent a trivial alpha channel even if the flattened image is completely opaque.</p>
  </dd>
  <dt>
    <p><strong>-b</strong> <em>color</em>, <strong>--background</strong> <em>color</em></p>
  </dt>
  <dd>
    <p>Use this color for transparent pixels in the image. The color can be given as <strong>#rrggbb</strong> or <strong>#rgb</strong> hexadecimal values, or as an X11 color name (which will only work if a color name database can be found in one of a number of standard locations).</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--color</strong>, <strong>--colour</strong></p>
  </dt>
  <dd>
    <p>Force the output to use RGB color space even if it there are more compact alternatives. This will be selected automatically if the output file's name ends with <strong>.ppm</strong>.</p>
  </dd>
  <dt>
    <p><strong>-C</strong>, <strong>--autocrop</strong></p>
  </dt>
  <dd>
    <p>Set the converted part of the image such that it just include the boundaries of the visible (or selected) layers. This may make it either smaller or larger than the canvas, depending on the position and size of the visible layers. (Note that the <em>contents</em> of the layers is not taken into account when autocropping).</p><ul>
<li><p>In the absence of options that specify otherwise, the converted image will cover the entire XCF canvas.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-D</strong>, <strong>--dissolve</strong></p>
  </dt>
  <dd>
    <p>Do a "dissolve" step to eliminate partial transparency after flattening. If <strong>-b</strong> is also given, this happens before the background color is applied.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--full-image</strong></p>
  </dt>
  <dd>
    <p>First flatten the entire image to a memory buffer before writing output. Then analyse the image to decide on the details of the output format (e.g., whether a grayscale output is sufficient). Without this option, the program flattens only a singe row of "tiles" (height 64) at a time.</p>
  </dd>
  <dt>
    <p><strong>-g</strong>, <strong>--gray</strong>, <strong>--grey</strong></p>
  </dt>
  <dd>
    <p>Force the output to be a grayscale image even if it may be monochrome. If any colored pixels are encountered, exit with status 103. This will be selected automatically if the output file's name ends with <strong>.pgm</strong>.</p>
  </dd>
  <dt>
    <p><strong>-G</strong>, <strong>--for-gif</strong></p>
  </dt>
  <dd>
    <p>Assert that the flattened image will have no partial transparency (allowing a more compact representation of the alpha output). Exit with status 102 if the flattened image has any partial transparency. If <strong>-b</strong> is also given, this tests whether there there is partial transparency before applying the background color.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print an option summery to standard output and exit with a return code of 0.</p>
  </dd>
  <dt>
    <p><strong>-j</strong>, <strong>--bzip</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>-Z bzcat</strong>. Default if the filename ends with <strong>bz2</strong>.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--mono</strong></p>
  </dt>
  <dd>
    <p>Force the output to be a monochrome image. If any colors except black and white are encountered, exit with status 103. This will be selected automatically if the output file's name ends with <strong>.pbm</strong>.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--pnm</strong></p>
  </dt>
  <dd>
    <p>Suppress the automatic choice of <strong>-c</strong>, <strong>-g</strong>, or <strong>-m</strong> based on output filename, and instead select the output format based on image contents. This is the default if the filename is not recognized, and when writing to stdout.</p>
  </dd>
  <dt>
    <p><strong>-o</strong> <em>filename</em>, <strong>--output</strong> <em>filename</em></p>
  </dt>
  <dd>
    <p>Write the converted picture to <em>filename</em> instead of to standard output.</p>
  </dd>
  <dt>
    <p><strong>-O</strong> <em>x</em><strong>,</strong><em>y</em>, <strong>--offset</strong> <em>x</em><strong>,</strong><em>y</em></p>
  </dt>
  <dd>
    <p>Offset the converted part of the image from the top-left corner of the XCF canvas. Usually used with <strong>-S</strong>.</p>
  </dd>
  <dt>
    <p><strong>-S</strong> <em>w</em><strong>x</strong><em>h</em>, <strong>--size</strong> <em>w</em><strong>x</strong><em>h</em></p>
  </dt>
  <dd>
    <p>Crop the converted image to width <em>w</em> and height <em>h</em>.</p>
  </dd>
  <dt>
    <p><strong>-T</strong>, <strong>--truecolor</strong></p>
  </dt>
  <dd>
    <p>Use standard RGB compositing for flattening indexed layers. Without this option, <strong>\*p</strong> will mimic the Gimp's current strategy of rounding each alpha value to either full transparency or full opacity, and interpret all layer modes as <strong>Normal</strong>.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>, <strong>--utf8</strong></p>
  </dt>
  <dd>
    <p>Use the raw UTF-8 representation from the XCF file to compare and display layer names. Ordinarily, layer names will be converted to the character set of the current locale.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Print progress messages about the conversion to standard error.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print the version numer of <strong>xcftools</strong> to standard output and exit with a return code of 0.</p>
  </dd>
  <dt>
    <p><strong>-z</strong>, <strong>--gzip</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>-Z zcat</strong>. Default if the filename ends with <strong>gz</strong>.</p>
  </dd>
  <dt>
    <p><strong>-Z</strong> <em>command</em>, <strong>--unpack</strong> <em>command</em></p>
  </dt>
  <dd>
    <p>Specify a command that the input file is filtered through before being interpreted as an XCF file. The command is invoked as <em>command filename</em> and must produce output to its standard output. Note that it is not possible to specify arguments as part of <em>command</em>. An uncompressor is selected automatically if the filename ends with <strong>gz</strong> or <strong>bz2</strong>; to suppress this, use <strong>-Z cat</strong> (which is implemented without actually starting a <a href="../man1/cat.1.html"><strong>cat</strong>(1)</a> process).</p>
  </dd>

</dl>
<p>Several groups of options are mutually incompatible; in each group the one given last will win:</p>
<dl class='dl-vertical'>
  <dt>
    <p>1)</p>
  </dt>
  <dd>
    <p><strong>-A</strong> and <strong>-b</strong>.</p>
  </dd>
  <dt>
    <p>2)</p>
  </dt>
  <dd>
    <p><strong>-c</strong>, <strong>-g</strong>, <strong>-m</strong>, and <strong>-n</strong>.</p>
  </dd>
  <dt>
    <p>3)</p>
  </dt>
  <dd>
    <p><strong>-D</strong> and <strong>-G</strong>.</p>
  </dd>
  <dt>
    <p>4)</p>
  </dt>
  <dd>
    <p><strong>-j</strong>, <strong>-z</strong>, and <strong>-Z</strong>.</p>
  </dd>
  <dt>
    <p>5)</p>
  </dt>
  <dd>
    <p><strong>-C</strong> and <strong>-O</strong>/<strong>-S</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LAYER SPECIFICATIONS</h2>
        <div class="sectioncontent">
<p>If no <em>layer name</em> is given on the command line, all of the visible layers in the XCF file are merged to produce the output image. It is also possible to specify the layers to merge explicitly, by giving their names as separate arguments after the input filename. In that case, the output will contain <em>only</em> the named layers. The layers will be merged in the order they appear on the command line, with the leftmost being "at the bottom" - that is, the layer ordering in the XCF file will be ignored.</p><p>The following options can be given <em>after</em> a layer name to override the global properties of the layer:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--mask</strong></p>
  </dt>
  <dd>
    <p>Enable the layer mask.</p>
  </dd>
  <dt>
    <p><strong>--mode</strong> <em>mode</em></p>
  </dt>
  <dd>
    <p>Set the layer mode (e.g., <strong>Normal</strong> or <strong>Multiply</strong>).</p>
  </dd>
  <dt>
    <p><strong>--nomask</strong></p>
  </dt>
  <dd>
    <p>Disable the layer mask.</p>
  </dd>
  <dt>
    <p><strong>--opacity</strong> <em>n</em></p>
  </dt>
  <dd>
    <p>Set the opacity on a scale from 0 to 255 (as used internally)</p>
  </dd>
  <dt>
    <p><strong>--percent</strong> <em>n</em></p>
  </dt>
  <dd>
    <p>Set the opacity on a scale from 0 to 100 (as in the Gimp user interface).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The exit status of <strong>\*p</strong> is</p>
<dl class='dl-vertical'>
  <dt>
    <p>0</p>
  </dt>
  <dd>
    <p>Success</p>
  </dd>
  <dt>
    <p>20</p>
  </dt>
  <dd>
    <p>Problems parsing the command line, including unknown color names (or missing color name directory) for <strong>-b</strong>.</p>
  </dd>
  <dt>
    <p>21</p>
  </dt>
  <dd>
    <p>The specified XCF file does not exist or cannot be read.</p>
  </dd>
  <dt>
    <p>22</p>
  </dt>
  <dd>
    <p>A layer named on the command line was not found, or the <strong>--mask</strong> option was used for a layer that has no layer mask.</p>
  </dd>
  <dt>
    <p>100</p>
  </dt>
  <dd>
    <p>Transparent pixels were found, but neither <strong>-a</strong> nor <strong>-b</strong> was given.</p>
  </dd>
  <dt>
    <p>101</p>
  </dt>
  <dd>
    <p>The <strong>-a</strong> option was given yet the image has no transparency. (Use <strong>-A</strong> to go on anyway).</p>
  </dd>
  <dt>
    <p>102</p>
  </dt>
  <dd>
    <p>The <strong>-G</strong> option was given, yet partial transparency was found.</p>
  </dd>
  <dt>
    <p>103</p>
  </dt>
  <dd>
    <p><strong>-g</strong> (or <strong>-m</strong>) was given, yet colored (or gray) pixels were found.</p>
  </dd>
  <dt>
    <p>123</p>
  </dt>
  <dd>
    <p>The XCF file contains presumably valid features that <strong>xcftools</strong> does not support. (As of this writing there is no known way of getting the Gimp to write an XCF file that will provoke this return. Please notify the author if you discover one).</p>
  </dd>
  <dt>
    <p>125</p>
  </dt>
  <dd>
    <p>The XCF file is malformed.</p>
  </dd>
  <dt>
    <p>126</p>
  </dt>
  <dd>
    <p>An uncompression program could not be executed, or terminated abnormally.</p>
  </dd>
  <dt>
    <p>127</p>
  </dt>
  <dd>
    <p>Unexpected I/O error, internal errors, or other "this can't happen" situations.</p>
  </dd>

</dl>
<p>If an uncompression program returns an error exit status, this will be returned from <strong>\*p</strong> too.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<ul>
<li><p><strong>xcf2pnm -b white foo.xcf &gt; foo.ppm</strong></p></li><li><p><strong>xcf2pnm -a footrans.pgm -o foo.ppm foo.xcf Layer1 Layer2</strong></p></li>
</ul><p>To test whether the flattened image has any transparency, use</p><ul>
<li><p><strong>xcf2pnm foo.xcf &gt; /dev/null</strong></p></li>
</ul><p>To test whether the flattened image has <em>partially</em> transparent pixels, use</p><ul>
<li><p><strong>xcf2pnm -b white -G &gt; /dev/null</strong></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND LIMITATIONS</h2>
        <div class="sectioncontent">
<p>When several partially transparent layers are merged, the pixel values are interpolated without gamma correction. (The Gimp also does it this way). Some slight rounding errors in the interpolation are inevitable; <strong>\*p</strong> sometimes has different rounding errors than the Gimp itself, especially when more than two layers are involved, or in case of some of the more exotic layer modes. These differences are usually not visible to the eye.</p><p>Floating selections are currently not handled correctly.</p><p>There are probably other bugs lurking in corner cases. If you discover one, please notify the author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/X11/rgb.txt</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>/usr/share/X11/rgb.txt</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>/usr/lib/X11/rgb.txt</strong></p>
  </dt>
  <dd>
    <p>Color name database for <strong>-b</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>\*p</strong> was written by Henning Makholm &lt;henning@makholm.net&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO xcf2pnm&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/xcfinfo.1.html"><strong>xcfinfo</strong>(1)</a>, <a href="../man1/xcf2png.1.html"><strong>xcf2png</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="xcf2png.1.html"><span aria-hidden="true">&larr;</span> xcf2png.1: Convert from gimp xcf files to png format</a></li>
   <li class="next"><a href="xcfa.1.html">xcfa.1: Gtk+ implementation of the gnu shell command. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
