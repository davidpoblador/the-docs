<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vgrabbj: Grab images from a v4l-compatible webcam</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Grab images from a v4l-compatible webcam">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vgrabbj (1) manual">
  <meta name="twitter:description" content="Grab images from a v4l-compatible webcam">
  <meta name="twitter:image" content="https://www.carta.tech/images/vgrabbj-vgrabbj-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/vgrabbj.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vgrabbj (1) manual" />
  <meta property="og:description" content="Grab images from a v4l-compatible webcam" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/vgrabbj-vgrabbj-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vgrabbj<small> (1)</small></h1>
        <p class="lead">Grab images from a v4l-compatible webcam</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/vgrabbj.1.html">
      <span itemprop="name">vgrabbj: Grab images from a v4l-compatible webcam</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/vgrabbj/">
      <span itemprop="name">vgrabbj</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/vgrabbj.1.html">
      <span itemprop="name">vgrabbj: Grab images from a v4l-compatible webcam</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>vgrabbj</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents briefly the <strong>vgrabbj</strong> command.</p><p><strong>vgrabbj</strong> is a program that will grab images from any v4l-capable device which supports one of the rgb24, rgb32, yuv420, yuv420p, yuyv, uyvy, or yuv422 palettes and saves the image as a .jpg, .png, or .pnm file.</p><p>Optional, it can timestamp the resulting image, and/or upload it to a ftp-server. Additionally, a daemon-mode is available to do the above regularly.</p><p>On startup, the default configuration file <em>/etc/vgrabbj.conf</em> is read and evaluated. If a configuration file is specified via the <strong>-c</strong> parameter (see below), that file is read and parsed. Values which are present in the default config file keep their values. Finally, the commandline is evaluated. If an option is presented more than once, the last in the commandline is taken. If no options given, vgrabbj tries to open the default v4l-device <em>/dev/video0</em>, grab an image and return it on <em>/dev/stdout</em>. So be aware.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>All options are either numeric values, strings, or booleans. If it is a boolean switch (e.g. no value/string shown after the switch), it plainly switches the current setting of that particular option. Remember, vgrabbj.conf is read first, so any option set to on or off there will be toggled by the commandline switch.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Show summary of options and version number. <strong>-c</strong> &lt;<em>filename</em>&gt; Specifies <em>filename</em> as alternative configuration file.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> &lt;<em>seconds</em>&gt;</p>
  </dt>
  <dd>
    <p>Daemonize & loop with <em>seconds</em> intervals (min. 1).</p>
  </dd>
  <dt>
    <p><strong>-L</strong> &lt;<em>microseconds</em>&gt;</p>
  </dt>
  <dd>
    <p>Daemonize & loop <em>microseconds</em> intervals (min. 1). Same as <strong>-l</strong> except you can control it more precisely.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Enable vgrabbj's brightness adjustment (default: disabled). To use <strong>vgrabbj</strong>'s brightness adjustment, RGB24 support of the device is necessary. You may have to provide it to your device via the <strong>-F</strong> parameter (see below). If your device does not support RGB24, this setting is silently ignored.</p>
  </dd>
  <dt>
    <p><strong>-q</strong> &lt;<em>quality</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the quality of a jpeg output to <em>quality</em> (1-100, default: 75).</p>
  </dd>
  <dt>
    <p><strong>-i</strong> &lt;<em>imagesize</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the imagesize of input device, where <em>imagesize</em> is one of:</p><ul>
<li>
<pre>
 sqcif= 128x96,     qsif = 160x120,
 qcif = 176x144,    sif  = 320x240,
 cif  = 352x288,    vga  = 640x480,
 svga = 800x600,    xga  = 1024x768,
 sxga = 1280x1024,  uxga = 1600x1200,
</pre>
</li><li><p>(default: cif)</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-w</strong> &lt;<em>width</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the width of the image to <em>width</em>. Needs <strong>-H</strong>. The v4l-device has to support the image width you set with this option.</p>
  </dd>
  <dt>
    <p><strong>-H</strong> &lt;<em>height</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the height of the image to <em>height</em>. Needs <strong>-w</strong>. The v4l-device has to support the image height you set with this option.</p>
  </dd>
  <dt>
    <p><strong>-o</strong> &lt;<em>format</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the output to <em>format</em> (either <strong>jpeg</strong>, <strong>png</strong>, or <strong>pnm</strong>, default: jpeg)</p>
  </dd>
  <dt>
    <p><strong>-f</strong> &lt;<em>filename</em>&gt;</p>
  </dt>
  <dd>
    <p>Output is written to <em>filename</em> (default: <em>/dev/stdout</em>)</p>
  </dd>
  <dt>
    <p><strong>-A</strong> &lt;<em>path+filename</em>&gt;</p>
  </dt>
  <dd>
    <p>Additional to the output of <strong>-f</strong> another file is written to the named <em>path+filename</em>, whereas the whole may be formatted according to <strong>strftime</strong>(2). This enables the creation of an archive of images. Currently, the output is only supported on the same filesystem as the original output.</p>
  </dd>
  <dt>
    <p><strong>-E</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Defines how many images shall be read until a copy for the archive is made. E.g. 1 means each image taken is also put in the archive. 5 would mean every fifth image taken is put in the archive.</p>
  </dd>
  <dt>
    <p><strong>-M</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the maximum number of images kept in the archive. If you defined 5 seconds for daemon mode, archive every image, you collect 720 images per hour. If you set this switch to 720 you would keep an hour of images in the archive.</p>
  </dd>
  <dt>
    <p><strong>-d</strong> &lt;<em>device</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the input device to <em>device</em> (default: <em>/dev/video0</em>)</p>
  </dd>
  <dt>
    <p><strong>-s</strong> &lt;<em>device</em>&gt;</p>
  </dt>
  <dd>
    <p>This flag causes vgrabbj to print the v4l capabilities of &lt;<em>device</em>&gt; and exit.</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Causes vgrabbj to open the device only while image data is grabbed. This is helpful if you need access to the device besides vgrabbj. It's use is discouraged due to possible problems with memory fragmentation. Default is to keep the v4l-device open while <strong>vgrabbj</strong> is running.</p>
  </dd>
  <dt>
    <p><strong>-g</strong></p>
  </dt>
  <dd>
    <p>Disables setting of the image size (see <strong>-i</strong>, <strong>-H</strong>, and <strong>-w</strong>. Necessary for certain v4l-devices which do not support to be set to a particular image size (e.g. IBM-usb-cam, QuickCam). For these devices you have to specify the size at module load time.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Switches colormap from BGR to RGB (or vice versa). Use if you have odd colors.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>Swaps left and right of the image like a mirror.</p>
  </dd>
  <dt>
    <p><strong>-U</strong></p>
  </dt>
  <dd>
    <p>Swaps top and bottom of the image like a mirror (e.g. for upside-down montage of the cam).</p>
  </dd>
  <dt>
    <p><strong>-G</strong></p>
  </dt>
  <dd>
    <p>Turns off use of mmap'ed memory. see <a href="../man5/vgrabbj.conf.5.html"><strong>vgrabbj.conf</strong>(5)</a> for details.</p>
  </dd>
  <dt>
    <p><strong>-D</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Sets the loglevel of <strong>vgrabbj</strong>. Valid for <em>value</em> are 0, 2, 3, 4, 6, 7 (default: 4). 0 means no messages at all, 7 is debug. Don't use 7 if you are running <strong>vgrabbj</strong> in daemon mode, it'll surely fill your syslog. Be aware, that loglevel 7 will also write your ftp-password (if defined in <a href="../man5/vgrabbj.conf.5.html"><strong>vgrabbj.conf</strong>(5)</a>) in the logfile!</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Disable the use of the temporary outputfile and write directly to the output-file specified with <strong>-f</strong>. Output to <em>/dev/stdout</em> is always written directly without the use of a temporary file.</p><p>If a <em>filename</em> different from <em>/dev/stdout</em> was given with the <strong>-f</strong> parameter, <strong>vgrabbj</strong> defaults to use a temporary file called <em>filename</em>.tmp to write the image. This file is then renamed to <em>filename</em> to shorten the time period corrupt data may be read from <em>filename</em>.</p>
  </dd>
  <dt>
    <p><strong>-Z</strong> <em>'commands'</em></p>
  </dt>
  <dd>
    <p>Ask vgrabbj to launch an external program. May be used to pass the picture through ImageMagick or others filters. The first '%s' instance in the command line will be replaced with filename. If <strong>UseTmpOut</strong> is <em>On</em>, <em>'commands'</em> will be run before the file is renamed.</p>
  </dd>
  <dt>
    <p><strong>-F</strong> &lt;<em>palette</em>&gt;</p>
  </dt>
  <dd>
    <p>Force the usage of the specified <em>palette</em>. If <em>palette</em> is not supported by either <strong>vgrabbj</strong> or the v4l-device, fallback to a palette supported by both is provided. If no common denominator is available, <strong>vgrabbj</strong> exits. See <strong>DESCRIPTION</strong> for details on palettes supported by <strong>vgrabbj</strong>. Possible values are (copy from videodev.h):</p><ul>
<li>
<pre>
 1  VIDEO_PALETTE_GREY      Linear greyscale
 2  VIDEO_PALETTE_HI240     High 240 cube (BT848)
 3  VIDEO_PALETTE_RGB565    565 16 bit RGB
 4  VIDEO_PALETTE_RGB24     24bit RGB
 5  VIDEO_PALETTE_RGB32     32bit RGB
 6  VIDEO_PALETTE_RGB555    555 15bit RGB
 7  VIDEO_PALETTE_YUV422    YUV422 capture
 8  VIDEO_PALETTE_YUYV
 9  VIDEO_PALETTE_UYVY
 10 VIDEO_PALETTE_YUV420
 10 VIDEO_PALETTE_YUV411    YUV411 capture
 11 VIDEO_PALETTE_RAW       RAW capture (BT848)
 12 VIDEO_PALETTE_YUV422P   YUV 4:2:2 Planar
 13 VIDEO_PALETTE_YUV411P   YUV 4:1:1 Planar
 14 VIDEO_PALETTE_YUV420P   YUV 4:2:0 Planar
 15 VIDEO_PALETTE_YUV410P   YUV 4:1:0 Planar
 16 VIDEO_PALETTE_PLANAR
 17 VIDEO_PALETTE_COMPONENT
</pre>
</li><li><p>(no default, depends on v4l-device)</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-z</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p><em>value</em> images are grabbed and immediately discarded. Only the last image is written to the output. This might be helpful if your v4l-device needs to take a couple of images to auto-adjust to the current light.</p>
  </dd>
  <dt>
    <p><strong>-X</strong></p>
  </dt>
  <dd>
    <p>Does not fork daemon process and keeps vgrabbj in daemon mode in foreground, attached to the terminal. Useful for debugging purpose. Not available in config file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HARDWARE CONTROL OPTIONS</h2>
        <div class="sectioncontent">
<p>With the following options you can control the hardware settings of your cam - if it is supported by your cam. Be aware that these options might break your hardware, as there is no check on what values are available, allowed, and supported by your hardware.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-W</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Whiteness definition.</p>
  </dd>
  <dt>
    <p><strong>-r</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Color definition.</p>
  </dd>
  <dt>
    <p><strong>-x</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Contrast definition.</p>
  </dd>
  <dt>
    <p><strong>-b</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Brightness definition.</p>
  </dd>
  <dt>
    <p><strong>-u</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Hue definition.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TIMESTAMP OPTIONS</h2>
        <div class="sectioncontent">
<p>The following options are available only if <strong>vgrabbj</strong> was compiled with the freetype library available. If you set any one of these options on the commandline timestamp will be enabled with default values for all other options.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Switches timestamp to be used or not. Default is off, but may be overridden by config-file, so just try to enable this switch if there is no timestamp in the resulting image.</p>
  </dd>
  <dt>
    <p><strong>-t</strong> &lt;<em>filename</em>&gt;</p>
  </dt>
  <dd>
    <p>The TrueType font to be used for the timestamp (default <em>/usr/X11R6/lib/X11/fonts/TrueType/Arialn.ttf</em>)</p>
  </dd>
  <dt>
    <p><strong>-T</strong> &lt;<em>size</em>&gt;</p>
  </dt>
  <dd>
    <p>Set the fontsize to <em>size</em> for timestamp (3-100, default: 12).</p>
  </dd>
  <dt>
    <p><strong>-p</strong> "&lt;<em>format-str</em>&gt;"</p>
  </dt>
  <dd>
    <p>Defines the timestamp. <em>format-str</em> can be plain text or any strftime format and has to be enclosed with '""' (default: "%a, %e. %B %Y - %T" - see <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a> for details)</p>
  </dd>
  <dt>
    <p><strong>-P</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Alignment of the timestamp in the image. Possible <em>value</em>:</p><ul>
<li>
<pre>
0 = upper left,    1 = upper right,
2 = lower left,    3 = lower right,
4 = upper center,  5 = lower center
</pre>
</li><li><p>(default: 1).</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-m</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Defines the blend between font background and image (1-100, default: 60).</p>
  </dd>
  <dt>
    <p><strong>-B</strong> &lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p><em>value</em> pixels will be used as border around the timestamp string (1-255, default: 2).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FTP OPTIONS</h2>
        <div class="sectioncontent">
<p>There are no options for ftp-upload on the command line. This is due to the need to provide a password which would be visible via the <strong>ps</strong>(1) command. See <strong>vgrabbj.conf</strong> for details on how to set-up the ftp-upload option. Additionally, vgrabbj has to be compiled with libftp support.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>%F in the archive time-string (year with century) causes memory corruption at a pentium-machine running vgrabbj (not validated). No further bugs are known at this time.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO vgrabbj&hellip;</h2>
        <div class="sectioncontent">
<p><strong>vgrabbj.conf</strong>(4), <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>, <strong>ps</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was originally written by Michael Janssen &lt;janssen@cns.uni.edu&gt;, for the Debian GNU/Linux system and enhanced by Jens Gecius &lt;devel@gecius.de&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vgdb.1.html"><span aria-hidden="true">&larr;</span> vgdb.1: Intermediary between valgrind and gdb or a shell</a></li>
   <li class="next"><a href="vgrep.1.html">vgrep.1: Print lines matching a pattern <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
