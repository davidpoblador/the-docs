<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debmirror: Debian partial mirror script, with ftp, http or rsync and package pool support</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Debian partial mirror script, with ftp, http or rsync and package pool support">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debmirror (1) manual">
  <meta name="twitter:description" content="Debian partial mirror script, with ftp, http or rsync and package pool support">
  <meta name="twitter:image" content="https://www.carta.tech/images/debmirror-debmirror-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/debmirror.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debmirror (1) manual" />
  <meta property="og:description" content="Debian partial mirror script, with ftp, http or rsync and package pool support" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/debmirror-debmirror-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debmirror<small> (1)</small></h1>
        <p class="lead">Debian partial mirror script, with ftp, http or rsync and package pool support</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debmirror.1.html">
      <span itemprop="name">debmirror: Debian partial mirror script, with ftp, http or rsync and package pool support</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/debmirror/">
      <span itemprop="name">debmirror</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debmirror.1.html">
      <span itemprop="name">debmirror: Debian partial mirror script, with ftp, http or rsync and package pool support</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>debmirror</strong> [<em>options</em>] <em>mirrordir</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program downloads and maintains a partial local Debian mirror. It can mirror any combination of architectures, distributions, and sections. Files are transferred by ftp, and package pools are fully supported. It also does locking and updates trace files.</p><p>The partial mirror created by this program is not suitable to be used as a public Debian mirror. If that is your aim, you should instead follow the instructions at &lt;http://www.debian.org/mirrors/ftpmirror&gt;.</p><p>This program mirrors in three steps.</p>
<dl class='dl-vertical'>
  <dt>
    1. download Packages and Sources files
  </dt>
  <dd>
    <p>First it downloads all Packages and Sources files for the subset of Debian it was instructed to get.</p>
  </dd>
  <dt>
    2. download everything else
  </dt>
  <dd>
    <p>The Packages and Sources files are scanned, to build up a list of all the files they refer to. A few other miscellaneous files are added to the list. Then the program makes sure that each file in the list is present on the local mirror and is up-to-date, using file size (and optionally checksum) checks. Any necessary files are downloaded.</p>
  </dd>
  <dt>
    3. clean up unknown files
  </dt>
  <dd>
    <p>Any files and directories on the local mirror that are not in the list are removed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>mirrordir</em>
  </dt>
  <dd>
    <p>This required (unless defined in a configuration file) parameter specifies where the local mirror directory is. If the directory does not exist, it will be created. Be careful; telling this program that your home directory is the mirrordir is guaranteed to replace your home directory with a Debian mirror!</p>
  </dd>
  <dt>
    <strong>-p</strong>, <strong>--progress</strong>
  </dt>
  <dd>
    <p>Displays progress bars as files are downloaded.</p>
  </dd>
  <dt>
    <strong>-v</strong>, <strong>--verbose</strong>
  </dt>
  <dd>
    <p>Displays progress between file downloads.</p>
  </dd>
  <dt>
    <strong>--debug</strong>
  </dt>
  <dd>
    <p>Enables verbose debug output, including ftp protocol dump.</p>
  </dd>
  <dt>
    <strong>--dry-run</strong>
  </dt>
  <dd>
    <p>Simulate a mirror run. This will still download the meta files to the <em>./.temp</em> working directory, but won't replace the old meta files, won't download debs and source files and only simulates cleanup.</p>
  </dd>
  <dt>
    <strong>--help</strong>
  </dt>
  <dd>
    <p>Display a usage summary.</p>
  </dd>
  <dt>
    <strong>-h</strong>, <strong>--host</strong>=<em>remotehost</em>
  </dt>
  <dd>
    <p>Specify the remote host to mirror from. Defaults to <em>ftp.debian.org</em>, you are strongly encouraged to find a closer mirror.</p>
  </dd>
  <dt>
    <strong>-r</strong>, <strong>--root</strong>=<em>directory</em>
  </dt>
  <dd>
    <p>Specifies the directory on the remote host that is the root of the Debian archive. Defaults to <em>debian</em>, which will work for most mirrors. The root directory has a <em>dists</em> subdirectory.</p>
  </dd>
  <dt>
    <strong>--method</strong>=<em>method</em>
  </dt>
  <dd>
    <p>Specify the method to download files. Currently, supported methods are <strong>ftp</strong>, <strong>http</strong>, <strong>https</strong>, and <strong>rsync</strong>.</p>
  </dd>
  <dt>
    <strong>--passive</strong>
  </dt>
  <dd>
    <p>Download in passive mode when using ftp.</p>
  </dd>
  <dt>
    <strong>-u</strong>, <strong>--user</strong>=<em>remoteusername</em>
  </dt>
  <dd>
    <p>Specify the remote user name to use to log into the remote host. Defaults to \*(C`anonymous\*(C'.</p>
  </dd>
  <dt>
    <strong>--passwd</strong>=<em>remoteuserpassword</em>
  </dt>
  <dd>
    <p>Specify the remote user password to use to log into the remote ftp host. It is used with <strong>--user</strong> and defaults to \*(C`anonymous@\*(C'.</p>
  </dd>
  <dt>
    <strong>--proxy</strong>=<em>http://user:pass@url:port/</em>
  </dt>
  <dd>
    <p>Specifies the http proxy (like Squid) to use for http or ftp methods.</p>
  </dd>
  <dt>
    <strong>-d</strong>, <strong>--dist</strong>=<em>foo[,bar,..]</em>
  </dt>
  <dd>
    <p>Specify the distribution (etch, lenny, squeeze, sid) of Debian to mirror. This switch may be used multiple times, and multiple distributions may be specified at once, separated by commas. You may also use the stable, testing, unstable, names.</p>
  </dd>
  <dt>
    <strong>--omit-suite-symlinks</strong>
  </dt>
  <dd>
    <p>With this option set, <strong>debmirror</strong> will not create the symlink from <em>suite</em> to <em>codename</em>. This is needed for example when mirroring archived Debian releases as they will all have either \*(C`stable\*(C' or \*(C`oldstable\*(C' as suite in their <em>Release</em> files.</p>
  </dd>
  <dt>
    <strong>-s</strong>, <strong>--section</strong>=<em>foo[,bar,..]</em>
  </dt>
  <dd>
    <p>Specify the section of Debian to mirror. Defaults to \*(C`main,contrib,non-free,main/debian-installer\*(C'.</p>
  </dd>
  <dt>
    <strong>-a</strong>, <strong>--arch</strong>=<em>foo[,bar,..]</em>
  </dt>
  <dd>
    <p>Specify the architectures to mirror. The default is <strong>--arch=i386</strong>. Specifying <strong>--arch=none</strong> will mirror no archs.</p>
  </dd>
  <dt>
    <strong>--rsync-extra</strong>=<em>foo[,bar,..]</em>
  </dt>
  <dd>
    <p>Allows to also mirror files from a number of directories that are not part of the package archive itself. <strong>Debmirror</strong> will <strong>always</strong> use rsync for the transfer of these files, irrespective of what transfer method is specified in the <strong>--method</strong> option. This will therefore not work if your remote mirror does not support rsync, or if the mirror needs a different <strong>--root</strong> option for rsync than for the main transfer method specified with <strong>--method</strong>. Note that excluding individual files in the directories is not supported. The following values are supported.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>doc</strong>
  </dt>
  <dd>
    <p>Download all files and subdirectories in <em>doc</em> directory, and all \s-1README\s0 files in the root directory of the archive.</p>
  </dd>
  <dt>
    <strong>indices</strong>
  </dt>
  <dd>
    <p>Download all files and subdirectories in <em>indices</em> directory. Note that this directory can contain some rather large files; don't include this type unless you know you need these files.</p>
  </dd>
  <dt>
    <strong>tools</strong>
  </dt>
  <dd>
    <p>Download all files and subdirectories in <em>tools</em> directory.</p>
  </dd>
  <dt>
    <strong>trace</strong>
  </dt>
  <dd>
    <p>Download the remote mirror's trace files for the archive (<em>project/trace/*</em>). This is enabled by default.</p>
  </dd>
  <dt>
    <strong>none</strong>
  </dt>
  <dd>
    <p>This can be used to disable getting extra files with rsync.</p>
  </dd>

</dl>
<p>If specified, the update of trace files will be done at the beginning of the mirror run; the other types are done near the end. This switch may be used multiple times, and multiple values may be specified at once, separated by commas; unknown values are ignored.</p>
  </dd>
  <dt>
    <strong>--di-dist</strong>=<em>dists | foo[,bar,..]</em>
  </dt>
  <dd>
    <p>Mirror current Debian Installer images for the specified dists. See further the section \*(L"Mirroring Debian Installer images\*(R" below.</p>
  </dd>
  <dt>
    <strong>--di-arch</strong>=<em>arches | foo[,bar,..]</em>
  </dt>
  <dd>
    <p>Mirror current Debian Installer images for the specified architectures. See further the section \*(L"Mirroring Debian Installer images\*(R" below.</p>
  </dd>
  <dt>
    <strong>--source</strong>
  </dt>
  <dd>
    <p>Include source in the mirror (default).</p>
  </dd>
  <dt>
    <strong>--nosource</strong>
  </dt>
  <dd>
    <p>Do not include source.</p>
  </dd>
  <dt>
    <strong>--i18n</strong>
  </dt>
  <dd>
    <p>Additionally download <em>Translation-&lt;lang&gt;.bz2</em> files, which contain translations of package descriptions. Selection of specific translations is possible using the <strong>--include</strong> and <strong>--exclude</strong> options. The default is to download only the English file.</p>
  </dd>
  <dt>
    <strong>--getcontents</strong>
  </dt>
  <dd>
    <p>Additionally download <em>Contents.&lt;arch&gt;.gz</em> files. Note that these files can be relatively big and can change frequently, especially for the testing and unstable suites. Use of the available diff files is strongly recommended (see the <strong>--diff</strong> option).</p>
  </dd>
  <dt>
    <strong>--checksums</strong>
  </dt>
  <dd>
    <p>Use checksums to determine if files on the local mirror that are the correct size actually have the correct content. Not enabled by default, because it is too paranoid, and too slow. When the state cache is used, <strong>debmirror</strong> will only check checksums during runs where the cache has expired or been invalidated, so it is worth considering to use these two options together.</p>
  </dd>
  <dt>
    <strong>--ignore-missing-release</strong>
  </dt>
  <dd>
    <p>Don't fail if the <em>Release</em> file is missing.</p>
  </dd>
  <dt>
    <strong>--check-gpg</strong>, <strong>--no-check-gpg</strong>
  </dt>
  <dd>
    <p>Controls whether gpg signatures from the <em>Release.gpg</em> file should be checked. The default is to check signatures.</p>
  </dd>
  <dt>
    <strong>--keyring</strong>=<em>file</em>
  </dt>
  <dd>
    <p>Use <em>file</em> as an additional gpg-format keyring.  May be given multiple times. Note that these will be used in addition to $GNUPGHOME/trustedkeys.gpg. The latter can be removed from the set of keyrings by setting $GNUPGHOME to something non-existent when using this option. On a typical Debian system, the Debian archive keyring can be used directly with this option:</p>
<pre>
    debmirror --keyring /usr/share/keyrings/debian-archive-keyring.gpg ...
</pre>

  </dd>
  <dt>
    <strong>--ignore-release-gpg</strong>
  </dt>
  <dd>
    <p>Don't fail if the <em>Release.gpg</em> file is missing. If the file does exist, it is mirrored and verified, but any errors are ignored.</p>
  </dd>
  <dt>
    <strong>--ignore</strong>=<em>regex</em>
  </dt>
  <dd>
    <p>Never delete any files whose filenames match the regex. May be used multiple times.</p>
  </dd>
  <dt>
    <strong>--exclude</strong>=<strong>regex</strong>
  </dt>
  <dd>
    <p>Never download any files whose filenames match the regex. May be used multiple times.</p>
  </dd>
  <dt>
    <strong>--include</strong>=<em>regex</em>
  </dt>
  <dd>
    <p>Don't exclude any files whose filenames match the regex. May be used multiple times.</p>
  </dd>
  <dt>
    <strong>--exclude-deb-section</strong>=<em>regex</em>
  </dt>
  <dd>
    <p>Never download any files whose Debian Section (games, doc, oldlibs, science, ...) match the regex. May be used multiple times.</p>
  </dd>
  <dt>
    <strong>--limit-priority</strong>=<em>regex</em>
  </dt>
  <dd>
    <p>Limit download to files whose Debian Priority (required, extra, optional, ...) match the regex. May be used multiple times.</p>
  </dd>
  <dt>
    <strong>--exclude-field</strong>=<em>fieldname</em>=<em>regex</em>
  </dt>
  <dd>
    <p>Never download any binary packages where the contents of <em>fieldname</em> match the regex. May be used multiple times. If this option is used and the mirror includes source packages, only those source packages corresponding to included binary packages will be downloaded.</p>
  </dd>
  <dt>
    <strong>--include-field</strong>=<em>fieldname</em>=<em>regex</em>
  </dt>
  <dd>
    <p>Don't exclude any binary packages where the contents of <em>fieldname</em> match the regex. May be used multiple times. If this option is used and the mirror includes source packages, only those source packages corresponding to included binary packages will be downloaded.</p>
  </dd>
  <dt>
    <strong>-t</strong>, <strong>--timeout</strong>=<em>seconds</em>
  </dt>
  <dd>
    <p>Specifies the timeout to use for network operations (either \s-1FTP\s0 or rsync). Set this to a higher value if you experience failed downloads. Defaults to 300 seconds.</p>
  </dd>
  <dt>
    <strong>--max-batch</strong>=<em>number</em>
  </dt>
  <dd>
    <p>Download at most max-batch number of files (and ignore rest).</p>
  </dd>
  <dt>
    <strong>--rsync-batch</strong>=<em>number</em>
  </dt>
  <dd>
    <p>Download at most number of files with each rsync call and then loop.</p>
  </dd>
  <dt>
    <strong>--rsync-options</strong>=<em>options</em>
  </dt>
  <dd>
    <p>Specify alternative rsync options to be used. Default options are \*(L"-aIL --partial\*(R". Care must be taken when specifying alternative options not to disrupt operations, it's best to only add to those options. The most likely option to add is \*(L"--bwlimit=x\*(R" to avoid saturating the bandwidth of your link.</p>
  </dd>
  <dt>
    <strong>--postcleanup</strong>
  </dt>
  <dd>
    <p>Clean up the local mirror but only after mirroring is complete and only if there was no error. This is the default, because it ensures that the mirror is consistent at all times.</p>
  </dd>
  <dt>
    <strong>--precleanup</strong>
  </dt>
  <dd>
    <p>Clean up the local mirror before starting mirroring. This option may be useful if you have limited disk space, but it will result in an inconsistent mirror when debmirror is running. The deprecated <strong>--cleanup</strong> option also enables this mode.</p>
  </dd>
  <dt>
    <strong>--nocleanup</strong>
  </dt>
  <dd>
    <p>Do not clean up the local mirror.</p>
  </dd>
  <dt>
    <strong>--skippackages</strong>
  </dt>
  <dd>
    <p>Don't re-download <em>Packages</em> and <em>Sources</em> files. Useful if you know they are up-to-date.</p>
  </dd>
  <dt>
    <strong>--diff</strong>=<em>use|mirror|none</em>
  </dt>
  <dd>
    <p>If <strong>--diff=use</strong> is specified and the <em>Release</em> file contains entries for diff files, then debmirror will attempt to use them to update <em>Packages</em>, <em>Sources</em>, and <em>Contents</em> files (which can significantly reduce the download size for meta files), but will not include them in the mirror. This is the default behavior and avoids having time consuming diff files for a fast local mirror. Specifying <strong>--diff=mirror</strong> does the same as <strong>use</strong>, but will also include the downloaded diff files in the local mirror. Specify <strong>--diff=none</strong> to completely ignore diff files. Note that if rsync is used as method to download files and the archive being mirrored has \*(L"rsyncable\*(R" gzipped meta files, then using <strong>--diff=none</strong> may be the most efficient way to download them. See the <a href="../man1/gzip.1.html"><strong>gzip</strong>(1)</a> man page for information about its rsyncable option.</p>
  </dd>
  <dt>
    <strong>--gzip-options</strong>=<em>options</em>
  </dt>
  <dd>
    <p>Specify alternative options to be used when calling <a href="../man1/gzip.1.html"><strong>gzip</strong>(1)</a> to compress meta files after applying diffs. The default options are \*(C`-9 -n --rsyncable\*(C' which corresponds with the options used to gzip meta files for the main Debian archive. These options may need to be modified if the checksum of the file as gzipped by debmirror does not match the checksum listed in the <em>Release</em> file (which will result in the gzipped file being downloaded unnecessarily after diffs were successfully applied).</p>
  </dd>
  <dt>
    <strong>--slow-cpu</strong>
  </dt>
  <dd>
    <p>By default debmirror saves some bandwidth by performing cpu-intensive tasks, such as compressing files to generate .gz and .bz2 files. Use this mode if the computer's \s-1CPU\s0 is slow, and it makes more sense to use more bandwidth and less \s-1CPU\s0. This option implies <strong>--diff=none</strong>.</p>
  </dd>
  <dt>
    <strong>--state-cache-days</strong>=<em>number</em>
  </dt>
  <dd>
    <p>Save the state of the mirror in a cache file between runs. The cache will expire after the specified number of days, at which time a full check and cleanup of the mirror will be done. While the cache is valid, <strong>debmirror</strong> will trust that the mirror is consistent with this cache. The cache is only used for files that have a unique name, i.e. binary packages and source files. If a mirror update fails for any reason, the cache will be invalidated and the next run will include a full check. Main advantage of using the state cache is that it avoids a large amount of disk access while checking which files need to be fetched. It may also reduce the time required for mirror updates.</p>
  </dd>
  <dt>
    <strong>--ignore-small-errors</strong>
  </dt>
  <dd>
    <p>Normally <strong>debmirror</strong> will report an error if any deb files or sources fail to download and refuse to update the meta data to an inconsistent mirror. Normally this is a good things as it indicates something went wrong during download and should be retried. But sometimes the upstream mirror actually is broken. Specifying <strong>--ignore-small-errors</strong> causes <strong>debmirror</strong> to ignore missing or broken deb and source files but still be pedantic about checking meta files.</p>
  </dd>
  <dt>
    <strong>--allow-dist-rename</strong>
  </dt>
  <dd>
    <p>The directory name for a dist should be equal to its Codename and not to a Suite. If the local mirror currently has directories named after Suites, <strong>debmirror</strong> can rename them automatically. An existing symlink from <em>codename</em> to <em>suite</em> will be removed, but <strong>debmirror</strong> will automatically create a new symlink suite&nbsp;-&gt;&nbsp;codename (immediately after moving meta files in place). This conversion should only be needed once.</p>
  </dd>
  <dt>
    <strong>--disable-ssl-verification</strong>
  </dt>
  <dd>
    <p>When https is used, debmirror checks that the \s-1SSL\s0 certificate is value. If the server has a self-signed certificate, the check can be disabled with this option.</p>
  </dd>
  <dt>
    <strong>--debmarshal</strong>
  </dt>
  <dd>
    <p>On each pull, keep the repository meta data from dists/* in a numbered subdirectory, and maintain a symlink latest to the most recent pull. This is similar to Debmarshal in tracking mode, see debmarshal.debian.net for examples and use. debmirror cleanup is disabled when this flag is specified. Separate pool and snapshot cleanup utilities are available at http://code.google.com/p/debmarshal/source/browse/#svn/trunk/repository2</p>
  </dd>
  <dt>
    <strong>--config-file</strong>=<em>file</em>
  </dt>
  <dd>
    <p>Specify a configuration file. This option may be repeated to read multiple configuration files. By default debmirror reads /etc/debmirror.conf and ~/.debmirror.conf (see section \s-1FILES\s0).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING DEBMIRROR</h2>
        <div class="sectioncontent">
<h3>Using regular expressions in options</h3>
<p>Various options accept regular expressions that can be used to tune what is included in the mirror. They can be any regular expression valid in <em>perl</em>, which also means that extended syntax is standard. Make sure to anchor regular expressions appropriately: this is not done by debmirror.</p><p>The --include and --exclude options can be combined. This combination for example will, if the --i18n option is used, exclude all <em>Translation</em> files, except for the ones for Portuguese (pt) and Brazillian (pt_BR):</p><p>  --exclude=&apos;/Translation-.*&#92;.bz2$&apos; --include=&apos;/Translation-pt.*&#92;.bz2$&apos;</p>
<h3>Mirroring Debian Installer images</h3>
<p>Debmirror will only mirror the \*(L"current\*(R" images that are on the remote mirror. At least one of the options --di-dist or --di-arch must be passed to enable mirroring of the images.</p><p>The special values \*(L"dists\*(R" and \*(L"arches\*(R" can be used to tell debmirror to use the same dists and architectures for D-I images as for the archive, but it is also possible to specify different values. If either option is not set, it will default to the same values as for the archive.</p><p>If you wish to create custom \s-1CD\s0 images using for example <em>debian-cd</em>, you will probably also want add the option \*(L"--rsync-extra=doc,tools\*(R".</p><p><strong>Limitations</strong></p><p>There are no progress updates displayed for D-I images.</p>
<h3>Archive size</h3>
<p>The tables in the file <em>/usr/share/doc/debmirror/mirror_size</em> give an indication of the space needed to mirror the Debian archive. They are particularly useful if you wish to set up a partial mirror. Only the size of source and binary packages is included. You should allow for around 1-4 \s-1GB\s0 of meta data (in <em>./dists/&lt;dist&gt;</em>) per suite (depending in your settings). Plus whatever space is needed for extra directories (e.g. <em>tools</em>, <em>doc</em>) you wish to mirror.</p><p>The tables also show how much additional space is required if you add a release on top of its predecessor. Note that the additional space needed for testing and (to a lesser extend) unstable varies during the development cycle of a release. The additional space needed for testing is zero immediately after a stable release and grows from that time onwards.</p><p><strong>Note</strong> Debmirror keeps an extra copy of all meta data. This is necessary to guarantee that the local mirror stays consistent while debmirror is running.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Simply make a mirror in <em>/srv/mirror/debian</em>, using all defaults (or the settings defined in <em>debmirror.conf</em>):</p><p>  debmirror /srv/mirror/debian</p><p>Make a mirror of i386 and sparc binaries, main only, and include both unstable and testing versions of Debian; download from 'ftp.kernel.org':</p><p>  debmirror -a i386,sparc -d sid -d etch -s main --nosource &#92;             -h ftp.nl.debian.org --progress $HOME/mirror/debian</p><p>Make a mirror using rsync (rsync server is 'ftp.debian.org::debian'), excluding the section 'debug' and the package 'foo-doc':</p><p>  debmirror -e rsync $HOME/mirror/debian --exclude=&apos;/foo-doc_&apos; &#92;             --exclude-deb-section=&apos;^debug$&apos;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>  /etc/debmirror.conf   ~/.debmirror.conf</p><p>    Debmirror will look for the presence of these files and load them     in the indicated order if they exist.     See the example in /usr/share/doc/debmirror/examples for syntax.</p><p>  ~/.gnupg/trustedkeys.gpg</p><p>    When gpg checking is enabled,     debmirror uses gpgv to verify Release and Release.gpg using the     default keying ~/.gnupg/trustedkeys.gpg. This can be changed by     exporting GNUPGHOME resulting in $GNUPGHOME/trustedkeys.gpg being     used.  (Note that keyring files can also be specified directly     with debmirror&apos;s --keyring option -- see above).</p><p>    To add the right key to this keyring you can import it from the     debian keyring (in case of the debian archive) using:</p><p>      gpg --keyring /usr/share/keyrings/debian-archive-keyring.gpg --export &#92;           | gpg --no-default-keyring --keyring trustedkeys.gpg --import</p><p>    or download the key from a keyserver:</p><p>      gpg --no-default-keyring --keyring trustedkeys.gpg &#92;           --keyserver keyring.debian.org --recv-keys &lt;key ID&gt;</p><p>    The &lt;key ID&gt; can be found in the gpgv error message in debmirror:     gpgv: Signature made Tue Jan 23 09:07:53 2007 CET using DSA key ID 2D230C5F</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>This program is copyright 2000-2001, 2010 by Joey Hess &lt;joeyh@debian.org&gt;, under the terms of the \s-1GNU\s0 \s-1GPL\s0 (either version 2 of the licence or, at your option, any later version), copyright 2001-2002 by Joerg Wendland &lt;joergland@debian.org&gt;, copyright 2003-2007 by Goswin von Brederlow &lt;goswin-v-b@web.de&gt; and copyright 2009-2010 by Frans Pop &lt;fjp@debian.org&gt;.</p><p>The author disclaims any responsibility for any mangling of your system, unexpected bandwidth usage bills, meltdown of the Debian mirror network, etc, that this script may cause. See \s-1NO\s0 \s-1WARRANTY\s0 section of \s-1GPL\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p> Author and current maintainer:    Joey Hess &lt;joeyh@debian.org&gt;</p><p> Previous maintainers:    Joerg Wendland &lt;joergland@debian.org&gt;    Goswin von Brederlow &lt;goswin-v-b@web.de&gt;    Frans Pop &lt;fjp@debian.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MOTTO</h2>
        <div class="sectioncontent">
<p>Waste bandwith \*(-- put a partial mirror on your laptop today!</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="debmany.1.html"><span aria-hidden="true">&larr;</span> debmany.1: Select manpages or documentation files from installed packages, packages from the repository or .deb-files for viewing using "man", "sensible-pager" or an alternative viewer.</a></li>
   <li class="next"><a href="debomatic.1.html">debomatic.1: Automatic build machine for debian source packages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
