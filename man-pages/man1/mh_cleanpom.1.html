<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mh_cleanpom: Cleans a pom file.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cleans a pom file.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mh_cleanpom (1) manual">
  <meta name="twitter:description" content="Cleans a pom file.">
  <meta name="twitter:image" content="https://www.carta.tech/images/maven-repo-helper-mh_cleanpom-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mh_cleanpom.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mh_cleanpom (1) manual" />
  <meta property="og:description" content="Cleans a pom file." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/maven-repo-helper-mh_cleanpom-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mh_cleanpom<small> (1)</small></h1>
        <p class="lead">Cleans a pom file.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mh_cleanpom.1.html">
      <span itemprop="name">mh_cleanpom: Cleans a pom file.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/maven-repo-helper/">
      <span itemprop="name">maven-repo-helper</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mh_cleanpom.1.html">
      <span itemprop="name">mh_cleanpom: Cleans a pom file.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mh_cleanpom</strong> [<em>\,option\/</em>]... [<em>\,pom\/</em>] [<em>\,target\/</em>] [<em>\,pom-props\/</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Cleans the POM and prepare it for inclusion in the Maven repository. Also extracts some information from the POM.</p><p>debian/maven.rules is used to alter the version properties for the library and its dependencies.</p><p>Where</p><ul>
<li><p>[pom] is the location of the POM file to clean.</p></li><li><p>Default to pom.xml or debian/pom.xml</p></li><li><p>[target] is where the cleaned POM is written to.</p></li><li><p>Default to debian/.mh/pom.xml</p></li><li><p>[pom-props] is where the POM properties file will be written.</p></li><li><p>Default to debian/.mh/pom.properties</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-h</strong> <strong>--help</strong>: show this text <strong>-V</strong> <strong>--version</strong>: show the version <strong>-p</strong>&lt;package&gt; <strong>--package=</strong>&lt;package&gt;: name of the Debian package which</p><ul>
<li><p>will contain this POM file <strong>-h</strong> <strong>--has-package-version</strong>: flag that indicates that this POM has the</p></li><li><p>same version as the package, this helps packagers of depending packages <strong>-o</strong> <strong>--no-parent</strong>: don't inherit from a parent POM <strong>-k</strong> <strong>--keep-pom-version</strong>: keep the original version of the POM but</p></li><li><p>convert all other versions in dependencies and plugins. If there is a parent POM, keeps its version except when the parent is already registered in the Maven repository <strong>-e</strong>&lt;version&gt;, <strong>--set-version=</strong>&lt;version&gt;: set the version for the POM,</p></li><li><p>do not use the version declared in the POM file. <strong>-r</strong>&lt;rules&gt; <strong>--rules=</strong>&lt;rules&gt;: path to the file containing the</p></li><li><p>rules to apply when cleaning the POM. Optional, the default location is debian/maven.rules <strong>-R</strong>&lt;rule&gt;, <strong>--extra-rule=</strong>&lt;rule&gt;: extra rule to apply when cleaning the POM</p></li><li><p>May occur multiple times, instead of or in addition to <strong>-r</strong> <strong>-u</strong>&lt;rules&gt; <strong>--published-rules=</strong>&lt;rules&gt;: path to the file containing the</p></li><li><p>extra rules to publish in the property debian.mavenRules in the cleaned POM. Optional, the default location is debian/maven.publishedRules <strong>-U</strong>&lt;rule&gt;, <strong>--extra-published-rule=</strong>&lt;rule&gt;: extra rule to publish</p></li><li><p>May occur multiple times, instead of or in addition to <strong>-u</strong> <strong>-i</strong>&lt;rules&gt; <strong>--ignore-rules=</strong>&lt;rules&gt;: path to the file containing the</p></li><li><p>rules used to remove certain dependencies from the cleaned POM Optional, the default location is debian/maven.ignoreRules <strong>-I</strong>&lt;rule&gt;, <strong>--extra-ignore-rule=</strong>&lt;rule&gt;: extra rule used to remove dependencies</p></li><li><p>from the transformed POM May occur multiple times, instead of or in addition to <strong>-i</strong> <strong>-c</strong>&lt;rules&gt; <strong>--clean-ignore-rules=</strong>&lt;rules&gt;: path to the file containing the</p></li><li><p>rules use to remove certain dependencies from the cleaned POM, in addition to the ignore rules specified previously. This is useful in situations such as when the Maven clean target requires more dependencies or plugins to ignore than the build target. All rules defined in clean-ignore-rules will be added to the existing rules in ignore-rules. Optional, the default location is debian/maven.cleanIgnoreRules <strong>-s</strong> <strong>--no-rules</strong>: don't apply any rules for converting versions,</p></li><li><p>do not even convert versions to the default 'debian' version <strong>--no-publish-used-rule</strong>: don't publish the rule used to transform</p></li><li><p>a POM's own attributes in debian.mavenRules <strong>--keep-elements=</strong>&lt;elem1,elem2&gt;: keep the elements listed here</p></li><li><p>even if they are normally removed by the clean operation. Such elements are build,reports,reporting,prerequisites,profiles. <strong>-m</strong>&lt;repo root&gt;--maven-repo=&lt;repo root&gt;: location of the Maven repository,</p></li><li><p>used to force the versions of the Maven plugins used in the current POM file with the versions found in the repository <strong>-v</strong> <strong>--verbose</strong>: show more information while running <strong>-n</strong> <strong>--no-act</strong>: don't actually do anything, just print the results</p></li>
</ul><h3>Description:</h3>
<ul>
<li><p>Cleans a Maven POM and prepare it for inclusion in the Debian repository for Maven.</p></li><li><p>The POM will be normalised, and its parent tag removed if the option <strong>--no-parent</strong> is given. The version will be replaced by 'debian', unless a special rule applies (see below the discussion about rules). Build, profiles and other build time only sections of the POM will be stripped.</p></li><li><p>If versions are given for a dependency, this version will be replaced by the 'debian' version, or a rule can be given to use a custom version</p></li><li><p>You can modify those defaults with the help of the rules file. This file should contain the lines with the format: &lt;groupId&gt; [artifactId] [type] [version] [classifier] [scope] where groupId, artifactId, type, version, classifier and scope can be the explicit attribute to match, or can contain a wildcard (*) for generic matches.</p></li><li><p>Each one of those elements can also be a replace rule, of the form s/&lt;regex&gt;/&lt;replace&gt;/ where regex is a regular expression, and replace is the replacement. Substitution groups $1 $2... can be used in the replacement if capture groups () have been used in the regex.</p></li><li><p>The first element is mandatory (groupId), but you can ignore the elements on the right hand side. If the scope is missing, then any scope is matched and left unchanged. If the version is missing, then any version will be replaced with 'debian'. If type is missing, then any type is matched and left unchanged. If artifactId is missing, then any artifactId is matched and left unchanged.</p></li><li><p>You can also have comments in this file, it should be a line starting with #</p></li>
</ul><p>Example of a rules file:</p><ul>
<li><p>s/commons-(.*)/org.apache.commons.commons$1/ org.itext * * s/1&#92;..*/1.x/ org.itext * * s/2&#92;..*/2.x/ # use the alpha version of plexus-container-default org.codehaus.plexus plexus-container-default jar s/1&#92;.0-alpha.*/1.0-alpha/</p></li><li><p>This rules file does the following: - all groupIds starting with commons- will have - org.apache.commons. prefixed to them - any artifact in the org.itext group with a version number starting</p></li><li><p>with 1. will use the 1.x version</p></li><li><p>- any artifact in the org.itext group with a version number starting</p></li><li><p>with 2. will use the 2.x version</p></li><li><p>- the jar with groupId=org.codehaus.plexus and</p></li><li><p>artifactId=plexus-container-default and a version starting with 1.0-alpha- will use the 1.0-alpha version</p></li><li><p>The default rule (* * * s/.*/debian/ *) replaces any version number with the 'debian' version and always applies last if there was no other matches. Another default rule (* * maven-plugin * *) keep the version for all plugins as the plugin mechanism requires a version in Maven.</p></li><li><p>Any rules given on the command line (using <strong>-R</strong>/--extra-rule, <strong>-U</strong>/--extra-published-rule or <strong>-I</strong>/--extra-ignore-rule) are applied in the order given, in between the rules given in the rules file (if any) and the default rules.</p></li>
</ul><p>See also: <a href="../man1/mh_installpom.1.html"><strong>mh_installpom</strong>(1)</a>, <a href="../man1/mh_installpoms.1.html"><strong>mh_installpoms</strong>(1)</a></p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mh_clean.1.html"><span aria-hidden="true">&larr;</span> mh_clean.1: Cleans the temporary files created by the other mh_* utilities.</a></li>
   <li class="next"><a href="mh_genrules.1.html">mh_genrules.1: Manual page for maven repo helper version 1.7.1 <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
