<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cronolog: Write log messages to log files named according to a template</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Write log messages to log files named according to a template">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cronolog (1m) manual">
  <meta name="twitter:description" content="Write log messages to log files named according to a template">
  <meta name="twitter:image" content="https://www.carta.tech/images/cronolog-cronolog-1m.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1m/cronolog.1m.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cronolog (1m) manual" />
  <meta property="og:description" content="Write log messages to log files named according to a template" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cronolog-cronolog-1m.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cronolog<small> (1m)</small></h1>
        <p class="lead">Write log messages to log files named according to a template</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1m/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1m/cronolog.1m.html">
      <span itemprop="name">cronolog: Write log messages to log files named according to a template</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cronolog/">
      <span itemprop="name">cronolog</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1m/cronolog.1m.html">
      <span itemprop="name">cronolog: Write log messages to log files named according to a template</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>cronolog [<em>OPTION</em>]... <em>template</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>cronolog</strong> is a simple program that reads log messages from its input and writes them to a set of output files, the names of which are constructed using <strong>template</strong> and the current date and time.  The template uses the same format specifiers as the Unix <a href="../man1/date.1.html"><strong>date</strong>(1)</a> command (which are the same as the standard C strftime library function).</p><p>Before writing a message <strong>cronolog</strong> checks the time to see whether the current log file is still valid and if not it closes the current file, expands the template using the current date and time to generate a new file name, opens the new file (creating missing directories on the path of the new log file as needed unless the program is compiled with -DDONT_CREATE_SUBDIRS) and calculates the time at which the new file will become invalid.</p><p><strong>cronolog</strong> is intended to be used in conjunction with a Web server, such as Apache to split the access log into daily or monthly logs.  For example the Apache configuration directives:</p>
<pre>
        TransferLog "|/usr/bin/cronolog /www/logs/%Y/%m/%d/access.log"
        ErrorLog    "|/usr/bin/cronolog /www/logs/%Y/%m/%d/errors.log"
</pre>
<p>would instruct Apache to pipe its access and error log messages into separate copies of cronolog, which would create new log files each day in a directory hierarchy structured by date, i.e. on 31 December 1996 messages would be written to</p>
<pre>
        /www/logs/1996/12/31/access.log
        /www/logs/1996/12/31/errors.log
</pre>
<p>after midnight the files</p>
<pre>
        /www/logs/1997/01/01/access.log
        /www/logs/1997/01/01/errors.log
</pre>
<p>would be used, with the directories 1997, 1997/01 and 1997/01/01 being created if they did not already exist.  (Note that prior to version 1.2 Apache did not allow a program to be specified as the argument of the ErrorLog directive.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Options</h2>
        <div class="sectioncontent">
<p><strong>cronolog</strong> accepts the following options and arguments:</p>
<dl class='dl-vertical'>
  <dt>
    -H <em>NAME</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    --hardlink=<em>NAME</em>
  </dt>
  <dd>
    <p>maintain a hard link from <em>NAME</em> to the current log file.</p>
  </dd>
  <dt>
    -S <em>NAME</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    --symlink=<em>NAME</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    -l <em>NAME</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    --link=<em>NAME</em>
  </dt>
  <dd>
    <p>maintain a symbolic link from <em>NAME</em> to the current log file.</p>
  </dd>
  <dt>
    -P <em>NAME</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    --prev-simlink=<em>NAME</em>
  </dt>
  <dd>
    <p>maintain a symbolic link from <em>NAME</em> to the previous log file.  Requires that the <strong>--symlink</strong> option is specified, as cronolog renames the current link to the name specified for the previous link.</p>
  </dd>
  <dt>
    -h
  </dt>
  <dd>
    
  </dd>
  <dt>
    --help
  </dt>
  <dd>
    <p>print a help message and then exit.</p>
  </dd>
  <dt>
    -p <em>PERIOD</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    --period=<em>PERIOD</em>
  </dt>
  <dd>
    <p>specifies the period explicitly as an optional digit string followed by one of units: <strong>seconds</strong>, <strong>minutes</strong>, <strong>hours</strong>, <strong>days</strong>, <strong>weeks</strong> or <strong>months</strong>.  The count cannot be greater than the number of units in the next larger unit, i.e. you cannot specify "120 minutes", and for seconds, minutes and hours the count must be a factor of the next higher unit, i.e you can specify 1, 2, 3, 4, 5, 6, 10, 15, 20 or 30 minutes but not say 7 minutes.</p>
  </dd>
  <dt>
    -d <em>PERIOD</em>
  </dt>
  <dd>
    
  </dd>
  <dt>
    --delay=<em>PERIOD</em>
  </dt>
  <dd>
    <p>specifies the delay from the start of the period before the log file is rolled over.  For example specifying (explicitly or implicitly) a period of 15 minutes and a delay of 5 minutes results in the log files being rotated at five past, twenty past, twentyfive to and ten to each hour.   The delay cannot be longer than the period.</p>
  </dd>
  <dt>
    -o
  </dt>
  <dd>
    
  </dd>
  <dt>
    --once-only
  </dt>
  <dd>
    <p>create single output log from template, which is not rotated.</p>
  </dd>
  <dt>
    -x FILE
  </dt>
  <dd>
    
  </dd>
  <dt>
    --debug=<em>FILE</em>
  </dt>
  <dd>
    <p>write debug messages to <em>FILE</em> or to the standard error stream if <em>FILE</em> is "-".  (See the README file for more details.)</p>
  </dd>
  <dt>
    -s TIME
  </dt>
  <dd>
    
  </dd>
  <dt>
    --start-time=<em>TIME</em>
  </dt>
  <dd>
    <p>pretend that the starting time is <em>TIME</em> (for debugging purposes). <em>TIME should be something like DD MONTH YYYY HH:MM:SS (the day and</em> month are reversed if the american option is specified).  If the seconds are omitted then they are taken as zero and if the hours and minutes are omitted then the time of day is taken as 00:00:00 (i.e. midnight).  The day, month and year can be separated by spaces, hyphens (-) or solidi (/).</p>
  </dd>
  <dt>
    -a
  </dt>
  <dd>
    
  </dd>
  <dt>
    --american
  </dt>
  <dd>
    <p>Interprete the date part of the starting time the American way (month then day).</p>
  </dd>
  <dt>
    -e
  </dt>
  <dd>
    
  </dd>
  <dt>
    --european
  </dt>
  <dd>
    <p>Interprete the date part of the starting time the European way (day then month).  This is the default.</p>
  </dd>
  <dt>
    -v
  </dt>
  <dd>
    
  </dd>
  <dt>
    --version
  </dt>
  <dd>
    <p>print version information and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Template format</h2>
        <div class="sectioncontent">
<p>Each character in the template represents a character in the expanded filename, except for date and time format specifiers, which are replaced by their expansion.  Format specifiers consist of a `%' followed by one of the following characters:</p>
<dl class='dl-vertical'>
  <dt>
    %
  </dt>
  <dd>
    <p>a literal % character</p>
  </dd>
  <dt>
    n
  </dt>
  <dd>
    <p>a new-line character</p>
  </dd>
  <dt>
    t
  </dt>
  <dd>
    <p>a horizontal tab character</p>
  </dd>

</dl>
<p>Time fields:</p>
<dl class='dl-vertical'>
  <dt>
    H
  </dt>
  <dd>
    <p>hour (00..23)</p>
  </dd>
  <dt>
    I
  </dt>
  <dd>
    <p>hour (01..12)</p>
  </dd>
  <dt>
    p
  </dt>
  <dd>
    <p>the locale's AM or PM indicator</p>
  </dd>
  <dt>
    M
  </dt>
  <dd>
    <p>minute (00..59)</p>
  </dd>
  <dt>
    S
  </dt>
  <dd>
    <p>second (00..61, which allows for leap seconds)</p>
  </dd>
  <dt>
    X
  </dt>
  <dd>
    <p>the locale's time representation (e.g.: "15:12:47")</p>
  </dd>
  <dt>
    Z
  </dt>
  <dd>
    <p>time zone (e.g. GMT), or nothing if the time zone cannot be determined</p>
  </dd>

</dl>
<p>Date fields:</p>
<dl class='dl-vertical'>
  <dt>
    a
  </dt>
  <dd>
    <p>the locale's abbreviated weekday name (e.g.: Sun..Sat)</p>
  </dd>
  <dt>
    A
  </dt>
  <dd>
    <p>the locale's full weekday name (e.g.: Sunday .. Saturday)</p>
  </dd>
  <dt>
    b
  </dt>
  <dd>
    <p>the locale's abbreviated month name (e.g.: Jan .. Dec)</p>
  </dd>
  <dt>
    B
  </dt>
  <dd>
    <p>the locale's full month name, (e.g.: January .. December)</p>
  </dd>
  <dt>
    c
  </dt>
  <dd>
    <p>the locale's date and time (e.g.: "Sun Dec 15 14:12:47 GMT 1996")</p>
  </dd>
  <dt>
    d
  </dt>
  <dd>
    <p>day of month (01 .. 31)</p>
  </dd>
  <dt>
    j
  </dt>
  <dd>
    <p>day of year (001 .. 366)</p>
  </dd>
  <dt>
    m
  </dt>
  <dd>
    <p>month (01 .. 12)</p>
  </dd>
  <dt>
    U
  </dt>
  <dd>
    <p>week of the year with Sunday as first day of week (00..53, where week 1 is the week containing the first Sunday of the year)</p>
  </dd>
  <dt>
    W
  </dt>
  <dd>
    <p>week of the year with Monday as first day of week (00..53, where week 1 is the week containing the first Monday of the year)</p>
  </dd>
  <dt>
    w
  </dt>
  <dd>
    <p>day of week (0 .. 6, where 0 corresponds to Sunday)</p>
  </dd>
  <dt>
    x
  </dt>
  <dd>
    <p>locale's date representation (e.g. today in April in Britain: "13/04/97")</p>
  </dd>
  <dt>
    y
  </dt>
  <dd>
    <p>year without the century (00 .. 99)</p>
  </dd>
  <dt>
    Y
  </dt>
  <dd>
    <p>year with the century (1970 .. 2038)</p>
  </dd>

</dl>
<p>Other specifiers may be available depending on the C library's implementation of the <strong>strftime</strong> function.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cronolog&hellip;</h2>
        <div class="sectioncontent">
<p><strong>apache</strong>(1m) <a href="../man1/date.1.html"><strong>date</strong>(1)</a> <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a> <strong>environ</strong>(5)</p><p>More information and the latest version of <strong>cronolog</strong> can be obtained from</p>
<pre>
        http://www.ford-mason.co.uk/resources/cronolog/
</pre>
<p>If you have any suggestions, bug reports, fixes, or enhancements, please mail them to the author.</p><h3>More about Apache</h3>
<p>Documentation for the Apache http server is available from</p>
<pre>
        http://www.apache.org
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUTURE DIRECTIONS</h2>
        <div class="sectioncontent">
<p>The functionality of <strong>cronolog</strong> could be built into Apache, thus saving the overhead of having a process per log stream and that of transferring data from the server process to the cronolog process.  The main complication is handling the case where multiple log streams are written to the same file (template), for example where different virtual servers write to the same set of log files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Andrew Ford &lt;A.Ford@ford-mason.co.uk&gt;</p><p><strong>cronolog</strong> is based on a program called <strong>rotatelogs</strong> by Ben Laurie, which is packaged with the Apache web server.</p><p>The symbolic link option was suggested by Juergen Lesny.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="next"><a href="cronosplit.1m.html">cronosplit.1m: Split log files into cronolog-compatible files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
