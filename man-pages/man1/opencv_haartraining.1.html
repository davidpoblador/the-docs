<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>opencv_haartraining: Train classifier</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Train classifier">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="opencv_haartraining (1) manual">
  <meta name="twitter:description" content="Train classifier">
  <meta name="twitter:image" content="https://www.carta.tech/images/libopencv-dev-opencv_haartraining-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/opencv_haartraining.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="opencv_haartraining (1) manual" />
  <meta property="og:description" content="Train classifier" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libopencv-dev-opencv_haartraining-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">opencv_haartraining<small> (1)</small></h1>
        <p class="lead">Train classifier</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/opencv_haartraining.1.html">
      <span itemprop="name">opencv_haartraining: Train classifier</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libopencv-dev/">
      <span itemprop="name">libopencv-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/opencv_haartraining.1.html">
      <span itemprop="name">opencv_haartraining: Train classifier</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>opencv_haartraining [options]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>opencv_haartraining</strong> is training the classifier. While it is running, you can already get an impression, whether the classifier will be suitable or if you need to improve the training set and/or parameters.</p><p>In the output:</p>
<dl class='dl-vertical'>
  <dt>
    <p>&apos;<strong>POS:</strong>&apos;</p>
  </dt>
  <dd>
    <p>shows the hitrate in the set of training samples (should be equal or near to <em>1.0</em> as in stage 0)</p>
  </dd>
  <dt>
    <p>&apos;<strong>NEG:</strong>&apos;</p>
  </dt>
  <dd>
    <p>indicates the false alarm rate (should reach at least <em>5*10-6</em> to be a usable classifier for real world applications)</p>
  </dd>

</dl>
<p>If one of the above values gets <em>0</em> (<em>zero</em>) there is an overflow. In this case the false alarm rate is so low, that further training doesn't make sense anymore, so it can be stopped.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>opencv_haartraining</strong> supports the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-data </strong><em>dir_name</em></p>
  </dt>
  <dd>
    <p>The directory in which the trained classifier is stored.</p>
  </dd>
  <dt>
    <p><strong>-vec </strong><em>vec_file_name</em></p>
  </dt>
  <dd>
    <p>The file name of the positive samples file (e.g. created by the <a href="../man1/opencv_createsamples.1.html"><strong>opencv_createsamples</strong>(1)</a> utility).</p>
  </dd>
  <dt>
    <p><strong>-bg </strong><em>background_file_name</em></p>
  </dt>
  <dd>
    <p>The background description file (the negative sample set). It contains a list of images into which randomly distorted versions of the object are pasted for positive sample generation.</p>
  </dd>
  <dt>
    <p><strong>-bg-vecfile</strong></p>
  </dt>
  <dd>
    <p>This option is that bgfilename represents a vec file with discrete negatives. The default is <strong>not set</strong>.</p>
  </dd>
  <dt>
    <p><strong>-npos </strong><em>number_of_positive_samples</em></p>
  </dt>
  <dd>
    <p>The number of positive samples used in training of each classifier stage. The default is <em>2000</em>.</p>
  </dd>
  <dt>
    <p><strong>-nneg </strong><em>number_of_negative_samples</em></p>
  </dt>
  <dd>
    <p>The number of negative samples used in training of each classifier stage. The default is <em>2000</em>.</p>
  </dd>

</dl>
<p>Reasonable values are <strong>-npos 7000 -nneg 3000</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nstages </strong><em>number_of_stage</em></p>
  </dt>
  <dd>
    <p>The number of stages to be trained. The default is <em>14</em>.</p>
  </dd>
  <dt>
    <p><strong>-nsplits </strong><em>number_of_splits</em></p>
  </dt>
  <dd>
    <p>Determine the weak classifier used in stage classifiers. If the value is</p><ul>
<li><p><strong>1</strong>, then a simple stump classifier is used</p></li><li><p><strong>&gt;=2</strong>, then CART classifier with <em>number_of_splits</em> internal (split) nodes is used</p></li><li><p>The default is <em>1</em>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-mem </strong><em>memory_in_MB</em></p>
  </dt>
  <dd>
    <p>Available memory in <strong>MB</strong> for precalculation. The more memory you have the faster the training process is. The default is <em>200</em>.</p>
  </dd>
  <dt>
    <p><strong>-sym, -nonsym</strong></p>
  </dt>
  <dd>
    <p>Specify whether the object class under training has vertical symmetry or not. Vertical symmetry speeds up training process and reduces memory usage. For instance, frontal faces show off vertical symmetry. The default is <strong>-sym</strong>.</p>
  </dd>
  <dt>
    <p><strong>-minhitrate </strong><em>min_hit_rate</em></p>
  </dt>
  <dd>
    <p>The minimal desired hit rate for each stage classifier. Overall hit rate may be estimated as <em>min_hit_rate^number_of_stages</em>. The default is <em>0.950000</em>.</p>
  </dd>
  <dt>
    <p><strong>-maxfalsealarm </strong><em>max_false_alarm_rate</em></p>
  </dt>
  <dd>
    <p>The maximal desired false alarm rate for each stage classifier. Overall false alarm rate may be estimated as <em>max_false_alarm_rate^number_of_stages</em>. The default is <em>0.500000</em>.</p>
  </dd>
  <dt>
    <p><strong>-weighttrimming </strong><em>weight_trimming</em></p>
  </dt>
  <dd>
    <p>Specifies whether and how much weight trimming should be used. The default is <em>0.950000</em>. A decent choice is <em>0.900000</em>.</p>
  </dd>
  <dt>
    <p><strong>-eqw</strong></p>
  </dt>
  <dd>
    <p>Specify if initial weights of all samples will be equal.</p>
  </dd>
  <dt>
    <p><strong>-mode {</strong><em>BASIC</em><strong>|</strong><em>CORE</em><strong>|</strong><em>ALL</em><strong>}</strong></p>
  </dt>
  <dd>
    <p>Select the type of haar features set used in training. <em>BASIC</em> uses only upright features, while <em>CORE</em> uses the full upright feature set and <em>ALL</em> uses the full set of upright and 45 degree rotated feature set. The default is <em>BASIC</em>.</p><ul>
<li><p>For more information on this see http://www.lienhart.de/ICIP2002.pdf.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-h </strong><em>sample_height</em></p>
  </dt>
  <dd>
    <p>The sample height (must have the same value as used during creation). The default is <em>24</em>.</p>
  </dd>
  <dt>
    <p><strong>-w </strong><em>sample_width</em></p>
  </dt>
  <dd>
    <p>The sample width (must have the same value as used during creation). The default is <em>24</em>.</p>
  </dd>
  <dt>
    <p><strong>-bt {</strong><em>DAB</em><strong>|</strong><em>RAB</em><strong>|</strong><em>LB</em><strong>|</strong><em>GAB</em><strong>}</strong></p>
  </dt>
  <dd>
    <p>The type of the applied boosting algorithm. You can choose between Discrete AdaBoost (<em>DAB</em>), Real AdaBoost (<em>RAB</em>), LogitBoost (<em>LB</em>) and Gentle AdaBoost (<em>GAB</em>). The default is <em>GAB</em>.</p>
  </dd>
  <dt>
    <p><strong>-err {</strong><em>misclass</em><strong>|</strong><em>gini</em><strong>|</strong><em>entropy</em><strong>}</strong></p>
  </dt>
  <dd>
    <p>The type of used error if Discrete AdaBoost (<strong>-bt DAB</strong>) algorithm is applied. The default is <em>misclass</em>.</p>
  </dd>
  <dt>
    <p><strong>-maxtreesplits </strong><em>max_number_of_splits_in_tree_cascade</em></p>
  </dt>
  <dd>
    <p>The maximal number of splits in a tree cascade. The default is <em>0</em>.</p>
  </dd>
  <dt>
    <p><strong>-minpos </strong><em>min_number_of_positive_samples_per_cluster</em></p>
  </dt>
  <dd>
    <p>The minimal number of positive samples per cluster. The default is <em>500</em>.</p>
  </dd>

</dl>
<p>The same information is shown, if <strong>opencv_haartraining</strong> is called without any arguments/options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>TODO</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO opencv_haartraining&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/opencv_createsamples.1.html"><strong>opencv_createsamples</strong>(1)</a>, <a href="../man1/opencv_performance.1.html"><strong>opencv_performance</strong>(1)</a></p><p>More information and examples can be found in the OpenCV documentation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>This manual page was written by <strong>Daniel Leidert</strong> &lt;daniel.leidert@wgdd.de&gt; and <strong>Nobuhiro Iwamatsu</strong> &lt;iwamatsu@debian.org&gt; for the Debian project (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="opencv_createsamples.1.html"><span aria-hidden="true">&larr;</span> opencv_createsamples.1: Create training and testing samples</a></li>
   <li class="next"><a href="opencv_performance.1.html">opencv_performance.1: Evaluate the performance of the classifier <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
