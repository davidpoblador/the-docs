<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>camlp5: Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="camlp5 (1) manual">
  <meta name="twitter:description" content="Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor">
  <meta name="twitter:image" content="https://www.carta.tech/images/camlp5-camlp5-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/camlp5.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="camlp5 (1) manual" />
  <meta property="og:description" content="Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/camlp5-camlp5-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">camlp5<small> (1)</small></h1>
        <p class="lead">Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/camlp5.1.html">
      <span itemprop="name">camlp5: Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/camlp5/">
      <span itemprop="name">camlp5</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/camlp5.1.html">
      <span itemprop="name">camlp5: Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>camlp5</strong> [ load-options ] [--] [ other-options ]</p><p><strong>camlp5o</strong> [ load-options ] [--] [ other-options ]</p><p><strong>camlp5r</strong> [ load-options ] [--] [ other-options ]</p><p><strong>camlp5sch</strong> [ load-options ] [--] [ other-options ]</p><p><strong>camlp5o.cma</strong></p><p><strong>camlp5r.cma</strong></p><p><strong>camlp5sch.cma</strong></p><p><strong>mkcamlp5</strong></p><p><strong>mkcamlp5.opt</strong></p><p><strong>ocpp5</strong> [ load-options ] file</p><p><strong>camlp5o.opt</strong> [--] [ other-options ]</p><p><strong>camlp5r.opt</strong> [--] [ other-options ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>camlp5</strong> is a Pre-Processor-Pretty-Printer for OCaml, parsing a source file and printing some result on standard output.</p><p><strong>camlp5o,</strong> <strong>camlp5r</strong> and <strong>camlp5sch</strong> are versions of <strong>camlp5</strong> with some files already loaded (see further).</p><p><strong>camlp5o.cma,</strong> <strong>camlp5r.cma</strong> and <strong>camlp5sch.cma</strong> are files to be loaded in ocaml toplevel to use the camlp5 machinery</p><p><strong>mkcamlp5</strong> and <strong>mkcamlp5.opt</strong> creates camlp5 executables with almost the same options than ocamlmktop. See further.</p><p><strong>ocpp5</strong> is an universal preprocessor, treating any kind of source file, generating the same text with the possible quotations expanded.</p><p><strong>camlp5o.opt</strong> and <strong>camlp5r.opt</strong> are versions of camlp5o and camlp5r compiled by the native-code compiler ocamlopt. They are faster but not extensible. And they are not available in all installations of camlp5.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LOAD OPTIONS</h2>
        <div class="sectioncontent">
<p>The load options select parsing and printing actions recorded in OCaml object files (ending with .cmo or .cma). Several usage of these options are authorized. They must precede the other options.</p><p>An optional <strong>--</strong> may end the load options.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-I</strong><em>directory</em></p>
  </dt>
  <dd>
    <p>Add <em>directory</em> in the search path for files loaded. Unless the option -nolib is used, the camlp5 library directory is appended to the path. Warning: there is no automatic search in the current directory: add "-I ." for this.</p>
  </dd>
  <dt>
    <p><strong>-where</strong></p>
  </dt>
  <dd>
    <p>Print camlp5 library directory name and exit.</p>
  </dd>
  <dt>
    <p><strong>-nolib</strong></p>
  </dt>
  <dd>
    <p>No automatic search for objects files in camlp5 library directory.</p>
  </dd>
  <dt>
    <p><strong>object-file</strong></p>
  </dt>
  <dd>
    <p>The file is loaded in camlp5 core.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER OPTIONS</h2>
        <div class="sectioncontent">
<p>The others options are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>file</em></p>
  </dt>
  <dd>
    <p>Treat <em>file</em> as an interface file if it ends with .mli and as an implementation file if it ends with .ml.</p>
  </dd>
  <dt>
    <p><strong>-intf</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Treat <em>file</em> as an interface file, whatever its extension.</p>
  </dd>
  <dt>
    <p><strong>-impl</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Treat <em>file</em> as an implementation file, whatever its extension.</p>
  </dd>
  <dt>
    <p><strong>-unsafe</strong></p>
  </dt>
  <dd>
    <p>Generate unsafe accesses to arrays and strings.</p>
  </dd>
  <dt>
    <p><strong>-noassert</strong></p>
  </dt>
  <dd>
    <p>Do not compile assertion checks.</p>
  </dd>
  <dt>
    <p><strong>-verbose</strong></p>
  </dt>
  <dd>
    <p>More verbose in parsing errors.</p>
  </dd>
  <dt>
    <p><strong>-QD</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Dump in <em>file</em> in case of syntax error in the result of a quotation expansion.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em>out-file</em></p>
  </dt>
  <dd>
    <p>Print the result on out-file instead of standard output. File is opened with open_out_bin (see OCaml library Pervasives).</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print the version number and exit.</p>
  </dd>
  <dt>
    <p><strong>-help</strong></p>
  </dt>
  <dd>
    <p>Print the available options and exit. This print includes the options possibly added by the loaded object files.</p>
  </dd>

</dl>
<p>The others options can be extended by loaded object files. The provided files add the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-l</strong><em>line-length</em></p>
  </dt>
  <dd>
    <p>Added by pr_o.cmo and pr_r.cmo: set the line length (default 78).</p>
  </dd>
  <dt>
    <p><strong>-sep</strong><em>string</em></p>
  </dt>
  <dd>
    <p>Added by pr_o.cmo and pr_r.cmo: print this string between phrases instead of comments.</p>
  </dd>
  <dt>
    <p><strong>-no_ss</strong></p>
  </dt>
  <dd>
    <p>Added by pr_o.cmo: do not print double semicolons</p>
  </dd>
  <dt>
    <p><strong>-D</strong><em>ident</em></p>
  </dt>
  <dd>
    <p>Added by pa_macro.cmo: define the ident.</p>
  </dd>
  <dt>
    <p><strong>-U</strong><em>ident</em></p>
  </dt>
  <dd>
    <p>Added by pa_macro.cmo: undefine the ident.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROVIDED FILES</h2>
        <div class="sectioncontent">
<p>These files are installed in the directory /usr/lib/ocaml/camlp5.</p><p>Parsing files:</p>
<pre>
	pa_r.cmo: revised syntax
	pa_rp.cmo: streams and parsers
	pa_lexer.cmo: lexers
	pa_o.cmo: normal syntax
	pa_op.cmo: streams and parsers
	pa_oop.cmo: streams and parsers (without code optimization)
	pa_scheme.cmo: scheme syntax
	pa_extend.cmo: syntax extension for grammars
	pa_extfold.cmo: extension of pa_extend with FOLD0 and FOLD1
	pa_extfun.cmo: syntax extension for extensible functions
	pa_extprint.cmo: syntax extensions for extensible printers
	pa_pprintf.cmo: syntax extension for pprintf statement
	pa_fstream.cmo: syntax extension for functional streams
	pa_macro.cmo: add macros (ifdef, define) like in C
	pa_lefteval.cmo: left-to-right evaluation of parameters
	pa_pragma.cmo: directive #pragma
</pre>
<p>Printing files:</p>
<pre>
	pr_r.cmo: revised syntax without objects and labels
	pr_ro.cmo: revised syntax for objects and labels
	pr_rp.cmo: try to rebuild streams and parsers syntax
	pr_o.cmo: normal syntax
	pr_op.cmo: try to rebuild streams and parsers syntax
	pr_scheme.cmo: Scheme syntax
	pr_schemep.cmo: try to rebuild streams and parsers syntax
	pr_extend.cmo: try to rebuild EXTEND statements
	pr_extfun.cmo: try to rebuild extfun statements
	pr_extprint.cmo: try to rebuild EXTEND_PRINTER statements
	pr_dump.cmo: dump syntax tree for ocaml compiler
	pr_depend.cmo: file dependencies
	pr_null.cmo: no output
</pre>
<p>Quotation expanders:</p>
<pre>
	q_MLast.cmo: syntax tree nodes (in revised syntax)
	q_ast.cmo: syntax tree nodes in user full syntax
	q_phony.cmo: keeping quotations for pretty printing
</pre>
<p>The command <strong>camlp5o</strong> is a shortcut for:</p>
<pre>
	camlp5 pa_o.cmo pa_op.cmo pr_dump.cmo
</pre>
<p>The command <strong>camlp5r</strong> is a shortcut for:</p>
<pre>
	camlp5 pa_r.cmo pa_rp.cmo pr_dump.cmo
</pre>
<p>The command <strong>camlp5sch</strong> is a shortcut for:</p>
<pre>
	camlp5 pa_scheme.cmo pr_dump.cmo
</pre>
<p>The file <strong>camlp5o.cma</strong> can be loaded in the toplevel to start camlp5 with OCaml syntax.</p><p>The file <strong>camlp5r.cma</strong> can be loaded in the toplevel to start camlp5 with revised syntax.</p><p>The file <strong>camlp5sch.cma</strong> can be loaded in the toplevel to start camlp5 with Scheme syntax.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MKCAMLP5</h2>
        <div class="sectioncontent">
<p><strong>mkcamlp5</strong> and <strong>mkcamlp5.opt</strong> creates camlp5 executables with almost the same options than ocamlmktop. The version <strong>mkcamlp5.opt</strong> can create native code executables, faster but not extensible.</p><p>For mkcamlp5, the interfaces to be visible must be explicitly added in the command line as ".cmi" files. For example, how to add the the OCaml module "str":</p>
<pre>
	mkcamlp5 -custom str.cmi str.cma -cclib -lstr -o camlp5str
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLE</h2>
        <div class="sectioncontent">
<p>The following environment variable is also consulted:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>CAMLP5PARAM</strong></p>
  </dt>
  <dd>
    <p>Set the grammars parsing algorithm parameters. This variable must be a sequence of parameter specifications. A parameter specification is a letter optionally followed by an = and a value. There are four possible parameters:</p>
  </dd>
  <dt>
    <p><strong>b</strong><strong>(backtrack)</strong></p>
  </dt>
  <dd>
    <p>Set the backtrack algorithm as default.</p>
  </dd>
  <dt>
    <p><strong>t</strong><strong>(trace)</strong></p>
  </dt>
  <dd>
    <p>Trace symbols (terminals and non-terminals) while parsing with backtracking.</p>
  </dd>
  <dt>
    <p><strong>y</strong><strong>(trace-stalling)</strong></p>
  </dt>
  <dd>
    <p>In backtracking, trace the advance in the input stream (number of unfrozen tokens) and the possible stalling (number of tokens tests).</p>
  </dd>
  <dt>
    <p><strong>l</strong><strong>(maximum-stalling)</strong></p>
  </dt>
  <dd>
    <p>Set the maximum stalling value.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Library directory of camlp5 in the present installation:</p><p>/usr/lib/ocaml/camlp5</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO camlp5&hellip;</h2>
        <div class="sectioncontent">
<p>Camlp5 - Reference Manual</p><p><a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a>, <a href="../man1/ocaml.1.html"><strong>ocaml</strong>(1)</a>, <a href="../man1/ocamlmktop.1.html"><strong>ocamlmktop</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Daniel de Rauglaudre, INRIA Rocquencourt.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="camlp4r.opt.1.html"><span aria-hidden="true">&larr;</span> camlp4r.opt.1: Pre-processor-pretty-printer for objective caml</a></li>
   <li class="next"><a href="camlp5o.1.html">camlp5o.1: Pre-precessor-pretty-printer for ocaml  mkcamlp5 - create custom camlp5  mkcamlp5.opt - create custom camlp5 (native code)  ocpp5 - universal preprocessor <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
