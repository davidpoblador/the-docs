<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debsig-verify: Verify signatures for a debian format package</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Verify signatures for a debian format package">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debsig-verify (1) manual">
  <meta name="twitter:description" content="Verify signatures for a debian format package">
  <meta name="twitter:image" content="https://www.carta.tech/images/debsig-verify-debsig-verify-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/debsig-verify.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debsig-verify (1) manual" />
  <meta property="og:description" content="Verify signatures for a debian format package" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/debsig-verify-debsig-verify-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debsig-verify<small> (1)</small></h1>
        <p class="lead">Verify signatures for a debian format package</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debsig-verify.1.html">
      <span itemprop="name">debsig-verify: Verify signatures for a debian format package</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/debsig-verify/">
      <span itemprop="name">debsig-verify</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debsig-verify.1.html">
      <span itemprop="name">debsig-verify: Verify signatures for a debian format package</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>debsig-verify</strong> [<em>option</em>...] <em>deb</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is part of a security model that verifies the source and validity of a Debian format package (commonly refered to as a <em>deb</em>).</p><p>This program implements the verification specs defined in the document, "<strong>Package Verification with dpkg: Implementation</strong>", which is a more complete reference for the verification procedure.</p><p>The program generally takes one argument, the <em>deb</em> file to be verified. It will then check the <strong>origin</strong> signature of the <em>deb</em>, find its Public Key ID (long format), and use that as the name for a policy subdirectory. If this subdirectory does not exist, then the verification fails immediately.</p><p>In this subdirectory, the program finds one or more files named with the <strong>.pol</strong> file extension, which signifies an XML format policy definition. This file contains three main parts.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Origin</strong></p>
  </dt>
  <dd>
    <p>Information about the origin of this policy.</p>
  </dd>
  <dt>
    <p><strong>Selection</strong></p>
  </dt>
  <dd>
    <p>Rules used to decide if this policy is pertinent to this <em>deb</em>'s verification.</p>
  </dd>
  <dt>
    <p><strong>Verification</strong></p>
  </dt>
  <dd>
    <p>Rules that are used to actually verify the <em>deb</em>.</p>
  </dd>

</dl>
<p>The policy files will reference keyrings by a filename. These keyrings will be looked for in a subdirectory of the keyring directory. The subdirectory has the same name as the policy subdirectory (previously determined by the Origin's Public Key ID).</p><p>The program will, after first parsing the entire file, check the Origin ID against the Public Key ID of the <strong>origin</strong> signature in the <em>deb</em>. If these match (which they should, else something is really wrong), then it will proceed to the <strong>Selection</strong> rules.</p><p>The <strong>Selection</strong> rules decide whether this policy is suitable for verifying this <em>deb</em>. If these rules fail, then the program will proceed to the next policy. If it passes, then the program commits to using this policy for verification, and no other policies will be referenced.</p><p>The last verification step relies on the <strong>Verification</strong> rules. These are similar in format to the <strong>Selection</strong> rules, but are usually more constrained. If these rules fail, the program exits with a non-zero status. If they pass, then it exits with a zero status.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Causes the program to send no output, other than fatal errors. This is useful when being called from another program, where you rely on the exit value only.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Causes the program to send more output on execution, so as to follow the steps it is taking while trying to verify the <em>deb</em>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Outputs even more info than the <strong>-v</strong> option. This is mainly for debugging.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Outputs the version information for the program. This includes the policy format version. This option does not require any other arguments.</p>
  </dd>
  <dt>
    <p><strong>--list-policies</strong></p>
  </dt>
  <dd>
    <p>Outputs a list of the policies that passed the <strong>Selection</strong> phase of the verification process. In other words, those that could potentially verify the <em>deb</em>. The output is one line showing the directory selected by the <strong>origin</strong> signature, and then a single line for any policy files in that directory that pass the <strong>Selection</strong> rules. This option will <strong>NOT</strong> verify the <em>deb</em>.</p>
  </dd>
  <dt>
    <p><strong>--use-policy</strong>&lt;pol&gt;</p>
  </dt>
  <dd>
    <p>This option takes one argument, which is the name of the policy file (as shown by the <strong>--list-policies</strong> option). Note, this is just a file, and not a full path. You cannot specifiy arbitrary policies. This option is useful if more than one policy applies to potentially verifying the <em>deb</em>. The program will then use this policy, and only this policy, to try and verify the <em>deb</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>The requested operation completed successfully.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>General non-success exit value. This occurs for non-verification operations.</p>
  </dd>
  <dt>
    <p><strong>10</strong></p>
  </dt>
  <dd>
    <p>Either no signatures are contained in the <strong>deb</strong> or no <strong>origin</strong> signature was found.</p>
  </dd>
  <dt>
    <p><strong>11</strong></p>
  </dt>
  <dd>
    <p>An <strong>origin</strong> signature was found, but it does not have a corresponding subdirectory in the policies directory.</p>
  </dd>
  <dt>
    <p><strong>12</strong></p>
  </dt>
  <dd>
    <p>The <strong>origin</strong> was found, and is present. However, no policies were found that passed the selection phase of the process. Thus, no verification was performed.</p>
  </dd>
  <dt>
    <p><strong>13</strong></p>
  </dt>
  <dd>
    <p>The package failed the verification phase of the process. More than likely, this occurs due to a bad signature, or because not all criteria of the verification block of the policy were passed.</p>
  </dd>
  <dt>
    <p><strong>14</strong></p>
  </dt>
  <dd>
    <p>An internal error occured. This is an unrecoverable error. Either the <strong>deb</strong> is corrupt, gpg failed abnormally, or some other uncontrollable failure.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/debsig/policies/</em></p>
  </dt>
  <dd>
    <p>Directory containing the policy (.pol) definitions.</p>
  </dd>
  <dt>
    <p><em>/etc/debsig/policies/*/*.pol</em></p>
  </dt>
  <dd>
    <p>XML format policy files.</p>
  </dd>
  <dt>
    <p><em>/usr/share/debsig/keyrings/</em></p>
  </dt>
  <dd>
    <p>Directory containing the keyrings that coincide with the policies.</p>
  </dd>
  <dt>
    <p><em>/usr/share/debsig/keyrings/*/*.gpg</em></p>
  </dt>
  <dd>
    <p>GPG format keyrings for use by the policies.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO debsig-verify&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/deb.5.html"><strong>deb</strong>(5)</a>,</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ben Collins &lt;bcollins@debian.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="debsecan.1.html"><span aria-hidden="true">&larr;</span> debsecan.1: Debian security analyzer</a></li>
   <li class="next"><a href="debsign.1.html">debsign.1: Sign a debian .changes and .dsc file pair using gpg <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
