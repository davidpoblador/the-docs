<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>obs-build: Build suse linux rpms in a chroot environment</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Build suse linux rpms in a chroot environment">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="obs-build (1) manual">
  <meta name="twitter:description" content="Build suse linux rpms in a chroot environment">
  <meta name="twitter:image" content="https://www.carta.tech/images/obs-build-obs-build-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/obs-build.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="obs-build (1) manual" />
  <meta property="og:description" content="Build suse linux rpms in a chroot environment" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/obs-build-obs-build-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">obs-build<small> (1)</small></h1>
        <p class="lead">Build suse linux rpms in a chroot environment</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/obs-build.1.html">
      <span itemprop="name">obs-build: Build suse linux rpms in a chroot environment</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/obs-build/">
      <span itemprop="name">obs-build</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/obs-build.1.html">
      <span itemprop="name">obs-build: Build suse linux rpms in a chroot environment</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>build</strong> [<strong>--clean</strong>|<strong>--no-init]</strong> [<strong>--rpms</strong> <em>path1</em>:<em>path2</em>:<em>...</em>] [<strong>--arch</strong> <em>arch1</em>:<em>arch2</em>:<em>...</em>] [<strong>--root</strong> <em>buildroot</em>] [<strong>specfile</strong>|<strong>srcrpm</strong>]</p><p><strong>build</strong> <strong>--help</strong></p><p><strong>build</strong> <strong>--verify</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>build</strong> is a tool to build SuSE Linux RPMs in a safe and clean way. <strong>build</strong> will install a minimal SuSE Linux as build system into some directory and will chroot to this system to compile the package. This way you don't risk to corrupt your working system (due to a broken spec file for example), even if the package does not use BuildRoot.</p><p><strong>build</strong> searches the spec file for a <em>BuildRequires:</em> line; if such a line is found, all the specified rpms are installed. Otherwise a selection of default packages are used. Note that <strong>build</strong> doesn't automatically resolve missing dependencies, so the specified rpms have to be sufficient for the build.</p><p>If a spec file is specified on the command line, <strong>build</strong> will use this file and all other files in the directory for building the package. If a srcrpm is specified, <strong>build</strong> automatically unpacks it for the build. If neither is given, <strong>build</strong> will use all the specfiles in the current directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--clean</strong></p>
  </dt>
  <dd>
    <p>remove the build system and reinitialize it from scratch.</p>
  </dd>
  <dt>
    <p><strong>--no-init</strong></p>
  </dt>
  <dd>
    <p>skip the build system initialization and start with build immediately.</p>
  </dd>
  <dt>
    <p><strong>--list-state</strong></p>
  </dt>
  <dd>
    <p>list rpms that would be used to create a fresh build root. Does not create the build root or perform a build.</p>
  </dd>
  <dt>
    <p><strong>--rpms </strong><em>path1</em><strong>:</strong><em>path2</em><strong>:</strong><em>path3</em>...<em></em></p>
  </dt>
  <dd>
    <p>Where build can find the SuSE Linux RPMs needed to create the build system. This option overrides the BUILD_RPMS environment variable.</p>
  </dd>
  <dt>
    <p><strong>--arch </strong><em>arch1</em><strong>:</strong><em>arch2</em><strong>:</strong><em>arch3</em>...<em></em></p>
  </dt>
  <dd>
    <p>What architectures to select from the RPMs. <strong>build</strong> automatically sets this to a sensible value for your host if you don't specify this option.</p>
  </dd>
  <dt>
    <p><strong>--repo </strong><em>url_or_dir</em></p>
  </dt>
  <dd>
    <p>Also use the specified repository to create the build system. The repositories may be either of type rpmmd, yast2 (susetags), or a simple directory. Multiple --repo options may be given. As a special form, 'zypp://reponame' can be used to specify a system repository. 'zypp://' selects all enabled system repositories. This is also the default if BUILD_RPMS is not set and no --rpms or --repo option is used.</p>
  </dd>
  <dt>
    <p><strong>--root </strong><em>buildroot</em></p>
  </dt>
  <dd>
    <p>Specifies where the build system is set up. Overrides the BUILD_ROOT enviroment variable.</p>
  </dd>
  <dt>
    <p><strong>--useusedforbuild</strong></p>
  </dt>
  <dd>
    <p>Tell build not to do dependency expansion, but to extract the list of packages to install from "# usedforbuild" lines or, if none are found, from all "BuildRequires" lines.  This option is useful if you want to re-build a package from a srcrpm with exactly the same packages used for the srcrpm build.</p>
  </dd>
  <dt>
    <p><strong>--norootforbuild</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print a short help text.</p>
  </dd>
  <dt>
    <p><strong>--verify</strong></p>
  </dt>
  <dd>
    <p>verify the files in an existing build system.</p>
  </dd>
  <dt>
    <p><strong>---dist </strong><em>distribution</em></p>
  </dt>
  <dd>
    <p>Set the distribution. If this option is not given, build tries to calculate the distribution by looking at the rpm package used in the build. The specified distribution can either be a string like "11.2" or "sles9", or the pathname of the build configuration to use.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">.spec FILE OPTIONS</h2>
        <div class="sectioncontent">
<p>The <strong>build</strong> command interprets some special control comments in the specfile:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong># norootforbuild</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong># needsrootforbuild</strong></p>
  </dt>
  <dd>
    <p><strong>build</strong> uses either user <em>root</em> or user <em>abuild</em> in the build system to do the build.  For non-SUSE distros as well as since SUSE 10.2, the default build user is <em>abuild.</em> For 10.2 and before, the default build user is <em>root.</em> These two flags in the spec file allow to deviate from the defaults and force-set the build user to <em>abuild</em> and <em>root</em> (for <em>#&nbsp;norootforbuild</em> and <em>#&nbsp;needsrootforbuild</em> respectively.</p>
  </dd>
  <dt>
    <p><strong># needsbinariesforbuild</strong></p>
  </dt>
  <dd>
    <p>provide the binary rpms that have been used to set up the build root in <em>/.build.binaries</em> within the build root.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>BUILD_ROOT</strong></p>
  </dt>
  <dd>
    <p>The directory where build should install the chrooted build system. "/var/tmp/build-root" is used by default.</p>
  </dd>
  <dt>
    <p><strong>BUILD_RPMS</strong></p>
  </dt>
  <dd>
    <p>Where build can find the SuSE Linux RPMs.  build needs them to create the build system.</p>
  </dd>
  <dt>
    <p><strong>BUILD_RPM_BUILD_STAGE</strong></p>
  </dt>
  <dd>
    <p>The rpm build stage (-ba, -bb, ...).  This is just passed through to rpm, check the rpm manpage for a complete list and descriptions. "-ba" is the default. You can use this to add more options to RPM.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO obs-build&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/rpm.8.html"><strong>rpm</strong>(8)</a>,</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Maximum RPM</strong>:</p>
  </dt>
  <dd>
    <p><em>http://www.rpm.org/max-rpm/</em></p>
  </dd>
  <dt>
    <p><strong>cross distribution packaging</strong>:</p>
  </dt>
  <dd>
    <p><em>http://en.opensuse.org/openSUSE:Build_Service_cross_distribution_howto</em></p>
  </dd>
  <dt>
    <p><strong>openSUSE packaging standards and guidelines</strong>:</p>
  </dt>
  <dd>
    <p><em>http://en.opensuse.org/Portal:Packaging</em></p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="oboinus.1.html"><span aria-hidden="true">&larr;</span> oboinus.1: X11 background previewer and setter</a></li>
   <li class="next"><a href="obs-buildvc.1.html">obs-buildvc.1: Create a suse stype changes entry <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
