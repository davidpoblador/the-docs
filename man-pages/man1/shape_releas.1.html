<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shape_releas: Shapetools rms construction of releases and prereleases</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Shapetools rms construction of releases and prereleases">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shape_releas (1) manual">
  <meta name="twitter:description" content="Shapetools rms construction of releases and prereleases">
  <meta name="twitter:image" content="https://www.carta.tech/images/shapetools-shape_releas-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/shape_releas.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shape_releas (1) manual" />
  <meta property="og:description" content="Shapetools rms construction of releases and prereleases" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/shapetools-shape_releas-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shape_releas<small> (1)</small></h1>
        <p class="lead">Shapetools rms construction of releases and prereleases</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shape_releas.1.html">
      <span itemprop="name">shape_releas: Shapetools rms construction of releases and prereleases</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shapetools/">
      <span itemprop="name">shapetools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shape_releas.1.html">
      <span itemprop="name">shape_releas: Shapetools rms construction of releases and prereleases</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>shape prerelease</strong></p><p>shape release</p><p>shape plprerelease</p><p>shape plrelease</p><p>shape&nbsp;extractrelease&nbsp;[RELEASENAME=&lt;releaseId&gt;]&nbsp;[(PARTIAL)RELEASEBASE=&lt;path&gt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The heart of the shapeTools Release Management System is its mechanism for creating prereleases and releases of the managed software system. These functions can be invoked from any node of the system source repository and from any private workspace. Hence, each node system can be (pre)released independently. Constructing a (pre)release of a non-leaf node (a node containing no subsystems) requires all subsystems to be (pre)released beforehand and incorporates the existing (pre)releases in the new (pre)release.</p><p>Prereleases are part of the systematic preparation of a release. They give a glance on how a release will look like in the current development state. They should be used for internal publication and integration testing. When a prerelease has proved to be stable enough to be released to the outside world, it should be declared as new system release. This mechanism allows an arbitrary number of release test cycles without prematurely using the anticipated release number.</p><p>The general algorithm of the shape_RMS release functions is the following.</p>
<dl class='dl-vertical'>
  <dt>
    1) check release preconditions
  </dt>
  <dd>
    <p>Before a release process is sent on its way, the system is checked for releasability. If any of the required preconditions is not met, the system is not releasable and the release process stops. First, each subsystem - if there are any - has to be (pre)released beforehand. Release building requires all subsystems to be released, prereleases need the subsystems to be prereleased. The second condition, only applying to prereleases, requires that no foreign update locks are active on any of the components going into the (pre)release. It is advisable, that no changes to any of the node components are unsaved (pending), no matter who is the author. However, if the user who triggered the release process has pending changes on any components to be released, these will be saved automatically and the update locks given up. Pending changes with update locks by other users let the release process fail.</p>
  </dd>
  <dt>
    2) generate release name
  </dt>
  <dd>
    <p>Each release and prerelease has an identification string, built from the node name and a two part release number. Prerelease names additionally contain a prerelease serial number, Patchlevel releases and prereleases also the patchlevel number. The release number is taken from the node's automatically maintained release identification file. The generated release identification string is tagged to any component being part of the (pre)release.</p>
  </dd>
  <dt>
    3) invoke releases of subsystems
  </dt>
  <dd>
    <p>Prereleases and releases invoke all subsystems of the current node. Prerelease building includes the most recent prerelease of each subsystem, while release building includes the most recent subsystem releases. Each of the subsystem components get, additionally to the subsystem release name they already have, the freshly build release name tagged on as <em>symbolic name</em>. Symbolic names may be used as surrogates for version numbers (see <a href="../man1/vadm.1.html"><strong>vadm</strong>(1)</a>).</p>
  </dd>
  <dt>
    4) save release components and set attributes
  </dt>
  <dd>
    <p>After all components of the included subsystems have been marked, all direct parts of a the released node get the release identification string as symbolic name. In case of building a prerelease, if any of the direct components has a busy version differing from the last saved version (pending changes) and an update lock set by the user who triggered the prerelease building, it is saved automatically before (see also 1. ). All node component versions (from subsystems or direct components) are additionally set to an appropriate version state (see below).</p>
  </dd>
  <dt>
    5) install components in release area
  </dt>
  <dd>
    <p>The last step is the installation of all marked component versions (subsystem components and node components) in one of the two release areas. Releases and prereleases that have been made from the top node of the source repository are copied to the release area. All other releases, representing only a part of the whole development, are installed in the partial release area.</p>
  </dd>

</dl>
<p><em>Shape prerelease</em> saves the current state of development. According to the algorithm described above, all unsaved node system components are saved and the most recent version of each component is included in the new prerelease. A prerelease additionally invokes the most recent prerelease or release (whichever is the newest) of each subsystem. All component versions going into the prerelease may further be identified by the automatically generated prerelease name, having the form</p><p>	&lt;system_name&gt;-&lt;generation&gt;.&lt;revision&gt;pre&lt;prerelease_number&gt;&nbsp;(e.g.&nbsp;<em>shapeTools-1.3pre5</em>).</p><p>The prerelease serial number is maintained automatically. It starts with 1. All prerelease component versions are set to the state <em>proposed</em>. Prereleases of the whole system (the prerelease action was invoked from the top node) cause all component versions be set to state <em>accessed</em>. A copy of the prerelease is extracted from the source repository and established installed in either the release area of the partial release area, depending on whether the prerelease comprises the whole system of or just a part.</p><p><em>Shape release</em> declares a previously constructed prerelease as new release. The most recent prerelease of the current node is taken as basis. If the node contains subsystems, shape release requires the most recent release of each subsystem to be included. If any subsystem has a prerelease more recent than it's last release, shape gives a warning and asks for confirmation to proceed. Due to technical reasons, it does this for each component. Don't get confused when you have to confirm multiple times. The new release gets a name of the form</p><p>	&lt;system_name&gt;-&lt;generation&gt;.&lt;revision&gt;&nbsp;(e.g.&nbsp;<em>shapeTools-1.3</em>).</p><p>The generation and revision number are derived from the system's automatically maintained release identification file. With each release, a new version of this file is created. Declaring a new generation for the release file (see <a href="../man1/Save.1.html"><strong>Save</strong>(1)</a>) increases the system generation number. All component versions of the release are set to state <em>published</em>, except when a releases of the whole system is constructed (shape release from the system tree top node). In this case, the state of all component versions is set to <em>frozen</em>. Like prereleases, a copy of the release is extracted from the source repository and written to one of the release area or the partial release area.</p><p><em>Shape plprerelease</em> and <em>shape plrelease</em> (shape patchlevel(pre)release) are basically the same as prerelease and release. The only difference is the form of the identification string. Patchlevel prereleases are named</p><p>	&lt;system_name&gt;-&lt;gen&gt;.&lt;rev&gt;pl&lt;patchlevel&gt;pre&lt;prerel_num&gt;&nbsp;(e.g.&nbsp;<em>shapeTools-1.3pl5pre2</em>)</p><p>and patchlevel releases</p><p>	&lt;system_name&gt;-&lt;gen&gt;.&lt;rev&gt;pl&lt;patchlevel&gt;&nbsp;(e.g.&nbsp;<em>shapeTools-1.3pl5</em>).</p><p>The idea of patchlevel releases is to construct releases that are not to be shipped completely but rather as a patch to an existing release. Of course, real releases may also be shipped as patches, so this is rather a naming convention.</p><p><em>Shape extractrelease</em> extracts a copy of a certain release or prerelease from the project's central source repository and installs it in the release area or the partial release area (depending on whether it is a (pre)release of the whole system or just a part of the system). When called without further settings, it installs the most recent (pre)releases. The installed copy represents a <em>source</em> distribution of the system or system part. It is totally independent of the development environment.</p><p>An explicit release identification may be given to shape extractrelease by setting <em>RELEASENAME=&lt;release_identification&gt;</em> on the command line. Setting one of the macros RELEASEBASE or PARTIALRELEASEBASE on the command line redefines the path to the base directory of the release tree. (Pre)releases of the whole system are copied to RELEASEBASE, all others to PARTIALRELEASEBASE. Check your Shapefile for the default settings of these two macros. Subdirectories will be automatically created there as needed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Shapefile</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO shape_releas&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/shape_RMS.1.html"><strong>shape_RMS</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shape_patch.1.html"><span aria-hidden="true">&larr;</span> shape_patch.1: Shapetools rms generate patch file</a></li>
   <li class="next"><a href="shape_tar.1.html">shape_tar.1: Shapetools rms bundle up subsystem in a tar or shar archive <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
