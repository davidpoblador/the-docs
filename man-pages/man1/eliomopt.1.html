<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>eliomopt: The eliom build tools</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The eliom build tools">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="eliomopt (1) manual">
  <meta name="twitter:description" content="The eliom build tools">
  <meta name="twitter:image" content="https://www.carta.tech/images/eliom-eliomopt-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/eliomopt.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="eliomopt (1) manual" />
  <meta property="og:description" content="The eliom build tools" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/eliom-eliomopt-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">eliomopt<small> (1)</small></h1>
        <p class="lead">The eliom build tools</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/eliomopt.1.html">
      <span itemprop="name">eliomopt: The eliom build tools</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/eliom/">
      <span itemprop="name">eliom</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/eliomopt.1.html">
      <span itemprop="name">eliomopt: The eliom build tools</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>eliomc</strong> [<em>options</em>] files</p><p><strong>eliomcp</strong> [<em>options</em>] files</p><p><strong>eliomopt</strong> [<em>options</em>] files</p><p><strong>eliomdep</strong> [<em>options</em>] files</p><p><strong>eliomdoc</strong> [<em>options</em>] files</p><p><strong>eliompp</strong> [<em>-client</em>|<em>-server</em>] files</p><p><strong>js_of_eliom</strong> [<em>options</em>] files -o filename.js</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>eliomc,</strong> <strong>eliomcp</strong> and <strong>eliomopt</strong> are wrapper around the OCaml compiler that ease the compilation of the server part of projects based on the Eliom framework. They respectively accept the same set of option than the <a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a>,<a href="../man1/ocamlcp.1.html"><strong>ocamlcp</strong>(1)</a> and <a href="../man1/ocamlopt.1.html"><strong>ocamlopt</strong>(1)</a> compilers plus the specific ones described in the <em>OPTIONS</em> section.</p><p><strong>js_of_eliom</strong> is a wrapper around the OCaml and Js_of_ocaml compilers that ease the compilation of the client part of projects based on the Eliom framework. It accepts the same set of option than the <a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a> compiler plus the specific ones described in the <em>OPTIONS</em> section.</p><p><strong>eliomdep</strong> is a wrapper around <a href="../man1/ocamldep.1.html"><strong>ocamldep</strong>(1)</a> that handles dependencies of an .eliom source files. It accepts the same set of options plus the specific ones described in the <em>OPTIONS</em> section. It makes the assumption that server-side compiled modules of OCaml files located in this directory subtree are in directory <em>_server</em> (with same subdirectories structure) (resp. in directory <em>_client</em> for client-side compiled modules).</p><p><strong>eliompp (EXPERIMENTAL)</strong> is a preprocessor which remove specific sections, depending on the given option. The option <strong>-client</strong> will remove all the top-level parts and server sections and the option <strong>-server</strong> will remove only the client sections.</p><p><strong>eliomdoc (EXPERIMENTAL)</strong> is a wrapper around the OCaml documentation generator <strong>ocamldoc.</strong> It allows you to generate documentation from <strong>client</strong> or <strong>server</strong> side. It accepts the same set of option than <a href="../man1/ocamldoc.1.html"><strong>ocamldoc</strong>(1)</a>. It automatically extracts the commentaries from the desired sections. <strong>eliomdoc</strong> is currently experimental, and you could find some undefined behaviours. (see http://ocsigen.org/eliom/manual/workflow-compilation). Some well known bugs are:</p>
<dl class='dl-vertical'>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>your files should always begin with a value and not with a comment. Otherwise, camlp4 won't output the commentaries.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>sometimes, comment node are not attached as expected. That's because camlp4 (sometimes) remove extra new line between value elements.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPILING ELIOM SOURCE FILES</h2>
        <div class="sectioncontent">
<p>The compilation of files with a .eliom extension is achieved in three steps: infer the type of value sent by the server to the client; compile the server part of the code and compile the client part. The first two steps can be realised with <strong>eliomc</strong> and the last one with <strong>js_of_eliom.</strong></p><p>Both tools produce a .cmo file named as the original .eliom file. To avoid overwriting the .cmo representing the server part with .cmo of the client part, files generated by <strong>eliomc</strong><strong>or</strong><strong>eliomopt</strong> are stored by default in a subdirectory named _server and files generated by <strong>js_of_eliom</strong> are stored in a subdirectory named _client. Those default directories could be respectively overridden by the environment variables ELIOM_SERVER_DIR and ELIOM_CLIENT_DIR.</p><p>The types infered by <strong>eliomc</strong> for values sent by the server to the client are stored in an intermediate files named as the original .eliom file and whose extension is .type_mli. That file is required by <strong>js_of_eliom</strong> for compiling the client part of the .eliom file. The <strong>eliomdep</strong> tool correctly generate dependencies that intermediate file for the server .cmo and the client .cmo.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-eliom-inc</strong>&lt;dir&gt; Add &lt;dir&gt; to the list of eliom include directories (eliomdep only).</p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-dir</strong>&lt;dir&gt;</p>
  </dt>
  <dd>
    <p>Specify the target directory for generated files</p>
  </dd>
  <dt>
    <p><strong>-package</strong>&lt;name&gt;</p>
  </dt>
  <dd>
    <p>This is the same option as the ocamlfind one.</p>
  </dd>
  <dt>
    <p><strong>-predicates</strong>&lt;p&gt;</p>
  </dt>
  <dd>
    <p>This is the same option as the ocamlfind one.</p>
  </dd>
  <dt>
    <p><strong>-ppopt</strong>&lt;opt&gt;</p>
  </dt>
  <dd>
    <p>Append &lt;opt&gt; to preprocessor invocation.</p>
  </dd>
  <dt>
    <p><strong>-jsopt</strong>&lt;opt&gt;</p>
  </dt>
  <dd>
    <p>Append &lt;opt&gt; to js_of_ocaml invocation (js_of_eliom only).</p>
  </dd>
  <dt>
    <p><strong>-infer</strong>&lt;opt&gt;</p>
  </dt>
  <dd>
    <p>For .eliom file, only generate the intermediate .type_mli file (eliomc and eliomopt only).</p>
  </dd>
  <dt>
    <p><strong>-noinfer</strong>&lt;opt&gt;</p>
  </dt>
  <dd>
    <p>For .eliom file, do not generate the intermediate .type_mli file (eliomc and eliomopt only).</p>
  </dd>
  <dt>
    <p><strong>-help</strong><strong>or</strong><strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display a short usage summary and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The compilation of an Eliom projects composed of a server specific file named server.ml, a client specific file named client.ml and two common files name base.eliom and main.eliom, could be achieved with the following commands:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;eliomc -a -o appl.cma server.ml base.eliom main.eliom</p><p>&nbsp;&nbsp;&nbsp;&nbsp;js_of_eliom -o appl.js client.ml base.eliom main.eliom</p><p>To avoid recompiling the whole project each times, this could be split in multiple steps:</p><p>&nbsp;&nbsp;&nbsp;&nbsp;eliomc -c server.ml</p><p>&nbsp;&nbsp;&nbsp;&nbsp;eliomc -c base.eliom</p><p>&nbsp;&nbsp;&nbsp;&nbsp;eliomc -c main.eliom</p><p>&nbsp;&nbsp;&nbsp;&nbsp;eliomc -a -o appl.cma _server/server.cmo _server/base.cmo _server/main.cmo</p><p>&nbsp;&nbsp;&nbsp;&nbsp;js_of_eliom -c client.ml</p><p>&nbsp;&nbsp;&nbsp;&nbsp;js_of_eliom -c base.eliom</p><p>&nbsp;&nbsp;&nbsp;&nbsp;js_of_eliom -c main.eliom</p><p>&nbsp;&nbsp;&nbsp;&nbsp;js_of_eliom -o appl.js _client/client.cmo _client/base.cmo _client/main.cmo</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO eliomopt&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a>, <a href="../man1/ocamlopt.1.html"><strong>ocamlopt</strong>(1)</a>, <a href="../man1/js_of_ocaml.1.html"><strong>js_of_ocaml</strong>(1)</a>, <a href="../man1/ocamlfind.1.html"><strong>ocamlfind</strong>(1)</a>, <a href="../man1/ocamlcp.1.html"><strong>ocamlcp</strong>(1)</a>, <a href="../man1/ocamldep.1.html"><strong>ocamldep</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>eliomc, js_of_eliom, eliomdep and eliomopt were written by Gregoire Henry &lt;gregoire.henry@pps.jussieu.fr&gt;.</p><p>eliomdoc was written by Charly Chevalier &lt;charly.n.chevalier@gmail.com&gt;.</p><p>This manual page was written by Pierre Chambart &lt;chambart@crans.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="eliomdep.1.html"><span aria-hidden="true">&larr;</span> eliomdep.1: The eliom build tools</a></li>
   <li class="next"><a href="elk-bands.1.html">elk-bands.1: Plotting program for elk band structures <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
