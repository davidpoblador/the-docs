<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mapcache_seed: Generate tiles to seed mapcache</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate tiles to seed mapcache">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mapcache_seed (1) manual">
  <meta name="twitter:description" content="Generate tiles to seed mapcache">
  <meta name="twitter:image" content="https://www.carta.tech/images/mapcache-tools-mapcache_seed-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mapcache_seed.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mapcache_seed (1) manual" />
  <meta property="og:description" content="Generate tiles to seed mapcache" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mapcache-tools-mapcache_seed-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mapcache_seed<small> (1)</small></h1>
        <p class="lead">Generate tiles to seed mapcache</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mapcache_seed.1.html">
      <span itemprop="name">mapcache_seed: Generate tiles to seed mapcache</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mapcache-tools/">
      <span itemprop="name">mapcache-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mapcache_seed.1.html">
      <span itemprop="name">mapcache_seed: Generate tiles to seed mapcache</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mapcache_seed</strong> \kx <strong>-c</strong> <em>/path/to/mapcache.xml</em> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mapcache_seed</strong> is an advanced seeding tool for mapcache, whose main features are:</p>
<dl class='dl-vertical'>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p>configurable number of seeding threads, to speed up the rendering</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p>ability to reseed tiles older than a certain timestamp</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p>ability to seed tiles given a shapefile/OGR datasource</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>-c</strong>\*(T&gt;, \*(T&lt;<strong>--config</strong>\*(T&gt; <em>file</em></p>
  </dt>
  <dd>
    <p>Path to the mapcache.xml configuration file that contains the tilesets that need to be seeded.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-t</strong>\*(T&gt;, \*(T&lt;<strong>--tileset</strong>\*(T&gt; <em>name</em></p>
  </dt>
  <dd>
    <p>Name of the tileset that must be seeded.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-g</strong>\*(T&gt;, \*(T&lt;<strong>--grid</strong>\*(T&gt; <em>name</em></p>
  </dt>
  <dd>
    <p>Name of the grid that must be seeded (the selected tileset must reference the given grid).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-z</strong>\*(T&gt;, \*(T&lt;<strong>--zoom</strong>\*(T&gt; <em>minzoom,maxzoom</em></p>
  </dt>
  <dd>
    <p>(Optional) Start and end zoom levels that must be seeded, separated by a comma, e.g. 0,6.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-M</strong>\*(T&gt;, \*(T&lt;<strong>--metasize</strong>\*(T&gt; <em>width,height</em></p>
  </dt>
  <dd>
    <p>Override metatile size while seeding, e.g. 8,8.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-e</strong>\*(T&gt;, \*(T&lt;<strong>--extent</strong>\*(T&gt; <em>minx,miny,maxx,maxy</em></p>
  </dt>
  <dd>
    <p>(Optional) Bounding box of the area to seed.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-o</strong>\*(T&gt;, \*(T&lt;<strong>--older</strong>\*(T&gt; <em>timestamp|now</em></p>
  </dt>
  <dd>
    <p>(Optional) Only seed tiles that are older than the given value. The value can either be the string "now", or a date formatted like year/month/day hour:minute, e.g.: "2011/01/31 20:45". (Note that a full timestamp should be quoted).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-n</strong>\*(T&gt;, \*(T&lt;<strong>--nthreads</strong>\*(T&gt; <em>number</em></p>
  </dt>
  <dd>
    <p>Number of parallel threads that should be used to request tiles from the WMS source. The default is 1, but can be set higher if the WMS server can withstand parallel requests (as a rule of thumb, the value chosen here should never be much higher than the number of cpus on the WMS server). (Incompatible with \*(T&lt;<strong>-p</strong>\*(T&gt;/\*(T&lt;<strong>--nprocesses</strong>\*(T&gt;).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-p</strong>\*(T&gt;, \*(T&lt;<strong>--nprocesses</strong>\*(T&gt; <em>number</em></p>
  </dt>
  <dd>
    <p>Number of parallel processes that should be used to request tiles from the WMS source. (Incompatible with \*(T&lt;<strong>-n</strong>\*(T&gt;/\*(T&lt;<strong>--nthreads</strong>\*(T&gt;).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-m</strong>\*(T&gt;, \*(T&lt;<strong>--mode</strong>\*(T&gt; <em>seed|delete|transfer</em></p>
  </dt>
  <dd>
    <p>Mode the utility will be running in: either seed (default), delete or transfer.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-x</strong>\*(T&gt;, \*(T&lt;<strong>--transfer</strong>\*(T&gt; <em>tileset</em></p>
  </dt>
  <dd>
    <p>Name of tileset to transfer.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-D</strong>\*(T&gt;, \*(T&lt;<strong>--dimension</strong>\*(T&gt; <em>DIMENSION=VALUE</em></p>
  </dt>
  <dd>
    <p>Used to specify which dimension to use if the tileset supports dimensions. Can be used multiple times to set multiple dimensions, e.g. \*(T&lt;<strong>-D</strong>\*(T&gt; "DIM1=VAL1" \*(T&lt;<strong>-D</strong>\*(T&gt; "DIM2=VAL2".</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-h</strong>\*(T&gt;, \*(T&lt;<strong>--help</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Show help.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-q</strong>\*(T&gt;, \*(T&lt;<strong>--quiet</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Don't print progress messages to the standard output.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-f</strong>\*(T&gt;, \*(T&lt;<strong>--force</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Force tile recreation even if it already exists.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-v</strong>\*(T&gt;, \*(T&lt;<strong>--verbose</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Print verbose debugging info (if compiled in).</p>
  </dd>

</dl>
<p><strong>Optional Commandline options when using OGR/GEOS</strong>.</p><p>At compile time, if OGR and GEOS where found on the system, the seeder tool supports additional options to seed only the tiles that cover an arbitrary geographical area.</p><p><em>Important:</em> Note that for the time being, the OGR datasource should be in the same projection as the grid you are seeding, as there is no automatic reprojection from the datasource projection to the grid projection.</p>
<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>-d</strong>\*(T&gt;, \*(T&lt;<strong>--ogr-datasource</strong>\*(T&gt; <em>datasource</em></p>
  </dt>
  <dd>
    <p>OGR connection to the spatial source. Consult the OGR documentation for all that is supported. In the simplest case (e.g. a Shapefile), this is just the full filename of the shapefile.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-l</strong>\*(T&gt;, \*(T&lt;<strong>--ogr-layer</strong>\*(T&gt; <em>layer</em></p>
  </dt>
  <dd>
    <p>(Optional) For datasources that contain multiple layers (e.g. postgis, with multiple tables), determines which layer will be used.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-s</strong>\*(T&gt;, \*(T&lt;<strong>--ogr-sql</strong>\*(T&gt; <em>SQL</em></p>
  </dt>
  <dd>
    <p>OGR sql expression that can be applied (see http://www.gdal.org/ogr/ogr_sql.html).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-w</strong>\*(T&gt;, \*(T&lt;<strong>--ogr-where</strong>\*(T&gt; <em>where</em></p>
  </dt>
  <dd>
    <p>SQL "where" expression to filter out returned values. This would typically be used to select only the geometry of a given country if the datasource contains all the world contours.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The seeding utility must be run under the same user account as the user running the webserver. This is required so the permissions on the tiles created by the seeder are accessible by the webserver, and conversely so the seeder has the rights to write files to directories created by the webserver.</p><p>A sample seeding session goes like this:</p>
<pre>
\*(T&lt;
        [user@host]$ sudo www-data
        [www-data@host]$ mapcache_seed -c /path/to/www/conf/mapcache.xml [options]
        [www-data@host]$ logout
        [user@host]$
      \*(T&gt;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Seed the "osm" tileset with the "g"(google/web-mercator) grid:</p>
<pre>
\*(T&lt;
        mapcache_seed -c mapcache.xml -t osm -g g
      \*(T&gt;
</pre>
<p>Seed levels 0 through 12:</p>
<pre>
\*(T&lt;
        mapcache_seed -c mapcache.xml -t osm -g g -z 0,12
      \*(T&gt;
</pre>
<p>Given a shapefile that contains the world country countours, seed only the areas that are covered by land (i.e. skip the oceans). Also use 4 request threads in parallel:</p>
<pre>
\*(T&lt;
        mapcache_seed -c mapcache.xml -t osm -g g -z 0,12 -n 4 -d /path/to/seed.shp
      \*(T&gt;
</pre>
<p>Same as beforehand, but only seed the USA (notice the quote usage, required to create valid sql with a single-quoted 'US':</p>
<pre>
\*(T&lt;
        mapcache_seed -c mapcache.xml -t osm -g g -z 0,12 -n 4 -d /path/to/seed.shp -w "FIPS_A2='US'"
      \*(T&gt;
</pre>
<p>Reseed levels 0 to 12 (this could also be done by deleting the cache for levels 0 to 12 and doing a classic seed, but doing so this way does not slow down the access from web clients):</p>
<pre>
\*(T&lt;
        mapcache_seed -c mapcache.xml -t osm -g g -z 0,12 -o now
      \*(T&gt;
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mapc.1.html"><span aria-hidden="true">&larr;</span> mapc.1: A map compiler for neverball and neverputt</a></li>
   <li class="next"><a href="maphimbu.1.html">maphimbu.1: Histogram builder for 1-d numerical and text data <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
