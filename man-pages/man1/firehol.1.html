<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>firehol: An easy to use but powerful iptables stateful firewall</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="An easy to use but powerful iptables stateful firewall">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="firehol (1) manual">
  <meta name="twitter:description" content="An easy to use but powerful iptables stateful firewall">
  <meta name="twitter:image" content="https://www.carta.tech/images/firehol-firehol-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/firehol.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="firehol (1) manual" />
  <meta property="og:description" content="An easy to use but powerful iptables stateful firewall" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/firehol-firehol-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">firehol<small> (1)</small></h1>
        <p class="lead">An easy to use but powerful iptables stateful firewall</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/firehol.1.html">
      <span itemprop="name">firehol: An easy to use but powerful iptables stateful firewall</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/firehol/">
      <span itemprop="name">firehol</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/firehol.1.html">
      <span itemprop="name">firehol: An easy to use but powerful iptables stateful firewall</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>firehol</strong> start|try|stop|restart|condrestart|status|panic|save|debug|helpme</p><p><strong>firehol</strong> <em>configfile</em> [start|debug|try]</p><p><strong>firehol</strong> <em>nothing</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>firehol</strong> is an <strong>iptables</strong> firewall generator producing stateful <strong>iptables</strong> packet filtering firewalls, on Linux hosts and routers with any number of network interfaces, any number of routes, any number of services served, any number of complexity between variations of the services (including positive and negative expressions).</p><p><strong>firehol</strong> is a language to express firewalling rules, not just a script that produces some kind of a firewall.</p><p>The goals of <strong>firehol</strong> are:</p>
<dl class='dl-vertical'>
  <dt>
    &bull; Being as easy as possible
  </dt>
  <dd>
    <p>Independently of the security skills he/she has, <strong>firehol</strong> allows one to create and understand complex firewalls in just a few seconds. The configuration files are very easy to type and read.</p>
  </dd>
  <dt>
    &bull; Being as secure as possible.
  </dt>
  <dd>
    <p>By allowing explicitly only the wanted traffic to flow <strong>firehol</strong> secures your system. <strong>firehol</strong> produces stateful rules for any service or protocol, in both directions of the firewall.</p>
  </dd>
  <dt>
    &bull; Being as open as possible.
  </dt>
  <dd>
    <p>Althoug <strong>firehol</strong> is pre-configured for a large number of services, you can configure any service you like and <strong>firehol</strong> will turn it into a client, a server, or a router.</p>
  </dd>
  <dt>
    &bull; Being as flexible as possible.
  </dt>
  <dd>
    <p><strong>firehol</strong> can be used by end users and guru administrators requiring extremely complex firewalls. <strong>firehol</strong> configuration files are \s-1BASH\s0 scripts; you can write in them anything \s-1BASH\s0 accepts, including variables, pipes, loops, conditions, calls to external programs, run other \s-1BASH\s0 scripts with <strong>firehol</strong> directives in them, etc.</p>
  </dd>
  <dt>
    &bull; Being as simple as possible.
  </dt>
  <dd>
    <p><strong>firehol</strong> is easy to install on any modern Linux system; only one file is required, no compilations involved.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Options</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    start
  </dt>
  <dd>
    <p>Activates the firewall configuration. The configuration is expected to be found in <em>/etc/firehol/firehol.conf</em>.</p>
  </dd>
  <dt>
    try
  </dt>
  <dd>
    <p>Activates the firewall, but waits until the user types the word commit. If this word is not typed within 30 seconds, the previous firewall is restored.</p>
  </dd>
  <dt>
    stop
  </dt>
  <dd>
    <p>Stops a running <strong>iptables</strong> firewall by running &#96;/etc/init.d/iptables stop'. This will allow all traffic to pass unchecked.</p>
  </dd>
  <dt>
    restart
  </dt>
  <dd>
    <p>This is an alias for start and is given for compatibility with <strong>/etc/init.d/iptables</strong>.</p>
  </dd>
  <dt>
    condrestart
  </dt>
  <dd>
    <p>Starts the <strong>firehol</strong> firewall only if it is not already active. It does not detect a modified configuration file, only verifies that <strong>firehol</strong> has been started in the past and not stopped yet.</p>
  </dd>
  <dt>
    status
  </dt>
  <dd>
    <p>Shows the running firewall, as in &#96;/sbin/iptables -nxvL | less'</p>
  </dd>
  <dt>
    panic
  </dt>
  <dd>
    <p>It removes all rules from the running firewall and then it DROPs all traffic on all <strong>iptables</strong> tables (mangle, nat, filter) and pre-defined chains (\s-1PREROUTING\s0, \s-1INPUT\s0, \s-1FORWARD\s0, \s-1OUTPUT\s0, \s-1POSTROUTING\s0), thus blocking all \s-1IP\s0 communication. DROPing is not done by changing the default policy to \s-1DROP\s0, but by adding just one rule per table/chain to drop all traffic, because the default iptables scripts supplied by many systems (including RedHat 8) do not reset all the chains to \s-1ACCEPT\s0 when starting (<strong>firehol</strong> resets them correctly). When activating panic mode, <strong>firehol</strong> checks for the existance of the <strong>\s-1SSH_CLIENT\s0</strong> shell environment variable (set by \s-1SSH\s0). If it find this, then panic mode will allow the established \s-1SSH\s0 connection specified in this variable to operate. Notice that in order for this to work, you should have su without the minus (-) sign, since su - overwrites the shell variables and therefore the \s-1SSH_CLIENT\s0 variable is lost. Alternativelly, after the panic argument you can specify an \s-1IP\s0 address in which case all established connections between this \s-1IP\s0 address and the host in panic will be allowed.</p>
  </dd>
  <dt>
    save
  </dt>
  <dd>
    <p>Start the firewall and then save it using <strong>/sbin/iptables-save</strong> to <em>/etc/sysconfig/iptables</em>. Since v1.64, this is not implemented using &#96;/etc/init.d/iptables save' because there is a bug in some versions of iptables-save that save invalid commands (&#96;! --uid-owner A' is saved as &#96;--uid-owner !A') which cannot be restored. <strong>firehol</strong> fixes this problem (by saving it, and then replacing &#96;--uid-owner !' with &#96;! --uid-owner'). Note that not all <strong>firehol</strong> firewalls will work if restored with: &#96;/etc/init.d/iptables start' because FireHOL handles kernel modules and might have queried \s-1RPC\s0 servers (used by the \s-1NFS\s0 service) before starting the firewall. Also, <strong>firehol</strong> automatically checks current kernel configuration for client ports range. If you restore a firewall using the iptables service your firewall may not work as expected.</p>
  </dd>
  <dt>
    debug
  </dt>
  <dd>
    <p>Parses the configuration file but instead of activating it, it shows the generated iptables statements.</p>
  </dd>
  <dt>
    explain
  </dt>
  <dd>
    <p>Enters an interactive mode where it accepts normal configuration commands and presents the generated iptables commands for each of them, together with some reasoning for its purpose. Additionally, it automatically generates a configuration script based on the successfull commands given. When in directive mode, <strong>firehol</strong> has the following special commands:</p>
<dl class='dl-vertical'>
  <dt>
    &bull; help
  </dt>
  <dd>
    <p>Present some help</p>
  </dd>
  <dt>
    &bull; show
  </dt>
  <dd>
    <p>Present the generated <strong>firehol</strong> configuration</p>
  </dd>
  <dt>
    &bull; quit
  </dt>
  <dd>
    <p>Exit interactive mode and quit <strong>firehol</strong></p>
  </dd>

</dl>

  </dd>
  <dt>
    helpme
  </dt>
  <dd>
    <p>Tries to guess the <strong>firehol</strong> configuration needed for the current machine. <strong>firehol</strong> will not stop or alter the running firewall. The configuration file is given in the standard output of <strong>firehol</strong>, thus  &#96;/etc/init.d/firehol helpme &gt; /tmp/firehol.conf' will produce the output in <em>/tmp/firehol.conf</em>. The generated <strong>firehol</strong> configuration should and must be edited before used on your systems. You are required to take many decisions and the comments of the generated file will instruct you for many of them.</p>
  </dd>
  <dt>
    <em>configfile</em>
  </dt>
  <dd>
    <p>A different configuration file. If no other argument is given, the configuration file will be &#96;&#96;tried'' (default = &#96;&#96;try''). Otherwise the argument next to the filename can be one of &#96;&#96;start'', &#96;&#96;debug'', &#96;&#96;try''.</p>
  </dd>
  <dt>
    <em>nothing</em>
  </dt>
  <dd>
    <p>Presents help about <strong>firehol</strong> usage.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>/etc/firehol/firehol.conf</em>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>firehol</strong> written by Costa Tsaousis &lt;costa@tsaousis.gr&gt;.</p><p>Man page written by Marc Brockschmidt &lt;marc@marcbrockschmidt.de&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO firehol&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/firehol.conf.5.html"><strong>firehol.conf</strong>(5)</a>, <a href="../man8/iptables.8.html"><strong>iptables</strong>(8)</a>, <a href="../man1/bash.1.html"><strong>bash</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fio_generate_plots.1.html"><span aria-hidden="true">&larr;</span> fio_generate_plots.1: Generate plots for flexible i/o tester</a></li>
   <li class="next"><a href="firewall-applet.1.html">firewall-applet.1: Firewalld applet <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
