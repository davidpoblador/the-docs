<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>haproxy: Fast and reliable http reverse proxy and load balancer</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Fast and reliable http reverse proxy and load balancer">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="haproxy (1) manual">
  <meta name="twitter:description" content="Fast and reliable http reverse proxy and load balancer">
  <meta name="twitter:image" content="https://www.carta.tech/images/haproxy-haproxy-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/haproxy.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="haproxy (1) manual" />
  <meta property="og:description" content="Fast and reliable http reverse proxy and load balancer" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/haproxy-haproxy-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">haproxy<small> (1)</small></h1>
        <p class="lead">Fast and reliable http reverse proxy and load balancer</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/haproxy.1.html">
      <span itemprop="name">haproxy: Fast and reliable http reverse proxy and load balancer</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/haproxy/">
      <span itemprop="name">haproxy</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/haproxy.1.html">
      <span itemprop="name">haproxy: Fast and reliable http reverse proxy and load balancer</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>haproxy -f &lt;configuration&nbsp;file&gt; [-L&nbsp;&lt;name&gt;] [-n&nbsp;maxconn] [-N&nbsp;maxconn] [-C&nbsp;&lt;dir&gt;] [-v|-vv] [-d] [-D] [-q] [-V] [-c] [-p&nbsp;&lt;pidfile&gt;] [-dk] [-ds] [-de] [-dp] [-db] [-dM[&lt;byte&gt;]] [-m&nbsp;&lt;megs&gt;] [{-sf|-st}&nbsp;pidlist...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>HAProxy is a TCP/HTTP reverse proxy which is particularly suited for high availability environments. Indeed, it can:  - route HTTP requests depending on statically assigned cookies ;  - spread the load among several servers while assuring server</p>
<pre>
   persistence through the use of HTTP cookies ;
</pre>
<p> - switch to backup servers in the event a main one fails ;  - accept connections to special ports dedicated to service</p>
<pre>
   monitoring ;
</pre>
<p> - stop accepting connections without breaking existing ones ;  - add/modify/delete HTTP headers both ways ;  - block requests matching a particular pattern ;  - hold clients to the right application server depending on</p>
<pre>
   application cookies
</pre>
<p> - report detailed status as HTML pages to authenticated users from an</p>
<pre>
   URI intercepted from the application.
</pre>
<p>It needs very little resource. Its event-driven architecture allows it to easily handle thousands of simultaneous connections on hundreds of instances without risking the system's stability.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-f &lt;configuration file&gt;</strong></p>
  </dt>
  <dd>
    <p>Specify configuration file path.</p>
  </dd>
  <dt>
    <p><strong>-L &lt;name&gt;</strong></p>
  </dt>
  <dd>
    <p>Set the local instance's peer name. Peers are defined in the <strong>peers</strong> configuration section and used for syncing stick tables between different instances. If this option is not specified, the local hostname is used as peer name.</p>
  </dd>
  <dt>
    <p><strong>-n &lt;maxconn&gt;</strong></p>
  </dt>
  <dd>
    <p>Set the high limit for the total number of simultaneous connections.</p>
  </dd>
  <dt>
    <p><strong>-N &lt;maxconn&gt;</strong></p>
  </dt>
  <dd>
    <p>Set the high limit for the per-listener number of simultaneous connections.</p>
  </dd>
  <dt>
    <p><strong>-C &lt;dir&gt;</strong></p>
  </dt>
  <dd>
    <p>Change directory to &lt;<em>dir</em>&gt; before loading any files.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Display HAProxy's version.</p>
  </dd>
  <dt>
    <p><strong>-vv</strong></p>
  </dt>
  <dd>
    <p>Display HAProxy's version and all build options.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Start in foreground with debugging mode enabled. When the proxy runs in this mode, it dumps every connections, disconnections, timestamps, and HTTP headers to stdout. This should NEVER be used in an init script since it will prevent the system from starting up.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Start in daemon mode.</p>
  </dd>
  <dt>
    <p><strong>-Ds</strong></p>
  </dt>
  <dd>
    <p>Start in systemd daemon mode, keeping a process in foreground.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Disable messages on output.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Displays messages on output even when -q or 'quiet' are specified. Some information about pollers and config file are displayed during startup.</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Only checks config file and exits with code 0 if no error was found, or exits with code 1 if a syntax error was found.</p>
  </dd>
  <dt>
    <p><strong>-p &lt;pidfile&gt;</strong></p>
  </dt>
  <dd>
    <p>Ask the process to write down each of its children's pids to this file in daemon mode.</p>
  </dd>
  <dt>
    <p><strong>-dk</strong></p>
  </dt>
  <dd>
    <p>Disable use of <strong>kqueue</strong>(2). <strong>kqueue</strong>(2) is available only on BSD systems.</p>
  </dd>
  <dt>
    <p><strong>-ds</strong></p>
  </dt>
  <dd>
    <p>Disable use of speculative <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a>. <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a> is available only on Linux 2.6 and some custom Linux 2.4 systems.</p>
  </dd>
  <dt>
    <p><strong>-de</strong></p>
  </dt>
  <dd>
    <p>Disable use of <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a>. <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a> is available only on Linux 2.6 and some custom Linux 2.4 systems.</p>
  </dd>
  <dt>
    <p><strong>-dp</strong></p>
  </dt>
  <dd>
    <p>Disables use of <a href="../man2/poll.2.html"><strong>poll</strong>(2)</a>. <a href="../man2/select.2.html"><strong>select</strong>(2)</a> might be used instead.</p>
  </dd>
  <dt>
    <p><strong>-dS</strong></p>
  </dt>
  <dd>
    <p>Disables use of <a href="../man2/splice.2.html"><strong>splice</strong>(2)</a>, which is broken on older kernels.</p>
  </dd>
  <dt>
    <p><strong>-db</strong></p>
  </dt>
  <dd>
    <p>Disables background mode (stays in foreground, useful for debugging). For debugging, the '-db' option is very useful as it temporarily disables daemon mode and multi-process mode. The service can then be stopped by simply pressing Ctrl-C, without having to edit the config nor run full debug.</p>
  </dd>
  <dt>
    <p><strong>-dM[&lt;byte&gt;]</strong></p>
  </dt>
  <dd>
    <p>Initializes all allocated memory areas with the given &lt;<em>byte</em>&gt;. This makes it easier to detect bugs resulting from uninitialized memory accesses, at the expense of touching all allocated memory once. If &lt;<em>byte</em>&gt; is not specified, it defaults to 0x50 (ASCII 'P').</p>
  </dd>
  <dt>
    <p><strong>-m &lt;megs&gt;</strong></p>
  </dt>
  <dd>
    <p>Enforce a memory usage limit to a maximum of &lt;megs&gt; megabytes.</p>
  </dd>
  <dt>
    <p><strong>-sf &lt;pidlist&gt;</strong></p>
  </dt>
  <dd>
    <p>Send FINISH signal to the pids in pidlist after startup. The processes which receive this signal will wait for all sessions to finish before exiting. This option must be specified last, followed by any number of PIDs. Technically speaking, <strong>SIGTTOU</strong> and <strong>SIGUSR1</strong> are sent.</p>
  </dd>
  <dt>
    <p><strong>-st &lt;pidlist&gt;</strong></p>
  </dt>
  <dd>
    <p>Send TERMINATE signal to the pids in pidlist after startup. The processes which receive this signal will wait immediately terminate, closing all active sessions. This option must be specified last, followed by any number of PIDs. Technically speaking, <strong>SIGTTOU</strong> and <strong>SIGTERM</strong> are sent.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LOGGING</h2>
        <div class="sectioncontent">
<p>Since HAProxy can run inside a chroot, it cannot reliably access /dev/log. For this reason, it uses the UDP protocol to send its logs to the server, even if it is the local server. People who experience trouble receiving logs should ensure that their syslog daemon listens to the UDP socket. Several Linux distributions which ship with syslogd from the sysklogd package have UDP disabled by default. The <strong>-r</strong> option must be passed to the daemon in order to enable UDP.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">
<p>Some signals have a special meaning for the haproxy daemon. Generally, they are used between daemons and need not be used by the administrator.</p>
<dl class='dl-vertical'>
  <dt>
    <p>- <strong>SIGUSR1</strong></p>
  </dt>
  <dd>
    <p>Tells the daemon to stop all proxies and exit once all sessions are closed. It is often referred to as the "soft-stop" signal.</p>
  </dd>
  <dt>
    <p>- <strong>SIGTTOU</strong></p>
  </dt>
  <dd>
    <p>Tells the daemon to stop listening to all sockets. Used internally by <strong>-sf</strong> and <strong>-st</strong>.</p>
  </dd>
  <dt>
    <p>- <strong>SIGTTIN</strong></p>
  </dt>
  <dd>
    <p>Tells the daemon to restart listening to all sockets after a <strong>SIGTTOU</strong>. Used internally when there was a problem during hot reconfiguration.</p>
  </dd>
  <dt>
    <p>- <strong>SIGINT</strong> and <strong>SIGTERM</strong></p>
  </dt>
  <dd>
    <p>Both signals can be used to quickly stop the daemon.</p>
  </dd>
  <dt>
    <p>- <strong>SIGHUP</strong></p>
  </dt>
  <dd>
    <p>Dumps the status of all proxies and servers into the logs. Mostly used for trouble-shooting purposes.</p>
  </dd>
  <dt>
    <p>- <strong>SIGQUIT</strong></p>
  </dt>
  <dd>
    <p>Dumps information about memory pools on stderr. Mostly used for debugging purposes.</p>
  </dd>
  <dt>
    <p>- <strong>SIGPIPE</strong></p>
  </dt>
  <dd>
    <p>This signal is intercepted and ignored on systems without <strong>MSG_NOSIGNAL</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO haproxy&hellip;</h2>
        <div class="sectioncontent">
<p>A much better documentation can be found in configuration.txt. On Debian systems, you can find this file in /usr/share/doc/haproxy/configuration.txt.gz.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>HAProxy was written by Willy Tarreau. This man page was written by Arnaud Cornet and Willy Tarreau.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="happy.1.html"><span aria-hidden="true">&larr;</span> happy.1: The parser generator for haskell</a></li>
   <li class="next"><a href="haproxyctl.1.html">haproxyctl.1: Utility to manage haproxy <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
