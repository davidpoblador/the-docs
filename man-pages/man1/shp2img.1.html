<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shp2img: Create a map image from a mapfile</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a map image from a mapfile">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shp2img (1) manual">
  <meta name="twitter:description" content="Create a map image from a mapfile">
  <meta name="twitter:image" content="https://www.carta.tech/images/mapserver-bin-shp2img-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/shp2img.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shp2img (1) manual" />
  <meta property="og:description" content="Create a map image from a mapfile" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mapserver-bin-shp2img-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shp2img<small> (1)</small></h1>
        <p class="lead">Create a map image from a mapfile</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shp2img.1.html">
      <span itemprop="name">shp2img: Create a map image from a mapfile</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mapserver-bin/">
      <span itemprop="name">mapserver-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shp2img.1.html">
      <span itemprop="name">shp2img: Create a map image from a mapfile</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>shp2img</strong> \kx <strong>-m</strong> <em>mapfile</em> [<strong>-o</strong> <em>image</em>] [<strong>-e</strong> <em>minx</em> <em>miny</em> <em>maxx</em> <em>maxy</em>] [<strong>-s</strong> <em>sizex</em> <em>sizey</em>] [<strong>-l</strong> " <em>layer1</em> [<em>layer2</em>...]"] [<strong>-i</strong> <em>format</em>] [<strong>-all_debug</strong> <em>n</em>] [<strong>-map_debug</strong> <em>n</em>] [<strong>-layer_debug</strong> <em>layername</em> <em>n</em>] [<strong>-p</strong> <em>n</em>] [<strong>-c</strong> <em>n</em>] [<strong>-d</strong> <em>layername</em> <em>datavalue</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>shp2img</strong> creates a map image from a mapfile. Output is either PNG or GIF depending on what version of the GD library is used. This is a useful utility to test your mapfile. You can simply provide the path to your mapfile and the name of an output image, and an image should be returned. If an image cannot be created an error will be displayed at the command line that should refer to a line number in the mapfile.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>-m</strong>\*(T&gt; <em>mapfile</em></p>
  </dt>
  <dd>
    <p>Map file to operate on - required</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-i</strong>\*(T&gt; <em>format</em></p>
  </dt>
  <dd>
    <p>Override the IMAGETYPE value to pick output format</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-o</strong>\*(T&gt; <em>image</em></p>
  </dt>
  <dd>
    <p>Output filename (STDOUT if not provided)</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-e</strong>\*(T&gt; <em>minx</em> <em>miny</em> <em>maxx</em> <em>maxy</em></p>
  </dt>
  <dd>
    <p>Extents to render</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-s</strong>\*(T&gt; <em>sizex</em> <em>sizey</em></p>
  </dt>
  <dd>
    <p>Output image size</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-l</strong>\*(T&gt; <em>layers</em></p>
  </dt>
  <dd>
    <p>Layers to enable - make sure they are quoted and space separated if more than one listed</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-all_debug</strong>\*(T&gt; <em>n</em></p>
  </dt>
  <dd>
    <p>Set debug level for map and all layers</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-map_debug</strong>\*(T&gt; <em>n</em></p>
  </dt>
  <dd>
    <p>Set map debug level</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-layer_debug</strong>\*(T&gt; <em>layername</em> <em>n</em></p>
  </dt>
  <dd>
    <p>Set layer debug level</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-c</strong>\*(T&gt; <em>n</em></p>
  </dt>
  <dd>
    <p>Draw map <em>n</em> number of times</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-p</strong>\*(T&gt; <em>n</em></p>
  </dt>
  <dd>
    <p>Pause for <em>n</em> seconds after reading the map</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-d</strong>\*(T&gt; <em>layername</em> <em>datavalue</em></p>
  </dt>
  <dd>
    <p>Change DATA value for layer</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p><strong>Example #1</strong></p>
<pre>
\*(T&lt;
shp2img -m vector_blank.map -o test.png
      \*(T&gt;
</pre>
<p>Result:</p><p>A file named 'test.png' is created, that you can drag into your browser to view.</p><p><strong>Example #2</strong></p>
<pre>
\*(T&lt;
shp2img -m gmap75.map -o test2.png -map_debug 3
      \*(T&gt;
</pre>
<p>Result:</p><p>A file named 'test2.png' is created, and layer draw speeds are returned such as:</p>
<pre>
\*(T&lt;
msDrawRasterLayerLow(bathymetry): entering
msDrawMap(): Layer 0 (bathymetry), 0.601s
msDrawMap(): Layer 3 (drain_fn), 0.200s
msDrawMap(): Layer 4 (drainage), 0.300s
msDrawMap(): Layer 5 (prov_bound), 0.191s
msDrawMap(): Layer 6 (fedlimit), 0.030s
msDrawMap(): Layer 9 (popplace), 0.080s
msDrawMap(): Drawing Label Cache, 0.300s
msDrawMap() total time: 1.702s
msSaveImage() total time: 0.040s
      \*(T&gt;
</pre>
<p><strong>Example #3</strong></p>
<pre>
\*(T&lt;
shp2img -m gmap75.map -o test3.png -all_debug 3
      \*(T&gt;
</pre>
<p>Result:</p><p>A file named 'test3.png' is created, layer draw speeds are returned, and some warnings that index qix files are not found, such as:</p>
<pre>
\*(T&lt;
msLoadMap(): 0.671s
msDrawRasterLayerLow(bathymetry): entering.
msDrawGDAL(): src=72,417,3077,2308, dst=0,0,400,300
msDrawGDAL(): red,green,blue,alpha bands = 1,0,0,0
msDrawMap(): Layer 0 (bathymetry), 0.090s
msSearchDiskTree(): Search returned no results. Unable to open spatial index
for D:&#92;ms4w&#92;apps&#92;gmap&#92;htdocs/.&#92;../data/drain_fn.qix. In most cases you can
safely ignore this message, otherwise check file names and permissions.
msDrawMap(): Layer 3 (drain_fn), 0.010s
msDrawMap(): Layer 4 (drainage), 0.050s
msSearchDiskTree(): Search returned no results. Unable to open spatial index
for D:&#92;ms4w&#92;apps&#92;gmap&#92;htdocs/.&#92;../data/province.qix. In most cases you can
safely ignore this message, otherwise check file names and permissions.
msDrawMap(): Layer 5 (prov_bound), 0.030s
msSearchDiskTree(): Search returned no results. Unable to open spatial index
for D:&#92;ms4w&#92;apps&#92;gmap&#92;htdocs/.&#92;../data/fedlimit.qix. In most cases you can
safely ignore this message, otherwise check file names and permissions.
msDrawMap(): Layer 6 (fedlimit), 0.010s
msDrawMap(): Layer 9 (popplace), 0.010s
msDrawMap(): Drawing Label Cache, 0.201s
msDrawMap() total time: 0.401s
msSaveImage() total time: 0.010s
shp2img total time: 1.082s
      \*(T&gt;
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="showvte.1.html"><span aria-hidden="true">&larr;</span> showvte.1: Show build-time configuration of evilvte</a></li>
   <li class="next"><a href="shp2pgsql.1.html">shp2pgsql.1: Shapefile to postgis loader <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
