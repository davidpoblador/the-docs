<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mincmath: Perform simple math operations on minc files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perform simple math operations on minc files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mincmath (1) manual">
  <meta name="twitter:description" content="Perform simple math operations on minc files">
  <meta name="twitter:image" content="https://www.carta.tech/images/minc-tools-mincmath-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mincmath.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mincmath (1) manual" />
  <meta property="og:description" content="Perform simple math operations on minc files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/minc-tools-mincmath-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mincmath<small> (1)</small></h1>
        <p class="lead">Perform simple math operations on minc files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mincmath.1.html">
      <span itemprop="name">mincmath: Perform simple math operations on minc files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/minc-tools/">
      <span itemprop="name">minc-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mincmath.1.html">
      <span itemprop="name">mincmath: Perform simple math operations on minc files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mincmath</strong> [&lt;options&gt;] &lt;in1&gt;.mnc [&lt;in2&gt;.mnc...] &lt;out&gt;.mnc</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Mincmath</em> will perform simple, voxel-by-voxel math operations, on one or more minc files of the same shape and having the same coordinate sampling, producing a single output file. Operations can be unary (operate on one file), binary (two input files) or cumulative (operate on two or more input files). Cumulative operations can also be performed across a specified dimension of the input files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Note that options can be specified in abbreviated form (as long as they are unique) and can be given anywhere on the command line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">General options</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-2</strong></p>
  </dt>
  <dd>
    <p>Create a MINC 2.0 format output file.</p>
  </dd>
  <dt>
    <p><strong>-clobber</strong></p>
  </dt>
  <dd>
    <p>Overwrite an existing file.</p>
  </dd>
  <dt>
    <p><strong>-noclobber</strong></p>
  </dt>
  <dd>
    <p>Don't overwrite an existing file (default).</p>
  </dd>
  <dt>
    <p><strong>-no_clobber</strong></p>
  </dt>
  <dd>
    <p>Synonym for <strong>-noclobber</strong>.</p>
  </dd>
  <dt>
    <p><strong>-verbose</strong></p>
  </dt>
  <dd>
    <p>Print out progress information for each chunk of data copied (default).</p>
  </dd>
  <dt>
    <p><strong>-quiet</strong></p>
  </dt>
  <dd>
    <p>Do not print out progress information.</p>
  </dd>
  <dt>
    <p><strong>-debug</strong></p>
  </dt>
  <dd>
    <p>Print out debugging information.</p>
  </dd>
  <dt>
    <p><strong>-filelist</strong>&nbsp;<em>filename</em></p>
  </dt>
  <dd>
    <p>Specify a file containing a list of input file names. If "-" is given, then file names are read from the standard input. If this option is given, then there should be no input file names specified on the command line. Empty lines in the input file are ignored.</p>
  </dd>
  <dt>
    <p><strong>-copy_header</strong></p>
  </dt>
  <dd>
    <p>Copy all of the header information from the first input file (default for one input file).</p>
  </dd>
  <dt>
    <p><strong>-nocopy_header</strong></p>
  </dt>
  <dd>
    <p>Do not copy all of the header from the first input file; copy only coordinate information (default for more than one input file).</p>
  </dd>
  <dt>
    <p><strong>-filetype</strong></p>
  </dt>
  <dd>
    <p>Create an output file with the same type as the first input file (default).</p>
  </dd>
  <dt>
    <p><strong>-byte</strong></p>
  </dt>
  <dd>
    <p>Store output voxels in 8-bit integer format.</p>
  </dd>
  <dt>
    <p><strong>-short</strong></p>
  </dt>
  <dd>
    <p>Store output voxels in 16-bit integer format.</p>
  </dd>
  <dt>
    <p><strong>-int</strong></p>
  </dt>
  <dd>
    <p>Store output voxels in 32-bit integer format.</p>
  </dd>
  <dt>
    <p><strong>-long</strong></p>
  </dt>
  <dd>
    <p>Superseded by <strong>-int</strong>.</p>
  </dd>
  <dt>
    <p><strong>-float</strong></p>
  </dt>
  <dd>
    <p>Store output voxels in 32-bit floating point format.</p>
  </dd>
  <dt>
    <p><strong>-double</strong></p>
  </dt>
  <dd>
    <p>Store output voxels in 64-bit floating point format.</p>
  </dd>
  <dt>
    <p><strong>-signed</strong></p>
  </dt>
  <dd>
    <p>Use signed, two's complement integer format. Applies only if the output voxel type is specified to be an integer type (one of <strong>-byte</strong>, <strong>-short</strong>, <strong>-int</strong> or <strong>-long</strong>).</p>
  </dd>
  <dt>
    <p><strong>-unsigned</strong></p>
  </dt>
  <dd>
    <p>Use unsigned integer format. Applies only if the output voxel type is specified to be an integer type (one of <strong>-byte</strong>, <strong>-short</strong>, <strong>-int</strong> or <strong>-long</strong>).</p>
  </dd>
  <dt>
    <p><strong>-range</strong> <em>min max</em></p>
  </dt>
  <dd>
    <p>Restrict the valid range of integer data.  Applies only if one of the <strong>-byte</strong>, <strong>-short</strong>, <strong>-int</strong> or <strong>-long</strong> options is specified.</p>
  </dd>
  <dt>
    <p><strong>-max_buffer_size_in_kb</strong> <em>size</em></p>
  </dt>
  <dd>
    <p>Specify the maximum size of the internal buffers (in kbytes). Default is 4096 (4MB).</p>
  </dd>
  <dt>
    <p><strong>-dimension</strong>&nbsp;<em>dimname</em></p>
  </dt>
  <dd>
    <p>Specify a dimension along which we wish to perform a cumulative operation.</p>
  </dd>
  <dt>
    <p><strong>-check_dimensions</strong></p>
  </dt>
  <dd>
    <p>Check that all input files have matching sampling in world dimensions (default).</p>
  </dd>
  <dt>
    <p><strong>-nocheck_dimensions</strong></p>
  </dt>
  <dd>
    <p>Ignore any differences in world dimensions sampling for input files .</p>
  </dd>
  <dt>
    <p><strong>-propagate_nan</strong></p>
  </dt>
  <dd>
    <p>Invalid data (Not-A-Number or NaN) at a voxel in any of the input files will produce invalid data in the output file at that voxel (default).</p>
  </dd>
  <dt>
    <p><strong>-ignore_nan</strong></p>
  </dt>
  <dd>
    <p>For cumulative operations, invalid data (NaN) in an input file is ignored, ie. treated as though it is not present.</p>
  </dd>
  <dt>
    <p><strong>-nan</strong></p>
  </dt>
  <dd>
    <p>When an illegal operation is attempted at a voxel (such as divide by zero), invalid data (NaN) is stored in the output file (default). Having no valid input data for a cumulative operation is also considered an illegal operation when <strong>-ignore_nan</strong> is used.</p>
  </dd>
  <dt>
    <p><strong>-zero</strong></p>
  </dt>
  <dd>
    <p>When an illegal operation is attempted at a voxel (such as divide by zero), value zero is stored in the output file.</p>
  </dd>
  <dt>
    <p><strong>-illegal_value</strong>&nbsp;<em>value</em></p>
  </dt>
  <dd>
    <p>When an illegal operation is attempted at a voxel (such as divide by zero), the specified value is stored in the output file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Options for specifying constants</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-constant</strong>&nbsp;<em>value</em></p>
  </dt>
  <dd>
    <p>Specify a single constant.</p>
  </dd>
  <dt>
    <p><strong>-const</strong>&nbsp;<em>value</em></p>
  </dt>
  <dd>
    <p>Synonym for <strong>-constant</strong>.</p>
  </dd>
  <dt>
    <p><strong>-const2</strong>&nbsp;<em>value1 value2</em></p>
  </dt>
  <dd>
    <p>Specify two constants.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Operations</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-add</strong></p>
  </dt>
  <dd>
    <p>Cumulatively add two or more volumes, or add a volume and a constant.</p>
  </dd>
  <dt>
    <p><strong>-sub</strong></p>
  </dt>
  <dd>
    <p>Subtract two volumes or a volume minus a constant.</p>
  </dd>
  <dt>
    <p><strong>-mult</strong></p>
  </dt>
  <dd>
    <p>Cumulatively multiply two or more volumes, or multiply a volume and a constant.</p>
  </dd>
  <dt>
    <p><strong>-div</strong></p>
  </dt>
  <dd>
    <p>Divide two volumes or a volume divided by a constant.</p>
  </dd>
  <dt>
    <p><strong>-invert</strong></p>
  </dt>
  <dd>
    <p>Calculate 1/x at each voxel, where x is the input voxel value. If a constant c is specified (with -constant), then calculate c/x at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-sqrt</strong></p>
  </dt>
  <dd>
    <p>Calculate the square root of a volume.</p>
  </dd>
  <dt>
    <p><strong>-square</strong></p>
  </dt>
  <dd>
    <p>Calculate the square of a volume.</p>
  </dd>
  <dt>
    <p><strong>-abs</strong></p>
  </dt>
  <dd>
    <p>Calculate the absolute value of a volume.</p>
  </dd>
  <dt>
    <p><strong>-maximum</strong></p>
  </dt>
  <dd>
    <p>Calculate the maximum of a series of volumes.</p>
  </dd>
  <dt>
    <p><strong>-minimum</strong></p>
  </dt>
  <dd>
    <p>Calculate the minimum of a series of volumes.</p>
  </dd>
  <dt>
    <p><strong>-exp</strong></p>
  </dt>
  <dd>
    <p>Calculate <em>c2*exp(c1*x)</em> at each voxel of a volume, where <em>x</em> is the voxel value and <em>c1</em> and <em>c2</em> are constants specified by <strong>-constant c1</strong> or <strong>-const2 c1 c2</strong>. The default value for these constants is 1.0.</p>
  </dd>
  <dt>
    <p><strong>-log</strong></p>
  </dt>
  <dd>
    <p>Calculate <em>log(x/c2)/c1</em> for each voxel of a volume, where <em>x</em> is the voxel value and <em>c1</em> and <em>c2</em> are constants specified by <strong>-constant c1</strong> or <strong>-const2 c1 c2</strong>. The default value for these constants is 1.0.</p>
  </dd>
  <dt>
    <p><strong>-scale</strong></p>
  </dt>
  <dd>
    <p>Scale a volume either by multiplying by a single constant (use -constant) or by multiplying by the first constant and adding the second (use -const2).</p>
  </dd>
  <dt>
    <p><strong>-clamp</strong></p>
  </dt>
  <dd>
    <p>Clamp a volume to lie between two values specified with <strong>-const2</strong>.</p>
  </dd>
  <dt>
    <p><strong>-segment</strong></p>
  </dt>
  <dd>
    <p>Segment (binarize) a volume so that values within the range specified by <strong>-const2</strong> give value 1 and those outside it give value 0.</p>
  </dd>
  <dt>
    <p><strong>-nsegment</strong></p>
  </dt>
  <dd>
    <p>Opposite of <strong>-segment</strong>: values within the range specified by <strong>-const2</strong> give value 0 and those outside it give value 1.</p>
  </dd>
  <dt>
    <p><strong>-percentdiff</strong></p>
  </dt>
  <dd>
    <p>Calculate the percent difference between two volumes (normalized to the first volume). If the first volume is less than a threshold (or zero), then the value specified by <strong>-nan</strong> or <strong>-zero</strong> is used. The threshold is specified using <strong>-constant</strong>, with a default of zero.</p>
  </dd>
  <dt>
    <p><strong>-pd</strong></p>
  </dt>
  <dd>
    <p>Synonym for <strong>-percentdiff</strong>.</p>
  </dd>
  <dt>
    <p><strong>-eq</strong></p>
  </dt>
  <dd>
    <p>Test for equality of two volumes or a volume and a constant. Values are rounded to the nearest integer before performing the test. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-ne</strong></p>
  </dt>
  <dd>
    <p>Test for inequality of two volumes or a volume and a constant. Values are rounded to the nearest integer before performing the test. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-gt</strong></p>
  </dt>
  <dd>
    <p>Test for volume 1 &gt; volume 2 or a volume &gt; a constant. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-ge</strong></p>
  </dt>
  <dd>
    <p>Test for volume 1 &gt;= volume 2 or a volume &gt;= a constant. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-lt</strong></p>
  </dt>
  <dd>
    <p>Test for volume 1 &lt; volume 2 or a volume &lt; a constant. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-le</strong></p>
  </dt>
  <dd>
    <p>Test for volume 1 &lt;= volume 2 or a volume &lt;= a constant. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-and</strong></p>
  </dt>
  <dd>
    <p>Test for volume 1 && volume 2 or a volume && a constant. Values are rounded to the nearest integer before performing the test. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-or</strong></p>
  </dt>
  <dd>
    <p>Test for volume 1 || volume 2 or a volume || a constant. Values are rounded to the nearest integer before performing the test. Output 1 for true and 0 for false at each voxel.</p>
  </dd>
  <dt>
    <p><strong>-not</strong></p>
  </dt>
  <dd>
    <p>Perform logical negation on a volume: convert non-zero to zero and zero to one. Values are rounded to the nearest integer before the negation.</p>
  </dd>
  <dt>
    <p><strong>-isnan</strong></p>
  </dt>
  <dd>
    <p>Test a volume for invalid values (NaN). Output 1 for invalid values and 0 for valid values.</p>
  </dd>
  <dt>
    <p><strong>-nisnan</strong></p>
  </dt>
  <dd>
    <p>Opposite of -isnan. Output 0 for invalid values and 1 for valid values.</p>
  </dd>
  <dt>
    <p><strong>-count_valid</strong></p>
  </dt>
  <dd>
    <p>Count the number of valid voxels across a series of volumes. If none of the volumes has valid data, then zero is written out (ie. <strong>-zero</strong> and <strong>-ignore_nan</strong> are always assumed, unlike other cumulative operations).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Generic options for all commands:</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-help</strong></p>
  </dt>
  <dd>
    <p>Print summary of command-line options and exit.</p>
  </dd>
  <dt>
    <p><strong>-version</strong></p>
  </dt>
  <dd>
    <p>Print the program's version number and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Peter Neelin</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHTS</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 1995 by Peter Neelin</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mincmath&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/minccalc.1.html"><strong>minccalc</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mincmakevector.1.html"><span aria-hidden="true">&larr;</span> mincmakevector.1: Convert a list of scalar minc files into one vector file</a></li>
   <li class="next"><a href="mincresample.1.html">mincresample.1: Resamples a minc file along new spatial dimensions <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
