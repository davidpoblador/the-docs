<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>doclifter: Translate troff requests into docbook</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Translate troff requests into docbook">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="doclifter (1) manual">
  <meta name="twitter:description" content="Translate troff requests into docbook">
  <meta name="twitter:image" content="https://www.carta.tech/images/doclifter-doclifter-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/doclifter.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="doclifter (1) manual" />
  <meta property="og:description" content="Translate troff requests into docbook" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/doclifter-doclifter-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">doclifter<small> (1)</small></h1>
        <p class="lead">Translate troff requests into docbook</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/doclifter.1.html">
      <span itemprop="name">doclifter: Translate troff requests into docbook</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/doclifter/">
      <span itemprop="name">doclifter</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/doclifter.1.html">
      <span itemprop="name">doclifter: Translate troff requests into docbook</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>doclifter</strong> [-e&nbsp;<em>encoding</em>] [-h&nbsp;<em>hintfile</em>] [-q] [-x] [-v] [-w] [-V] [-D&nbsp;<em>token=type</em>] [-I&nbsp;<em>path</em>] [-I&nbsp;<em>path</em>] <em>file</em>...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>doclifter</strong> translates documents written in troff macros to DocBook. Structural subsets of the requests in <a href="../man7/man.7.html"><strong>man</strong>(7)</a>, <strong>mdoc</strong>(7), <strong>ms</strong>(7), <strong>me</strong>(7), <strong>mm</strong>(7), and <strong>troff</strong>(1) are supported.</p><p>The translation brings over all the structure of the original document at section, subsection, and paragraph level. Command and C function synopses are translated into DocBook markup, not just a verbatim display. Tables (TBL markup) are translated into DocBook table markup. PIC diagrams are translated into SVG. Troff-level information that might have structural implications is preserved in XML comments.</p><p>Where possible, font-change macros are translated into structural markup. <strong>doclifter</strong> recognizes stereotyped patterns of markup and content (such as the use of italics in a FILES section to mark filenames) and lifts them. A means to edit, add, and save semantic hints about highlighting is supported.</p><p>Some cliches are recognized and lifted to structural markup even without highlighting. Patterns recognized include such things as URLs, email addresses, man page references, and C program listings.</p><p>The tag <strong>.in</strong> and <strong>.ti</strong> requests are passed through with complaints. They indicate presentation-level markup that <strong>doclifter</strong> cannot translate into structure; the output will require hand-fixing.</p><p>The tag <strong>.ta</strong> is passed through with a complaint unless the immediarely following by text lines contains a tab, in which case the following span of lines containing tabs is lifted to a table.</p><p>Under some circumstances, <strong>doclifter</strong> can even lift formatted manual pages and the text output produced by <a href="../man1/lynx.1.html"><strong>lynx</strong>(1)</a> from HTML. If it finds no macros in the input, but does find a NAME section header, it tries to interpret the plain text as a manual page (skipping boilerplate headers and footers generated by <a href="../man1/lynx.1.html"><strong>lynx</strong>(1)</a>). Translations produced in this way will be prone to miss structural features, but this fallback is good enough for simple man pages.</p><p><strong>doclifter</strong> does not do a perfect job, merely a surprisingly good one. Final polish should be applied by a human being capable of recognizing patterns too subtle for a computer. But <strong>doclifter</strong> will almost always produce translations that are good enough to be usable before hand-hacking.</p><p>See the Troubleshooting section for discussion of how to solve document conversion problems.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>If called without arguments <strong>doclifter</strong> acts as a filter, translating troff source input on standard input to DocBook markup on standard output. If called with arguments, each argument file is translated separately (but hints are retained, see below); the suffix .xml is given to the translated output.</p><p>-h</p><p>Name a file to which information on semantic hints gathered during analysis should be written.</p><p>-D</p><p>The <strong>-D</strong> allows you to post a hint. This may be useful, for example, if <strong>doclifter</strong> is mis-parsing a synopsis because it doesn&apos;t recognize a token as a command. This hint is merged after hints in the input source have been read.</p><p>-I</p><p>The <strong>-I</strong> option adds its argument to the include path used when docfilter searches for inclusions. The include path is initially just the current directory.</p><p>-e</p><p>The <strong>-e</strong> allows you to set the encoding field to be emitted in the output XML. It defaults to ISO-8859-1 (Latin-1).</p><p>-q</p><p>Normally, requests that <strong>doclifter</strong> could not interpret (usually because they&apos;re presentation-level) are passed through to XML comments in the output. The -q option suppresses this. It also suppresses listing of macros. Messages about requests that are unrecognized or cannot be translated go to standard error whatever the state of this option. This option is intended to reduce clutter when you believe you have a clean lift of a document and want to lose the troff legacy.</p><p>-x</p><p>The -x option requests that <strong>doclifter</strong> generated DocBook version 5 compatible xml content, rather than its default DocBook version 4.4 output. Inclusions and entities may not be handled correctly with this switch enabled.</p><p>-v</p><p>The -v option makes <strong>doclifter</strong> noisier about what it&apos;s doing. This is mainly useful for debugging.</p><p>-w</p><p>Enable strict portability checking. Multiple instances of -w increase the strictness. See the section called &ldquo;PORTABILITY CHECKING&rdquo;.</p><p>-V</p><p>With this option, the program emits a version message and exits.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TRANSLATION RULES</h2>
        <div class="sectioncontent">
<p>Overall, you can expect that font changes will be turned into Emphasis macros with a Remap attribute taken from the troff font name. The basic font names are R, I, B, U, CW, and SM.</p><p>Troff and macro-package special character escapes are mapped into ISO character entities.</p><p>When <strong>doclifter</strong> encounters a <strong>.so</strong> directive, it searches for the file. If it can get read access to the file, and open it, and the file consists entirely of command lines and comments, then it is included. If any of these conditions fails, an entity reference for it is generated.</p><p><strong>doclifter</strong> performs special parsing when it recognizes a display such as is generated by <strong>.DS/.DE</strong>. It repeatedly tries to parse first a function synopsis, and then plain text off what remains in the display. Thus, most inline C function prototypes will be lifted to structured markup.</p><p>Some notes on specific translations:</p><h3>Man Translation</h3>
<p><strong>doclifter</strong> does a good job on most man pages, It knows about the extended <strong>UR</strong>/<strong>UE</strong>/<strong>UN</strong> and <strong>URL</strong> requests supported under Linux. If any <strong>.UR</strong> request is present, it will translate these but not wrap URLs outide them with Ulink tags. It also knows about the extended <strong>.L</strong> (literal) font markup from Bell Labs Version 8, and its friends.</p><p>The <strong>.TH</strong> macro is used to generate a RefMeta section. If present, the date/source/manual arguments (see <a href="../man7/man.7.html"><strong>man</strong>(7)</a>) are wrapped in RefMiscInfo tag pairs with those class attributes. Note that <strong>doclifter</strong> does not change the date.</p><p><strong>doclifter</strong> performs special parsing when it recognizes a synopsis section. It repeatedly tries to parse first a function synopsis, then a command synopsis, and then plain text off what remains in the section.</p><p>The following man macros are translated into emphasis tags with a remap attribute: <strong>.B</strong>, <strong>.I</strong>, <strong>.L</strong>, <strong>.BI</strong>, <strong>.BR</strong>, <strong>.BL</strong>, <strong>.IB</strong>, <strong>.IR</strong>, <strong>.IL</strong>, <strong>.RB</strong>, <strong>.RI</strong>, <strong>.RL</strong>, <strong>.LB</strong>, <strong>.LI</strong>, <strong>.LR</strong>, <strong>.SB</strong>, <strong>.SM</strong>. Some stereotyped patterns involving these macros are recognized and turned into semantic markup.</p><p>The following macros are translated into paragraph breaks: <strong>.LP</strong>, <strong>.PP</strong>, <strong>.P</strong>, <strong>.HP</strong>, and the single-argument form of <strong>.IP</strong>.</p><p>The two-argument form of <strong>.IP</strong> is translated either as a VariableList (usually) or ItemizedList (if the tag is the troff bullet or square character).</p><p>The following macros are translated semantically: <strong>.SH</strong>,<strong>.SS</strong>, <strong>.TP</strong>, <strong>.UR</strong>, <strong>.UE</strong>, <strong>.UN</strong>, <strong>.IX</strong>. A <strong>.UN</strong> call just before <strong>.SH</strong> or <strong>.SS</strong> sets the ID for the new section.</p><p>The <strong>&#92;*R</strong>, <strong>&#92;*(Tm</strong>, <strong>&#92;*(lq</strong>, and <strong>&#92;*(rq</strong> symbols are translated.</p><p>The following (purely presentation-level) macros are ignored: <strong>.PD</strong>,<strong>.DT</strong>.</p><p>The <strong>.RS</strong>/<strong>.RE</strong> macros are translated differently depending on whether or not they precede list markup. When <strong>.RS</strong> occurs just before <strong>.TP</strong> or <strong>.IP</strong> the result is nested lists. Otherwise, the <strong>.RS</strong>/<strong>.RE</strong> pair is translated into a Blockquote tag-pair.</p><p><strong>.DS</strong>/<strong>.DE</strong> is not part of the documented man macro set, but is recognized because it shows up with some frequency on legacy man pages from older Unixes.</p><p>Certain extension macros originally defined under Ultrix are translated structurally, including those that occasionally show up on the manual pages of Linux and other open-source Unixes. <strong>.EX</strong>/<strong>.EE</strong> (and the synonyms <strong>.Ex</strong>/<strong>.Ee</strong>), <strong>.Ds</strong>/<strong>.De</strong>,</p><p><strong>.NT</strong>/<strong>.NE</strong>, <strong>.PN</strong>, and <strong>.MS</strong> are translated structurally.</p><p>The following extension macros used by the X distribution are also recognized and translated structurally: <strong>.FD</strong>, <strong>.FN</strong>, <strong>.IN</strong>, <strong>.ZN</strong>, <strong>.hN</strong>, and <strong>.C{</strong>/<strong>.C}</strong> The <strong>.TA</strong> and <strong>.IN</strong> requests are ignored.</p><p>When the man macros are active, any <strong>.Pp</strong> macro definition containing the request <strong>.PP</strong> will be ignored. and all instances of <strong>.Pp</strong> replaced with <strong>.PP</strong>. Similarly, <strong>.Tp</strong> will be replaced with <strong>.TP</strong>. This is the least painful way to deal with some frequently-encountered stereotyped wrapper definitions that would otherwise cause serious interpretation problems</p><p>Known problem areas with man translation:</p><p>Weird uses of <strong>.TP</strong>. These will sometime generate invalid XML and sometimes result in a FIXME comment in the generated XML (a warning message will also go to standard error).</p><p>It is debatable how the man macros <strong>.HP</strong> and <strong>.IP</strong> without tag should be translated. We treat them as an ordinary paragraph break. We could visually simulate a hanging paragraph with list markup, but this would not be a structural translation.</p>
<h3>Pod2man Translation</h3>
<p><strong>doclifter</strong> recognizes the extension macros produced by <strong>pod2man</strong> (<strong>.Sh</strong>, <strong>.Sp</strong>, <strong>.Ip</strong>, <strong>.Vb</strong>, <strong>.Ve</strong>) and translates them structurally.</p><p>The results of lifting pages produced by <strong>pod2man</strong> should be checked carefully by eyeball, especially the rendering of command and function synopses. <strong>Pod2man</strong> generates rather perverse markup; <strong>doclifter</strong>&apos;s struggle to untangle it is sometimes in vain.</p><p>If possible, generate your DocBook from the POD sources. There is a pod2docbook module on CPAN that does this.</p>
<h3>Tkman Translation</h3>
<p><strong>doclifter</strong> recognizes the extension macros used by the Tcl/Tk documentation system: <strong>.AP</strong>, <strong>.AS</strong>, <strong>.BS</strong>, <strong>.BE</strong>, <strong>.CS</strong>, <strong>.CE</strong>, <strong>.DS</strong>, <strong>.DE</strong>, <strong>.SO</strong>, <strong>.SE</strong>, <strong>.UL</strong>, <strong>.VS</strong>, <strong>.VE</strong>. The <strong>.AP</strong>, <strong>.CS</strong>, <strong>.CE</strong>, <strong>.SO</strong>, <strong>.SE</strong>, <strong>.UL</strong>, <strong>.QW</strong> and <strong>.PQ</strong> macros are translated structurally.</p>
<h3>Mandoc Translation</h3>
<p><strong>doclifter</strong> should be able to do an excellent job on most <strong>mdoc</strong>(7) pages, because this macro package expresses a lot of semantic structure.</p><p>Known problems with mandoc translation: All <strong>.Bd</strong>/<strong>.Ed</strong> display blocks are translated as LiteralLayout tag pairs .</p>
<h3>Ms Translation</h3>
<p><strong>doclifter</strong> does a good job on most ms pages. One weak spot to watch out for is the generation of Author and Affiliation tags. The heuristics used to mine this information out of the <strong>.AU</strong> section work for authors who format their names in the way usual for English (e.g. "M. E. Lesk", "Eric S. Raymond") but are quite brittle.</p><p>For a document to be recognized as containing ms markup, it must have the extension .ms. This avoids problems with false positives.</p><p>The <strong>.TL</strong>, <strong>.AU</strong>, <strong>.AI</strong>, and <strong>.AE</strong> macros turn into article metainformation in the expected way. The <strong>.PP</strong>, <strong>.LP</strong>, <strong>.SH</strong>, and <strong>.NH</strong> macros turn into paragraph and section structure. The tagged form of <strong>.IP</strong> is translated either as a VariableList (usually) or ItemizedList (if the tag is the troff bullet or square character); the untagged version is treated as an ordinary paragraph break.</p><p>The <strong>.DS</strong>/<strong>.DE</strong> pair is translated to a LiteralLayout tag pair . The <strong>.FS</strong>/<strong>.FE</strong> pair is translated to a Footnote tag pair. The <strong>.QP</strong>/<strong>.QS</strong>/<strong>.QE</strong> requests define BlockQuotes.</p><p>The <strong>.UL</strong> font change is mapped to U. <strong>.SM</strong> and <strong>.LG</strong> become numeric plus or minus size steps suffixed to the Remap attribute.</p><p>The <strong>.B1</strong> and <strong>.B2</strong> box macros are translated to a Sidebar tag pair.</p><p>All macros relating to page footers, multicolumn mode, and keeps are ignored (<strong>.ND</strong>, <strong>.DA</strong>, <strong>.1C</strong>, <strong>.2C</strong>, <strong>.MC</strong>, <strong>.BX</strong>, <strong>.KS</strong>, <strong>.KE</strong>, <strong>.KF</strong>). The <strong>.R</strong>, <strong>.RS</strong>, and <strong>.RE</strong> macros are ignored as well.</p>
<h3>Me Translation</h3>
<p>Translation of me documents tends to produce crude results that need a lot of hand-hacking. The format has little usable structure, and documents written in it tend to use a lot of low-level troff macros; both these properties tend to confuse <strong>doclifter</strong>.</p><p>For a document to be recognized as containing me markup, it must have the extension .me. This avoids problems with false positives.</p><p>The following macros are translated into paragraph breaks: <strong>.lp</strong>, <strong>.pp</strong>. The <strong>.ip</strong> macro is translated into a VariableList. The <strong>.bp</strong> macro is translated into an ItemizedList. The <strong>.np</strong> macro is translated into an OrderedList.</p><p>The b, i, and r fonts are mapped to emphasis tags with B, I, and R Remap attributes. The <strong>.rb</strong> ("real bold") font is treated the same as <strong>.b</strong>.</p><p><strong>.q(</strong>/<strong>.q)</strong> is translated structurally .</p><p>Most other requests are ignored.</p>
<h3>Mm Translation</h3>
<p>Memorandum Macros documents translate well, as these macros carry a lot of structural information. The translation rules are tuned for Memorandum or Released Paper styles; information associated with external-letter style will be preserved in comments.</p><p>For a document to be recognized as containing mm markup, it must have the extension .mm. This avoids problems with false positives.</p><p>The following highlight macros are translated int Emphasis tags: <strong>.B</strong>, <strong>.I</strong>, <strong>.R</strong>, <strong>.BI</strong>, <strong>.BR</strong>, <strong>.IB</strong>, <strong>.IR</strong>, <strong>.RB</strong>, <strong>.RI</strong>.</p><p>The following macros are structurally translated: <strong>.AE</strong>, <strong>.AF</strong>, <strong>.AL</strong>, <strong>.RL</strong>, <strong>.APP</strong>, <strong>.APPSK</strong>, <strong>.AS</strong>, <strong>.AT</strong>, <strong>.AU</strong>, <strong>.B1</strong>, <strong>.B2</strong>, <strong>.BE</strong>, <strong>.BL</strong>, <strong>.ML</strong>, <strong>.BS</strong>, <strong>.BVL</strong>, <strong>.VL</strong>, <strong>.DE</strong>, <strong>.DL</strong> <strong>.DS</strong>, <strong>.FE</strong>, <strong>.FS</strong>, <strong>.H</strong>, <strong>.HU</strong>, <strong>.IA</strong>, <strong>.IE</strong>, <strong>.IND</strong>, <strong>.LB</strong>, <strong>.LC</strong>, <strong>.LE</strong>, <strong>.LI</strong>, <strong>.P</strong>, <strong>.RF</strong>, <strong>.SM</strong>, <strong>.TL</strong>, <strong>.VERBOFF</strong>, <strong>.VERBON</strong>, <strong>.WA</strong>, <strong>.WE</strong>.</p><p>The following macros are ignored:</p><p>&nbsp;<strong>.)E</strong>, <strong>.1C</strong>, <strong>.2C</strong>, <strong>.AST</strong>, <strong>.AV</strong>, <strong>.AVL</strong>, <strong>.COVER</strong>, <strong>.COVEND</strong>, <strong>.EF</strong>, <strong>.EH</strong>, <strong>.EDP</strong>, <strong>.EPIC</strong>, <strong>.FC</strong>, <strong>.FD</strong>, <strong>.HC</strong>, <strong>.HM</strong>, <strong>.GETR</strong>, <strong>.GETST</strong>, <strong>.HM</strong>, <strong>.INITI</strong>, <strong>.INITR</strong>, <strong>.INDP</strong>, <strong>.ISODATE</strong>, <strong>.MT</strong>, <strong>.NS</strong>, <strong>.ND</strong>, <strong>.OF</strong>, <strong>.OH</strong>, <strong>.OP</strong>, <strong>.PGFORM</strong>, <strong>.PGNH</strong>, <strong>.PE</strong>, <strong>.PF</strong>, <strong>.PH</strong>, <strong>.RP</strong>, <strong>.S</strong>, <strong>.SA</strong>, <strong>.SP</strong>, <strong>.SG</strong>, <strong>.SK</strong>, <strong>.TAB</strong>, <strong>.TB</strong>, <strong>.TC</strong>, <strong>.VM</strong>, <strong>.WC</strong>.</p><p>The following macros generate warnings: <strong>.EC</strong>, <strong>.EX</strong>, <strong>.FG</strong>, <strong>.GETHN</strong>, <strong>.GETPN</strong>, <strong>.GETR</strong>, <strong>.GETST</strong>, <strong>.LT</strong>, <strong>.LD</strong>, <strong>.LO</strong>, <strong>.MOVE</strong>, <strong>.MULB</strong>, <strong>.MULN</strong>, <strong>.MULE</strong>, <strong>.NCOL</strong>, <strong>.nP</strong>, <strong>.PIC</strong>, <strong>.RD</strong>, <strong>.RS</strong>, <strong>.RE</strong>, <strong>.SETR</strong></p><p>&nbsp;<strong>.BS</strong>/<strong>.BE</strong> and <strong>.IA</strong>/<strong>.IE</strong> pairs are passed through. The text inside them may need to be deleted or moved.</p><p>The mark argument of <strong>.ML</strong> is ignored; the following list id formatted as a normal ItemizedList.</p><p>The contents of <strong>.DS</strong>/<strong>.DE</strong> or <strong>.DF</strong>/<strong>.DE</strong> gets turned into a Screen display. Arguments controlling presentation-level formatting are ignored.</p>
<h3>Mwww Translation</h3>
<p>The mwww macros are an extension to the man macros supported by <strong>groff</strong>(1) for producing web pages.</p><p>The <strong>URL</strong>, <strong>FTP</strong>, <strong>MAILTO</strong>, <strong>FTP</strong>, <strong>IMAGE</strong>, <strong>TAG</strong> tags are translated structurally. The <strong>HTMLINDEX</strong>, <strong>BODYCOLOR</strong>, <strong>BACKGROUND</strong>, <strong>HTML</strong>, and <strong>LINE</strong> tags are ignored.</p>
<h3>TBL Translation</h3>
<p>All structural features of TBL tables are translated, including both horizontal and vertical spanning with \(oqs\(cq and \(oq^\(cq. The \(oql\(cq, \(oqr\(cq, and \(oqc\(cq formats are supported; the \(oqn\(cq column format is rendered as \(oqr\(cq. Line continuations with T{ and T} are handled correctly. So is <strong>.TH</strong>.</p><p>The <strong>expand</strong>, <strong>box</strong>, <strong>doublebox</strong>, <strong>allbox</strong>, <strong>center</strong>, <strong>left</strong>, and <strong>right</strong> options are supported. The GNU synonyms <strong>frame</strong> and <strong>doubleframe</strong> are also recognized. But the distinction between single and double rules and boxes is lost.</p><p>Table continuations (.T&) are not supported.</p><p>If the first nonempty line of text immediately before a table is boldfaced, it is interpreted as a title for the table and the table is generated using a table and title. Otherwise the table is translated with informaltable.</p><p>Most other presentation-level TBL commands are ignored. The \(oqb\(cq format qualifier is processed, but point size and width qualifiers are not.</p>
<h3>Pic Translation</h3>
<p>PIC sections are translated to SVG. doclifter calls out to <a href="../man1/pic2plot.1.html"><strong>pic2plot</strong>(1)</a> to accomplish this; you must have that utility installed for PIC translation to work.</p>
<h3>Eqn Translation</h3>
<p>EQN sections are filtered into embedded MathML with <strong>eqn -TMathML</strong> if possible, otherwise passed through enclosed in LiteralLayout tags. After a delim statement has been seen, inline eqn delimiters are translated into an XML processing instruction. Exception: inline eqn equations consisting of a single character are translated to an Emphasis with a Role attribute of eqn.</p>
<h3>Troff Translation</h3>
<p>The troff translation is meant only to support interpretation of the macro sets. It is not useful standalone.</p><p>The <strong>.nf</strong> and <strong>.fi</strong> macros are interpreted as literal-layout boundaries. Calls to the <strong>.so</strong> macro either cause inclusion or are translated into XML entity inclusions (see above). Calls to the <strong>.ul</strong> and <strong>.cu</strong> macros cause following lines to be wrapped in an Emphasis tag with a Remap attribute of "U". Calls to <strong>.ft</strong> generate corresponding start or end emphasis tags. Calls to <strong>.tr</strong> cause character translation on output. Calls to <strong>.bp</strong> generate a BeginPage tag (in paragraphed text only). Calls to <strong>.sp</strong> generate a paragraph break (in paragraphed text only). Calls to <strong>.ti</strong> wrap the following line in a BlockQuote These are the only troff requests we translate to DocBook. The rest of the troff emulation exists because macro packages use it internally to expand macros into elements that might be structural.</p><p>Requests relating to macro definitions and strings (<strong>.ds</strong>, <strong>.as</strong>, <strong>.de</strong>, <strong>.am</strong>, <strong>.rm</strong>, <strong>.rn</strong>, <strong>.em</strong>) are processed and expanded. The <strong>.ig</strong> macro is also processed.</p><p>Conditional macros (<strong>.if</strong>, <strong>.ie</strong>, <strong>.el</strong>) are handled. The built-in conditions o, n, t, e, and c are evaluated as if for nroff on page one of a document. The m, d, and r troff conditionals are also interpreted. String comparisons are evaluated by straight textual comparison. All numeric expressions evaluate to true.</p><p>The extended groff requests <strong>cc</strong>, <strong>c2</strong>, <strong>ab</strong>, <strong>als</strong>, <strong>do</strong>, <strong>nop</strong>, and <strong>return</strong> and <strong>shift</strong> are interpreted. Its <strong>.PSPIC</strong> extension is translated into a MediaObject.</p><p>The <strong>.tm</strong> macro writes its arguments to standard error (with <strong>-t</strong>). The <strong>.pm</strong> macro reports on defined macros and strings. These facilities may aid in debugging your translation.</p><p>Some troff escape sequences are lifted:</p><p>The &#92;e and &#92;&#92; escapes become a bare backslash, &#92;. a period, and &#92;- a bare dash.</p><p>The troff escapes &#92;^, &#92;`, &#92;&apos; &#92;&, &#92;0, and &#92;| are lifted to equivalent ISO special spacing characters.</p><p>A &#92; followed by space is translated to an ISO non-breaking space entity.</p><p>A &#92;~ is also translated to an ISO non-breaking space entity; properly this should be a space that can&apos;t be used for a linebreak but stretches like ordinary whitepace during line adjustment, but there is no ISO or Unicode entity for that.</p><p>The &#92;u and &#92;d half-line motion vertical motion escapes, when paired, become <strong>Superscript</strong> or <strong>Subscript</strong> tags.</p><p>The &#92;c escape is handled as a line continuation. in circumstances where that matters (e.g. for token-pasting).</p><p>The &#92;f escape for font changes is translated in various context-dependent ways. First, <strong>doclifter</strong> looks for cliches involving font changes that have semantic meaning, and lifts to a structural tag. If it can&apos;t do that, it generates an Emphasis tag.</p><p>The &#92;m[] extension is translated into a phrase span with a remap attribute carrying the color. Note: Stylesheets typically won&apos;t render this!</p><p>Some uses of the &#92;o request are translated: pairs with a letter followed by one of the characters ` &apos; : ^ o ~ are translated to combining forms with diacriticals acute, grave, umlaut, circumflex, ring, and tilde respectively if the corresponding Latin-1 or Latin-2 character exists as an ISO literal.</p><p>Other escapes than these will yield warnings or errors.</p><p>All other troff requests are ignored but passed through into XML comments. A few (such as <strong>.ce</strong>) also trigger a warning message.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PORTABILITY CHECKING</h2>
        <div class="sectioncontent">
<p>When portability checking is enabled, <strong>doclifter</strong> emits portability warnings about markup which it can handle but which will break various other viewers and interpreters.</p><p>At level 1, it will warn about constructions that would break <a href="../man1/man2html.1.html"><strong>man2html</strong>(1)</a>, (the C program distributed with Linux <a href="../man1/man.1.html"><strong>man</strong>(1)</a>, not the older and much less capable Perl script). A close derivative of this code is used in GNOME yelp. This should be the minimum level of portability you aim for, and corresponds to what is recommended on the <strong>groff_man</strong>(7) manual page.</p><p>At level 2, it will warn about constructions that will break portability back to the Unix classic tools (including long macro names and glyph references with &#92;[]).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEMANTIC ANALYSIS</h2>
        <div class="sectioncontent">
<p><strong>doclifter</strong> keeps two lists of semantic hints that it picks up from analyzing source documents (especially from parsing command and function synopses). The local list includes:</p><p>Names of function formal arguments</p><p>Names of command options</p><p>Local hints are used to mark up the individual page from which they are gathered. The global list includes:</p><p>Names of functions</p><p>Names of commands</p><p>Names of function return types</p><p>If <strong>doclifter</strong> is applied to multiple files, the global list is retained in memory. You can dump a report of global hints at the end of the run with the <strong>-h</strong> option. The format of the hints is as follows:</p>
<pre>
&nbsp;.&#92;" | mark &lt;phrase&gt; as &lt;markup&gt;
</pre>
<p>where <strong>&lt;phrase&gt;</strong> is an item of text and <strong>&lt;markup&gt;</strong> is the DocBook markup text it should be wrapped with whenever it appeared either highlighted or as a word surrounded by whitespace in the source text.</p><p>Hints derived from earlier files are also applied to later ones. This behavior may be useful when lifting collections of documents that apply to a function or command library. What should be more useful is the fact that a hints file dumped with <strong>-h</strong> can be one of the file arguments to <strong>doclifter</strong>; the code detects this special case and does not write XML output for such a file. Thus, a good procedure for lifting a large library is to generate a hints file with a first run, inspect it to delete false positives, and use it as the first input to a second run.</p><p>It is also possible to include a hints file directly in a troff sourcefile. This may be useful if you want to enrich the file by stages before converting to XML.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TROUBLESHOOTING</h2>
        <div class="sectioncontent">
<p><strong>doclifter</strong> tries to warn about problems that it can can diagnose but not fix by itself. When it says "look for FIXME", do that in the generated XML; the markup around that token may be wrong.</p><p>Occasionally (less than 2% of the time) <strong>doclifter</strong> will produce invalid DocBook markup even from correct troff markup. Usually this results from strange constructions in the source page, or macro calls that are beyond the ability of <strong>doclifter</strong>&apos;s macro processor to get right. Here are some things to watch for, and how to fix them:</p><h3>Malformed command synopses.</h3>
<p>If you get a message that says "command synopsis parse failed", try rewriting the synopsis in your manual page source. The most common cause of failure is unbalanced [] groupings, a bug that can be very difficult to notice by eyeball. To assist with this, the error message includes a token number in parentheses indicating on which token the parse failed.</p><p>For more information, use the -v option. This will trigger a dump telling you what the command synopsis looked like after preprocessing, and indicate on which token the parse failed (both with a token number and a caret sign inserted in the dump of the synopsis tokens). Try rewriting the synopsis in your manual page source. The most common cause of failure is unbalanced [] groupings, a bug that can be very difficult to notice by eyeball. To assist with this, the error token dump tries to insert \(oq$\(cq at the point of the last nesting-depth increase, but the code that does this is failure-prone.</p>
<h3>Confusing macro calls.</h3>
<p>Some manual page authors replace standard requests (like <strong>.PP</strong>, <strong>.SH</strong> and <strong>.TP</strong>) with versions that do different things in <strong>nroff</strong> and <strong>troff</strong> environments. While <strong>doclifter</strong> tries to cope and usually does a good job, the quirks of [nt]roff are legion and confusing macro calls sometimes lead to bad XML being generated. A common symptom of such problems is unclosed Emphasis tags.</p>
<h3>Malformed list syntax.</h3>
<p>The manual-page parser can be confused by <strong>.TP</strong> constructs that have header tags but no following body. If the XML produced doesn&apos;t validate, and the problem seems to be a misplaced listitem tag, try using the verbose (-v) option. This will enable line-numbered warnings that may help you zero in on the problem.</p>
<h3>Section nesting problems with SS.</h3>
<p>The message "possible section nesting error" means that the program has seen two adjacent subsection headers. In man pages, subsections don&apos;t have a depth argument, so <strong>doclifter</strong> cannot be certain how subsections should be nested. Any subsection heading between the indicated line and the beginning of the next top-level section might be wrong and require correcting by hand.</p>
<h3>Bad output with no doclifter error message</h3>
<p>If you&apos;re translating a page that uses user-defined macros, and doclifter fails to complain about it but you get bad output, the first thing to do is simplify or eliminate the user-defined macros. Replace them with stock requests where possible.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPROVING TRANSLATION QUALITY</h2>
        <div class="sectioncontent">
<p>There are a few constructions that are a good idea to check by hand after lifting a page.</p><p>Look near the BlockQuote tags. The troff temporary indent request (<strong>.ti</strong>) is translated into a BlockQuote wrapper around the following line. Sometimes LiteralLayout or ProgramListing would be a better translation, but <strong>doclifter</strong> has no way to know this.</p><p>It is not possible to unambiguously detect candidates for wrapping in a DocBook option tag in running text. If you care, you&apos;ll have to check for these and fix them by hand.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS AND LIMITATIONS</h2>
        <div class="sectioncontent">
<p>About 3% of man pages will either make this program throw error status 1 or generate invalid XML. In almost all such cases the misbehavior is triggered by markup bugs in the source that are too severe to be coped with.</p><p>Equation number arguments of EQN calls are ignored.</p><p>The function-synopsis parser is crude (it&apos;s not a compiler) and prone to errors. Function-synopsis markup should be checked carefully by a human.</p><p>If a man page has both paragraphed text in a Synopsis section and also a body section before the Synopis section, bad things will happen.</p><p>Running text (e.g., explanatory notes) at the end of a Synopsis section cannot reliably be distinguished from synopsis-syntax markup. (This problem is AI-complete.)</p><p>Some firewalls put in to cope with common malformations in troff code mean that the tail end of a span between two <strong>&#92;f{B,I,U,(CW}</strong> or <strong>.ft</strong> highlight changes may not be completely covered by corresponding Emphasis macros if (for example) the span crosses a boundary between filled and unfilled (<strong>.nf</strong>/<strong>.fi</strong>) text.</p><p>The treatment of conditionals relies on the assumption that conditional macros never generate structural or font-highlight markup that differs between the if and else branches. This appears to be true of all the standard macro packages, but if you roll any of your own macros you&apos;re on your own.</p><p>Macro definitions in a manual page NAME section are not interpreted.</p><p>Uses of &#92;c for line continuation sometimes are not translated, leaving the &#92;c in the output XML. The program will print a warning when this occurs.</p><p>It is not possible to unambiguously detect candidates for wrapping in a DocBook option tag in running text. If you care, you&apos;ll have to check for these and fix them by hand.</p><p>The line numbers in <strong>doclifter</strong> error messages are unreliable in the presence of <strong>.EQ/.EN</strong>, <strong>.PS/.PE</strong>, and quantum fluctuations.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OLD MACRO SETS</h2>
        <div class="sectioncontent">
<p>There is a conflict between Berkeley ms&apos;s documented <strong>.P1</strong> print-header-on-page request and an undocumented Bell Labs use for displayed program and equation listings. The <strong>ms</strong> translator uses the Bell Labs interpretation when <strong>.P2</strong> is present in the document, and otherwise ignores the request.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUES</h2>
        <div class="sectioncontent">
<p>On successful completion, the program returns status 0. It returns 1 if some file or standard input could not be translated. It returns 2 if one of the input sources was a <strong>.so</strong> inclusion. It returns 3 if there is an error in reading or writing files. It returns 4 to indicate an internal error. It returns 5 when aborted by a keyboard interrupt.</p><p>Note that a zero return does not guarantee that the output is valid DocBook. It will almost always (as in, more than 98% of cases) be syntactically valid XML, but in some rare cases fixups by hand may be necessary to meet the semantics of the DocBook DTD. Validation problems are most likely to occur with complicated list markup.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REQUIREMENTS</h2>
        <div class="sectioncontent">
<p>The <a href="../man1/pic2plot.1.html"><strong>pic2plot</strong>(1)</a> utility must be installed in order to translate PIC diagrams to SVG.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO doclifter&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/man.7.html"><strong>man</strong>(7)</a>, <strong>mdoc</strong>(7), <strong>ms</strong>(7), <strong>me</strong>(7), <strong>mm</strong>(7), <strong>mwww</strong>(7), <strong>troff</strong>(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Eric S. Raymond esr@thyrsus.com</p><p>There is a project web page at \m[blue]<strong>http://www.catb.org/~esr/doclifter/</strong>\m[].</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="docky.1.html"><span aria-hidden="true">&larr;</span> docky.1: A full fledged dock application that makes opening common applications and managing windows easier and quicker. docky is fully integrated into the gnome desktop and features a no non-sense approach to configuration and usage. it just works.</a></li>
   <li class="next"><a href="doconce.1.html">doconce.1: Run a doconce command <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
