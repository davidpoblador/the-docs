<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pymvpa2-preproc: Apply preprocessing steps to a pymvpa dataset</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Apply preprocessing steps to a pymvpa dataset">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pymvpa2-preproc (1) manual">
  <meta name="twitter:description" content="Apply preprocessing steps to a pymvpa dataset">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-mvpa2-pymvpa2-preproc-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pymvpa2-preproc.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pymvpa2-preproc (1) manual" />
  <meta property="og:description" content="Apply preprocessing steps to a pymvpa dataset" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-mvpa2-pymvpa2-preproc-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pymvpa2-preproc<small> (1)</small></h1>
        <p class="lead">Apply preprocessing steps to a pymvpa dataset</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pymvpa2-preproc.1.html">
      <span itemprop="name">pymvpa2-preproc: Apply preprocessing steps to a pymvpa dataset</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-mvpa2/">
      <span itemprop="name">python-mvpa2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pymvpa2-preproc.1.html">
      <span itemprop="name">pymvpa2-preproc: Apply preprocessing steps to a pymvpa dataset</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pymvpa2</strong> <em>\,preproc \/</em>[<em>\,--version\/</em>] [<em>\,-h\/</em>] <em>\,-i DATASET \/</em>[<em>\,DATASET \/</em>...] [<em>\,--chunks CHUNKS_ATTR\/</em>] [<em>\,--strip-invariant-features\/</em>] [<em>\,--poly-detrend DEG\/</em>] [<em>\,--detrend-chunks CHUNKS_ATTR\/</em>] [<em>\,--detrend-coords COORDS_ATTR\/</em>] [<em>\,--detrend-regrs ATTR \/</em>[<em>\,ATTR \/</em>...]] [<em>\,--filter-passband FREQ \/</em>[<em>\,FREQ \/</em>...]] [<em>\,--filter-stopband FREQ \/</em>[<em>\,FREQ \/</em>...]] [<em>\,--sampling-rate FREQ\/</em>] [<em>\,--filter-passloss dB\/</em>] [<em>\,--filter-stopattenuation dB\/</em>] [<em>\,--zscore\/</em>] [<em>\,--zscore-chunks CHUNKS_ATTR\/</em>] [<em>\,--zscore-params PARAM PARAM\/</em>] <em>\,-o OUTPUT \/</em>[<em>\,--hdf5-compression TYPE\/</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Preprocess a PyMVPA dataset.</p><p>This command can apply a number of preprocessing steps to a dataset. Currently supported are</p><p>1. Polynomial de-trending</p><p>2. Spectral filtering</p><p>3. Feature-wise Z-scoring</p><p>All preprocessing steps are applied in the above order. If a different order is required, preprocessing has to be split into two separate command calls.</p><p>POLYNOMIAL DE-TRENDING</p><p>This type of de-trending can be used to regress out arbitrary signals. In addition to polynomials of any degree arbitrary timecourses stored as sample attributes in a dataset can be used as confound regressors. This detrending functionality is, in contrast to the implementation of spectral filtering, also applicable to sparse-sampled data with potentially irregular inter-sample intervals.</p><p>SPECTRAL FILTERING</p><p>Several option are provided that are used to construct a Butterworth low-, high-, or band-pass filter. It is advised to inspect the filtered data carefully as inappropriate filter settings can lead to unintented side-effect. Only dataset with a fixed sampling rate are supported. The sampling rate must be provided.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version and license information and exit</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong>, <strong>--help-np</strong></p>
  </dt>
  <dd>
    <p>show this help message and exit. <strong>--help-np</strong> forcefully disables the use of a pager for displaying the help.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> DATASET [DATASET ...], <strong>--input</strong> DATASET [DATASET ...]</p>
  </dt>
  <dd>
    <p>path(s) to one or more PyMVPA dataset files. All datasets will be merged into a single dataset (vstack'ed) in order of specification. In some cases this option may need to be specified more than once if multiple, but separate, input datasets are required.</p>
  </dd>

</dl>
<h3>Common options for all preprocessing:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--chunks</strong> CHUNKS_ATTR</p>
  </dt>
  <dd>
    <p>shortcut option to enabled uniform chunkwise processing for all relevant preprocessing steps (see <strong>--zscore-chunks</strong>, <strong>--detrend-chunks</strong>). This global setting can be overwritten by additionally specifying the corresponding individual "chunk" options.</p>
  </dd>
  <dt>
    <p><strong>--strip-invariant-features</strong></p>
  </dt>
  <dd>
    <p>After all pre-processing steps are done, strip all invariant features from the dataset.</p>
  </dd>

</dl>

<h3>Options for data detrending:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--poly-detrend</strong> DEG</p>
  </dt>
  <dd>
    <p>Order of the Legendre polynomial to remove from the data. This will remove every polynomial up to and including the provided value. For example, 3 will remove 0th, 1st, 2nd, and 3rd order polynomials from the data. np.B.: The 0th polynomial is the baseline shift, the 1st is the linear trend. If you specify a single int and the `chunks_attr` parameter is not None, then this value is used for each chunk. You can also specify a different polyord value for each chunk by providing a list or ndarray of polyord values with the length equal to the number of chunks. Constraints: value must be convertible to type 'int'. [Default: 1]</p>
  </dd>
  <dt>
    <p><strong>--detrend-chunks</strong> CHUNKS_ATTR</p>
  </dt>
  <dd>
    <p>If None, the whole dataset is detrended at once. Otherwise, the given samples attribute (given by its name) is used to define chunks of the dataset that are processed individually. In that case, all the samples within a chunk should be in contiguous order and the chunks should be sorted in order from low to high <strong>--</strong> unless the dataset provides information about the coordinate of each sample in the space that should be spanned be the polynomials (see `space` argument). Constraints: value must be `None`, or value must be a string. [Default: None]</p>
  </dd>
  <dt>
    <p><strong>--detrend-coords</strong> COORDS_ATTR</p>
  </dt>
  <dd>
    <p>name of a samples attribute that is added to the preprocessed dataset storing the coordinates of each sample in the space spanned by the polynomials. If an attribute of such name is already present in the dataset its values are interpreted as sample coordinates in the space spanned by the polynomials. This can be used to detrend datasets with irregular sample spacing.</p>
  </dd>
  <dt>
    <p><strong>--detrend-regrs</strong> ATTR [ATTR ...]</p>
  </dt>
  <dd>
    <p>List of sample attribute names that should be used as additional regressors. An example use would be to regress out motion parameters. Constraints: value must be `None`, or value must be convertible to list(str). [Default: None]</p>
  </dd>

</dl>

<h3>Options for spectral filtering:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--filter-passband</strong> FREQ [FREQ ...]</p>
  </dt>
  <dd>
    <p>critical frequencies of a Butterworth filter's pass band. Critical frequencies need to match the unit of the specified sampling rate (see: <strong>--sampling-rate</strong>). In case of a band pass filter low and high frequency cutoffs need to be specified (in this order). For low and high-pass filters is single cutoff frequency must be provided. The type of filter (low/high-pass) is determined from the relation to the stop band frequency (<strong>--filter-stopband</strong>).</p>
  </dd>
  <dt>
    <p><strong>--filter-stopband</strong> FREQ [FREQ ...]</p>
  </dt>
  <dd>
    <p>Analog setting to <strong>--filter-passband</strong> for specifying the filter's stop band.</p>
  </dd>
  <dt>
    <p><strong>--sampling-rate</strong> FREQ</p>
  </dt>
  <dd>
    <p>sampling rate of the dataset. All frequency specifications need to match the unit of the sampling rate.</p>
  </dd>
  <dt>
    <p><strong>--filter-passloss</strong> dB</p>
  </dt>
  <dd>
    <p>maximum loss in the passband (dB). Default: 1 dB</p>
  </dd>
  <dt>
    <p><strong>--filter-stopattenuation</strong> dB</p>
  </dt>
  <dd>
    <p>minimum attenuation in the stopband (dB). Default: 30 dB</p>
  </dd>

</dl>

<h3>Options for data normalization:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--zscore</strong></p>
  </dt>
  <dd>
    <p>perform feature normalization by Z-scoring.</p>
  </dd>
  <dt>
    <p><strong>--zscore-chunks</strong> CHUNKS_ATTR</p>
  </dt>
  <dd>
    <p>name of a dataset sample attribute defining chunks of samples that shall be Z-scored independently. By default no chunk-wise normalization is done.</p>
  </dd>
  <dt>
    <p><strong>--zscore-params</strong> PARAM PARAM</p>
  </dt>
  <dd>
    <p>define a fixed parameter set (mean, std) for Z-scoring, instead of computing from actual data.</p>
  </dd>

</dl>

<h3>Output options:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-o</strong> OUTPUT, <strong>--output</strong> OUTPUT</p>
  </dt>
  <dd>
    <p>output filename ('.hdf5' extension is added automatically if necessary). NOTE: The output format is suitable for data exchange between PyMVPA commands, but is not recommended for long-term storage or exchange as its specific content may vary depending on the actual software environment. For long-term storage consider conversion into other data formats (see 'dump' command).</p>
  </dd>
  <dt>
    <p><strong>--hdf5-compression</strong> TYPE</p>
  </dt>
  <dd>
    <p>compression type for HDF5 storage. Available values depend on the specific HDF5 installation. Typical values are: 'gzip', 'lzf', 'szip', or integers from 1 to 9 indicating gzip compression levels.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Normalize all features in a dataset by Z-scoring</p><ul>
<li><p>$ pymvpa2 preproc --zscore -o ds_preprocessed -i dataset.hdf5</p></li>
</ul><p>Perform Z-scoring and quadratic detrending of all features, but process all samples sharing a unique value of the "chunks" sample attribute individually</p><ul>
<li><p>$ pymvpa2 preproc --chunks "chunks" --poly-detrend 2 --zscore -o ds_pp2 -i ds.hdf5</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Michael Hanke & Yaroslav Halchenko, and numerous other contributors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2006-2014 PyMVPA developers</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pymvpa2-prep-fmri.1.html"><span aria-hidden="true">&larr;</span> pymvpa2-prep-fmri.1: Preprocess fmri data for pymvpa</a></li>
   <li class="next"><a href="pymvpa2-searchlight.1.html">pymvpa2-searchlight.1: Traveling roi analysis <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
