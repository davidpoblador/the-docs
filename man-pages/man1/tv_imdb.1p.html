<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>tv_imdb: Augment xmltv listings files with imdb.com data.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Augment xmltv listings files with imdb.com data.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="tv_imdb (1p) manual">
  <meta name="twitter:description" content="Augment xmltv listings files with imdb.com data.">
  <meta name="twitter:image" content="https://www.carta.tech/images/xmltv-util-tv_imdb-1p.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1p/tv_imdb.1p.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="tv_imdb (1p) manual" />
  <meta property="og:description" content="Augment xmltv listings files with imdb.com data." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/xmltv-util-tv_imdb-1p.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">tv_imdb<small> (1p)</small></h1>
        <p class="lead">Augment xmltv listings files with imdb.com data.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/tv_imdb.1p.html">
      <span itemprop="name">tv_imdb: Augment xmltv listings files with imdb.com data.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/xmltv-util/">
      <span itemprop="name">xmltv-util</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/tv_imdb.1p.html">
      <span itemprop="name">tv_imdb: Augment xmltv listings files with imdb.com data.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>tv_imdb --imdbdir &lt;dir&gt; [--help] [--quiet] [--download]</p>
<pre>
       [--prepStage (1-7,all)]
</pre>
<p>tv_imdb --imdbdir &lt;dir&gt; [--help] [--quiet]</p>
<pre>
       [--movies-only][--stats][--output \s-1FILE\s0] [\s-1FILE\s0...]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Very similar to tv_cat in symantics (see tv_cat) except whenever a programme appears with \*(L"date\*(R" entry the title and date are used to look up extra data by using the \s-1XMLTV::IMDB\s0 package.</p><p><strong>--output \s-1FILE\s0</strong> write to \s-1FILE\s0 rather than standard output</p><p><strong>--quiet</strong> disable all status messages (that normally appear on stderr).</p><p><strong>--download</strong> try to download data files if they are missing (in --prepStage).</p><p><strong>--stats</strong> force output of grab stats (stats output disabled in --quiet mode).</p><p><strong>--movies-only</strong> only augment programs that look like movie listings (4 digit 'date' field).</p><p>All programs are checked against imdb.com data (unless --movies-only is used).</p><p>For the purposes of tv_imdb, an \*(L"exact\*(R" match is defined as a case insensitive match gainst imdb.com data (which may or may not include the transformation of '&' to 'and' and vise-versa.</p><p>If the program includes a 4 digit 'date' field the following is matches are attempted, the first succeeding match is used:</p><p><strong>1.</strong> an \*(L"exact\*(R" title/year match against movie titles is done</p><p><strong>2.</strong> an \*(L"exact\*(R" title match against tv series (and tv mini series)</p><p><strong>3.</strong> an \*(L"exact\*(R" title match against movie titles with production dates</p><p>within 2 years of the 'date' value.</p><p>Unless --movies-only is used, if the program does not include a 4 digit 'date' field the following matches are attempted, the first succeeding match is used:</p><p><strong>1.</strong> an \*(L"exact\*(R" title match against tv series (and tv mini series)</p><p>When a match is found in the imdb.com data the following is applied:</p><p><strong>1.</strong> the 'title' field is set to match exactly the title from the imdb.com data. This includes modification of the case to match and any transformations mentioned above.</p><p><strong>2.</strong> if the match is a movie, the 'date' field is set to imdb.com 4 digit year of production.</p><p><strong>3.</strong> the type of match found (Movie, \s-1TV\s0 Movie, Video Movie, \s-1TV\s0 Series, or \s-1TV\s0 Mini Series) is placed in the 'categories' field.</p><p><strong>4.</strong> the url to the www.imdb.com page is added</p><p><strong>5.</strong> the director is added if the match was a movie or if only one director is listed in the imdb.com data (because some tv series have &gt; 30 directors)</p><p><strong>6.</strong> the top 3 billing actors are added.</p><p><strong>7.</strong> genres added to 'categories' field (current list of genres are Short, Drama, Comedy, Documentary, Animation, Adult, Action, Family, Romance, Crime, Thriller, Musical, Adventure, Western, Horror, Sci-Fi, Fantasy, Mystery, War, Film-Noir, Music</p><p><strong>8.</strong> imdb user ratings added to 'star-ratings' field.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOWTO In order to use tv_imdb, you need:</h2>
        <div class="sectioncontent">
<p><strong>1.</strong> choose a directory location to use for the tv_imdb database (you'll need about 1/2 \s-1GB\s0 of free space),</p><p><strong>2a.</strong> run 'tv_imdb --imdbdir &lt;dir&gt; --prepStage all --download' to download the list files from imdb.com.  Or,</p><p><strong>2b</strong> If you have a slow network connection you may prefer to omit the '--download' flag and be prompted for what you need to download by hand.  See &lt;http://www.imdb.com/interfaces&gt; for the download sites. Then once you have the files rerun without '--download'.</p><p>Note: '--prepStage' sucks a bit of memeory, but you can run each prepStage separately by running --prepStage with each of the stages (see --help for details).</p><p><strong>3.</strong> Once you have the database loaded try 'cat tv.xml | tv_imdb --imdbdir &lt;dir&gt; &gt; tv1.xml'.</p><p>Feel free to report any problems with these steps to xmltv-devel@lists.sf.net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The '--prepStage' needs a lot of memory to run at a reasonable speed, over 200 megabytes with the current imdb data files.  For there to be 200 megabytes free for tv_imdb, the system will need at least 256 megabytes of \s-1RAM\s0.  Running with less can take hours (or days!) - although fortunately this stage needs to be run only once after downloading the data files.</p><p>Could use a --configure step just like the grabbers so you do not have to specify the --imdbdir on the command line every time. Also this could step you through the prep stages with more description of what is being done and what is required. Configure could also control the number of actors to add (since some movies have an awful lot), currently we are adding the top 3.</p><p>How and what to look up needs to be option driven.</p><p>Needs some more controls for fine tuning \*(L"close\*(R" matches. For instance, currently it looks like the North America grabber only has date entries for movies, but the imdb.com data contains made for video movies as well as as real movies, ot is it's possible to get the wrong data to be inserted. In this case we may want to say \*(L"ignore tv series\*(R" and \*(L"ignore tv mini series\*(R".  Along with this, we'd want to define what a \*(L"close\*(R" match is. For instance does a movie by the same title with a date out by 1 year or 2 years considered a match (currently we're using 2).</p><p>Nice to haves include: verification/addition of programe \s-1MPAA/VCHIP\s0 ratings, addition of imdb.com user ratings (by votes) to programes. Potenially we could expand to include \*(L"country of origin\*(R", \*(L"description\*(R", \*(L"writer\*(R" and \*(L"producer\*(R" credits, maybe even \*(L"commentator\*(R".</p><p>Heh, if the \s-1XMLTV\s0.dtd supported it, we could even include urls to head shots of the actors :)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO tv_imdb&hellip;</h2>
        <div class="sectioncontent">
<p><em>xmltv</em>\|(5)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jerry Veldhuis, jerry@matilda.com</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="tv_grep.1p.html"><span aria-hidden="true">&larr;</span> tv_grep.1p: Filter programmes and channels from an xmltv listings file.</a></li>
   <li class="next"><a href="tv_remove_some_overlapping.1p.html">tv_remove_some_overlapping.1p: Remove some overlapping programmes from xmltv data. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
