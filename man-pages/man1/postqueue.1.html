<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>postqueue - Postfix queue control</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Postfix queue control">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">postqueue<small> (1)</small></h1>
        <p class="lead">Postfix queue control</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="/"><span itemprop="title">Carta.tech</span></a>
	</li>
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">man-pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man1/"><span itemprop="title">Executable programs or shell commands</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man1/postqueue.1.html"><span itemprop="title">postqueue</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre><strong>postqueue</strong> [<strong>-v</strong>] [<strong>-c <em>config_dir</em>] -f</strong>

<strong>postqueue</strong> [<strong>-v</strong>] [-c <em>config_dir</em>] -i <em>queue_id</em>

<strong>postqueue</strong> [<strong>-v</strong>] [<strong>-c <em>config_dir</em>] -p</strong>

<strong>postqueue</strong> [<strong>-v</strong>] [-c <em>config_dir</em>] -s <em>site</em></pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>The <a href="../man1/postqueue.1.html"><strong>postqueue</strong>(1)</a> command implements the Postfix user interface for queue management. It implements operations that are traditionally available via the <a href="../man1/sendmail.1.html"><strong>sendmail</strong>(1)</a> command. See the <a href="../man1/postsuper.1.html"><strong>postsuper</strong>(1)</a> command for queue operations that require super-user privileges such as deleting a message from the queue or changing the status of a message.</p>
<p class='spacer'>

  <p>The following options are recognized:</p>
  <dl class='dl-horizontal'>
    <dt>-c <em>config_dir</em></dt>
    <dd>
  <p>The <strong>main.cf</strong> configuration file is in the named directory instead of the default configuration directory. See also the MAIL_CONFIG environment setting below.</p>
    </dd>
    <dt><strong>-f</strong></dt>
    <dd>
  <p>Flush the queue: attempt to deliver all queued mail.</p>
<p class='spacer'>

  <p>This option implements the traditional "<strong>sendmail -q</strong>" command, by contacting the Postfix <strong>qmgr</strong>(8) daemon.</p>
<p class='spacer'>

  <p>Warning: flushing undeliverable mail frequently will result in poor delivery performance of all other mail.</p>
    </dd>
    <dt>-i <em>queue_id</em></dt>
    <dd>
  <p>Schedule immediate delivery of deferred mail with the specified queue ID.</p>
<p class='spacer'>

  <p>This option implements the traditional <strong>sendmail -qI</strong> command, by contacting the <strong>flush</strong>(8) server.</p>
<p class='spacer'>

  <p>This feature is available with Postfix version 2.4 and later.</p>
    </dd>
    <dt><strong>-p</strong></dt>
    <dd>
  <p>Produce a traditional sendmail-style queue listing. This option implements the traditional <strong>mailq</strong> command, by contacting the Postfix <strong>showq</strong>(8) daemon.</p>
<p class='spacer'>

      <p>Each queue entry shows the queue file ID, message size, arrival time, sender, and the recipients that still need to be delivered.  If mail could not be delivered upon the last attempt, the reason for failure is shown. The queue ID string is followed by an optional status character:</p>
      <dl class='dl-horizontal'>
        <dt><strong>*</strong></dt>
        <dd>
      <p>The message is in the <strong>active</strong> queue, i.e. the message is selected for delivery.</p>
        </dd>
        <dt><strong>!</strong></dt>
        <dd>
      <p>The message is in the <strong>hold</strong> queue, i.e. no further delivery attempt will be made until the mail is taken off hold.</p>
        </dd>
      </dl>
    </dd>
    <dt>-s <em>site</em></dt>
    <dd>
  <p>Schedule immediate delivery of all mail that is queued for the named <em>site</em>. A numerical site must be specified as a valid RFC 5321 address literal enclosed in [], just like in email addresses. The site must be eligible for the "fast flush" service. See <strong>flush</strong>(8) for more information about the "fast flush" service.</p>
<p class='spacer'>

  <p>This option implements the traditional "<strong>sendmail -qR<em>site</em>" command, by contacting the Postfix <strong>flush</strong>(8) daemon.</p>
    </dd>
    <dt><strong>-v</strong></dt>
    <dd>
  <p>Enable verbose logging for debugging purposes. Multiple <strong>-v</strong> options make the software increasingly verbose. As of Postfix 2.3, this option is available for the super-user only.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">

<p>This program is designed to run with set-group ID privileges, so that it can connect to Postfix daemon processes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">

<p>Problems are logged to <strong>syslogd</strong>(8) and to the standard error stream.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

  <dl class='dl-horizontal'>
    <dt>MAIL_CONFIG</dt>
    <dd>
      <p>Directory with the <strong>main.cf</strong> file. In order to avoid exploitation of set-group ID privileges, a non-standard directory is allowed only if:</p>
      <dl class='dl-horizontal'>
        <dt>&bull;</dt>
        <dd>
      <p>The name is listed in the standard <strong>main.cf</strong> file with the <strong>alternate_config_directories</strong> configuration parameter.</p>
        </dd>
        <dt>&bull;</dt>
        <dd>
      <p>The command is invoked by the super-user.</p>
        </dd>
      </dl>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION PARAMETERS</h2>
        <div class="sectioncontent">

  <p>The following <strong>main.cf</strong> parameters are especially relevant to this program. The text below provides only a parameter summary. See <a href="../man5/postconf.5.html"><strong>postconf</strong>(5)</a> for more details including examples.</p>
  <dl class='dl-horizontal'>
    <dt><strong>alternate_config_directories (empty)</strong></dt>
    <dd>
  <p>A list of non-default Postfix configuration directories that may be specified with "-c config_directory" on the command line, or via the MAIL_CONFIG environment parameter.</p>
    </dd>
    <dt><strong>config_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The default location of the Postfix main.cf and master.cf configuration files.</p>
    </dd>
    <dt><strong>command_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The location of all postfix administrative commands.</p>
    </dd>
    <dt><strong>fast_flush_domains ($relay_domains)</strong></dt>
    <dd>
  <p>Optional list of destinations that are eligible for per-destination logfiles with mail that is queued to those destinations.</p>
    </dd>
    <dt><strong>import_environment (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The list of environment parameters that a Postfix process will import from a non-Postfix parent process.</p>
    </dd>
    <dt><strong>queue_directory (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The location of the Postfix top-level queue directory.</p>
    </dd>
    <dt><strong>syslog_facility (mail)</strong></dt>
    <dd>
  <p>The syslog facility of Postfix logging.</p>
    </dd>
    <dt><strong>syslog_name (see 'postconf -d' output)</strong></dt>
    <dd>
  <p>The mail system name that is prepended to the process name in syslog records, so that "smtpd" becomes, for example, "postfix/smtpd".</p>
    </dd>
    <dt><strong>trigger_timeout (10s)</strong></dt>
    <dd>
  <p>The time limit for sending a trigger to a Postfix daemon (for example, the <strong>pickup</strong>(8) or <strong>qmgr</strong>(8) daemon).</p>
    </dd>
  </dl>
<p class='spacer'>

  <p>Available in Postfix version 2.2 and later:</p>
  <dl class='dl-horizontal'>
    <dt><strong>authorized_flush_users (static:anyone)</strong></dt>
    <dd>
  <p>List of users who are authorized to flush the queue.</p>
    </dd>
    <dt><strong>authorized_mailq_users (static:anyone)</strong></dt>
    <dd>
  <p>List of users who are authorized to view the queue.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>/var/spool/postfix, mail queue</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<strong>qmgr</strong>(8), queue manager
<strong>showq</strong>(8), list mail queue
<strong>flush</strong>(8), fast flush service
<a href="../man1/sendmail.1.html"><strong>sendmail</strong>(1)</a>, Sendmail-compatible user interface
<a href="../man1/postsuper.1.html"><strong>postsuper</strong>(1)</a>, privileged queue operations</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">README FILES</h2>
        <div class="sectioncontent">

  <p>Use "<strong>postconf readme_directory</strong>" or "<strong>postconf html_directory</strong>" to locate this information.</p>
<pre>ETRN_README, Postfix ETRN howto</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">

<p>The Secure Mailer license must be distributed with this software.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">

<p>The postqueue command was introduced with Postfix version 1.1.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR(S)</h2>
        <div class="sectioncontent">

<pre>Wietse Venema
IBM T.J. Watson Research
P.O. Box 704
Yorktown Heights, NY 10598, USA</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="postmulti.1.html"><span aria-hidden="true">&larr;</span> postmulti.1: Postfix multi-instance manager</a></li>
   <li class="next"><a href="postsuper.1.html">postsuper.1: Postfix superintendent <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
