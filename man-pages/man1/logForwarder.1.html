<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>logForwarder: Tools for creating and maintaining ssh tunnels between log components in complex topologies</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tools for creating and maintaining ssh tunnels between log components in complex topologies">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="logForwarder (1) manual">
  <meta name="twitter:description" content="Tools for creating and maintaining ssh tunnels between log components in complex topologies">
  <meta name="twitter:image" content="https://www.carta.tech/images/logcentral-tools-logForwarder-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/logForwarder.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="logForwarder (1) manual" />
  <meta property="og:description" content="Tools for creating and maintaining ssh tunnels between log components in complex topologies" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/logcentral-tools-logForwarder-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">logForwarder<small> (1)</small></h1>
        <p class="lead">Tools for creating and maintaining ssh tunnels between log components in complex topologies</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/logForwarder.1.html">
      <span itemprop="name">logForwarder: Tools for creating and maintaining ssh tunnels between log components in complex topologies</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/logcentral-tools/">
      <span itemprop="name">logcentral-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/logForwarder.1.html">
      <span itemprop="name">logForwarder: Tools for creating and maintaining ssh tunnels between log components in complex topologies</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSYS</h2>
        <div class="sectioncontent">
<p>logForwarder [options] ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>logForwarder helps simplifying the maintenance of ssh tunnels between log components and tools, thus improving log scalability and configuration in complex network topologies. The components may be defined in a program to be monitored, they publish messages in the LogCentral. The tools get the messages subscribing to the LogCentral.</p><p>Before starting a log forwarder, you must:</p><ul>
<li><p>launch omniNames on the local and remotes hosts.</p></li><li><p>launch the remote peer only defining its name and network configuration.</p></li><li><p>launch local peer and give him remote peer&apos;s name, ssh connection informations, remote port to use and pass -C option to create the ssh tunnel.</p><p>[Remark: forwarders must be launched before the log tools/components]</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>--name</strong><strong> [name]</strong></p>
  </dt>
  <dd>
    <p>String identifying the forwarder</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--peer-name</strong><strong> [name]</strong></p>
  </dt>
  <dd>
    <p>String identifying its peer on the other network</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--ssh-host</strong><strong> [host]</strong></p>
  </dt>
  <dd>
    <p>Host hosting the ssh tunnel</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--ssh-login</strong><strong> [login]</strong></p>
  </dt>
  <dd>
    <p>Login used to establish the ssh connection (default: current user login).</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--ssh-key</strong><strong> [/path/to/ssh/key]</strong></p>
  </dt>
  <dd>
    <p>Path to the ssh key (the private one !) used to establish the ssh connection (default: $HOME/.ssh/id_rsa).</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--remote-port</strong><strong> [port]</strong></p>
  </dt>
  <dd>
    <p>Port listening on the ssh host.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--remote-host</strong><strong> [host]</strong></p>
  </dt>
  <dd>
    <p>Host to which the connection is made by the tunnel (corresponds to ssh options -L and -R).</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--nb-retry</strong><strong> [nb]</strong></p>
  </dt>
  <dd>
    <p>Number of times that the local forwarder will try to bind itself to the remote forwarder (default: 3).</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--peer-ior</strong><strong> [IOR]</strong></p>
  </dt>
  <dd>
    <p>Pass remote forwarder&apos;s IOR. By default, the local forwarder will retrive its peer IOR.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--net-config</strong><strong> [path/to/configuration/file]</strong></p>
  </dt>
  <dd>
    <p>Path to configuration file.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-C</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Create the tunnel from this forwarder.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILE</h2>
        <div class="sectioncontent">
<p>You can pass a configuration file to dietForwarder instead of using command line options through the --net-config option. Configuration file lists several rules describing networks reachable using this forwarder.</p><p>There&apos;s two category of rules:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>accept rules</strong><strong></strong></p>
  </dt>
  <dd>
    <p>describe which networks are accessible through the forwarder.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>reject rules</strong><strong></strong></p>
  </dt>
  <dd>
    <p>describe which networks are not accessible through the forwarder.</p><p>A rule always starts by either <strong>accept:</strong> or <strong>reject:</strong> immediately followed by a regular expression (Posix) describing host concerned by the rule. Rules are evaluated in the following order: <strong>accept</strong> then <strong>reject</strong>. For instance: accept:.* reject:localhost</p><p>This fragment means that the forwarder will accept connections to every hosts but localhost.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Here&apos;s a simple configuration:</p><ul>
<li><p>We have two domains: <em>net1</em> and <em>net2</em>, forwarders will be launched on hosts <em>fwd.net1</em> and <em>fwd.net2</em>.</p></li><li><p>There&apos;s no link between hosts <em>fwd.net1</em> and <em>fwd.net2</em> but user may access <em>fwd.net2</em> from <em>fwd.net1</em> using a ssh connection.</p></li><li><p>We&apos;ll name <em>fwd.net1</em> forwarder Fwd1 and <em>fwd.net2</em> fowarder Fwd2.</p></li><li><p>One tool lives in <em>fwd.net2</em> while a component lives on the <em>net1</em> domain.</p><p><strong>Command line for launchind Fwd1</strong></p>
<pre>
fwd.net1$ logForwarder --name Fwd1 --peer-name Fwd2 &#92;
  --ssh-host fwd.net2 --ssh-login dietUser &#92;
  --ssh-key id rsa net2 --remote-port 50000 &#92;
  --net-config net1.cfg -C
</pre>
<p><strong>Command line to launch Fwd2</strong></p>
<pre>
fwd.net2$ logForwarder --name Fwd2 --net-config net2.cfg
</pre>
<p><strong>Configuration file for Fwd1</strong></p><p>In this example, the forwarders Fwd1 accepts only the connections to fwd.net2.</p>
<pre>
accept:fwd.net2
</pre>
<p><strong>Configuration file for Fwd2</strong></p><p>In this example, the forwarders Fwd2 accepts all the connections except those which are for the localhost.</p>
<pre>
accept:.*
reject:localhost
</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RATIONALE</h2>
        <div class="sectioncontent">
<p>The log service uses CORBA as its communication layer. While it&apos;s a flexible and robust middleware, it remains hard deploying the log on heterogeneous networks that are not reachable except through ssh tunnels. Log forwarders help administrator configuring their grid without manually set-up ssh tunnels which arguably is neither simple nor scalable. Log forwarders make it very easy configuring such topologies.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE AND COPYRIGHT</h2>
        <div class="sectioncontent">
<h3>Copyright</h3>
<p>(C)2011, GRAAL, INRIA Rhone-Alpes, 46 allee d&apos;Italie, 69364 Lyon cedex 07, France all right reserved &lt;<em>diet-dev@ens-lyon.fr</em>&gt;</p>
<h3>License</h3>
<p>This program is free software: you can redistribute it and/or mod‐ ify it under the terms of the GNU General Public License as pub‐ lished by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Pub- lic Li‐ cense for more details. You should have received a copy of the GNU General Public License along with this program. If not, see &lt;<em>http://www.gnu.org/licenses/</em>&gt;.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>GRAAL INRIA Rhone-Alpes 46 allee d&apos;Italie 69364 Lyon cedex 07, FRANCE Email: &lt;<em>diet-dev@ens-lyon.fr</em>&gt; WWW: <em>http://graal.ens-lyon.fr/DIET</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO logForwarder&hellip;</h2>
        <div class="sectioncontent">
<p><strong>omniNames</strong>(1), <strong>dietForwarder</strong>(1), <a href="../man1/LogCentral.1.html"><strong>LogCentral</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>On some systems, forwarder rules won&apos;t work unless you use IP addresses instead of hostnames</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>haikel.guemar@sysfera.com, kevin.coulomb@sysfera.com</p><p>License: GPLv3</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>DIET developers</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="log4shib-config.1.html"><span aria-hidden="true">&larr;</span> log4shib-config.1: Flags for linking with the log4shib library</a></li>
   <li class="next"><a href="logcheck-test.1.html">logcheck-test.1: Test new logcheck rules easily <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
