<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>squishyball: Perform sample comparison testing on the command line</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Perform sample comparison testing on the command line">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="squishyball (1) manual">
  <meta name="twitter:description" content="Perform sample comparison testing on the command line">
  <meta name="twitter:image" content="https://www.carta.tech/images/squishyball-squishyball-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/squishyball.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="squishyball (1) manual" />
  <meta property="og:description" content="Perform sample comparison testing on the command line" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/squishyball-squishyball-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">squishyball<small> (1)</small></h1>
        <p class="lead">Perform sample comparison testing on the command line</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/squishyball.1.html">
      <span itemprop="name">squishyball: Perform sample comparison testing on the command line</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/squishyball/">
      <span itemprop="name">squishyball</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/squishyball.1.html">
      <span itemprop="name">squishyball: Perform sample comparison testing on the command line</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>squishyball</strong> [<em>options</em>] fileA [fileB [<em>fileN...</em>]] [&gt; results.txt]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>squishyball</strong> is a simple command-line utility for performing double-blind A/B, A/B/X or X/X/Y testing on the command line.  The user specifies two input files to be compared and uses the keyboard during playback to flip between the randomized samples to perform on-the-fly comparisons. After a predetermined number of trials, <strong>squishyball</strong> prints the trial results to stdout and exits.  Results (stdout) may be redirected to a file without affecting interactive use of the terminal.</p><p><strong>squishyball</strong> can also be used to perform casual, non-randomized comparisons of groups of up to ten samples; this is the default mode of operation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TEST TYPES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-a --ab</strong>
  </dt>
  <dd>
    <p>Perform A/B test on two input samples.</p><p>A/B testing randomizes the order of two input samples and presents them, unnamed, as sample 'A' and sample 'B'.  In each trial the user selects A or B as the preferred sample.  The samples are then re-randomized for the next trial.  This test is useful for establishing relative or preferred quality between two samples.</p>
  </dd>
  <dt>
    <strong>-b --abx</strong>
  </dt>
  <dd>
    <p>Perform A/B/X test on two input samples.</p><p>A/B/X presents two input samples, unrandomized, as sample 'A' and sample 'B'.  A third sample 'X' is chosen randomly from either 'A' or 'B'.  In each trial, the user selects A or B as the sample believed to be the same as X. X is then re-randomized for the next trial. This test is useful for determining if any differences are audible between two samples and to what confidence level.</p><p>Note that because the A and B samples are not randomized (they are presented in the order given on the command line as per standard industry practice), an A/B/X test does not eliminate ordering bias. A stronger version of this test that randomizes all samples is the X/X/Y test below.</p>
  </dd>
  <dt>
    <strong>-c --casual</strong>
  </dt>
  <dd>
    <p>Perform casual comparison of up to ten samples (default).</p><p>Casual comparison mode does not randomize the input samples or perform multiple trials.  It simply provides a convenient way to rapidly flip back and forth within a group of up to ten samples.</p>
  </dd>
  <dt>
    <strong>-x --xxy</strong>
  </dt>
  <dd>
    <p>Perform randomized X/X/Y test on two input samples.</p><p>X/X/Y testing is a form of A/B/X testing in which the order of all samples is randomized and the position of the 'X' sample is not known ahead of time to be in the third position. In each trial, the user selects which of sample 1, 2 or 3 is believed to be the sample that is different from the other two. This test is useful for determining if any differences are audible between two samples and to what confidence level.  It is a stronger version of the A/B/X test that eliminates sample order bias.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-B --beep-flip</strong>
  </dt>
  <dd>
    <p>Mark transitions between samples with a short beep.</p>
  </dd>
  <dt>
    <strong>-d --device </strong><em>N</em>|<em>device</em>
  </dt>
  <dd>
    <p>If a number, output to Nth available sound device.  If a device name, use output device matching that device name.  The backend audio driver is selected automatically based on the device name provided.</p>
  </dd>
  <dt>
    <strong>-D --force-dither</strong>
  </dt>
  <dd>
    <p>Always use dither when down-converting to 16-bit samples for playback on audio devices that do not support 24-bit playback. By default, uncompressed samples are always dithered, but lossy formats (such as Vorbis and Opus) are simply rounded.  See the section <strong>CONVERSION AND DITHER </strong>below for more details.</p>
  </dd>
  <dt>
    <strong>-e --end-time </strong>[[<em>hh</em><strong>:</strong>]<em>mm</em><strong>:</strong>]<em>ss</em>[<strong>.</strong><em>ff</em>]
  </dt>
  <dd>
    <p>Set sample end time for playback.</p>
  </dd>
  <dt>
    <strong>-g --gabbagabbahey </strong>| <strong>--score-display</strong>
  </dt>
  <dd>
    <p>Show running score and probability figures of trials so far while testing. Can only be used with <strong>-a</strong>, <strong>-b</strong>, or <strong>-x</strong>.</p>
  </dd>
  <dt>
    <strong>-h --help</strong>
  </dt>
  <dd>
    <p>Print usage summary to stdout and exit.</p>
  </dd>
  <dt>
    <strong>-M --mark-flip</strong>
  </dt>
  <dd>
    <p>Mark transitions between samples with a short period of silence (default).</p>
  </dd>
  <dt>
    <strong>-n --trials </strong><em>n</em>
  </dt>
  <dd>
    <p>Set desired number of comparison trials (default: 20).</p>
  </dd>
  <dt>
    <strong>-N --do-not-normalize</strong>
  </dt>
  <dd>
    <p>Do not perform autonormalization to avoid clipping when sample values exceed the maximum playback range in floating point, lossy, and downmixed samples.</p>
  </dd>
  <dt>
    <strong>-r --restart-after</strong>
  </dt>
  <dd>
    <p>Set 'restart-after mode', where sample playback restarts from start point after every trial.</p>
  </dd>
  <dt>
    <strong>-R --restart-every</strong>
  </dt>
  <dd>
    <p>Set 'restart-every mode', where sample playback restarts from start point after 'flip' as well as after every trial.</p>
  </dd>
  <dt>
    <strong>-s --start-time </strong>[[<em>hh</em><strong>:</strong>]<em>mm</em><strong>:</strong>]<em>ss</em>[<strong>.</strong><em>ff</em>]
  </dt>
  <dd>
    <p>Set start time within sample for playback</p>
  </dd>
  <dt>
    <strong>-S --seamless-flip</strong>
  </dt>
  <dd>
    <p>Do not mark transitions between samples; flip with a seamless crossfade.</p>
  </dd>
  <dt>
    <strong>-t --force-truncate</strong>
  </dt>
  <dd>
    <p>Always round/truncate (never dither) when down-converting samples to 16-bit for playback on audio devices that do not support 24-bit output.  See the section <strong>CONVERSION AND DITHER</strong> below for more details.</p>
  </dd>
  <dt>
    <strong>-v --verbose</strong>
  </dt>
  <dd>
    <p>Produce more and more detailed progress information and warnings.</p>
  </dd>
  <dt>
    <strong>-V --version</strong>
  </dt>
  <dd>
    <p>Print version and exit.</p>
  </dd>
  <dt>
    <strong>-1 --downmix-to-mono</strong>
  </dt>
  <dd>
    <p>Downmix all multichannel samples to mono at load time.</p>
  </dd>
  <dt>
    <strong>-2 --downmix-to-stereo</strong>
  </dt>
  <dd>
    <p>Downmix all surround samples to stereo at load time.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEYBOARD INTERACTION</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>a</strong>, <strong>b</strong>, <strong>x</strong>
  </dt>
  <dd>
    <p>Switch between A and B samples (A/B mode), or A, B and X samples (A/B/X mode).</p>
  </dd>
  <dt>
    <strong>A</strong>, <strong>B</strong>
  </dt>
  <dd>
    <p>Select A or B as preferred sample (A/B mode), or sample A or sample B as match to sample X (A/B/X testing mode).</p>
  </dd>
  <dt>
    <strong>1</strong>, <strong>2</strong>, <strong>3</strong>...
  </dt>
  <dd>
    <p>Switch between first, second, third [etc] samples (X/X/Y testing mode, casual comparison mode).</p>
  </dd>
  <dt>
    <strong>!</strong>, <strong>@</strong>, <strong>#</strong>
  </dt>
  <dd>
    <p>Indicate the 'odd sample out' as sample 1, 2, or 3 (X/X/Y testing mode).</p>
  </dd>
  <dt>
    <strong>&lt;del&gt;</strong>, &lt;ins&gt;
  </dt>
  <dd>
    <p>Undo/redo previous trial result selection.</p>
  </dd>
  <dt>
    <strong>&lt;enter&gt;</strong>
  </dt>
  <dd>
    <p>Choose current sample for this trial.</p>
  </dd>
  <dt>
    <strong>&lt;-</strong>, <strong>-&gt;</strong>
  </dt>
  <dd>
    <p>Seek back/forward two seconds, <strong>+shift </strong>for ten seconds.</p>
  </dd>
  <dt>
    <strong>&lt;up/down&gt;</strong>
  </dt>
  <dd>
    <p>Select sample in sample list (casual mode).</p>
  </dd>
  <dt>
    <strong>&lt;space&gt;</strong>
  </dt>
  <dd>
    <p>Pause/resume playback.</p>
  </dd>
  <dt>
    <strong>&lt;backspace&gt;</strong>
  </dt>
  <dd>
    <p>Reset playback to start point.</p>
  </dd>
  <dt>
    <strong>e</strong>
  </dt>
  <dd>
    <p>Set end playback point to current playback time (see also -e above).</p>
  </dd>
  <dt>
    <strong>E</strong>
  </dt>
  <dd>
    <p>Reset end playback time to end of sample.</p>
  </dd>
  <dt>
    <strong>f</strong>
  </dt>
  <dd>
    <p>Toggle through beep-flip/mark-flip/seamless-flip modes (see <strong>-B</strong>, <strong>-M</strong>, and <strong>-S </strong>above).</p>
  </dd>
  <dt>
    <strong>r</strong>
  </dt>
  <dd>
    <p>Toggle through restart-after/restart-every/no-restart modes (see <strong>-r </strong>and <strong>-R </strong>above).</p>
  </dd>
  <dt>
    <strong>s</strong>
  </dt>
  <dd>
    <p>Set start playback point to current playback time (see also <strong>-s </strong>above).</p>
  </dd>
  <dt>
    <strong>S</strong>
  </dt>
  <dd>
    <p>Reset start playback time to beginning of sample.</p>
  </dd>
  <dt>
    <strong>?</strong>
  </dt>
  <dd>
    <p>Print this keymap.  The keymap will not be printed if the terminal has insufficient rows to do so.</p>
  </dd>
  <dt>
    <strong>^c</strong>
  </dt>
  <dd>
    <p>Abort testing early.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED FILE TYPES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>WAV/WAVEX</strong>
  </dt>
  <dd>
    <p>8-, 16-, 24-bit linear integer PCM (format 1), 32-bit float (format 3)</p>
  </dd>
  <dt>
    <strong>AIFF/AIFF-C</strong>
  </dt>
  <dd>
    <p>8-, 16-, 24-bit linear integer PCM, 32-bit floating point</p>
  </dd>
  <dt>
    <strong>FLAC/OggFLAC</strong>
  </dt>
  <dd>
    <p>16- and 24-bit</p>
  </dd>
  <dt>
    <strong>SW</strong>
  </dt>
  <dd>
    <p>Mono signed 16-bit little endian 48000Hz raw with a .sw extension</p>
  </dd>
  <dt>
    <strong>OggVorbis</strong>
  </dt>
  <dd>
    <p>all Vorbis I files</p>
  </dd>
  <dt>
    <strong>OggOpus</strong>
  </dt>
  <dd>
    <p>all Opus files</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONVERSION</h2>
        <div class="sectioncontent">
<p><strong>squishyball</strong> 'reconciles' files to identical channel ordering, length and bit-depth before playback begins so that CPU and memory resource usage during playback should be identical for all samples. When 24-bit playback is available and at least one sample is 24-bit or greater (ie, 32-bit or float), all samples are converted/promoted to 24 bits.  If 24-bit playback is unavailable, all samples are demoted to 16 bits. Note that Opus and Vorbis files are both considered to be natively float formats.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NORMALIZATION</h2>
        <div class="sectioncontent">
<p><strong>squishyball</strong> checks files for clipping at load time. By default, <strong>squishyball</strong> will automatically normalize all float inputs by the amount needed to avoid clipping any one.  Automatic normalization can be disabled with the <strong>-N</strong> option.  Integer samples are checked for clipping heuristically; two or more consecutive full-range values in a channel count as clipped.  Out-of-range integer values cannot be recovered; in this case, <strong>squishyball</strong> issues a warning and performs no normalization based on the integer clipping.</p><p>Downmixing samples to mono with <strong>-1</strong> or stereo with <strong>-2</strong> will also likely require normalization to avoid clipping; as above, <strong>squishyball</strong> will automatically normalize all inputs by the amount necessary to avoid clipping in any one unless <strong>-N</strong> is specified.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DITHER</h2>
        <div class="sectioncontent">
<p>Down-conversions of uncompressed and lossless samples (WAV, AIF[C], FLAC, SW) to 16-bit are dithered using a simple white TPDF. Lossy-encoded samples (Vorbis and Opus) are dithered to 16-bit only if one or more uncompressed/lossless inputs are also being dithered. Normalization also triggers dithering of all input samples (uncompressed, lossless and lossy) upon conversion to 16 bit.</p><p><strong>-D</strong> overrides the default behavior and forces unconditional dithering of all 16-bit down-conversions.  Similarly, <strong>-t</strong> forces unconditional rounded truncation in all cases, disabling dither completely.</p><p>Conversions to 24-bit are never dithered.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IMPORTANT USAGE NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>Playback Depth and Rate</strong>
  </dt>
  <dd>
    <p>Many modern audio playback systems (such as PulseAudio or the ALSA 'default' device) give no means of determining if the requested playback paramters are actually being used by the hardware, or if the audio system is helpfully converting everything to some other supported depth/rate.  When using these systems, <strong>squishyball</strong> has no way of knowing if 16-/24-bit playback or sample rate is being honored. Automatic conversion can affect audible playback quality; be careful to verify actual system behavior.</p>
  </dd>
  <dt>
    <strong>Flip-Mode Choice</strong>
  </dt>
  <dd>
    <p><strong>Silent Mode</strong> smoothly transitions between samples.  It allows the most direct comparison between signals without any intervening auditory distraction. However, the temporary combination of different signals may cause unintended cancellation and comb-filtering effects that can give away the 'unknown' sample just as a 'pop' from an instantaneous transition would.</p><p><strong>Mark Mode</strong> quickly fades to silence before flipping to another sample, marking the transition.  Because the samples never overlap, crosslap artifacts cannot contaminate trial results.  However, the audible dip between samples may distract from listening, potentially making it slightly more difficult to detect legitimate artifacts.</p><p><strong>Beep Mode</strong> is similar to mark mode but adds a soft 'beep' to mark where the transition occurs.  It makes the transition point especially obvious.  It does not crosslap the samples; one sample is faded completely before the second is mixed in as in mark mode.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Monty &lt;monty@xiph.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO squishyball&hellip;</h2>
        <div class="sectioncontent">
<p><strong>abx-comparator</strong>(1), <strong>rateit</strong>(1), <a href="../man1/ogg123.1.html"><strong>ogg123</strong>(1)</a>, <a href="../man1/oggdec.1.html"><strong>oggdec</strong>(1)</a>, <a href="../man1/opusdec.1.html"><strong>opusdec</strong>(1)</a>, <a href="../man1/flac.1.html"><strong>flac</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="squiggle.1.html"><span aria-hidden="true">&larr;</span> squiggle.1: Browser for svg files</a></li>
   <li class="next"><a href="squizz.1.html">squizz.1:  <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
