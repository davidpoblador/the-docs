<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ps2ts: Convert an h.222 program stream to h.222 transport stream</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert an h.222 program stream to h.222 transport stream">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ps2ts (1) manual">
  <meta name="twitter:description" content="Convert an h.222 program stream to h.222 transport stream">
  <meta name="twitter:image" content="https://www.carta.tech/images/tstools-ps2ts-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ps2ts.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ps2ts (1) manual" />
  <meta property="og:description" content="Convert an h.222 program stream to h.222 transport stream" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/tstools-ps2ts-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ps2ts<small> (1)</small></h1>
        <p class="lead">Convert an h.222 program stream to h.222 transport stream</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ps2ts.1.html">
      <span itemprop="name">ps2ts: Convert an h.222 program stream to h.222 transport stream</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/tstools/">
      <span itemprop="name">tstools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ps2ts.1.html">
      <span itemprop="name">ps2ts: Convert an h.222 program stream to h.222 transport stream</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ps2ts</strong> [<em>switches</em>] <em>&lt;infile&gt;</em> <em>&lt;outfile&gt;</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<ul>
<li><p>TS tools version 1.11, ps2ts built Nov 11 2008 17:15:47</p></li><li><p>Convert an H.222 program stream to H.222 transport stream.</p></li><li><p>This program does not make use of any Program Stream Map packets in the data (mainly because I have yet to see data with any). This means that the program has to determine the stream type of the data based on the first few ES units.</p></li><li><p>This program does not output more than one video and one audio stream. If the program stream data contains more than one of each, the first will be used, and the others ignored (with a message indicating this).</p></li><li><p>It is assumed that the video stream will contain DTS values in its PES packets at reasonable intervals, which can be used as PCR values in the transport stream, and thus the video stream's PID can be used as the PCR PID in the transport stream.</p></li>
</ul><h3>Files:</h3>

<dl class='dl-vertical'>
  <dt>
    <p>&lt;infile&gt;</p>
  </dt>
  <dd>
    <p>is a file containing the program stream data (but see <strong>-stdin</strong> below)</p>
  </dd>
  <dt>
    <p>&lt;outfile&gt;</p>
  </dt>
  <dd>
    <p>is an transport stream file (but see <strong>-stdout</strong> and <strong>-host</strong> below)</p>
  </dd>

</dl>

<h3>Input switches:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-stdin</strong></p>
  </dt>
  <dd>
    <p>Take input from &lt;stdin&gt;, instead of a named file</p>
  </dd>
  <dt>
    <p><strong>-dvd</strong></p>
  </dt>
  <dd>
    <p>The PS data is from a DVD. This is the default. This switch has no effect on MPEG-1 PS data.</p>
  </dd>
  <dt>
    <p><strong>-notdvd</strong>, <strong>-nodvd</strong></p>
  </dt>
  <dd>
    <p>The PS data is not from a DVD. The DVD specification stores AC-3 (Dolby), DTS and other audio in a specialised manner in private_stream_1.</p>
  </dd>
  <dt>
    <p><strong>-vstream</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Take video from video stream &lt;n&gt; (0..7). The default is the first video stream found.</p>
  </dd>
  <dt>
    <p><strong>-astream</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Take audio from audio stream &lt;n&gt; (0..31). The default is the first audio stream found (this includes private_stream_1 on non-DVD streams).</p>
  </dd>
  <dt>
    <p><strong>-ac3stream</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Take audio from AC3 substream &lt;n&gt; (0..7), from private_stream_1. This implies <strong>-dvd</strong>. (If audio is being taken from a substream, the user is assumed to have determined which one is wanted, e.g., using psreport)</p>
  </dd>

</dl>

<h3>Output switches:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-stdout</strong></p>
  </dt>
  <dd>
    <p>Write output to &lt;stdout&gt;, instead of a named file Forces <strong>-quiet</strong>.</p>
  </dd>
  <dt>
    <p><strong>-host</strong> &lt;host&gt;, <strong>-host</strong> &lt;host&gt;:&lt;port&gt;</p>
  </dt>
  <dd>
    <p>Writes output (over TCP/IP) to the named &lt;host&gt;, instead of to a named file. If &lt;port&gt; is not specified, it defaults to 88.</p>
  </dd>
  <dt>
    <p><strong>-vpid</strong> &lt;pid&gt;</p>
  </dt>
  <dd>
    <p>&lt;pid&gt; is the video PID to use for the data. Use '-vpid 0x&lt;pid&gt;' to specify a hex value. Defaults to 0x68.</p>
  </dd>
  <dt>
    <p><strong>-apid</strong> &lt;pid&gt;</p>
  </dt>
  <dd>
    <p>&lt;pid&gt; is the audio PID to use for the data. Use '-apid 0x&lt;pid&gt;' to specify a hex value. Defaults to 0x67.</p>
  </dd>
  <dt>
    <p><strong>-noaudio</strong></p>
  </dt>
  <dd>
    <p>Don't output the audio data</p>
  </dd>
  <dt>
    <p><strong>-pmt</strong> &lt;pid&gt;</p>
  </dt>
  <dd>
    <p>&lt;pid&gt; is the PMT PID to use. Use '-pmt 0x&lt;pid&gt;' to specify a hex value. Defaults to 0x66</p>
  </dd>
  <dt>
    <p><strong>-prepeat</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Output the program data (PAT/PMT) after every &lt;n&gt; PS packs. Defaults to 100.</p>
  </dd>
  <dt>
    <p><strong>-pad</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Pad the start with &lt;n&gt; filler TS packets, to allow a TS reader to synchronize with the datastream. Defaults to 8.</p>
  </dd>

</dl>

<h3>General switches:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-verbose</strong>, <strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print a 'v' for each video packet and an 'a' for each audio packet, as it is read</p>
  </dd>
  <dt>
    <p><strong>-quiet</strong>, <strong>-q</strong></p>
  </dt>
  <dd>
    <p>Only output error messages</p>
  </dd>
  <dt>
    <p><strong>-max</strong> &lt;n&gt;, <strong>-m</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Maximum number of PS packs to read</p>
  </dd>

</dl>

<h3>Stream type:</h3>
<ul>
<li><p>When the TS data is being output, it is flagged to indicate whether it conforms to H.262, H.264, etc. It is important to get this right, as it will affect interpretation of the TS data.</p></li><li><p>If input is from a file, then the program will look at the start of the file to determine if the stream is H.264 or H.262 data. This process may occasionally come to the wrong conclusion, in which case the user can override the choice using the following switches.</p></li><li><p>If input is from standard input (via <strong>-stdin</strong>), then it is not possible for the program to make its own decision on the input stream type. Instead, it defaults to H.262, and relies on the user indicating if this is wrong.</p></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-h264</strong>, <strong>-avc</strong></p>
  </dt>
  <dd>
    <p>Force the program to treat the input as MPEG-4/AVC.</p>
  </dd>
  <dt>
    <p><strong>-h262</strong></p>
  </dt>
  <dd>
    <p>Force the program to treat the input as MPEG-2.</p>
  </dd>
  <dt>
    <p><strong>-mp42</strong></p>
  </dt>
  <dd>
    <p>Force the program to treat the input as MPEG-4/Part 2.</p>
  </dd>
  <dt>
    <p><strong>-vtype</strong> &lt;type&gt;</p>
  </dt>
  <dd>
    <p>Force the program to treat the input as video of stream type &lt;type&gt; (e.g., 0x42 means AVS video). It is up to the user to specify a valid &lt;type&gt;.</p><ul>
<li><p>If the audio stream being output is Dolby (AC-3), then the stream type used to output it differs for DVB (European) and ATSC (USA) data. It may be specified as follows:</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-dolby</strong> dvb</p>
  </dt>
  <dd>
    <p>Use stream type 0x06 (the default)</p>
  </dd>
  <dt>
    <p><strong>-dolby</strong> atsc</p>
  </dt>
  <dd>
    <p>Use stream type 0x81</p><ul>
<li><p>TS tools version 1.11, ps2ts built Nov 11 2008 17:15:47</p></li><li><p>Convert an H.222 program stream to H.222 transport stream.</p></li><li><p>This program does not make use of any Program Stream Map packets in the data (mainly because I have yet to see data with any). This means that the program has to determine the stream type of the data based on the first few ES units.</p></li><li><p>This program does not output more than one video and one audio stream. If the program stream data contains more than one of each, the first will be used, and the others ignored (with a message indicating this).</p></li><li><p>It is assumed that the video stream will contain DTS values in its PES packets at reasonable intervals, which can be used as PCR values in the transport stream, and thus the video stream's PID can be used as the PCR PID in the transport stream.</p></li>
</ul>
  </dd>

</dl>

<h3>Files:</h3>

<dl class='dl-vertical'>
  <dt>
    <p>&lt;infile&gt;</p>
  </dt>
  <dd>
    <p>is a file containing the program stream data (but see <strong>-stdin</strong> below)</p>
  </dd>
  <dt>
    <p>&lt;outfile&gt;</p>
  </dt>
  <dd>
    <p>is an transport stream file (but see <strong>-stdout</strong> and <strong>-host</strong> below)</p>
  </dd>

</dl>

<h3>Input switches:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-stdin</strong></p>
  </dt>
  <dd>
    <p>Take input from &lt;stdin&gt;, instead of a named file</p>
  </dd>
  <dt>
    <p><strong>-dvd</strong></p>
  </dt>
  <dd>
    <p>The PS data is from a DVD. This is the default. This switch has no effect on MPEG-1 PS data.</p>
  </dd>
  <dt>
    <p><strong>-notdvd</strong>, <strong>-nodvd</strong></p>
  </dt>
  <dd>
    <p>The PS data is not from a DVD. The DVD specification stores AC-3 (Dolby), DTS and other audio in a specialised manner in private_stream_1.</p>
  </dd>
  <dt>
    <p><strong>-vstream</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Take video from video stream &lt;n&gt; (0..7). The default is the first video stream found.</p>
  </dd>
  <dt>
    <p><strong>-astream</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Take audio from audio stream &lt;n&gt; (0..31). The default is the first audio stream found (this includes private_stream_1 on non-DVD streams).</p>
  </dd>
  <dt>
    <p><strong>-ac3stream</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Take audio from AC3 substream &lt;n&gt; (0..7), from private_stream_1. This implies <strong>-dvd</strong>. (If audio is being taken from a substream, the user is assumed to have determined which one is wanted, e.g., using psreport)</p>
  </dd>

</dl>

<h3>Output switches:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-stdout</strong></p>
  </dt>
  <dd>
    <p>Write output to &lt;stdout&gt;, instead of a named file Forces <strong>-quiet</strong>.</p>
  </dd>
  <dt>
    <p><strong>-host</strong> &lt;host&gt;, <strong>-host</strong> &lt;host&gt;:&lt;port&gt;</p>
  </dt>
  <dd>
    <p>Writes output (over TCP/IP) to the named &lt;host&gt;, instead of to a named file. If &lt;port&gt; is not specified, it defaults to 88.</p>
  </dd>
  <dt>
    <p><strong>-vpid</strong> &lt;pid&gt;</p>
  </dt>
  <dd>
    <p>&lt;pid&gt; is the video PID to use for the data. Use '-vpid 0x&lt;pid&gt;' to specify a hex value. Defaults to 0x68.</p>
  </dd>
  <dt>
    <p><strong>-apid</strong> &lt;pid&gt;</p>
  </dt>
  <dd>
    <p>&lt;pid&gt; is the audio PID to use for the data. Use '-apid 0x&lt;pid&gt;' to specify a hex value. Defaults to 0x67.</p>
  </dd>
  <dt>
    <p><strong>-noaudio</strong></p>
  </dt>
  <dd>
    <p>Don't output the audio data</p>
  </dd>
  <dt>
    <p><strong>-pmt</strong> &lt;pid&gt;</p>
  </dt>
  <dd>
    <p>&lt;pid&gt; is the PMT PID to use. Use '-pmt 0x&lt;pid&gt;' to specify a hex value. Defaults to 0x66</p>
  </dd>
  <dt>
    <p><strong>-prepeat</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Output the program data (PAT/PMT) after every &lt;n&gt; PS packs. Defaults to 100.</p>
  </dd>
  <dt>
    <p><strong>-pad</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Pad the start with &lt;n&gt; filler TS packets, to allow a TS reader to synchronize with the datastream. Defaults to 8.</p>
  </dd>

</dl>

<h3>General switches:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-verbose</strong>, <strong>-v</strong></p>
  </dt>
  <dd>
    <p>Print a 'v' for each video packet and an 'a' for each audio packet, as it is read</p>
  </dd>
  <dt>
    <p><strong>-quiet</strong>, <strong>-q</strong></p>
  </dt>
  <dd>
    <p>Only output error messages</p>
  </dd>
  <dt>
    <p><strong>-max</strong> &lt;n&gt;, <strong>-m</strong> &lt;n&gt;</p>
  </dt>
  <dd>
    <p>Maximum number of PS packs to read</p>
  </dd>

</dl>

<h3>Stream type:</h3>
<ul>
<li><p>When the TS data is being output, it is flagged to indicate whether it conforms to H.262, H.264, etc. It is important to get this right, as it will affect interpretation of the TS data.</p></li><li><p>If input is from a file, then the program will look at the start of the file to determine if the stream is H.264 or H.262 data. This process may occasionally come to the wrong conclusion, in which case the user can override the choice using the following switches.</p></li><li><p>If input is from standard input (via <strong>-stdin</strong>), then it is not possible for the program to make its own decision on the input stream type. Instead, it defaults to H.262, and relies on the user indicating if this is wrong.</p></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-h264</strong>, <strong>-avc</strong></p>
  </dt>
  <dd>
    <p>Force the program to treat the input as MPEG-4/AVC.</p>
  </dd>
  <dt>
    <p><strong>-h262</strong></p>
  </dt>
  <dd>
    <p>Force the program to treat the input as MPEG-2.</p>
  </dd>
  <dt>
    <p><strong>-mp42</strong></p>
  </dt>
  <dd>
    <p>Force the program to treat the input as MPEG-4/Part 2.</p>
  </dd>
  <dt>
    <p><strong>-vtype</strong> &lt;type&gt;</p>
  </dt>
  <dd>
    <p>Force the program to treat the input as video of stream type &lt;type&gt; (e.g., 0x42 means AVS video). It is up to the user to specify a valid &lt;type&gt;.</p><ul>
<li><p>If the audio stream being output is Dolby (AC-3), then the stream type used to output it differs for DVB (European) and ATSC (USA) data. It may be specified as follows:</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-dolby</strong> dvb</p>
  </dt>
  <dd>
    <p>Use stream type 0x06 (the default)</p>
  </dd>
  <dt>
    <p><strong>-dolby</strong> atsc</p>
  </dt>
  <dd>
    <p>Use stream type 0x81</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ps2ts&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for <strong>ps2ts</strong> is maintained as a Texinfo manual. Please check http://tstools.berlios.de for more information.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ps2ps.1.html"><span aria-hidden="true">&larr;</span> ps2ps.1: Ghostscript postscript "distiller"</a></li>
   <li class="next"><a href="psbanner.1.html">psbanner.1: Printer banners in text, pcl and postscript <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
