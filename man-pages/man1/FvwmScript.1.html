<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FvwmScript: Module to build graphic user interface</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Module to build graphic user interface">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="FvwmScript (1) manual">
  <meta name="twitter:description" content="Module to build graphic user interface">
  <meta name="twitter:image" content="https://www.carta.tech/images/fvwm-FvwmScript-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/FvwmScript.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="FvwmScript (1) manual" />
  <meta property="og:description" content="Module to build graphic user interface" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fvwm-FvwmScript-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">FvwmScript<small> (1)</small></h1>
        <p class="lead">Module to build graphic user interface</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/FvwmScript.1.html">
      <span itemprop="name">FvwmScript: Module to build graphic user interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fvwm/">
      <span itemprop="name">fvwm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/FvwmScript.1.html">
      <span itemprop="name">FvwmScript: Module to build graphic user interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>FvwmScript must be spawned by Fvwm. It will not work from the command line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>FvwmScript is a module which allows you to build many graphical applications such as desktop accessories, button panel with pop up menus, modal dialogs... At the startup, FvwmScript reads the file which is specified on the command line. This file contains the script. This script is not included in the configuration file of Fvwm.</p><p>An FvwmScript script is fully controllable by using the keyboard. (Shift)-Tab circulates around the widgets, Return simulates a mouse click, the arrows move the cursor or change the values of the widget and Escape "cancels" for Menu and PopupMenu.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INVOCATION</h2>
        <div class="sectioncontent">
<p>FvwmScript can be invoked by inserting the line `Module FvwmScript name_of_script' in the .fvwm2rc file. The file "name_of_script" can start with a slash, in which case, it's a fully qualified path, and the file is read. If "name_of_script" does not start with a slash, FvwmScript will look in a few different places. If  the   .fvwm2rc contained   the  command  line  `*FvwmScript: Path path_of_the_script_directory', FvwmScript will try that directory. If that doesn't work, FvwmScript tries the system configuration directory and the user configuration directory as described under the "Read" command in the fvwm man page.</p><p>The command to start FvwmScript can be placed on a line by itself, if FvwmScript is to be spawned during fvwm's initialization, or can be bound to a menu or mouse button or keystroke to invoke it later.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION OPTIONS</h2>
        <div class="sectioncontent">
<p>The following commands can be used in the config file (see <strong>fvwm</strong>(1), section <strong>MODULE COMMANDS</strong> for details). They are used only if the corresponding script commands are not used in the script.</p>
<dl class='dl-vertical'>
  <dt>
    *FvwmScript: DefaultFont <em>font</em>
  </dt>
  <dd>
    <p>Specifies the default font to be used. If not specified with this command or in the script with the Font command, fixed font is assumed.</p>
  </dd>
  <dt>
    *FvwmScript: DefaultFore <em>color</em>
  </dt>
  <dd>
    <p>Specifies the default foreground color to be used. If not specified with this command or in the script with the ForeColor command, black is used.</p>
  </dd>
  <dt>
    *FvwmScript: DefaultBack <em>color</em>
  </dt>
  <dd>
    <p>Specifies the default background color to be used. If not specified with this command or in the script with the BackColor command, grey85 is used.</p>
  </dd>
  <dt>
    *FvwmScript: DefaultHilight <em>color</em>
  </dt>
  <dd>
    <p>Specifies the default hilight color to be used. If not specified with this command or in the script with the HilightColor command, grey100 is used.</p>
  </dd>
  <dt>
    *FvwmScript: DefaultShadow <em>color</em>
  </dt>
  <dd>
    <p>Specifies the default shadow color to be used. If not specified with this command or in the script with the ShadowColor command, grey55 is used.</p>
  </dd>
  <dt>
    *FvwmScript: DefaultColorset <em>colorset</em>
  </dt>
  <dd>
    <p>Tells the module to use colorset <em>colorset</em> as the default colorset. Refer to the FvwmTheme man page for details about colorsets.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ANATOMY OF A SCRIPT</h2>
        <div class="sectioncontent">
<p>FvwmScript uses a particular programming language. A script is composed of five parts. Heading contains general characteristics of the window and default properties for all widgets. The second part contains instructions whom are executed at the  startup of the script. The third part contains periodic tasks which are executed every second. The fourth part contains instructions which are executed at exit. And the last part contains the description of widgets. A widget consists of eleven types of items: text labels, single-line text inputs, radio buttons, checkbox, push buttons, horizontal and vertical scrollbars, rectangles, pop up menus, swallowexecs and mini scrollbars.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HEADING OF A SCRIPT</h2>
        <div class="sectioncontent">
<p>The syntax is as follows:</p>
<dl class='dl-vertical'>
  <dt>
    WindowTitle <em>string</em>
  </dt>
  <dd>
    <p>This option sets the window title.</p>
  </dd>
  <dt>
    WindowSize <em>width height</em>
  </dt>
  <dd>
    <p>This option sets window size. <em>width</em> and <em>height</em> are numerical value.</p>
  </dd>
  <dt>
    WindowPosition <em>x y</em>
  </dt>
  <dd>
    <p>This option sets window position. <em>x</em> and <em>y</em> are numerical value.</p>
  </dd>
  <dt>
    ForeColor {<em>color</em>}
  </dt>
  <dd>
    <p>This option sets the default foreground color for all widgets.</p>
  </dd>
  <dt>
    BackColor {<em>color</em>}
  </dt>
  <dd>
    <p>This option sets the default background color for all widgets.</p>
  </dd>
  <dt>
    HilightColor {<em>color</em>}
  </dt>
  <dd>
    <p>This option sets the default hilight color for all widgets.</p>
  </dd>
  <dt>
    ShadowColor {<em>color</em>}
  </dt>
  <dd>
    <p>This option sets the default shadow color for all widgets.</p>
  </dd>
  <dt>
    Colorset {<em>n</em>}
  </dt>
  <dd>
    <p>This option sets the default colorset for all widgets.</p>
  </dd>
  <dt>
    Font {<em>font</em>}
  </dt>
  <dd>
    <p>This option sets the default font for all widgets.</p>
  </dd>
  <dt>
    UseGettext  [<em>locale_path</em>]
  </dt>
  <dd>
    <p>Enable the use of the gettext mechanism which is used by the WindowLocaleTitle, LocaleTitle, ChangeLocaleTitle instructions and the Gettext function. If no argument is given, the default FvwmScript locale catalog is used. This catalog is under the locale fvwm installation directory and the text domain is FvwmScript (install_prefix/share/locale/*/LC_MESSAGES/FvwmScript.mo). You can reset this catalog or add some catalogs exactly in the same way than with the <strong>LocalePath</strong> fvwm command (see the fvwm manual page). This instruction should be placed before the WindowLocaleTitle instruction.</p>
  </dd>
  <dt>
    WindowLocaleTitle <em>string</em>
  </dt>
  <dd>
    <p>This option sets the window title, but use the locale catalog(s) defined with UseGettext.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INITIALISATION</h2>
        <div class="sectioncontent">
<p>This part contains instructions which will be executed at the startup. For example:</p>
<pre>
Init
 Begin
  Do "Exec cat tada.voc &gt; /dev/dsp"
  WarpPointer 1
  Set $ToDo=Restart
 End
</pre>
<p>These instructions are used to play a sound, move the pointer to widget 1 and to initialize $ToDo to "Restart" at every startup.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PERIODIC TASKS</h2>
        <div class="sectioncontent">
<p>This part of the script contains instructions that are executed every second.  For example: PeriodicTasks  Begin</p>
<pre>
  If (RemainderOfDiv (GetTime) 10)==0 Then
   Do {Exec xcalc}
</pre>
<p> End This example shows how to launch xcalc every 10 seconds.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE QUIT FUNCTION</h2>
        <div class="sectioncontent">
<p>This part of the script contains instructions that are executed when the script exits (after the Quit instruction or if you close the window with the Close, Delete or Destroy fvwm command). For Example QuitFunc  Begin</p>
<pre>
  Do {Echo bye, bye}
</pre>
<p> End Be aware that if you used the KillModule fvwm command to close the script, some instructions or functions which rely on the existence of a communication link between the script and fvwm will not be executed (for example the Do command). To smoothly kill a script with an fvwm command see the <strong>COMMANDS</strong> section.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MAIN OF A SCRIPT</h2>
        <div class="sectioncontent">
<p>The second part of the script contains the description for every widget in the script. Each widget description has two parts. The first part describes initial properties, the second part contains instructions that are executed when the widget receives messages. All widgets can send and receive messages. All messages are identified by a number. The message "UserAction" is sent to a widget when the user operates the widget. The syntax for the first part is: Widget		id	# A number between 1 and 999 inclusive Property  Type		string  Size width	height  Position 	x y  Title		{ string }  Value		int  MaxValue 	int  MinValue 	int  Font		string  ForeColor 	{ color }  BackColor 	{ color }  HilightColor	{ color }  ShadowColor	{ color }  Colorset	int  Flags		flagsOpt The flagsOpt option to Flags is a space separated list containing one or more  of  the  keywords <em>Hidden</em>, <em>NoReliefString</em>, <em>NoFocus</em>, <em>Left</em> / <em>Center</em> / <em>Right</em>. <em>Hidden</em> is used to specify if the widget is hidden at startup. <em>NoReliefString</em> specifies if strings are drawn with relief or not. <em>NoFocus</em> specifies if the widget can get the keyboard focus or not. By default all widgets take focus, except Rectangle, HDipstick and VDipstick which cannot. Moreover, the NoFocus widgets are skipped when you circulate around the widgets with the (Shift-)Tab short cut. <em>Left</em> / <em>Center</em> / <em>Right</em> specifies the text position. These apply only to ItemDraw, List, Menu, PopupMenu and PushButton. The default is <em>Center</em> for ItemDraw and PushButton and <em>Left</em> for the other widgets.</p><p>LocaleTitle can be used in place of Title, for using the locale catalog(s) defined with UseGettext.</p><p>The position of every widget must be specified.</p><p>The syntax for the second part is: Main  Case message of</p>
<pre>
  SingleClic:
  Begin
   # list of instructions which will be
   # executed when widget receives
   # message "SingleClic". This message is
   # generated by the user.
  End
  1 :
  Begin
   # list of instructions which will be
   # executed when widget receives
   # message 1
  End
</pre>
<p> End</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIST OF WIDGETS</h2>
        <div class="sectioncontent">
<p>There is fifteen types of widgets.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>CheckBox</strong>: Display check box with a string.
  </dt>
  <dd>
    <p><strong>Title</strong>: title of the check box.</p><p><strong>Value</strong>: if Value is equal to 1, the box is checked else it is not.</p><p>The <strong>Size</strong> property is ignored.</p>
  </dd>
  <dt>
    <strong>HDipstick</strong>: Display a horizontal dipstick.
  </dt>
  <dd>
    <p>This widget can be used to display disk usage.</p><p><strong>Value</strong>: specify the current value of the dipstick.</p><p><strong>MinValue</strong>: specify the minimum value of the dipstick.</p><p><strong>MaxValue</strong>: specify the maximum value of the dipstick.</p><p>A minimum size of 30x11 is imposed.</p>
  </dd>
  <dt>
    <strong>HScrollBar</strong>: Display an horizontal scrollbar.
  </dt>
  <dd>
    <p><strong>Value</strong>: position of the thumb.</p><p><strong>MaxValue</strong>: upper limit of Value.</p><p><strong>MinValue</strong>: lower limit of Value.</p><p>The height property is ignored and a minimum width is imposed.  The width should be at least the range plus 37 if all values are to be selectable e.g. a min of 0 and max of 10 has a range of 11 and therefore should have a minimum width of 48.</p>
  </dd>
  <dt>
    <strong>ItemDraw</strong>: Display an icon and/or a string.
  </dt>
  <dd>
    <p><strong>Title</strong>: string to display.</p><p><strong>Icon</strong>: icon to display.</p><p><strong>MaxValue</strong>: x coordinate of the cursor.</p><p><strong>MinValue</strong>: y coordinate of the cursor.</p><p>The size is made large enough to contain the title and/or the icon.</p>
  </dd>
  <dt>
    <strong>List</strong>: Display a list.
  </dt>
  <dd>
    <p>List lets user to choose between various options.</p><p><strong>Value</strong>: specify which option is selected.</p><p><strong>MinValue</strong>: First visible option.</p><p><strong>Title</strong>: title contains options displayed in the list. The syntax is the following: {Option 1|Option 2|...|Option N}. All menus are displayed at the top of window.</p><p>A minimum height of three items is imposed and the width is made to be at least 108.</p>
  </dd>
  <dt>
    <strong>Menu</strong>: Display a menu whom lets user to choose a option.
  </dt>
  <dd>
    <p>Items of type Menu are layed out from left to right along the top of the window. The size and position properties are ignored.</p><p><strong>Value</strong>: specify which option is selected.</p><p><strong>Title</strong>: title contains options displayed in the menu. The syntax is the following: {Option 1|Option 2|...|Option N}.</p>
  </dd>
  <dt>
    <strong>MiniScroll</strong>: Display a very small vertical scrollbar.
  </dt>
  <dd>
    <p><strong>Value</strong>: position of the thumb.</p><p><strong>MaxValue</strong>: upper limit of Value.</p><p><strong>MinValue</strong>: lower limit of Value.</p><p>The size is set to 19x34.</p>
  </dd>
  <dt>
    <strong>PopupMenu</strong>: Display a pop up menu.
  </dt>
  <dd>
    <p><strong>Value</strong>: specify what option is selected.</p><p><strong>Title</strong>: the title has the following syntax: {Option 1|Option 2|...|Option N}."Option 1|Option 2|...|Option N" is the pop up menu which is displayed when pressing mouse button.</p><p>The size property is ignored.</p>
  </dd>
  <dt>
    <strong>PushButton</strong>: Display push button with an icon and/or a string.
  </dt>
  <dd>
    <p><strong>Title</strong>: this string has the following syntax {Title of the button|Option 1|Option 2|Option3|...|Option N}. "Option 1|Option 2|...|Option N" is the pop up menu which is displayed when pressing the right button.</p><p><strong>Icon</strong>: icon to display.</p><p>The button is made large enough to fit the icon and or label.</p>
  </dd>
  <dt>
    <strong>RadioButton</strong>: Display radio button with a string.
  </dt>
  <dd>
    <p><strong>Title</strong>: title of the radio button.</p><p><strong>Value</strong>: if Value is equal to 1, the box is checked else it is not.</p><p>The size property is ignored</p>
  </dd>
  <dt>
    <strong>Rectangle</strong>: Display a rectangle.
  </dt>
  <dd>
    <p> This type of widget can be used to decorate window.</p>
  </dd>
  <dt>
    <strong>SwallowExec</strong>
  </dt>
  <dd>
    <p>This type of widget causes FvwmScript to spawn an process, and capture the first window whose name or resource is equal to Title, and display it in the script window.</p><p><strong>Title</strong>: specify the window name which be captured and displayed in the script window.</p><p><strong>SwallowExec</strong>: specify the command line to execute to spawn the process. Modules can also be swallowed.</p><p><strong>Value</strong>: specify the looking of the border. Possible value: -1, 0, 1.</p><p>The size is made to be at least 30x30</p>
  </dd>
  <dt>
    <strong>TextField</strong>: Display a text input field.
  </dt>
  <dd>
    <p>The text input field can be used to edit a single-line string.</p><p><strong>Title</strong>: content of text field.</p><p><strong>Value</strong>: position of the insert point.</p><p><strong>MinValue</strong>: position of the end of the selection.</p><p><strong>MaxValue</strong>: first visible character of the title</p><p>The height property is ignored, the width is made to be at least 40 pixels wider than the initial contents.</p>
  </dd>
  <dt>
    <strong>VDipstick</strong>: Display a vertical dipstick.
  </dt>
  <dd>
    <p><strong>Value</strong>: specify the current value of the dipstick.</p><p><strong>MinValue</strong>: specify the minimum value of the dipstick.</p><p><strong>MaxValue</strong>: specify the maximum value of the dipstick.</p><p>The size is made to be at least 11x30.</p>
  </dd>
  <dt>
    <strong>VScrollBar</strong>: Display a vertical scrollbar.
  </dt>
  <dd>
    <p><strong>Value</strong>: position of the thumb.</p><p><strong>MaxValue</strong>: upper limit of Value.</p><p><strong>MinValue</strong>: lower limit of Value.</p><p>The width property is ignored and a minimum height is imposed.  The height should be at least the range plus 37 if all values are to be selectable e.g. a min of 0 and max of 10 has a range of 11 and therefore should have a minimum height of 48.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTRUCTIONS</h2>
        <div class="sectioncontent">
<p>Here is the description of all instructions.</p>
<dl class='dl-vertical'>
  <dt>
    HideWidget <em>id</em> : hide the widget numbered <em>id</em>.
  </dt>
  <dd>
    
  </dd>
  <dt>
    ShowWidget <em>id</em>: show the widget numbered <em>id</em>.
  </dt>
  <dd>
    
  </dd>
  <dt>
    ChangeValue <em>id1 id2</em>
  </dt>
  <dd>
    <p>Set the value of the widget numbered <em>id1</em> to <em>id2</em>.</p>
  </dd>
  <dt>
    ChangeMaxValue <em>id1 id2</em>
  </dt>
  <dd>
    <p>Set the maximum value of the widget numbered <em>id1</em> to <em>id2</em>.</p>
  </dd>
  <dt>
    ChangeMinValue <em>id1 id2</em>
  </dt>
  <dd>
    <p>Set the minimum value of the widget numbered <em>id1</em> to <em>id2</em>.</p>
  </dd>
  <dt>
    ChangeTitle <em>id1 id2</em>
  </dt>
  <dd>
    <p>Set the title of the widget numbered <em>id1</em> to <em>id2</em>.</p>
  </dd>
  <dt>
    ChangeWindowTitle <em>string</em>
  </dt>
  <dd>
    <p>Set the title of the window to <em>string</em>.</p>
  </dd>
  <dt>
    ChangeWindowTitleFromArg <em>numarg</em>
  </dt>
  <dd>
    <p>Set the title of the window to the value of the <em>numarg</em>-th script argument.</p>
  </dd>
  <dt>
    ChangeLocaleTitle <em>id1 id2</em>
  </dt>
  <dd>
    <p>As ChangeTitle but use the locale catalog(s) defined with UseGettext.</p>
  </dd>
  <dt>
    ChangeIcon <em>id1 id2</em>
  </dt>
  <dd>
    <p>Set the icon of the widget numbered <em>id1</em> to <em>id2</em>.</p>
  </dd>
  <dt>
    ChangeForeColor <em>id1</em> {<em>color</em>}
  </dt>
  <dd>
    <p>Set the foreground color of the widget numbered <em>id1</em> to {<em>color</em>}.</p>
  </dd>
  <dt>
    ChangeBackColor <em>id1</em> {<em>color</em>}
  </dt>
  <dd>
    <p>Set the background color of the widget numbered <em>id1</em> to {<em>color</em>}.</p>
  </dd>
  <dt>
    ChangeColorSet <em>id1</em> <em>id2</em>
  </dt>
  <dd>
    <p>Set the colorset of the widget numbered <em>id1</em> to <em>id2</em>. Specifying widget 0 sets the main window colorset.</p>
  </dd>
  <dt>
    ChangePosition <em>id1 x y</em>
  </dt>
  <dd>
    <p>Move the widget numbered <em>id1</em> to position (<em>x</em>,<em>y</em>).</p>
  </dd>
  <dt>
    ChangeSize <em>id1 width height</em>
  </dt>
  <dd>
    <p>Set the size of the widget numbered <em>id1</em> to (<em>width</em>,<em>height</em>).</p>
  </dd>
  <dt>
    ChangeFont <em>id1 newfont</em>
  </dt>
  <dd>
    <p>Set the font of the widget numbered <em>id1</em> to <em>newfont</em>.</p>
  </dd>
  <dt>
    WarpPointer <em>id</em>
  </dt>
  <dd>
    <p>Warp the mouse pointer into the widget numbered <em>id</em>.</p>
  </dd>
  <dt>
    WriteToFile <em>filename</em> {<em>str1</em>} {<em>str2</em>} etc
  </dt>
  <dd>
    <p>Write to the file <em>filename</em> the string which is the concatenation of all arguments <em>str1</em>, <em>str2</em>, etc.</p>
  </dd>
  <dt>
    Do {<em>command args</em>}
  </dt>
  <dd>
    <p>Execute the fvwm command inside the Do block. Any fvwm command as described in the fvwm2 man page can be used. Commands are sent from this module to the fvwm main program for processing. The length of the command and arguments can not exceed 988 characters.</p>
  </dd>
  <dt>
    Set $<em>var</em>={<em>str</em>1} {<em>str2</em>} etc
  </dt>
  <dd>
    <p>Concatenate all arguments to a string and set the variable $<em>var</em> to this string.</p>
  </dd>
  <dt>
    Quit: quit the program.
  </dt>
  <dd>
    
  </dd>
  <dt>
    SendSignal <em>id1 id2</em>
  </dt>
  <dd>
    <p>Send a message numbered <em>id2</em> to widget <em>id1</em>.</p>
  </dd>
  <dt>
    SendToScript <em>id_script</em> {<em>str1</em>1} {<em>str2</em>} etc
  </dt>
  <dd>
    <p>Send a message to the script identified by id_script. The message is the concatenation of str1, str2...</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>Key <em>Keyname</em> <em>Modifier</em> <em>id</em> <em>sig</em> <em>str1</em> <em>str2</em> etc</p>
  </dt>
  <dd>
    <p>Binds a keyboard key to the instruction</p><p>SendSignal <em>id</em> <em>sig</em></p><p>and sets the "last string" to the concatenation of str1, str2... (see the LastString function). The <em>Keyname</em> and <em>Modifiers</em> fields are defined as in the fvwm Key command.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">
<p>Most of commands use arguments. There are two kinds of arguments: numbers and strings. A numerical argument is a value which is between -32000 and +32000. A string is always surrounded with braces. Variables always begin with the character "$" and can contain both numbers and strings.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTIONS</h2>
        <div class="sectioncontent">
<p>All functions use arguments. Functions can return both a string and a number.  The syntax is: (function argument1 argument2 etc) Here is the complete list of arguments:</p>
<dl class='dl-vertical'>
  <dt>
    (GetTitle <em>id</em>)
  </dt>
  <dd>
    <p>Return the title of the widget numbered <em>id</em>.</p>
  </dd>
  <dt>
    (GetValue <em>id</em>)
  </dt>
  <dd>
    <p>Return the current value of the widget numbered <em>id</em>.</p>
  </dd>
  <dt>
    (GetMinValue <em>id</em>)
  </dt>
  <dd>
    <p>Return the current Min value of the widget numbered <em>id</em>.</p>
  </dd>
  <dt>
    (GetMaxValue <em>id</em>)
  </dt>
  <dd>
    <p>Return the current Max value of the widget numbered <em>id</em>.</p>
  </dd>
  <dt>
    (GetFore <em>id</em>)
  </dt>
  <dd>
    <p>Return the current RGB foreground value of the widget numbered <em>id</em> in the hex format RRGGBB.</p>
  </dd>
  <dt>
    (GetBack <em>id</em>)
  </dt>
  <dd>
    <p>Return the current RGB background value of the widget numbered <em>id</em> in the hex format RRGGBB.</p>
  </dd>
  <dt>
    (GetHilight <em>id</em>)
  </dt>
  <dd>
    <p>Return the current RGB hilight value of the widget numbered <em>id</em> in the hex format RRGGBB.</p>
  </dd>
  <dt>
    (GetShadow <em>id</em>)
  </dt>
  <dd>
    <p>Return the current RGB shadow value of the widget numbered <em>id</em> in the hex format RRGGBB.</p>
  </dd>
  <dt>
    (GetOutput {<em>str</em>} <em>int1 int2</em>)
  </dt>
  <dd>
    <p>Executes the command <em>str</em>, gets the standard output and returns the word which is in the line <em>int1</em> and in the position <em>int2</em>. If <em>int2</em> is equal to -1, GetOutput returns the complete line.</p>
  </dd>
  <dt>
    (NumToHex <em>int</em>)
  </dt>
  <dd>
    <p>Return the hexadecimal value of <em>int</em>.</p>
  </dd>
  <dt>
    (HexToNum {<em>str</em>})
  </dt>
  <dd>
    <p>Return the decimal value of <em>str</em>, <em>str</em> must be an hexadecimal value.</p>
  </dd>
  <dt>
    (Add <em>int1 int2</em>)
  </dt>
  <dd>
    <p>Return the result of (<em>int1</em>+<em>int2</em>).</p>
  </dd>
  <dt>
    (Mult <em>int1 int2</em>)
  </dt>
  <dd>
    <p>Return the result of (<em>int1</em>*<em>int2</em>).</p>
  </dd>
  <dt>
    (Div <em>int1 int2</em>)
  </dt>
  <dd>
    <p>Return the result of (<em>int1</em>/<em>int2</em>).</p>
  </dd>
  <dt>
    (StrCopy {<em>str</em>} <em>int1 int2</em>)
  </dt>
  <dd>
    <p>Return the string whom is between position int1 and int2. For example, (StrCopy {Hello} 1 2) returns {He}</p>
  </dd>
  <dt>
    (LaunchScript {<em>str</em>})
  </dt>
  <dd>
    <p>This function launches the script named str and returns an identification number. This number is necessary to use the functions SendToScript and ReceiveFromScript. The string str contains the script name and some arguments.</p>
  </dd>
  <dt>
    (GetScriptArgument {<em>int</em>})
  </dt>
  <dd>
    <p>This function returns the argument script used in the function LaunchScript. If int is equal to zero, GetScriptArgument returns the name of the script.</p>
  </dd>
  <dt>
    (GetScriptFather)
  </dt>
  <dd>
    <p>This function returns the identification number of the script father.</p>
  </dd>
  <dt>
    (ReceivFromScript {<em>int</em>})
  </dt>
  <dd>
    <p>This function returns the message sent by the script numbered int.</p>
  </dd>
  <dt>
    (RemainderOfDiv {<em>int1 int2</em>}): t
  </dt>
  <dd>
    <p>This function returns the remainder of the division (<em>int1</em>/<em>int2</em>).</p>
  </dd>
  <dt>
    (GetTime)
  </dt>
  <dd>
    <p>This function returns the time in seconds.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>(GetPid)</p>
  </dt>
  <dd>
    <p>This function returns the process id of the script.</p>
  </dd>
  <dt>
    <p>(Gettext {<em>str</em>})</p>
  </dt>
  <dd>
    <p>This function return the translation of <em>str</em> by using the locale catalog(s) defined with UseGettext.</p>
  </dd>
  <dt>
    <p>(SendMsgAndGet {<em>comId</em>} {<em>cmd</em>} <em>bool</em>)</p>
  </dt>
  <dd>
    <p>Sends the command <em>cmd</em> with identifier <em>comId</em> to an external program ready to communicate with the script using a protocol specific to FvwmScript. If <em>bool</em> is 0 FvwmScript does not wait for an answer from the external program. In this case the returned value is 1 if the message can be sent to the external program and 0 if this is not the case. If <em>bool</em> is 1, then FvwmScript waits for an answer from the external program and the return value is this answer (a line of no more than 32000 characters). If the communication fails, the returned value is 0. See the section <strong>A COMMUNICATION PROTOCOL</strong> for a description of the communication protocol used.</p>
  </dd>
  <dt>
    <p>(Parse {<em>str</em>} <em>int</em>)</p>
  </dt>
  <dd>
    <p>where <em>str</em> must be a string of the form: 	X1S1X2S2X3S3...SnXn where the Xn are numbers containing four decimal digits and where Sn are strings of length exactly Xn. The returned value is the string S<em>int</em>. If <em>int</em> is out of range (e.g., &gt;n) the returned value is the empty string. If <em>str</em> is not of the specified form, the return value is unpredictable (but empty in the average). This function is useful to handle strings returned by the SendMsgAndGet function.</p>
  </dd>
  <dt>
    <p>(LastString)</p>
  </dt>
  <dd>
    <p>This function returns the "current working string" for the Key instruction and the SendString command (see the <strong>COMMANDS</strong> section). At startup this string is empty, but when a Key binding is detected (respectively, a SendString command is received), then this string is set to the string associated to the instruction (respectively, to the command).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONDITIONAL LOOPS</h2>
        <div class="sectioncontent">
<p>There are three kinds of conditional loops. The instruction "If-Then-Else" has the following syntax: If $ToDo=={Open xcalc} Then  Do {Exec xcalc &} 	 		# List of instructions Else Begin  Do {Exec killall xcalc &} 	# List of instructions  Do {Exec echo xcalc killed &gt; /dev/console} End The second part "Else-Begin-End" is optional. If the loop contains only one instruction, Begin and End can be omitted. The instruction "While-Do" has the following syntax: While $i&lt;5 Do Begin  Set $i=(Add i 1)	 		# List of instructions End Two strings can be compared with "==" and two numbers can be compared with "&lt;", "&lt;=", "==", "&gt;=", "&gt;". The loop "For-Do-Begin-End" has the following syntax: For $i=1 To 20 Do Begin  Do {Exec xcalc &}			# List of instructions End</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>The following fvwm command may be executed at any time</p><p>SendToModule <em>ScriptName</em> SendString <em>id</em> <em>sig</em> <em>str</em></p><p>it sends to any module with alias or name which matches <em>ScriptName</em> the string</p><p>SendString <em>id</em> <em>sig</em> <em>str</em></p><p>When an FvwmScript receives such a message it sends to the Widget <em>id</em> the signal numbered <em>sig</em> and the string <em>str</em> can be obtained with the LastString function. Let us give an example. Say that you have a script MyScript with the widget: Widget 50 Property  Type PushButton  Title {Quit}  ... Main Case message of</p>
<pre>
  SingleClic:
  Begin
    Quit
  End
</pre>

<pre>
  1 :
  Begin
    Set $str = (LastString)
    If $str == {Quit} Then
      Quit
    Else
      ChangeTitle 33 $str
  End
</pre>
<p>End Then the command SendToModule MyScript SendString 50 1 str forces MyScript to exit if str is equal to "Quit" and if not it changes the title of Widget 33 to str.</p><p>This command can be used to change the window title</p><p>SendToModule <em>ScriptName</em> ChangeWindowTitle  <em>newTitle</em> <em>[oldTitle]</em></p><p>it causes that any module with alias or name which matches <em>ScriptName</em> changes its associated window title to <em>newTitle</em>. The optional argument <em>oldTitle</em> makes sense when there are several instances of the same script. It permits one to avoid changing the name  of all these instances by specifying the name of the window associated to the target script (see the example below).</p><p>+ I Module FvwmScript FvwmStorageSend "/dev/hda6" + I Wait FvwmStorageSend + I SendToModule FvwmStorageSend ChangeWindowTitle HDA6 + I Module FvwmScript FvwmStorageSend "/dev/hda1" + I Wait FvwmStorageSend + I SendToModule FvwmStorageSend ChangeWindowTitle HDA1 FvwmStorageSend</p><p>Without the FvwmStorageSend argument in the last case, the SendToModule command would have changed to HDA1 the name of both instances of FvwmStorageSend.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>You will find examples of scripts in the fvwm configuration directory.</p><p>FvwmScript-BellSetup, FvwmScript-KeyboardSetup, FvwmScript-PointerSetup and FvwmScript-ScreenSetup are a set of scripts that modify X settings. These scripts save preferences into a file named ~/.xinit-fvwmrc (If you want to use another file name, give it as the first argument of the script). If you want to load these preferences at every startup, you have to include the line  ".xinit-fvwmrc" in your .xinitrc (or .xsession) file before starting fvwm.</p><p>FvwmScript-BaseConfig modifies fvwm focus and paging mouse policy, window placement, opacity and other features of the move and resize commands, snap attraction and shading animation. This script saves preferences into a file named .FvwmBaseConfig in the user's data directory (i.e., $HOME/.fvwm or $FVWM_USERDIR if set). If you want to load these preferences at every startup you must add the line "Read .FvwmBaseConfig" in your fvwm configuration file. If you want to use another file name, give it as the first argument of the script. When you click on Ok or Apply an fvwm function that you may define named BaseConfigOkFunc or BaseConfigApplyFunc is called. This allows for reloading specific application styles that the script has destroyed (e.g., AddToFunc  BaseConfigOkFunc I Read MyAppStyle).</p><p>FvwmScript-Buttons is a buttons panel which can replace FvwmButtons (this script supports popup menus and requires xload, xclock, FvwmPager, TkDesk). FvwmScript-Colorset allows you to edit your colorset (see FvwmTheme). FvwmScript-Date allows you to set date and time. FvwmScript-FileBrowser is a file browser used by the other scripts. FvwmScript-Find is an elementary front-end to find. FvwmScript-Quit allows one to quit fvwm, restart fvwm or some other window manager, or shut down and reboot the computer. FvwmScript-ScreenDump is a screen dumper. FvwmScript-WidgetDemo is a pure example script. See the next section for FvwmScript-ComExample.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">A COMMUNICATION PROTOCOL</h2>
        <div class="sectioncontent">
<p>FvwmScript is a weak (but simple) programming language. If you need to deal with a lot of data and/or you need to use complex algorithms you should use an external program (in perl for example) and "send" the desired information to your FvwmScript script. The first approach is to use the GetOutput function. This is simple but you should rerun your external program each time you need information from it (and this may cause performances problems). The second approach is to use the SendMsgAndGet function which extends FvwmScript by using any programming language which can deal with named pipes (fifos). We describe this solution in this section. (A third approach is to use fvwm-themes-com from the fvwm-themes package, but in fact the SendMsgAndGet method is an implementation of fvwm-themes-com inside FvwmScript and this gives better performance).</p><p>Basically, you start an "external" program (the program for short) from your FvwmScript script (the script for short). This program runs in the background and you use the SendMsgAndGet function in your script to ask questions or to give instructions to the program. The program must strictly respect a certain communication protocol. First of all there is an identifier <em>comId</em> for the communication, it should contain the process id of the script for a good implementation of the protocol (use the GetPid function and pass the <em>comId</em> via an option to the program). The protocol uses two fifos, in the fvwm user directory, named: .tmp-com-in-<em>comId</em> and .tmp-com-out-<em>comId</em>. The program should create and listen on the .tmp-com-in-<em>comId</em> fifo. Then, when FvwmScript executes a function of the form:</p>
<pre>
       Set $answer = (SendMsgAndGet {<em>comId</em>} {<em>cmd</em>} <em>bool</em>)
</pre>
<p>FvwmScript writes the <em>cmd</em> on this fifo. This way the program can read the <em>cmd</em> and can execute the appropriate action (it should remove the in fifo to support multi-communications). If <em>bool</em> is 0, FvwmScript does not wait for an answer from the program and return 1 if the previous actions succeed and 0 if they failed (then the program should "go back" to the in fifo). If <em>bool</em> is 1, then FvwmScript waits (20 sec) for an answer from the program and in turn returns the answer to the script (note that <em>bool</em> is not passed to the program as it must know which commands need an answer). To answer, the program creates the .tmp-com-out-<em>comId</em> fifo and writes the answer on it. The program should wait until FvwmScript reads the answer and then it should remove the out fifo and go back to the in fifo. The answer should consist of one line of no more than 32000 characters (take a look at the Parse function to handle multiple lines as one line).</p><p>A simple way to understand this protocol and to write scripts and programs that use it is to take a look at the (not useful) example FvwmScript-ComExample and fvwm-script-ComExample.pl (that can found in the fvwm data directory). Moreover, this implementation of the protocol solves questions as: What to do if the script exits for a bad reason? What to do if the program exits for a bad reason? ...etc.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>FvwmScript crashes if widgets are accessed that have not been defined.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">

<pre>
       Frederic Cordier (cordie97@cui.unige.ch or f-cord96@univ-lyon1.fr).
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTRIBUTOR</h2>
        <div class="sectioncontent">

<pre>
       Eddy J. Gurney (eddy@gizmo.aa.ans.net).
</pre>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="FvwmSaveDesk1.1.html"><span aria-hidden="true">&larr;</span> FvwmSaveDesk1.1: Another fvwm desktop-layout saving module</a></li>
   <li class="next"><a href="FvwmScroll.1.html">FvwmScroll.1: The fvwm scroll-bar module <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
