<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lurker-prune: Lurker-prune  prunes the web-server cache</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lurker-prune  prunes the web-server cache">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lurker-prune (1) manual">
  <meta name="twitter:description" content="Lurker-prune  prunes the web-server cache">
  <meta name="twitter:image" content="https://www.carta.tech/images/lurker-lurker-prune-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lurker-prune.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lurker-prune (1) manual" />
  <meta property="og:description" content="Lurker-prune  prunes the web-server cache" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lurker-lurker-prune-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lurker-prune<small> (1)</small></h1>
        <p class="lead">Lurker-prune  prunes the web-server cache</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lurker-prune.1.html">
      <span itemprop="name">lurker-prune: Lurker-prune  prunes the web-server cache</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lurker/">
      <span itemprop="name">lurker</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lurker-prune.1.html">
      <span itemprop="name">lurker-prune: Lurker-prune  prunes the web-server cache</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lurker-prune</strong> [-c &lt;config-file&gt;]  [-f &lt;frontend&gt;]  [-m &lt;days&gt;]  [-a &lt;days&gt;]  [-p -v]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lurker-prune</strong> prunes obsolete or stale files from the web-server accessible cache. This command must be run at regular intervals from eg. a cronjob. If it is not run, then the lurker web interface will appear to not be receiving new mail or have contradictory links between pages. A good interval is every 15 minutes and should not exceed one hour.</p><p>Be aware that it is possible for an attacker to use up a large amount of disk space through lurker. An attacker could request many distinct lurker web pages each of which is cached, thus using disk space. Please setup a quota for the lurker user, read your logs, and follow whatever site-specific policies you have for denial of service.</p><p>A good script to run in parallel with normal lurker-prune use is one similar to: if test `du -s /var/www/lurker | cut -f1` -gt 32768; then lurker-prune -p; fi This might help guard against a potential denial-of-service attack.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-c config-file</strong>
  </dt>
  <dd>
    <p>Use this config file for lurker settings.</p>
  </dd>
  <dt>
    <strong>-f frontend</strong>
  </dt>
  <dd>
    <p>The directory of the lurker frontend cache to clean. You can selectively purge cache with this option. By default, lurker-prune will clean all frontends specified in the config file.</p>
  </dd>
  <dt>
    <strong>-m days</strong>
  </dt>
  <dd>
    <p>Keep cached files for at most this many days. Any cached file regardless of last access will be deleted after the specified number of days (defaults to 7). Files which are obsolete due to new mail, config changes, or no accesses will be deleted earlier. Deleted files will be automagically regenerated if needed.</p>
  </dd>
  <dt>
    <strong>-a days</strong>
  </dt>
  <dd>
    <p>Kill cache files not accessed for this many days. Any cached file which has not been read from for the specified number of days (defaults to 1) will be deleted. Files which are obsolete due to new mail or config changes will be deleted earlier.  Deleted files will be automagically regenerated if needed.</p>
  </dd>
  <dt>
    <strong>-p</strong>
  </dt>
  <dd>
    <p>Purge mode. Delete all cache files even if they do not appear to be expired. This will only deletes files that are generated by lurker, and is thus preferable to rm */*.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>Verbose operation. Indicate which files are being deleted and the reasoning behind lurker's decisions. This can help in tracking down why some files are deleted and not others.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lurker-prune&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/lurker-index.1.html"><strong>lurker-index</strong>(1)</a>, <a href="../man1/lurker-params.1.html"><strong>lurker-params</strong>(1)</a>, <a href="../man1/lurker-list.1.html"><strong>lurker-list</strong>(1)</a></p><p>lurker documentation on http://lurker.sourceforge.net/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2002: Wesley W. Terpstra &lt;terpstra@users.sourceforge.net&gt;</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; version 2.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Before reporting a bug, please confirm that the bug you found is still present in the latest official release. If the problem persists, then send mail with instructions describing how to reproduce the bug to &lt;lurker-users@lists.sourceforge.net&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lurker-params.1.html"><span aria-hidden="true">&larr;</span> lurker-params.1: Lurker-params  parses parameters from the config file</a></li>
   <li class="next"><a href="lurker-regenerate.1.html">lurker-regenerate.1: Lurker-regenerate  imports messages into the archive <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
