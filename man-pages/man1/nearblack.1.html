<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nearblack: Nearblack convert nearly black/white borders to black</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Nearblack convert nearly black/white borders to black">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nearblack (1) manual">
  <meta name="twitter:description" content="Nearblack convert nearly black/white borders to black">
  <meta name="twitter:image" content="https://www.carta.tech/images/gdal-bin-nearblack-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nearblack.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nearblack (1) manual" />
  <meta property="og:description" content="Nearblack convert nearly black/white borders to black" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gdal-bin-nearblack-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nearblack<small> (1)</small></h1>
        <p class="lead">Nearblack convert nearly black/white borders to black</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nearblack.1.html">
      <span itemprop="name">nearblack: Nearblack convert nearly black/white borders to black</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gdal-bin/">
      <span itemprop="name">gdal-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nearblack.1.html">
      <span itemprop="name">nearblack: Nearblack convert nearly black/white borders to black</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
nearblack [-of format] [-white | [-color c1,c2,c3...cn]*] [-near dist] [-nb non_black_pixels]
          [-setalpha] [-setmask] [-o outfile] [-q]  [-co "NAME=VALUE"]* infile
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This utility will scan an image and try to set all pixels that are nearly or exactly black, white or one or more custom colors around the collar to black or white. This is often used to 'fix up' lossy compressed airphotos so that color pixels can be treated as transparent when mosaicking.</p>
<dl class='dl-vertical'>
  <dt>
    <strong></strong><strong>-o</strong><strong> </strong><em>outfile</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>The name of the output file to be created. Newly created files are created with the HFA driver by default (Erdas Imagine - .img)</p>
  </dd>
  <dt>
    <strong></strong><strong>-of</strong><strong> </strong><em>format</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>(GDAL 1.8.0 or later) Select the output format. Use the short format name (GTiff for GeoTIFF for examle).</p>
  </dd>
  <dt>
    <strong></strong><strong>-co</strong><strong> </strong><em>'NAME=VALUE'</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>(GDAL 1.8.0 or later) Passes a creation option to the output format driver. Multiple <strong>-co</strong> options may be listed. See format specific documentation for legal creation options for each format. Only valid when creating a new file</p>
  </dd>
  <dt>
    <strong></strong><strong>-white</strong><strong>:</strong><strong></strong>
  </dt>
  <dd>
    <p>Search for nearly white (255) pixels instead of nearly black pixels.</p>
  </dd>
  <dt>
    <strong></strong><strong>-color</strong><strong> </strong><em>c1,c2,c3...cn</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>(GDAL &gt;= 1.9.0) Search for pixels near the specified color. May be specified multiple times. When -color is specified, the pixels that are considered as the collar are set to 0.</p>
  </dd>
  <dt>
    <strong></strong><strong>-near</strong><strong> </strong><em>dist</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>Select how far from black, white or custom colors the pixel values can be and still considered near black, white or custom color. Defaults to 15.</p>
  </dd>
  <dt>
    <strong></strong><strong>-nb</strong><strong> </strong><em>non_black_pixels</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>number of non-black pixels that can be encountered before the giving up search inwards. Defaults to 2.</p>
  </dd>
  <dt>
    <strong></strong><strong>-setalpha</strong><strong>:</strong><strong></strong>
  </dt>
  <dd>
    <p>(GDAL 1.8.0 or later) Adds an alpha band if the output file is specified and the input file has 3 bands, or sets the alpha band of the output file if it is specified and the input file has 4 bands, or sets the alpha band of the input file if it has 4 bands and no output file is specified. The alpha band is set to 0 in the image collar and to 255 elsewhere.</p>
  </dd>
  <dt>
    <strong></strong><strong>-setmask</strong><strong>:</strong><strong></strong>
  </dt>
  <dd>
    <p>(GDAL 1.8.0 or later) Adds a mask band to the output file, or adds a mask band to the input file if it does not already have one and no output file is specified. The mask band is set to 0 in the image collar and to 255 elsewhere.</p>
  </dd>
  <dt>
    <strong></strong><strong>-q</strong><strong>:</strong><strong></strong>
  </dt>
  <dd>
    <p>(GDAL 1.8.0 or later) Suppress progress monitor and other non-error output.</p>
  </dd>
  <dt>
    <strong></strong><em>infile</em><strong>:</strong><em></em>
  </dt>
  <dd>
    <p>The input file. Any GDAL supported format, any number of bands, normally 8bit Byte bands.</p>
  </dd>

</dl>
<p>The algorithm processes the image one scanline at a time. A scan 'in' is done from either end setting pixels to black or white until at least 'non_black_pixels' pixels that are more than 'dist' gray levels away from black, white or custom colors have been encountered at which point the scan stops. The nearly black, white or custom color pixels are set to black or white. The algorithm also scans from top to bottom and from bottom to top to identify indentations in the top or bottom.</p><p>The processing is all done in 8bit (Bytes).</p><p>If the output file is omitted, the processed results will be written back to the input file - which must support update.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Frank Warmerdam warmerdam@pobox.com</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ne.1.html"><span aria-hidden="true">&larr;</span> ne.1: A nice editor</a></li>
   <li class="next"><a href="neato.1.html">neato.1: Filter for drawing directed graphs  neato - filter for drawing undirected graphs  twopi - filter for radial layouts of graphs  circo - filter for circular layout of graphs  fdp - filter for drawing undirected graphs  sfdp - filter for drawing large undirected graphs  patchwork - filter for tree maps <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
