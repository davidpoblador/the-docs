<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>coqdep: Compute inter-module dependencies for coq and caml programs</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compute inter-module dependencies for coq and caml programs">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="coqdep (1) manual">
  <meta name="twitter:description" content="Compute inter-module dependencies for coq and caml programs">
  <meta name="twitter:image" content="https://www.carta.tech/images/coq-coqdep-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/coqdep.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="coqdep (1) manual" />
  <meta property="og:description" content="Compute inter-module dependencies for coq and caml programs" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/coq-coqdep-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">coqdep<small> (1)</small></h1>
        <p class="lead">Compute inter-module dependencies for coq and caml programs</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/coqdep.1.html">
      <span itemprop="name">coqdep: Compute inter-module dependencies for coq and caml programs</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/coq/">
      <span itemprop="name">coq</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/coqdep.1.html">
      <span itemprop="name">coqdep: Compute inter-module dependencies for coq and caml programs</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>coqdep</strong> [ <strong>-w</strong> ] [ <strong>-I</strong><em></em><strong>directory</strong> ] [ <strong>-coqlib</strong><em></em><strong>directory</strong> ] [ <strong>-c</strong> ] [ <strong>-i</strong> ] [ <strong>-D</strong> ] [ <strong>-slash</strong> ] <em>filename ...</em> <em>directory ...</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>coqdep</strong> compute inter-module dependencies for Coq and Caml programs, and prints the dependencies on the standard output in a format readable by make. When a directory is given as argument, it is recursively looked at.</p><p>Dependencies of Coq modules are computed by looking at <em>Require</em> commands (Require, Require Export, Require Import), <em>Declare</em> <em>ML</em> <em>Module</em> commands and <em>Load</em> commands. Dependencies relative to modules from the Coq library are not printed.</p><p>Dependencies of Caml modules are computed by looking at <em>open</em> directives and the dot notation <em>module.value</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Prints the dependencies of Caml modules. (On Caml modules, the behaviour is exactly the same as ocamldep).</p>
  </dd>
  <dt>
    <p><strong>-w</strong></p>
  </dt>
  <dd>
    <p>Prints a warning if a Coq command <em>Declare</em> <em>ML</em> <em>Module</em> is incorrect. (For instance, you wrote `Declare ML Module "A".', but the module A contains #open "B"). The correct command is printed (see option -D). The warning is printed on standard error.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>This commands looks for every command <em>Declare</em> <em>ML</em> <em>Module</em> of each Coq file given as argument and complete (if needed) the list of Caml modules. The new command is printed on the standard output. No dependency is computed with this option.</p>
  </dd>
  <dt>
    <p><strong>-slash</strong></p>
  </dt>
  <dd>
    <p>Prints paths using a slash instead of the OS specific separator. This option is useful when developping under Cygwin.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em></em><strong>directory</strong></p>
  </dt>
  <dd>
    <p>The files .v .ml .mli of the directory <em>directory</em> are taken into account during the calculus of dependencies, but their own dependencies are not printed.</p>
  </dd>
  <dt>
    <p><strong>-coqlib</strong><em></em><strong>directory</strong></p>
  </dt>
  <dd>
    <p>Indicates where is the Coq library. The default value has been determined at installation time, and therefore this option should not be used under normal circumstances.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO coqdep&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ocamlc.1.html"><strong>ocamlc</strong>(1)</a>, <a href="../man1/coqc.1.html"><strong>coqc</strong>(1)</a>, <a href="../man1/make.1.html"><strong>make</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Lexers (for Coq and Caml) correctly handle nested comments and strings.</p><p>The treatment of symbolic links is primitive.</p><p>If two files have the same name, in two different directories, a warning is printed on standard error.</p><p>There is no way to limit the scope of the recursive search for directories.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Consider the files (in the same directory):</p><p>	A.ml B.ml C.ml D.ml X.v Y.v and Z.v</p><p>where</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>\+</strong></p>
  </dt>
  <dd>
    <p>D.ml contains the commands `open A', `open B' and `type t = C.t' ;</p>
  </dd>
  <dt>
    <p><strong>\+</strong></p>
  </dt>
  <dd>
    <p>Y.v contains the command `Require X' ;</p>
  </dd>
  <dt>
    <p><strong>\+</strong></p>
  </dt>
  <dd>
    <p>Z.v contains the commands `Require X' and `Declare ML Module "D"'.</p>
  </dd>

</dl>
<p>To get the dependencies of the Coq files:</p><ul>
<li><p><strong></strong> example% coqdep -I . *.v</p>
<pre>
<strong>Z.vo: Z.v ./X.vo ./D.cmo</strong>
<strong>Y.vo: Y.v ./X.vo</strong>
<strong>X.vo: X.v</strong>
</pre>
</li>
</ul><p>With a warning:</p><ul>
<li><p><strong></strong> example% coqdep -w -I . *.v</p>
<pre>
<strong>Z.vo: Z.v ./X.vo ./D.cmo</strong>
<strong>Y.vo: Y.v ./X.vo</strong>
<strong>X.vo: X.v</strong>
### Warning : In file Z.v, the ML modules declaration should be
### Declare ML Module "A" "B" "C" "D".
</pre>
</li>
</ul><p>To get only the Caml dependencies:</p><ul>
<li><p><strong></strong> example% coqdep -c -I . *.ml</p>
<pre>
<strong>D.cmo: D.ml ./A.cmo ./B.cmo ./C.cmo</strong>
<strong>D.cmx: D.ml ./A.cmx ./B.cmx ./C.cmx</strong>
<strong>C.cmo: C.ml</strong>
<strong>C.cmx: C.ml</strong>
<strong>B.cmo: B.ml</strong>
<strong>B.cmx: B.ml</strong>
<strong>A.cmo: A.ml</strong>
<strong>A.cmx: A.ml</strong>
</pre>
</li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report any bug to <strong>coq-bugs@pauillac.inria.fr</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="coqchk.opt.1.html"><span aria-hidden="true">&larr;</span> coqchk.opt.1: The coq proof checker compiled libraries verifier</a></li>
   <li class="next"><a href="coqdoc.1.html">coqdoc.1: A documentation tool for the coq proof assistant <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
