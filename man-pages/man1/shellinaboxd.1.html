<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>shellinaboxd: Publish command line shell through ajax interface</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Publish command line shell through ajax interface">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="shellinaboxd (1) manual">
  <meta name="twitter:description" content="Publish command line shell through ajax interface">
  <meta name="twitter:image" content="https://www.carta.tech/images/shellinabox-shellinaboxd-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/shellinaboxd.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="shellinaboxd (1) manual" />
  <meta property="og:description" content="Publish command line shell through ajax interface" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/shellinabox-shellinaboxd-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">shellinaboxd<small> (1)</small></h1>
        <p class="lead">Publish command line shell through ajax interface</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shellinaboxd.1.html">
      <span itemprop="name">shellinaboxd: Publish command line shell through ajax interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/shellinabox/">
      <span itemprop="name">shellinabox</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/shellinaboxd.1.html">
      <span itemprop="name">shellinaboxd: Publish command line shell through ajax interface</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>shellinaboxd</strong></p>
  </dt>
  <dd>
    <p>[&nbsp;<strong>-b</strong>&nbsp;| <strong>--background</strong>[<strong>=</strong><em>pidfile</em>]&nbsp;] [&nbsp;<strong>-c</strong>&nbsp;| <strong>--cert=</strong><em>certdir</em>&nbsp;] [&nbsp;<strong>--cert-fd=</strong><em>fd</em>&nbsp;] [&nbsp;<strong>--css=</strong><em>filename</em>&nbsp;] [&nbsp;<strong>--cgi</strong>[<strong>=</strong><em>portrange</em>]&nbsp;] [&nbsp;<strong>-d</strong>&nbsp;| <strong>--debug</strong>&nbsp;] [&nbsp;<strong>-f</strong>&nbsp;| <strong>--static-file=</strong><em>url</em>:<em>file</em>&nbsp;] [&nbsp;<strong>-g</strong>&nbsp;| <strong>--group=</strong><em>gid</em>&nbsp;] [&nbsp;<strong>-h</strong>&nbsp;| <strong>--help</strong>&nbsp;] [&nbsp;<strong>--linkify</strong>=[<strong>none</strong>|<strong>normal</strong>|<strong>aggressive</strong>]&nbsp;] [&nbsp;<strong>--localhost-only</strong>&nbsp;] [&nbsp;<strong>--no-beep</strong>&nbsp;] [&nbsp;<strong>-n</strong>&nbsp;| <strong>--numeric</strong>&nbsp;] [&nbsp;<strong>--pidfile=</strong><em>pidfile</em>&nbsp;] [&nbsp;<strong>-p</strong>&nbsp;| <strong>--port=</strong><em>port</em>&nbsp;] [&nbsp;<strong>-s</strong>&nbsp;| <strong>--service=</strong><em>service</em>&nbsp;] [&nbsp;<strong>-t</strong>&nbsp;| <strong>--disable-ssl</strong>&nbsp;] [&nbsp;<strong>--disable-ssl-menu</strong>&nbsp;] [&nbsp;<strong>-q</strong>&nbsp;| <strong>--quiet</strong>&nbsp;] [&nbsp;<strong>-u</strong>&nbsp;| <strong>--user=</strong><em>uid</em>&nbsp;] [&nbsp;<strong>--user-css=</strong><em>styles</em>&nbsp;] [&nbsp;<strong>-v</strong>&nbsp;| <strong>--verbose</strong>&nbsp;] [&nbsp;<strong>--version</strong>&nbsp;]</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>shellinaboxd</strong> daemon implements a webserver that listens on the specified <em>port</em>. The web server publishes one or more <em>services</em> that will be displayed in a VT100 emulator implemented as an AJAX web application. By default, the port is 4200 and the default service URL is <em>http://localhost:4200/</em>.</p><p>If no particular <em>service</em> was requested, the server launches <strong>/bin/login</strong> querying the user for their username and password. It then starts the user's default login shell.</p><p>Any modern JavaScript and CSS enabled browser will be able to access the published <em>service</em> without requiring additional plugins.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The following command line parameters control the operation of the daemon:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong>&nbsp;| <strong>--background</strong>[<strong>=</strong><em>pidfile</em>]</p>
  </dt>
  <dd>
    <p>Launch <strong>shellinaboxd</strong> as a background daemon process. Optionally, write the process id to <em>pidfile</em>.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>&nbsp;|&nbsp;<strong>--cert=</strong><em>certdir</em></p>
  </dt>
  <dd>
    <p>If built with SSL/TLS support enabled, the daemon will look in <em>certdir</em> for any certificates. If unspecified, this defaults to the current working directory.</p><p>If the browser negotiated a <strong>Server Name Identification</strong> the daemon will look for a matching <em>certificate-</em><em>SERVERNAME</em><em>.pem</em> file. This allows for virtual hosting of multiple server names on the same IP address and port.</p><p>If no <strong>SNI</strong> handshake took place, it falls back on using the certificate in the <em>certificate.pem</em> file.</p><p>The administrator should make sure that there are matching certificates for each of the virtual hosts on this server, and that there is a generic <em>certificate.pem</em> file.</p><p>If no suitable certificate is installed, <strong>shellinaboxd</strong> will attempt to invoke <strong>/usr/bin/openssl</strong> and create a new self-signed certificate. This only succeeds if, after dropping privileges, <strong>shellinaboxd</strong> has write permissions for <em>certdir</em>.</p><p>Most browsers show a warning message when encountering a self-signed certificate and then allow the user the option of accepting the certificate. Due to this usability problem, and due to the perceived security implications, the use of auto-generated self-signed certificates is intended for testing or in intranet deployments, only.</p>
  </dd>
  <dt>
    <p><strong>--cert-fd=</strong><em>fd</em></p>
  </dt>
  <dd>
    <p>Instead of providing a <strong>--cert</strong> directory, it is also possible to provide a filedescriptor <em>fd</em> where the certificate and key can be retrieved. While this option disables <strong>SNI</strong> support, it does offer an alternative solution for securely providing the private key data to the daemon.</p>
  </dd>
  <dt>
    <p><strong>--css=</strong><em>filename</em></p>
  </dt>
  <dd>
    <p>Sometimes, it is not necessary to replace the entire style sheet using the <strong>--static-file</strong> option. But instead a small incremental change should be made to the visual appearance of the terminal. The <strong>--css</strong> option provides a means to append additional style rules to the end of the default <strong>styles.css</strong> sheet. More than one <strong>--css</strong> option can be given on the same command line.</p>
  </dd>
  <dt>
    <p><strong>--cgi</strong>[<strong>=</strong><em>portrange</em>]</p>
  </dt>
  <dd>
    <p>Instead of running <strong>shellinaboxd</strong> as a permanent process, it can be demand-loaded as a CGI web server extension. When doing so, it will spawn a server that lives for the duration of the user's session. If an optional <em>portrange</em> of the form <strong>MINPORT-MAXPORT</strong> has been provided, the server limits itself to these port numbers. They should be configured to pass through the firewall.</p><p>The <strong>--cgi</strong> option is mutually exclusive with the <strong>--background</strong>, <strong>--pidfile</strong> and <strong>--port</strong> options.</p><p>In order to be useful as a CGI script, the <strong>shellinaboxd</strong> binary probably will have to be made <strong>setuid-root</strong>. This is currently a discouraged configuration. Use with care.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>&nbsp;|&nbsp;<strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Enables debugging mode, resulting in lots of log messages on <em>stderr</em>. This option is mutually exclusive with <strong>--quiet</strong> and <strong>--verbose</strong>.</p>
  </dd>
  <dt>
    <p><strong>-f</strong>&nbsp;|&nbsp;<strong>--static-file=</strong><em>url</em>:<em>file</em></p>
  </dt>
  <dd>
    <p>The daemon serves various built-in resources from URLs underneath the <em>service</em> mount points. One or more <strong>--static-file</strong> options allow for overriding these resources with customized externally provided <em>files</em>. The <em>url</em> can either be an absolute or a relative path. In the former case, it overrides exactly one built-in resource for one specific <em>service</em>, whereas in the latter case it overrides resources for each defined <em>service</em>.</p><p>The following resources are available for customization:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>beep.wav</strong></p>
  </dt>
  <dd>
    <p>audio sample that gets played whenever the terminal BEL is sounded.</p>
  </dd>
  <dt>
    <p><strong>favicon.ico</strong></p>
  </dt>
  <dd>
    <p>favicon image file that is displayed in the browser's navigation bar.</p>
  </dd>
  <dt>
    <p><strong>ShellInABox.js</strong></p>
  </dt>
  <dd>
    <p>JavaScript file implementing the AJAX terminal emulator.</p>
  </dd>
  <dt>
    <p><strong>styles.css</strong></p>
  </dt>
  <dd>
    <p>CSS style file that controls the visual appearance of the terminal.</p>
  </dd>
  <dt>
    <p><strong>print-styles.css</strong></p>
  </dt>
  <dd>
    <p>CSS style file that controls the visual appearance of printed pages when using the VT100 transparent printing feature.</p>
  </dd>

</dl>
<p>It is not recommended to override the root HTML page for a particular <em>service</em>. Instead, move the service to an anonymous URL and serve a <em>static-file</em> that references the <em>service</em> in an <em>&lt;iframe&gt;</em>.</p><p>Instead of a <em>file</em>, it is possible to provide the name of a directory. This turns <strong>shellinaboxd</strong> into a simple web server that publishes all of the files in that particular directory. This option can be helpful when publishing a more complex root HTML page.</p>
  </dd>
  <dt>
    <p><strong>-g</strong>&nbsp;|&nbsp;<strong>--group=</strong><em>gid</em></p>
  </dt>
  <dd>
    <p>When started as <strong>root</strong>, the server drops most privileges at start up. Unless overridden by the <strong>--group</strong> option, it switches to <strong>nogroup</strong>.</p><p>When already running as an unprivileged user, group changes are not possible.</p><p>If running with SSL/TLS support enabled, the certificates must be accessible to the unprivileged user and/or group that the daemon runs as.</p>
  </dd>
  <dt>
    <p><strong>-h</strong>&nbsp;|&nbsp;<strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display a brief usage message showing the valid command line parameters.</p>
  </dd>
  <dt>
    <p><strong>--linkify</strong>=[<strong>none</strong>|<strong>normal</strong>|<strong>aggressive</strong>]</p>
  </dt>
  <dd>
    <p>the daemon attempts to recognize URLs in the terminal output and makes them clickable. This is not neccessarily a fool-proof process and both false negatives and false positives are possible. By default, only URLs starting with a well known protocol of <strong>http://</strong>,<strong>https://</strong>,<strong>ftp://</strong>,<strong>or</strong>mailto: are recognized. In <strong>aggressive</strong> mode, anything that looks like a hostname, URL or e-mail address is recognized, even if not preceded by a protocol.</p>
  </dd>
  <dt>
    <p><strong>--localhost-only</strong></p>
  </dt>
  <dd>
    <p>Normally, <strong>shellinaboxd</strong> listens on all available network interfaces. When operating behind a reverse-proxy that is not always desirable. This command line option tells the daemon to only listen on the loopback interface.</p>
  </dd>
  <dt>
    <p><strong>--no-beep</strong></p>
  </dt>
  <dd>
    <p>not only are audible signals undesired in some working environments, but browser support for media playback is often buggy, too. Setting this option suppresses all audio playback and enables the visual bell by default.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>&nbsp;|&nbsp;<strong>--numeric</strong></p>
  </dt>
  <dd>
    <p>When running in <strong>--verbose</strong> mode, the daemon prints an <em>Apache</em>-style log file to <em>stderr</em>. By default, host names of peers get resolved before logging them. As DNS look-ups can be expensive, it is possible to request logging of numeric IP addresses, instead.</p>
  </dd>
  <dt>
    <p><strong>--pidfile=</strong><em>pidfile</em></p>
  </dt>
  <dd>
    <p>The <strong>shellinaboxd</strong> daemon can be configured to store its process identifier in <em>pidfile</em>.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>&nbsp;|&nbsp;<strong>--port=</strong><em>port</em></p>
  </dt>
  <dd>
    <p>Unless overridden by this option, the web server listens on port 4200 for incoming HTTP and HTTPS requests.</p><p><strong>shellinaboxd</strong> can distinguish between SSL/TLS requests and unencrypted requests. It also knows how to negotiate <strong>Server Name</strong> <strong>Identification</strong>, allowing the use of a single port for all types of requests even when virtual hosting.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>&nbsp;|&nbsp;<strong>--service=</strong><em>service</em></p>
  </dt>
  <dd>
    <p>One or more services can be registered on different URL paths: <em>SERVICE</em> := &lt;url-path&gt; ':' <em>APPLICATION</em></p><p>There is a pre-defined <em>application</em>, 'LOGIN', which causes the daemon to invoke <strong>/bin/login</strong> requesting the user's name and password, and starting his login shell. This is the default option for the <strong>root</strong> user, if no <strong>--service</strong> was defined. Starting <strong>/bin/login</strong> requires <strong>root</strong> privileges.</p><p>There is another pre-defined <em>application</em>, 'SSH'. Instead of invoking <strong>/bin/login</strong>, it calls <strong>ssh</strong>. This is the default option for unprivileged users, if no <strong>--service</strong> was defined. This operation is available to both privileged and regular users. If the optional <em>host</em> parameter is omitted, <strong>shellinaboxd</strong> connects to <strong>localhost</strong>.</p><p>Alternatively, an <em>application</em> can be specified by providing a <em>user</em> description, a working directory, and a command line: <em>APPLICATION</em> := 'LOGIN' | 'SSH' [ ':' &lt;host&gt; ] |  <em>USER</em> ':' <em>CWD</em> ':' <em>CMD</em></p><p>The keyword 'AUTH' indicates that the <em>user</em> information should be requested interactively, instead of being provided as part of the <em>service</em> description: <em>USER</em> := 'AUTH' | &lt;username&gt; ':' &lt;groupname&gt;</p><p>The working directory can either be given as an absolute path, or it can be the user's home directory: <em>CWD</em> := 'HOME' : &lt;dir&gt;</p><p>The command that <strong>shellinaboxd</strong> executes can either be specified as the 'SHELL' keyword, denoting the user's default login shell, or an arbitrary command line: <em>CMD</em> := 'SHELL' : &lt;cmdline&gt;</p><p>The &lt;cmdline&gt; supports expansion of variables of the form ${VAR}. Supported variables are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>${columns}</strong></p>
  </dt>
  <dd>
    <p>number of columns.</p>
  </dd>
  <dt>
    <p><strong>${gid}</strong></p>
  </dt>
  <dd>
    <p>numeric group id.</p>
  </dd>
  <dt>
    <p><strong>${group}</strong></p>
  </dt>
  <dd>
    <p>group name.</p>
  </dd>
  <dt>
    <p><strong>${home}</strong></p>
  </dt>
  <dd>
    <p>home directory.</p>
  </dd>
  <dt>
    <p><strong>${lines}</strong></p>
  </dt>
  <dd>
    <p>number of rows.</p>
  </dd>
  <dt>
    <p><strong>${peer}</strong></p>
  </dt>
  <dd>
    <p>name of remote peer.</p>
  </dd>
  <dt>
    <p><strong>${uid}</strong></p>
  </dt>
  <dd>
    <p>numeric user id.</p>
  </dd>
  <dt>
    <p><strong>${url}</strong></p>
  </dt>
  <dd>
    <p>the URL that serves the terminal session.</p>
  </dd>
  <dt>
    <p><strong>${user}</strong></p>
  </dt>
  <dd>
    <p>user name.</p>
  </dd>

</dl>
<p>Other than the default environment variables of <strong>$TERM</strong>, <strong>$COLUMNS</strong> and <strong>$LINES</strong>, services can have environment variables passed to them, by preceding the &lt;cmdline&gt; with space separated variable assignments of the form <em>KEY</em>=<em>VALUE</em>.</p><p>The &lt;cmdline&gt; supports single and double quotes, as well as backslashes for escaping characters in the familiar fashion.</p><p>Please note that when invoking <strong>shellinaboxd</strong> from a command line shell, additional quoting might be required to prevent the shell from expanding the variables prior to passing them to the daemon.</p><p>If no explicit <strong>--service</strong> has been requested, <strong>shellinaboxd</strong> defaults to attaching the default service to the root directory of the web server. For <strong>root</strong>, this is <strong>/bin/login</strong>, and for unprivileged users, this is <strong>ssh localhost</strong>. This is equivalent to saying <strong>--service=/:LOGIN</strong>, or <strong>--service=/:SSH</strong>, respectively.</p>
  </dd>
  <dt>
    <p><strong>-t</strong>&nbsp;|&nbsp;<strong>--disable-ssl</strong></p>
  </dt>
  <dd>
    <p>By default, <strong>shellinaboxd</strong> redirectes all incoming HTTP requests to their equivalent HTTPS URLs. If promoting of connections to encrypted SSL/TLS sessions is undesired, this behavior can be disabled.</p><p>This option is also useful during testing or for deployment in trusted intranets, if SSL certificates are unavailable.</p>
  </dd>
  <dt>
    <p><strong>--disable-ssl-menu</strong></p>
  </dt>
  <dd>
    <p>If the user should not be able to switch between HTTP and HTTPS modes, this choice can be removed from the context menu. The user can still make this choice by directly going to the appropriate URL.</p>
  </dd>
  <dt>
    <p><strong>-q</strong>&nbsp;|&nbsp;<strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>Surpresses all messages to <em>stderr</em>. This option is mutually exclusive with <strong>--debug</strong> and <strong>--verbose</strong>.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>&nbsp;|&nbsp;<strong>--user=</strong><em>uid</em></p>
  </dt>
  <dd>
    <p>If started as <strong>root</strong>, the server drops privileges by changing to <strong>nobody</strong>, unless the <em>uid</em> has been overridden by this option.</p><p>For more details, refer to the description of the <strong>--group</strong> option.</p>
  </dd>
  <dt>
    <p><strong>--user-css=</strong><em>styles</em></p>
  </dt>
  <dd>
    <p>The visual appearance of the terminal emulator can be customized through user-selectable style sheets. These style sheets will show up as options in the right-click context menu of the terminal emulator.</p><p>Styles sheet make up either independently selectable on/off options, or multiple style sheets can be grouped together. When forming a group, only one member of the group can be active at any given time. This is used for multiple-choice options.</p><p>Multiple independent groups are separated by semicolons: <em>STYLES</em> := <em>GROUP</em> { ';' <em>GROUP</em> }*</p><p>The members of a group are separated by commas: <em>GROUP</em> := <em>OPTION</em> { ',' OPTION }*</p><p>Groups with exactly one member are used for options that can be independently turned on and off.</p><p>Options include a human readable label that will be shown in the context menu, followed by the name of the CSS file. They also must include an indicator showing whether the option should initially be turned on or turned off. Within a group, exactly one option should be turned on: <em>OPTION</em> := &lt;label&gt; ':' [ '-' | '+' ] &lt;css-file&gt;</p><p>The user's selection of options will be persisted in a cookie. This means, the default settings of options as passed on the command line only takes effect the very first time the user visits the terminal emulator in his browser. On all subsequent visits, the user's preferences take precedence.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>&nbsp;|&nbsp;<strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Enables logging of <em>Apache</em>-style log file to <em>stderr</em>. This option is mutually exclusive with <strong>--debug</strong> and <strong>--quiet</strong>.</p>
  </dd>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>Prints the version number of the binary and exits.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>There are no configuration files or permanent settings for <strong>shellinaboxd</strong>.</p><p>A small number of run-time configuration options are available from a context menu that becomes available when clicking the right mouse button. These options get persisted in a browser cookie.</p><p>Many sites already have a web server running and would like to integrate <strong>shellinaboxd</strong> into their existing site. This is most commonly done by means of a reverse-proxy entry for the main web server. For <em>Apache</em> this would require adding an option such as:  &lt;Location /shell&gt;</p>
<pre>
     ProxyPass  http://localhost:4200/
     Order      allow,deny
     Allow      from all
</pre>
<p> &lt;/Location&gt;</p><p>If you are using a different web server, refer to that server's documentation on how to configure reverse proxy operations.</p><p>When using a reverse proxy, the <strong>--localhost-only</strong> option would normally be enabled as well. In addition, the <strong>--disable-ssl</strong> might also be considered depending on the exact configuration details of the reverse proxy.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>shellinaboxd</strong></p>
  </dt>
  <dd>
    <p>Attaches a web-enabled login shell to <em>https://localhost:4200/</em>. If the user connected without SSL, the session will automatically be promoted. Unless SSL certificates can be found in the current directory, the daemon will automatically generate suitable self-signed certificates. If the command was invoked by a non-<strong>root</strong> user, the daemon uses <strong>ssh</strong> instead of <strong>/bin/login</strong> for the session.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -t</strong></p>
  </dt>
  <dd>
    <p>Attaches a web-enabled login shell to <em>http://localhost:4200/</em> with SSL/TLS support disabled.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -t -f beep.wav:/dev/null</strong></p>
  </dt>
  <dd>
    <p>Runs all services with the audible-bell permanently disabled.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -s /:SSH:example.org</strong></p>
  </dt>
  <dd>
    <p>The terminal connects to a <strong>ssh</strong> session on <em>example.org</em>.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -t -s /:AUTH:HOME:/bin/bash</strong></p>
  </dt>
  <dd>
    <p>Interactively request the user's name and password prior to launching a Bourne shell. This command can be run by unprivileged users. But if doing so, it only allows this particular user to log in.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -c certificates -u shellinabox -g shellinabox</strong></p>
  </dt>
  <dd>
    <p>If the <strong>certificates</strong> directory exists and is writable by the <strong>shellinabox</strong> user and group, self-signed SSL certificates will be generated in this directory. This might require creating an appropriately named user first. Running this command as <strong>root</strong> allows any user on the system to log in at <strong>http://localhost:4200/</strong>. Sessions will automatically be promoted to SSL/TLS.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -t -s /:LOGIN -s /who:nobody:nogroup:/:w</strong></p>
  </dt>
  <dd>
    <p>In addition to the login shell at <em>http://localhost:4200</em>, show a list of currently logged in users when accessing <em>http://localhost:4200/who</em>. This command must be run as <strong>root</strong> in order to be able to change to <strong>nobody:nogroup</strong> as requested by the service description.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd -t -s '/:root:root:/:wy60 -c /bin/login'</strong></p>
  </dt>
  <dd>
    <p>Instead of the standard <strong>ANSI/VT100</strong> terminal, publish a <strong>Wyse 60\*(Tm</strong> terminal. Again, this command should be run as <strong>root</strong>.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd --css white-on-black.css</strong></p>
  </dt>
  <dd>
    <p>Loads the <strong>white-on-black.css</strong> style sheet from the current directory and appends it to the built-in <strong>styles.css</strong> sheet. This causes the terminal to always render white text on a black background.</p>
  </dd>
  <dt>
    <p><strong>shellinaboxd --user-css Normal:+black-on-white.css,Reverse:-white-on-black.css</strong></p>
  </dt>
  <dd>
    <p>Allow the user to select whether they want text to be rendered normally or in reverse video. This command line option adds a new entry to the right-click context menu.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>The daemon returns a non-zero exit code in case of failure. With the exception of a small number of common error cases that are handled explicitly, most errors result in printing a <em>&quot;Check failed&quot;</em> message. This does not typically indicate a bug in the program but is instead its normal way of reporting errors.</p><p>Common failure conditions are reusing a port that is already in use, lack of sufficient privileges to run a service, failure to find SSL/TLS certificates, and failure to write newly generated certificates to the certification directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO shellinaboxd&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/chmod.1.html"><strong>chmod</strong>(1)</a>, <a href="../man1/last.1.html"><strong>last</strong>(1)</a>, <a href="../man1/login.1.html"><strong>login</strong>(1)</a>, <strong>sh</strong>(1), <a href="../man5/shells.5.html"><strong>shells</strong>(5)</a>, <strong>openssl</strong>(1SSL), <strong>w</strong>(1), <strong>wy60</strong>(1), <a href="../man1/xterm.1.html"><strong>xterm</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>The daemon uses privilege separation techniques to allow it to drop privileges early. It is aware of setuid flags and restricts some operations when launched as a setuid application.</p><p>Despite these safety features, a bug could conceivably lead to a determined attacker gaining elevated privileges. It is therefore strongly discouraged to set the setuid flag on the binary.</p><p>The expected deployment would be from a system <em>rc</em> script launched by <strong>/sbin/init</strong>. For extra security, the <strong>--group</strong> and <strong>--user</strong> options should be used to change to a dedicated user.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2008-2010 by Markus Gutschke &lt;<em>markus@shellinabox.com</em>&gt;.</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License version 2 as published by the Free Software Foundation.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA</p><p>In addition to these license terms, the author grants the following additional rights:</p><p>If you modify this program, or any covered work, by linking or combining it with the OpenSSL project's OpenSSL library (or a modified version of that library), containing parts covered by the terms of the OpenSSL or SSLeay licenses, the author grants you additional permission to convey the resulting work. Corresponding Source for a non-source form of such a combination shall include the source code for the parts of OpenSSL used as well as that of the covered work.</p><p>You may at your option choose to remove this additional permission from the work, or from any part of it.</p><p>If you would like to negotiate different licensing terms that are compatible for integration with other projects, please contact the author.</p><p>If the OpenSSL system libraries can be found at run-time, they will be invoked by <strong>shellinaboxd</strong> to provide SSL/TLS support. The OpenSSL and SSLeay licenses require the following notices:</p><p>This product includes software developed by the OpenSSL Project for use in the OpenSSL Toolkit. (http://www.openssl.org/)</p><p>This product includes cryptographic software written by Eric Young (eay@cryptsoft.com)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Due to browser limitations, some features might not be available to users of all browers.</p><p>Konqueror does not allow for reliable interception of <em>CTRL</em> keys. If you press a key together with the <em>CTRL</em> modifier, it continues performing the browser's predefined behavior for this particular key combination. In most cases, it also fails to report the correct key to the terminal emulator. As a work-around, pressing both the <em>CTRL</em> and the <em>WINDOWS</em> key sometimes works.</p><p>Some browsers, most notably IE on Windows, disallow interception of <em>ALT</em> keys and always interpret these keys as menu accelerators. As a work-around, many UNIX applications allow pressing <em>ESC</em>, instead of <em>ALT</em>.</p><p>When using non-US keyboard layouts, some browser do not allow for reliably determining shifted <em>ALT</em> keys. Please report these cases if they turn out to be a problem, as work-arounds might be possible.</p><p>Access to the native clipboard is typically not possible. Instead, an internal clipboard accessible from the right-button context menu is used for all but IE.</p><p>Some browsers restrict the number of concurrent connections to a server. This restricts how many AJAX terminals can be opened simultaneously. If this becomes a problem, users can typically reconfigure their browsers to raise the limit.</p><p>There have been reports of the VLC plugin on Linux/x86_64 crashing Firefox when the browser page gets reloaded. Setting the <strong>--no-beep</strong> option eliminates all references to VLC and thus appears to work around this crash.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="shellex.1.html"><span aria-hidden="true">&larr;</span> shellex.1: Shell-based launcher</a></li>
   <li class="next"><a href="shelltest.1.html">shelltest.1: Test command-line programs or arbitrary shell commands <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
