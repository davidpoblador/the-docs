<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mrtg-ipv6: Ipv6 support in mrtg</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ipv6 support in mrtg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mrtg-ipv6 (1) manual">
  <meta name="twitter:description" content="Ipv6 support in mrtg">
  <meta name="twitter:image" content="https://www.carta.tech/images/mrtg-mrtg-ipv6-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mrtg-ipv6.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mrtg-ipv6 (1) manual" />
  <meta property="og:description" content="Ipv6 support in mrtg" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mrtg-mrtg-ipv6-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mrtg-ipv6<small> (1)</small></h1>
        <p class="lead">Ipv6 support in mrtg</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mrtg-ipv6.1.html">
      <span itemprop="name">mrtg-ipv6: Ipv6 support in mrtg</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mrtg/">
      <span itemprop="name">mrtg</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mrtg-ipv6.1.html">
      <span itemprop="name">mrtg-ipv6: Ipv6 support in mrtg</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p>\s-1MRTG\s0 and cfgmaker support \s-1SNMP\s0 over IPv6. IPv6 targets can be specified by hostname or IPv6 address, and if the required libraries are present (see below), queries will use IPv6.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<h3>Enabling IPv6</h3>
<p>IPv6 is currently disabled by default and must be explicitly enabled. In \s-1MRTG\s0 this is done by turning on the <strong>EnableIPv6</strong> global option in the configuration file. In cfgmaker, it is enabled with the <strong>--enable-ipv6</strong> command-line option.</p><p>If IPv6 is disabled, \s-1MRTG\s0 and cfgmaker should behave in exactly the same way as previous versions. So the addition of IPv6 support should have no effect on existing \s-1MRTG\s0 setups unless IPv6 is enabled.</p><p>IPv6 support requires the Socket6 and \s-1INET6\s0 libraries (see below). If \s-1MRTG\s0 can't find them, IPv6 is disabled.</p>
<h3>Specifying IPv6 targets</h3>
<p>IPv6 targets may be specified by name or IPv6 address. Numeric IPv6 addresses may be used with both cfgmaker and \s-1MRTG\s0, but they must be enclosed in square brackets.</p><p>For example, a target could be specified as:</p>
<pre>
 public@[2001:760:4::]:161
</pre>
<p>Hostnames work as expected: first an IPv6 name lookup is tried, then an IPv4 lookup.</p>
<h3>Targets that do not support \s-1SNMP\s0 over IPv6</h3>
<p>Many targets (this currently includes all Cisco routers) do not yet support \s-1SNMP\s0 over IPv6 and must be monitored over IPv4. This can cause problems if you specify a target through its \s-1DNS\s0 name and the name maps to both the IPv6 address and the IPv4 address of the target: \s-1MRTG\s0 will only try IPv6, and will fail.</p><p>To query these targets, use the <strong>IPv4Only</strong> per-target option, which tells \s-1MRTG\s0 not to use \s-1SNMP\s0 over IPv6 for the target.</p><p>\s-1MRTG\s0 does not fall back to IPv4 for performance and correctness reasons. If there are many routers to query, a timeout for every router would make \s-1MRTG\s0 take too long to query them all. And if, for some reason, IPv6 connectivity to the target is lost, \s-1MRTG\s0's error messages can help figure out what is wrong.</p><p>cfgmaker does fall back from IPv6 to IPv4. If IPv6 is enabled and cfgmaker is given a hostname that resolves to both an IPv6 and an IPv4 address, it first tries to query the target over IPv6. If it receives no answer, it tries again using IPv4. If the target answers, cfgmaker sets the IPv4Only option in the generated config file.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">IPv6 LIBRARIES</h2>
        <div class="sectioncontent">
<h3>Libraries required</h3>
<p>IPv6 support requires the <strong>Socket6</strong> and <strong>\s-1INET6\s0</strong> Perl modules. Both can be downloaded from \s-1CPAN:\s0</p><p>http://search.cpan.org/author/UMEMOTO/Socket6/</p><p>http://search.cpan.org/author/MONDEJAR/INET6/</p><p>If you use Debian, you will need the packages <strong>libsocket6-perl</strong> and <strong>libio-socket-inet6-perl</strong>, which are (or should soon be) in unstable.</p><p>So far, IPv6 support has been tested on Linux only, and only with Socket6 version 0.12. Also note that IPv6 won't work at all if you don't have \s-1INET6\s0.pm version 2.00 or newer.</p>
<h3>Installing the libraries</h3>
<p>Building and installing Socket6 and \s-1INET6\s0 is very simple. For each module, just unpack the archive and then do:</p><p> perl Makefile.PL  make</p><p>and then:</p><p> su  make install</p><p>If you have installed the libraries successfully, cfgmaker and mrtg should automatically detect them and allow IPv6 support to be enabled.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Lorenzo Colitti &lt;lorenzo location colitti.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mrtg-ip-acct.1.html"><span aria-hidden="true">&larr;</span> mrtg-ip-acct.1: Returns the number of ip packets that have traversed a network interface</a></li>
   <li class="next"><a href="mrtg-load.1.html">mrtg-load.1: Returns the current load average (5-minute average) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
