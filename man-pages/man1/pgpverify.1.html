<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pgpverify: Cryptographically verify usenet control messages</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cryptographically verify usenet control messages">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pgpverify (1) manual">
  <meta name="twitter:description" content="Cryptographically verify usenet control messages">
  <meta name="twitter:image" content="https://www.carta.tech/images/inn2-pgpverify-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pgpverify.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pgpverify (1) manual" />
  <meta property="og:description" content="Cryptographically verify usenet control messages" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/inn2-pgpverify-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pgpverify<small> (1)</small></h1>
        <p class="lead">Cryptographically verify usenet control messages</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pgpverify.1.html">
      <span itemprop="name">pgpverify: Cryptographically verify usenet control messages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/inn2/">
      <span itemprop="name">inn2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pgpverify.1.html">
      <span itemprop="name">pgpverify: Cryptographically verify usenet control messages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pgpverify</strong> [<strong>--findid</strong>=<em>string</em>] [<strong>--test</strong>] &lt; <em>message</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>pgpverify</strong> program reads (on standard input) a Usenet control message that has been cryptographically signed using the <strong>signcontrol</strong> program (or some other program that produces a compatible format). <strong>pgpverify</strong> then uses a \s-1PGP\s0 implementation to determine who signed the control message.  If the control message has a valid signature, <strong>pgpverify</strong> prints (to stdout) the user \s-1ID\s0 of the key that signed the message.  Otherwise, it exits with a non-zero exit status.</p><p>If <strong>pgpverify</strong> is installed as part of \s-1INN\s0, it uses \s-1INN\s0's configuration to determine what signature verification program to use, how to log errors, what temporary directory to use, and what keyring to use. Otherwise, all of those parameters can be set by editing the beginning of this script.</p><p>By default, when running as part of \s-1INN\s0, <strong>pgpverify</strong> expects the \s-1PGP\s0 key ring to be found in <em>pathetc</em>/pgp (as either <em>pubring.pgp</em> or <em>pubring.gpg</em> depending on whether \s-1PGP\s0 or GnuPG is used to verify signatures).  If that directory doesn't exist, it will fall back on using the default key ring, which is in a <em>.pgp</em> or <em>.gnupg</em> subdirectory of the running user's home directory.</p><p>\s-1INN\s0, when using GnuPG, configures <strong>pgpverify</strong> to use <strong>gpgv</strong>, which by default expects keys to be in a keyring named <em>trustedkeys.gpg</em>, since it doesn't implement trust checking directly.  <strong>pgpverify</strong> uses that file if present but falls back to <em>pubring.gpg</em> if it's not found.  This bypasses the trust model for checking keys, but is compatible with the way that <strong>pgpverify</strong> used to behave.  Of course, if a keyring is found in <em>pathetc</em>/pgp or configured at the top of the script, that overrides all of this behavior.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>--findid</strong>=<em>string</em>
  </dt>
  <dd>
    <p>The <strong>--findid</strong> flag causes <strong>pgpverify</strong> to explicitly search for <em>string</em> in the output from \s-1PGP\s0's analysis of the message.  This option is useful when several UIDs are defined on a single \s-1PGP\s0 key, and the caller to <strong>pgpverify</strong> needs checking whether a given one is defined on this key.  In case the signature is valid but does not contain <em>string</em>, <strong>pgpverify</strong> exits with exit status 4.</p>
  </dd>
  <dt>
    <strong>--test</strong>
  </dt>
  <dd>
    <p>The <strong>--test</strong> flag causes <strong>pgpverify</strong> to print out the input that it is passing to \s-1PGP\s0 (which is a reconstructed version of the input that supposedly created the control message) as well as the output from \s-1PGP\s0's analysis of the message.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p><strong>pgpverify</strong> may exit with the following statuses:</p>
<dl class='dl-vertical'>
  <dt>
    0
  </dt>
  <dd>
    <p>The control message had a good \s-1PGP\s0 signature.</p>
  </dd>
  <dt>
    1
  </dt>
  <dd>
    <p>The control message had no \s-1PGP\s0 signature.</p>
  </dd>
  <dt>
    2
  </dt>
  <dd>
    <p>The control message had an unknown \s-1PGP\s0 signature.</p>
  </dd>
  <dt>
    3
  </dt>
  <dd>
    <p>The control message had a bad \s-1PGP\s0 signature.</p>
  </dd>
  <dt>
    4
  </dt>
  <dd>
    <p>The control message had a good \s-1PGP\s0 signature but the argument given to the <strong>--findid</strong> flag had non been found in the output from \s-1PGP\s0's analysis of the message.</p>
  </dd>
  <dt>
    255
  </dt>
  <dd>
    <p>A problem occurred not directly related to \s-1PGP\s0 analysis of signature.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p><strong>pgpverify</strong> does not modify or otherwise alter the environment before invoking the <strong>pgp</strong> or <strong>gpgv</strong> program.  It is the responsibility of the person who installs <strong>pgpverify</strong> to ensure that when <strong>pgp</strong> or <strong>gpgv</strong> runs, it has the ability to locate and read a \s-1PGP\s0 key file that contains the \s-1PGP\s0 public keys for the appropriate Usenet hierarchy administrators. <strong>pgpverify</strong> can be pointed to an appropriate key ring by editing variables at the beginning of this script.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Historically, Usenet news server administrators have configured their news servers to automatically honor Usenet control messages based on the originator of the control messages and the hierarchies for which the control messages applied.  For example, in the past, David Lawrence always issued control messages for the \*(L"Big&nbsp;8\*(R" hierarchies (comp, humanities, misc, news, rec, sci, soc, talk).  Usenet news administrators would configure their news server software to automatically honor newgroup and rmgroup control messages that originated from David Lawrence and applied to any of the Big&nbsp;8 hierarchies.</p><p>Unfortunately, Usenet news articles (including control messages) are notoriously easy to forge.  Soon, malicious users realized they could create or remove (at least temporarily) any Big&nbsp;8 newsgroup they wanted by simply forging an appropriate control message in David Lawrence's name. As Usenet became more widely used, forgeries became more common.</p><p>The <strong>pgpverify</strong> program was designed to allow Usenet news administrators to configure their servers to cryptographically verify control messages before automatically acting on them.  Under the <strong>pgpverify</strong> system, a Usenet hierarchy maintainer creates a \s-1PGP\s0 public/private key pair and disseminates the public key.  Whenever the hierarchy maintainer issues a control message, he uses the <strong>signcontrol</strong> program to sign the control message with the \s-1PGP\s0 private key.  Usenet news administrators configure their news servers to run the <strong>pgpverify</strong> program on the appropriate control messages, and take action based on the \s-1PGP\s0 key User \s-1ID\s0 that signed the control message, not the name and address that appear in the control message's From: or Sender: headers.</p><p>Thus, appropriate use of the <strong>signcontrol</strong> and <strong>pgpverify</strong> programs essentially eliminates the possibility of malicious users forging Usenet control messages that sites will act upon, as such users would have to obtain the \s-1PGP\s0 private key in order to forge a control message that would pass the cryptographic verification step.  If the hierarchy administrators properly protect their \s-1PGP\s0 private keys, the only way a malicious user could forge a validly-signed control message would be by breaking the public key encryption algorithm, which (at least at this time) is believed to be prohibitively difficult for \s-1PGP\s0 keys of a sufficient bit length.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p><strong>pgpverify</strong> was written by David C Lawrence &lt;tale@isc.org&gt;.  Manual page provided by James Ralston.  It is currently maintained by Russ Allbery &lt;eagle@eyrie.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND LICENSE</h2>
        <div class="sectioncontent">
<p>David Lawrence wrote:  \*(L"Our lawyer told me to include the following.  The upshot of it is that you can use the software for free as much as you like.\*(R"</p><p>Copyright (c) 1996 \s-1UUNET\s0 Technologies, Inc. All rights reserved.</p><p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<dl class='dl-vertical'>
  <dt>
    1.
  </dt>
  <dd>
    <p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>
  </dd>
  <dt>
    2.
  </dt>
  <dd>
    <p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>
  </dd>
  <dt>
    3.
  </dt>
  <dd>
    <p>All advertising materials mentioning features or use of this software must display the following acknowledgement:</p>
<pre>
  This product includes software developed by UUNET Technologies, Inc.
</pre>

  </dd>
  <dt>
    4.
  </dt>
  <dd>
    <p>The name of \s-1UUNET\s0 Technologies (\*(L"\s-1UUNET\s0\*(R") may not be used to endorse or promote products derived from this software without specific prior written permission.</p>
  </dd>

</dl>
<p>\s-1THIS\s0 \s-1SOFTWARE\s0 \s-1IS\s0 \s-1PROVIDED\s0 \s-1BY\s0 \s-1UUNET\s0 \*(L"\s-1AS\s0 \s-1IS\s0\*(R" \s-1AND\s0 \s-1ANY\s0 \s-1EXPRESS\s0 \s-1OR\s0 \s-1IMPLIED\s0 \s-1WARRANTIES\s0, \s-1INCLUDING\s0, \s-1BUT\s0 \s-1NOT\s0 \s-1LIMITED\s0 \s-1TO\s0, \s-1THE\s0 \s-1IMPLIED\s0 \s-1WARRANTIES\s0 \s-1OF\s0 \s-1MERCHANTABILITY\s0 \s-1AND\s0 \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0 \s-1ARE\s0 \s-1DISCLAIMED\s0.  \s-1IN\s0 \s-1NO\s0 \s-1EVENT\s0 \s-1SHALL\s0 \s-1UUNET\s0 \s-1BE\s0 \s-1LIABLE\s0 \s-1FOR\s0 \s-1ANY\s0 \s-1DIRECT\s0, \s-1INDIRECT\s0, \s-1INCIDENTAL\s0, \s-1SPECIAL\s0, \s-1EXEMPLARY\s0, \s-1OR\s0 \s-1CONSEQUENTIAL\s0 \s-1DAMAGES\s0 (\s-1INCLUDING\s0, \s-1BUT\s0 \s-1NOT\s0 \s-1LIMITED\s0 \s-1TO\s0, \s-1PROCUREMENT\s0 \s-1OF\s0 \s-1SUBSTITUTE\s0 \s-1GOODS\s0 \s-1OR\s0 \s-1SERVICES\s0; \s-1LOSS\s0 \s-1OF\s0 \s-1USE\s0, \s-1DATA\s0, \s-1OR\s0 \s-1PROFITS\s0; \s-1OR\s0 \s-1BUSINESS\s0 \s-1INTERRUPTION\s0) \s-1HOWEVER\s0 \s-1CAUSED\s0 \s-1AND\s0 \s-1ON\s0 \s-1ANY\s0 \s-1THEORY\s0 \s-1OF\s0 \s-1LIABILITY\s0, \s-1WHETHER\s0 \s-1IN\s0 \s-1CONTRACT\s0, \s-1STRICT\s0 \s-1LIABILITY\s0, \s-1OR\s0 \s-1TORT\s0 (\s-1INCLUDING\s0 \s-1NEGLIGENCE\s0 \s-1OR\s0 \s-1OTHERWISE\s0) \s-1ARISING\s0 \s-1IN\s0 \s-1ANY\s0 \s-1WAY\s0 \s-1OUT\s0 \s-1OF\s0 \s-1THE\s0 \s-1USE\s0 \s-1OF\s0 \s-1THIS\s0 \s-1SOFTWARE\s0, \s-1EVEN\s0 \s-1IF\s0 \s-1ADVISED\s0 \s-1OF\s0 \s-1THE\s0 \s-1POSSIBILITY\s0 \s-1OF\s0 \s-1SUCH\s0 \s-1DAMAGE\s0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pgpverify&hellip;</h2>
        <div class="sectioncontent">
<p><em>gpgv</em>\|(1), <em>pgp</em>\|(1).</p><p>&lt;ftp://ftp.isc.org/pub/pgpcontrol/&gt; is where the most recent versions of <strong>signcontrol</strong> and <strong>pgpverify</strong> live, along with \s-1PGP\s0 public keys used for hierarchy administration.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pgpring.1.html"><span aria-hidden="true">&larr;</span> pgpring.1: Key ring dumper</a></li>
   <li class="next"><a href="pgqd.1.html">pgqd.1: Pgq ticker daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
