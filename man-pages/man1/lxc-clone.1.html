<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lxc-clone: Clone a new container from an existing one.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Clone a new container from an existing one.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lxc-clone (1) manual">
  <meta name="twitter:description" content="Clone a new container from an existing one.">
  <meta name="twitter:image" content="https://www.carta.tech/images/lxc-lxc-clone-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lxc-clone.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lxc-clone (1) manual" />
  <meta property="og:description" content="Clone a new container from an existing one." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lxc-lxc-clone-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lxc-clone<small> (1)</small></h1>
        <p class="lead">Clone a new container from an existing one.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lxc-clone.1.html">
      <span itemprop="name">lxc-clone: Clone a new container from an existing one.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lxc/">
      <span itemprop="name">lxc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lxc-clone.1.html">
      <span itemprop="name">lxc-clone: Clone a new container from an existing one.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lxc-clone</strong> \kx [-s ] [-K ] [-M ] [-H ] [-B <em>backingstore</em>] [-L <em>fssize</em>] [-p <em>lxcpath</em>] [-P <em>newlxcpath</em>] {-o <em>orig</em>} {-n <em>new</em>} [-- hook arguments] <strong>lxc-clone</strong> \kx [-s ] [-K ] [-M ] [-H ] [-B <em>backingstore</em>] [-L <em>fssize</em>] [-p <em>lxcpath</em>] [-P <em>newlxcpath</em>] {orig} {new} [-- hook arguments]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lxc-clone</strong> Creates a new container as a clone of an existing container. Two types of clones are supported: copy and snapshot. A copy clone copies the root filessytem from the original container to the new. A snapshot filesystem uses the backing store's snapshot functionality to create a very small copy-on-write snapshot of the original container. Snapshot clones require the new container backing store to support snapshotting. Currently this includes only aufs, btrfs, lvm, overlayfs and zfs. LVM devices do not support snapshots of snapshots.</p><p>The backing store of the new container will be the same type as the original container, with one exception, overlay containers. aufs and overlayfs snapshots can be created of directory backed containers. This can be requested by using (for overlayfs) the <em>-B overlayfs</em> arguments.</p><p>The names of the original and new container can be given (in that order) after all options, or can be specified with the <em>-o</em> and <em>-n</em> options, respectively.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>-s, --snapshot</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>The new container's rootfs should be a LVM or btrfs snapshot of the original.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-K, --keepname</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Do not change the hostname of the container (in the root filesystem).</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-M, --keepmac</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Use the same MAC address as the original container, rather than generating a new random one.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-H, --copyhooks</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Copy all mount hooks into the new container's directory, and update any lxcpaths and container names as needed.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-L, --fssize </strong>\*(T&gt;<em>fssize</em></p>
  </dt>
  <dd>
    <p>In the case of a block device backed container, a size for the new block device. By default, the new device will be made the same size as the original.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-p, --lxcpath </strong>\*(T&gt;<em>lxcpath</em></p>
  </dt>
  <dd>
    <p>The lxcpath of the original container. By default, the system wide configured lxcpath will be used.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-P, --newpath </strong>\*(T&gt;<em>newlxcpath</em></p>
  </dt>
  <dd>
    <p>The lxcpath for the new container. By default the same lxcpath as the original will be used. Note that with btrfs snapshots, changing lxcpaths may not be possible, as subvolume snapshots must be in the same btrfs filesystem.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-B, --backingstore </strong>\*(T&gt;<em>backingstore</em></p>
  </dt>
  <dd>
    <p>Select a different backing store for the new container. By default the same as the original container's is used. Note that currently changing the backingstore is only supported for aufs and overlayfs snapshots of directory backed containers. Valid backing stores include dir (directory), aufs, btrfs, lvm, zfs, loop and overlayfs.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-o, --orig </strong>\*(T&gt;<em>orig</em></p>
  </dt>
  <dd>
    <p>The name of the original container to clone.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-n, --new </strong>\*(T&gt;<em>new</em></p>
  </dt>
  <dd>
    <p>The name of the new container to create.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CLONE HOOK</h2>
        <div class="sectioncontent">
<p>If the container being cloned has one or more \*(T&lt;<em>lxc.hook.clone</em>\*(T&gt; specified, then the specified hooks will be called for the new container. The first 3 arguments passed to the clone hook will be the container name, a section ('lxc'), and the hook type ('clone'). Extra arguments passed <strong>lxc-clone</strong> will be passed to the hook program starting at argument 4. The \*(T&lt;<em>LXC_ROOTFS_MOUNT</em>\*(T&gt; environment variable gives the path under which the container's root filesystem is mounted. The configuration file pathname is stored in \*(T&lt;<em>LXC_CONFIG_FILE</em>\*(T&gt;, the new container name in \*(T&lt;<em>LXC_NAME</em>\*(T&gt;, the old container name in \*(T&lt;<em>LXC_SRC_NAME</em>\*(T&gt;, and the path or device on which the rootfs is located is in \*(T&lt;<em>LXC_ROOTFS_PATH</em>\*(T&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lxc-clone&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/lxc.7.html"><strong>lxc</strong>(7)</a>, <a href="../man1/lxc-create.1.html"><strong>lxc-create</strong>(1)</a>, <a href="../man1/lxc-destroy.1.html"><strong>lxc-destroy</strong>(1)</a>, <a href="../man1/lxc-start.1.html"><strong>lxc-start</strong>(1)</a>, <a href="../man1/lxc-stop.1.html"><strong>lxc-stop</strong>(1)</a>, <a href="../man1/lxc-execute.1.html"><strong>lxc-execute</strong>(1)</a>, <a href="../man1/lxc-console.1.html"><strong>lxc-console</strong>(1)</a>, <a href="../man1/lxc-monitor.1.html"><strong>lxc-monitor</strong>(1)</a>, <a href="../man1/lxc-wait.1.html"><strong>lxc-wait</strong>(1)</a>, <a href="../man1/lxc-cgroup.1.html"><strong>lxc-cgroup</strong>(1)</a>, <a href="../man1/lxc-ls.1.html"><strong>lxc-ls</strong>(1)</a>, <a href="../man1/lxc-info.1.html"><strong>lxc-info</strong>(1)</a>, <a href="../man1/lxc-freeze.1.html"><strong>lxc-freeze</strong>(1)</a>, <a href="../man1/lxc-unfreeze.1.html"><strong>lxc-unfreeze</strong>(1)</a>, <a href="../man1/lxc-attach.1.html"><strong>lxc-attach</strong>(1)</a>, <a href="../man5/lxc.conf.5.html"><strong>lxc.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Serge Hallyn &lt;\*(T&lt;serge.hallyn@ubuntu.com\*(T&gt;&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lxc-checkconfig.1.html"><span aria-hidden="true">&larr;</span> lxc-checkconfig.1: Check the current kernel for lxc support</a></li>
   <li class="next"><a href="lxc-config.1.html">lxc-config.1: Query lxc system configuration <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
