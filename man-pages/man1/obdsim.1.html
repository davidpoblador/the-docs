<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>obdsim: Simulate an elm327 device</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Simulate an elm327 device">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="obdsim (1) manual">
  <meta name="twitter:description" content="Simulate an elm327 device">
  <meta name="twitter:image" content="https://www.carta.tech/images/obdgpslogger-obdsim-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/obdsim.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="obdsim (1) manual" />
  <meta property="og:description" content="Simulate an elm327 device" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/obdgpslogger-obdsim-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">obdsim<small> (1)</small></h1>
        <p class="lead">Simulate an elm327 device</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/obdsim.1.html">
      <span itemprop="name">obdsim: Simulate an elm327 device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/obdgpslogger/">
      <span itemprop="name">obdgpslogger</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/obdsim.1.html">
      <span itemprop="name">obdsim: Simulate an elm327 device</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>obdsim [ options ]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>obdsim simulates an ELM327 device connected to one or more ECUs</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -g|--generator &lt;generator-name&gt;
  </dt>
  <dd>
    <p>Choose a generator. A list of valid ones is output by --help. See section titled MULTIPLE ECUS below for more information.</p>
  </dd>
  <dt>
    -s|--seed &lt;seed&gt;
  </dt>
  <dd>
    <p>Generator-specific seed. See section titled PLUGIN SEEDS below for more information. The -s option must immediately follow the generator</p>
  </dd>
  <dt>
    -d|--customdelay &lt;delay-in-ms&gt;
  </dt>
  <dd>
    <p>Generator-specific delay. This is effectively a processing time for the ECU it is being added for. The -d option must immediately follow the generator</p>
  </dd>
  <dt>
    -l|--list-generators
  </dt>
  <dd>
    <p>Print a terse list of compiled in generators</p>
  </dd>
  <dt>
    -L|--list-protocols
  </dt>
  <dd>
    <p>Print a list of all protocols</p>
  </dd>
  <dt>
    -p|--protocol &lt;OBDII protocol&gt;
  </dt>
  <dd>
    <p>Launch as this protocol. Protocol is of form [A]{digit}, where optional "A" prefix means automatic and the digit is from --list-protocols</p>
  </dd>
  <dt>
    -n|--benchmark &lt;time&gt;
  </dt>
  <dd>
    <p>Change time to print samplerate to stdout. 'samples' are successful value returns, not AT commands or NO DATA/? responses. 'queries' are any and all client queries. Argument is in seconds, zero to disable.</p>
  </dd>
  <dt>
    -q|--logfile &lt;logfile&gt;
  </dt>
  <dd>
    <p>Write all serial comms to this logfile</p>
  </dd>
  <dt>
    -o|--launch-logger
  </dt>
  <dd>
    <p>Takes an [admittedly weak and hard-coded] attempt at launching obdgpslogger attached to the simulator in question. POSIX only.</p>
  </dd>
  <dt>
    -c|--launch-screen
  </dt>
  <dd>
    <p>Takes an [admittedly weak and hard-coded] attempt at launching screen attached to the simulator in question. To close that screen window, use ctrl-a, k. POSIX only.</p>
  </dd>
  <dt>
    -t|--tty-device
  </dt>
  <dd>
    <p>Instead of opening a pty, try to open this entry in /dev instead. POSIX only.</p>
  </dd>
  <dt>
    -w|--com-port &lt;comport&gt;
  </dt>
  <dd>
    <p>Specify virtual com port to be used on windows [eg "COM1"]. Windows only.</p>
  </dd>
  <dt>
    -e|--genhelp &lt;generator-name&gt;
  </dt>
  <dd>
    <p>Print out help for the specified generator, and exit.</p>
  </dd>
  <dt>
    -V|--elm-version &lt;version string&gt;
  </dt>
  <dd>
    <p>Pretend to be this when someone resets with ATZ or similar</p>
  </dd>
  <dt>
    -D|--elm-device &lt;device string&gt;
  </dt>
  <dd>
    <p>Pretend to be this when someone calls AT@1</p>
  </dd>
  <dt>
    -b|--bluetooth
  </dt>
  <dd>
    <p>Listen on bluetooth. See section titled BLUETOOTH below</p>
  </dd>
  <dt>
    -v|--version
  </dt>
  <dd>
    <p>Print out version number and exit.</p>
  </dd>
  <dt>
    -h|--help
  </dt>
  <dd>
    <p>Print out help and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PLUGIN SEEDS</h2>
        <div class="sectioncontent">
<p>Each plugin takes a seed. Here's what those seeds are:</p>
<dl class='dl-vertical'>
  <dt>
    Random
  </dt>
  <dd>
    <p>[Optional] It's a random seed</p>
  </dd>
  <dt>
    Cycle
  </dt>
  <dd>
    <p>[Optional] [cycle time in seconds[,number of gears]]</p>
  </dd>
  <dt>
    Logger
  </dt>
  <dd>
    <p>[Obligatory] Filename of an obdgpslogger logfile</p>
  </dd>
  <dt>
    dlopen
  </dt>
  <dd>
    <p>[Obligatory] Filename of a dynamically linked library</p><p>[Optional] ",subseed" optional seed to pass to dlopen'd generator.</p>
  </dd>
  <dt>
    Socket
  </dt>
  <dd>
    <p>[Obligatory] ip-or-hostname:port</p>
  </dd>
  <dt>
    DBus
  </dt>
  <dd>
    <p>[Obligatory] Filename of a configuration file for the plugin</p>
  </dd>
  <dt>
    gui_fltk
  </dt>
  <dd>
    <p>[Irrelevant] Ignores the passed seed</p>
  </dd>
  <dt>
    Error
  </dt>
  <dd>
    <p>[Irrelevant] Ignores the passed seed</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MULTIPLE ECUS</h2>
        <div class="sectioncontent">
<p>OBDSim supports multiple simulated engine control units (ECUs).</p><p>For each generator you specify on the command-line, it creates an ECU. To seed each generator, the seed must immediately follow that generator on the command-line.</p><p>For example, this creates a sim with three ecus. The first ecu is simulating the passed logfile, the second is generating random numbers with the seed 42, and the gui generator isn't using a seed.</p><p>obdsim -g Logger -s ces2010.db -g Random -s 42 -g gui_fltk</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SUPPORTED AT COMMANDS</h2>
        <div class="sectioncontent">
<p>OBDSim does not yet support the full set of ELM327 commands. The ELM327 datasheet covers all these in detail, but a short description of each AT command currently supported by obdsim is here:</p>
<dl class='dl-vertical'>
  <dt>
    AT{0,1,2}
  </dt>
  <dd>
    <p>Adaptive timing off/on/vigorous</p>
  </dd>
  <dt>
    D{0,1}
  </dt>
  <dd>
    <p>Display DLC [data bytes] on/off</p>
  </dd>
  <dt>
    L{0,1}
  </dt>
  <dd>
    <p>Linefeed on/off [always passes a CR]</p>
  </dd>
  <dt>
    H{0,1}
  </dt>
  <dd>
    <p>Headers on/off</p>
  </dd>
  <dt>
    S{0,1}
  </dt>
  <dd>
    <p>Space separators on/off</p>
  </dd>
  <dt>
    E{0,1}
  </dt>
  <dd>
    <p>Command echo on/off</p>
  </dd>
  <dt>
    SP[A]{0-9,A-C}
  </dt>
  <dd>
    <p>Set protocol. Optional 'A' prefix on number means "automatic"</p>
  </dd>
  <dt>
    TP[A]{0-9,A-C}
  </dt>
  <dd>
    <p>Try protocol. Same behaviour as SP[a]{0-9,A-C}. Always succeeds if protocol is known</p>
  </dd>
  <dt>
    ST{n}
  </dt>
  <dd>
    <p>Set timeout. Hex value is multiplied by 4, and measured in ms</p>
  </dd>
  <dt>
    @1
  </dt>
  <dd>
    <p>Request the elm device description</p>
  </dd>
  <dt>
    @2
  </dt>
  <dd>
    <p>Request the elm device identifier</p>
  </dd>
  <dt>
    @3
  </dt>
  <dd>
    <p>Set the elm device identifier</p>
  </dd>
  <dt>
    CVdddd
  </dt>
  <dd>
    <p>Calibrate the current battery voltage to dd.dd</p>
  </dd>
  <dt>
    RV
  </dt>
  <dd>
    <p>Request the current battery voltage</p>
  </dd>
  <dt>
    D
  </dt>
  <dd>
    <p>Reset to defaults</p>
  </dd>
  <dt>
    DP
  </dt>
  <dd>
    <p>Describe protocol</p>
  </dd>
  <dt>
    DPN
  </dt>
  <dd>
    <p>Describe protocol by number</p>
  </dd>
  <dt>
    I
  </dt>
  <dd>
    <p>Request the device version id</p>
  </dd>
  <dt>
    Z
  </dt>
  <dd>
    <p>Reset the device</p>
  </dd>
  <dt>
    WS
  </dt>
  <dd>
    <p>Reset the device, warm start</p>
  </dd>
  <dt>
    EXIT
  </dt>
  <dd>
    <p>Not really an AT command; sending this tells obdsim to exit. Mostly useful in conjunction with --launch-screen</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BLUETOOTH</h2>
        <div class="sectioncontent">
<p>At time of writing, bluetooth is only supported on Linux. In order to make bluetooth work, you may need to set your bluetooth device to advertise that it's capable of the appropriate serial protocols.</p><p>On my system here, I use the following two commands to set it temporarily [you'll want to substitute your own hardware address]:</p><ul>
<li><p>sudo rfcomm bind 0 00:02:72:14:41:C4 1</p><p>sudo sdptool add SP</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The default sim ELM version and device both claim to be OBDGPSLogger. Some software may not like this. You may find examples of popular hardware to be useful:</p>
<dl class='dl-vertical'>
  <dt>
    OBDPro
  </dt>
  <dd>
    <p>obdsim -V ELM327nbsp;v1.3nbsp;compatible -D OBDProsnbsp;LLCnbsp;v3</p>
  </dd>
  <dt>
    OBDLink
  </dt>
  <dd>
    <p>obdsim -V ELM327nbsp;v1.3a -D SCANTOOL.NETnbsp;LLC</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO obdsim&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/obdgpslogger.1.html"><strong>obdgpslogger</strong>(1)</a>, <a href="../man1/obd2kml.1.html"><strong>obd2kml</strong>(1)</a>, <a href="../man1/obd2csv.1.html"><strong>obd2csv</strong>(1)</a>, <a href="../man1/obd2gpx.1.html"><strong>obd2gpx</strong>(1)</a>, <a href="../man1/obdgui.1.html"><strong>obdgui</strong>(1)</a>, <a href="../man1/obdlogrepair.1.html"><strong>obdlogrepair</strong>(1)</a>, <strong>obdsim-dbus</strong>(5)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Gary "Chunky Ks" Briggs &lt;chunky@icculus.org&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="obdlogrepair.1.html"><span aria-hidden="true">&larr;</span> obdlogrepair.1: Attempt to repair a disfunctional logfile</a></li>
   <li class="next"><a href="obex-data-server.1.html">obex-data-server.1: D-bus service providing obex functionality <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
