<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>checkbox_ng: Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="checkbox_ng (1) manual">
  <meta name="twitter:description" content="Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.">
  <meta name="twitter:image" content="https://www.carta.tech/images/checkbox-ng-checkbox_ng-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/checkbox_ng.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="checkbox_ng (1) manual" />
  <meta property="og:description" content="Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/checkbox-ng-checkbox_ng-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">checkbox_ng<small> (1)</small></h1>
        <p class="lead">Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/checkbox_ng.1.html">
      <span itemprop="name">checkbox_ng: Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/checkbox-ng/">
      <span itemprop="name">checkbox-ng</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/checkbox_ng.1.html">
      <span itemprop="name">checkbox_ng: Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">
<p>CheckBoxNG can be installed from a PPA (recommended) or pypi on Ubuntu Precise (12.04) or newer.</p>
<pre>
$ sudo add-apt-repository ppa:checkbox-dev/ppa && sudo apt-get update && sudo apt-get install checkbox-ng
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUNNING STABLE RELEASE UPDATE TESTS</h2>
        <div class="sectioncontent">
<p>CheckBoxNG has special support for running stable release updates tests in an automated manner. This runs all the jobs from the <em>sru.whitelist</em> and sends the results to the certification website.</p><p>To run SRU tests you will need to know the so-called <em>Secure ID</em> of the device you are testing. Once you know that all you need to do is run:</p>
<pre>
$ checkbox sru $secure_id submission.xml
</pre>
<p>The second argument, submission.xml, is a name of the fallback file that is only created when sending the data to the certification website fails to work for any reason.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TEST SCRIPTS</h2>
        <div class="sectioncontent">
<p>Test &apos;scripts&apos; are small programs which are used to aid in implementing tests.</p><h3>brightness_test</h3>
<p>This script tests the brightness of the systems backlight can be changed by using the kernel interfaces in /sys/class/backlight. There may be more than one interface to choose from, so the correct interface to use is selected by using the heuristic prescribed in <em>https://www.kernel.org/doc/Documentation/ABI/stable/sysfs-class-backlight</em>. The brightness is manipulated by updating the brightness file of the interface and the actual_brightness file is checked to see if the value was modified to the brightness selected.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CHECKBOX RELEASE PROCESS</h2>
        <div class="sectioncontent">
<p>This page describes the necessary steps for releasing versions of CheckBox and CheckBox Certification to the stable PPA belonging to the Hardware Certification team, on a regular basis. Throughout this document the term &apos;CheckBox&apos; is used as a catch-all term to cover all versions of CheckBox owned by the Hardware Certification team, currently CheckBox itself and the CheckBox Certification extensions.</p><h3>Overview</h3>
<p>Currently the process runs on a bi-weekly cadence, with a new release of Checkbox every two weeks. This covers ten working days, and the tasks carried out on each day or group of days is described below:</p><ul>
<li><p>Days 1-4: Time allowed for new changes to be introduced into trunk.</p></li><li><p>Day 5: Changes are merged from the trunk of <strong>lp:checkbox</strong> and <strong>lp:checkbox-certification</strong> to their respective release branches. The changelogs for both are <em>bumped</em> at this point and revisions are tagged. At this stage it may also be necessary to copy the package &apos;fwts&apos; from the <em>FWTS Stable PPA</em> to the <em>Checkbox Release Testing PPA</em>.</p></li><li><p>Days 6-9: Testing is performed by the release manager for the Hardware Certification team, and a representative of the CE QA team (the main customer for CheckBox within Canonical)</p></li><li><p>Day 9: A release meeting is held between the release manager for the Hardware Certification team and the representative of the CE QA team. Potential issues with the release are identified and plans made to address them.</p></li><li><p>Day 10: The tested version of CheckBox is copied to the stable PPA.</p></li>
</ul>
<h3>Launchpad Branches</h3>
<p>The release process requires separate branches in Launchpad containing a semi-frozen version of the code that was in trunk on day 5 of the process. This is so that development can continue on trunk without jeopardising the stability of the to-be released version of CheckBox. The relationship between all branches involved in the process is as shown below:</p><ul>
<li><p><em>lp:checkbox/release</em> &lt;- <em>lp:checkbox</em></p></li><li><p><em>lp:checkbox-certification/release</em> &lt;- <em>lp:checkbox-certification</em></p></li><li><p><em>lp:~checkbox-dev/checkbox/checkbox-packaging-release</em> &lt;- <em>lp:~checkbox-dev/checkbox/checkbox-packaging</em></p></li>
</ul>
<h3>Auditing milestoned bugs</h3>
<p>Prior to creating the release candidate the release manager should review the list of bugs milestoned for the next release of CheckBox. They should visit <em>checkbox milestones</em> and locate the milestone dated with the release date.</p><ul>
<li><p>For bugs that are set to In Progress with a branch associated - liase with the branch owner to see if the merge can be completed before the deadline.</p></li><li><p>For bugs that are in any other non-closed status (except <em>Fix Commited</em>) - re-milestone them to the following milestone.</p></li>
</ul>
<h3>Cutting the release</h3>
<p>In order to cut the release, we have to merge the changes from trunk into the release branch, commit them with a suitable message and update the changelog in trunk so that future changes go under the correct version. For each combination of branches shown above, do the following (the example uses <strong>lp:checkbox</strong> and <strong>lp:checkbox/release</strong>):</p>
<pre>
bzr branch lp:checkbox/release checkbox-release
bzr branch lp:checkbox checkbox-trunk
cd checkbox-release
current_stable=\(gahead -n1 $(find . -name &apos;changelog&apos;) | grep -oP &apos;(?&lt;=&#92;().*(?=&#92;))&apos;\(ga
bzr merge lp:checkbox
</pre>
<p>at this point if no changes (other than one to <strong>debian/changelog</strong>) get merged in then we do not perform a release of the package in question. In practice this often happens with <strong>checkbox-certification</strong> but never with <strong>checkbox</strong>:</p>
<pre>
bzr commit -m "Merged in changes from rev$(bzr revno -r tag:$current_stable lp:checkbox) to rev$(bzr revno lp:checkbox) from lp:checkbox"
bzr push lp:checkbox/release
cd \(gafind . -name &apos;debian&apos;\(ga; cd ..
bzr tag \(gahead -n1 debian/changelog | grep -oP &apos;(?&lt;=&#92;().*(?=&#92;))&apos;\(ga
dch -r (save modified changelog)
dch -i -U &apos;Incremented changelog&apos;
debcommit
bzr push lp:checkbox
</pre>
<p>The last step in the process is to perform a build of the packages in the <strong>ppa:checkbox-dev/testing PPA</strong>. To do this we need to go to the recipe pages for the <strong>checkbox</strong> and/or <strong>checkbox-certification</strong> release branches.</p><ul>
<li><p><em>checkbox-testing recipe</em></p></li><li><p><em>checkbox-certification-testing recipe</em></p><p>The <strong>Build Now</strong> option should be available on the page. Click it to start a build.</p></li>
</ul>
<h3>Copying Firmware Test Suite to the Testing PPA</h3>
<p>The Firmware Test Suite tool is a test tool for system firmware that is naturally heavily utilised by Checkbox. To make sure the latest version which contains fixes and new tests/features needed by Checkbox is available and also doesn&apos;t break anything in Checkbox, we need to release it alongside Checkbox. After cutting the release if the Firmware Testing team have notified that a new version is available and that this version should be used for certification, we need to copy it to the Testing PPA. To do this we need to go to the <em>Copy packages view of the Firmware Test Suite (Stable) PPA</em> and select the &apos;fwts&apos; packages for all releases back to Precise. We need to set the &apos;Destination PPA&apos; as &apos;Checkbox Release Testing [~checkbox-dev/testing]&apos; and the &apos;Copy options&apos; field to &apos;Copy existing binaries&apos;, then click &apos;Copy packages&apos;. This step then needs to be repeated but set the &apos;Destination PPA&apos; field to &apos;PPA for Checkbox Developers [~checkbox-dev/ppa]&apos;.</p>
<h3>Next Release of Checkbox e-mail</h3>
<p>So that everyone has the opportunity to perform whatever testing is required in a timely manner, after the PPA builds have been completed an email should be sent to the following mailing lists:</p><ul>
<li><p><em>hardware-certification-team@lists.canonical.com</em></p></li><li><p><em>commercial-engineering@lists.canonical.com</em></p><p>The content is typically something like this:</p>
<pre>
Subject: Next Release of CheckBox (18/11/2013)

Hi,

The next release of CheckBox is available in the
https://code.launchpad.net/~checkbox-dev/+archive/testing PPA.
Please test it at your convenience. CheckBox is based on revision 2484 of
lp:checkbox and CheckBox Certification is based on revision 586 of
lp:checkbox-certification.

Thanks,
</pre>
<p>If one or the other of CheckBox and CheckBox Certification have not been updated then there is no need to mention that package</p></li>
</ul>
<h3>Testing the release</h3>
<p>Now that the release has been cut, testing should take place prior to the release meeting. From the point of view of the certification team, what needs to be tested is <strong>checkbox-certification-client</strong> and <strong>checkbox-certification-server</strong> which form the basis for CE QAs OEM specific versions of CheckBox. CheckBox certification server is tested in the CI loop CheckBox certification client needs to be tested manually.</p>
<h3>Release Meeting</h3>
<p>On the Thursday before the release is made, a meeting is held between a representative of the Certification team and a representative of the <strong>Commercial Engineering QA</strong> team. The meeting is held at 7:30 UTC as shown in this <em>calendar invite</em>. An agenda for the meeting is included in the invite.</p>
<h3>Publishing the release</h3>
<p>To publish the release we simply need to copy a number of packages from the <em>Checkbox Release Testing PPA</em> to the <em>Hardware Certification Public PPA</em>. To do this we go to the <em>Copy packages view of the Checkbox Release Testing PPA</em> and select all versions of the following list of packages: <strong>checkbox,</strong> checkbox-certification, fwts. Make sure that the &apos;Destination PPA&apos; field is set to &apos;Public PPA for Hardware Certification [~hardware-certification/public]&apos; and that the &apos;Copy options&apos; field is set to &apos;Copy existing binaries&apos;, then click &apos;Copy Packages&apos;.</p><p>After that is done an announcement email should be sent to <em>commercial-engineering@lists.canonical.com</em>. A template for the announcement in included below:</p>
<pre>
Hi,

A new release of checkbox has been uploaded to the Hardware
Certification Public PPA
(https://launchpad.net/~hardware-certification/+archive/public). The
release is based on revision 2294 of lp:checkbox

Thanks,
</pre>
<p>Please attach the most recent part of the changelog as release notes</p><ul>
<li><p><em>genindex</em></p></li><li><p><em>modindex</em></p></li><li><p><em>search</em></p></li>
</ul>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Zygmunt Krynicki</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>2013, Zygmunt Krynicki</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="checkbox-cli.1.html"><span aria-hidden="true">&larr;</span> checkbox-cli.1: Checkboxng documentation  checkboxng is a hardware testing tool useful for certifying laptops, desktops and servers with ubuntu. it is a new version of checkbox that is built directly on top of plainbox  checkboxng replaces checkbox, where applicable.  warning: documentation is under development. some things are wrong, inaccurate or describe development goals rather than current state.</a></li>
   <li class="next"><a href="checkdirfile.1.html">checkdirfile.1: Checkdirfile  verify dirfile database metadata <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
