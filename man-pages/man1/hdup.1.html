<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hdup: Harddisk duplicator/harddisk backupper - backup to harddisk</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Harddisk duplicator/harddisk backupper - backup to harddisk">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="hdup (1) manual">
  <meta name="twitter:description" content="Harddisk duplicator/harddisk backupper - backup to harddisk">
  <meta name="twitter:image" content="https://www.carta.tech/images/hdup-hdup-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/hdup.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="hdup (1) manual" />
  <meta property="og:description" content="Harddisk duplicator/harddisk backupper - backup to harddisk" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/hdup-hdup-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">hdup<small> (1)</small></h1>
        <p class="lead">Harddisk duplicator/harddisk backupper - backup to harddisk</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/hdup.1.html">
      <span itemprop="name">hdup: Harddisk duplicator/harddisk backupper - backup to harddisk</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/hdup/">
      <span itemprop="name">hdup</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/hdup.1.html">
      <span itemprop="name">hdup: Harddisk duplicator/harddisk backupper - backup to harddisk</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>hdup</strong> [ <em>OPTION</em> ] <em>SCHEME</em> <em>HOST</em> [ <em>@USER@REMOTEHOST</em> ] <em>(1st format)</em></p><p><strong>hdup</strong> [ <em>OPTION</em> ] <em>restore</em> <em>HOST</em> <em>DATE</em> <em>DIRECTORY</em> [ <em>@USER@REMOTEHOST</em> ] <em>(2nd format)</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Hdup</strong> is used to backup a filesystem. Features include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>incremental backups: monthly, weekly and daily dumps,</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>encryption of the archive (via <strong>mcrypt</strong> or <strong>GPG</strong>),</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>compression of the archive (bzip/gzip/lzop/none),</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>possibility to transfer the archive to a remote host,</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>possibility to restore the archive from a remote host,</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>ability to split up archives,</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>no obscure archive format (it is a normal compressed tar file), and</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>simple to use.</p>
  </dd>

</dl>
<p>The behaviour of <strong>hdup</strong> is controlled by its configuration file (see <a href="../man5/hdup.conf.5.html"><strong>hdup.conf</strong>(5)</a></strong>). Internally <strong>hdup</strong> uses <strong>GNU tar</strong> to actually create the backups.</p><h3>First format</h3>
<p>When using the 1st format <strong>hdup</strong> performs a backup. Remember: <strong>hdup</strong> pushes a backup <em>from</em> the localhost <em>to</em> the remote host.</p><p>The sort of backup is specified by <em>SCHEME</em>:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>monthly</strong></p>
  </dt>
  <dd>
    <p>Make a full (null) dump of the filesystem.</p>
  </dd>
  <dt>
    <p><strong>weekly</strong></p>
  </dt>
  <dd>
    <p>Make an incremental dump of the filesystem relative to the latest monthly dump. If <strong>hdup</strong> cannot find a monthly dump it will complain, unless <em>always backup</em> is on. Then a monthly dump will be performed.</p>
  </dd>
  <dt>
    <p><strong>daily</strong></p>
  </dt>
  <dd>
    <p>Make an incremental dump of the filesystem relative to the latest weekly dump. If <strong>hdup</strong> cannot find a weekly dump it will complain, unless <em>always backup</em> is on. Then a weekly dump will be performed.</p>
  </dd>

</dl>
<p><em>HOST</em> is the host of which <strong>hdup</strong> should perform the backup. This should match a '[HOST]' statement in the configuration file. The directories of that host (specified with 'dir = <em>dir1</em>, <em>dir2</em>', ...) will be backed up to the directory specified with 'archive dir = <em>dir</em>'. If <em>HOST</em> is not found no backup will be made.</p><p><em>@USER@REMOTEHOST</em> is the host to which the archive should be transfered. This must include the user name. E.g <em>@miekg@elektron.atoom.net.</em> It is illegal to specify the colon ':'. <strong>hdup</strong> must be present on the remote host. The location of this remote <strong>hdup</strong> is specified using <em>remote hdup</em>.</p><p>Any program capable of transferring files can used for this purpose. Currently tested is <strong>ssh</strong>. Other programs like <strong>rsync</strong> (not tested) may also work. Any program with the following characteristics will do:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>must be usable as a filter (read from stdin, write to stdout),</p>
  </dd>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>must support <em>user@remotehost</em> syntax.</p>
  </dd>

</dl>

<h3>Second format</h3>
<p>When using the 2nd format a previous backed up filesystem is restored. Remember: <strong>hdup</strong> pushes a restore <em>from</em> the remote <em>to</em> the local host. This is opposite from the backup operation!</p><p><em>HOST</em> is the host who's archives should be restored.</p><p><em>DATE</em> everything up to this date will be restored. <strong>hdup</strong> will look for the most recent monthly archive, then the most recent weekly and finally for the daily to pad up to date given. The <em>DATE</em> can either be specified as DD-MM-YYYY (date spec = default), as YYYY-MM-DD (date spec = iso) or as MM-DD-YYYY (date spec = american). This is controlled from the configuration file.</p><p>A special date is 'static' which instructs <strong>hdup</strong> to look in the 'static' directory. This is used when 'no history = yes'. This is dangerous to use because <strong>hdup</strong> will overwrite the old backup file with the new one. When your system crashes during the overwrite you have no backup at all! Only use this when you <em>really</em> don't have room for two monthly backups.</p><p>Another special date is 'today' which instructs <strong>hdup</strong> to use the current date.</p><p><em>DIRECTORY</em> tells <strong>hdup</strong> to which directory the archive should be untarred to. Be very careful when running <strong>hdup</strong> as root and specifying '/' as the directory. Version 1.4 and above refuses to restore to '/'. This can be overridden by specifying 'force = on/yes' in the configuration.</p><p><em>@USER@REMOTEHOST</em> is the host to which the archive should be restored. This must include the user name. E.g <em>@miekg@elektron.atoom.net.</em> As as version 1.6.6 it is illegal to specify the colon ':'. On the remosthost and in <em>DIRECTORY</em> the archive is restored. <strong>hdup</strong> must be present on the remote host.</p>
<h3>Status message</h3>
<p>When <strong>hdup</strong> is finished with its current operation it will print an overview message:</p><table class="table table-striped">
<tr>
<th>Hdup version.:  1.6.6</th>
<th></th></tr>

<tr>
<td></td>
<td></td></tr>

<tr>
<td>Host.........:  elektron</td>
<td></td></tr>

<tr>
<td>Date.........:  2003-02-02</td>
<td></td></tr>

<tr>
<td>Scheme.......:  monthly</td>
<td></td></tr>

<tr>
<td>Archive......:  elektron.2003-02-02.monthly.tar.gz</td>
<td></td></tr>

<tr>
<td>Encryption...:  no</td>
<td></td></tr>

<tr>
<td>Archive size.:  257k</td>
<td></td></tr>

<tr>
<td>Elapsed......:  0:01:27</td>
<td></td></tr>

<tr>
<td>Status.......:  successfully performed backup</td>
<td></td></tr>
</table><p>Which can be mailed to you via cron.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c, --config=</strong><em>config</em></p>
  </dt>
  <dd>
    <p>Location of the configuration file. The default location of <strong>hdup</strong>'s configuration file is <em>/etc/hdup/hdup.conf</em>.</p>
  </dd>
  <dt>
    <p><strong>-s, --specific=</strong><em>file</em></p>
  </dt>
  <dd>
    <p>Restore a specific file from an archive. <em>file</em> must be the <strong>full</strong><em> path</em> to the file, relative paths will not work.</p>
  </dd>
  <dt>
    <p><strong>-i, --ignore-tar</strong></p>
  </dt>
  <dd>
    <p>Ignore tar errors when restoring.</p>
  </dd>
  <dt>
    <p><strong>-I, --ignore-conf</strong></p>
  </dt>
  <dd>
    <p>Ignore errors in the configuration file.</p>
  </dd>
  <dt>
    <p><strong>-P, --patched_tar</strong></p>
  </dt>
  <dd>
    <p>Tar is patched so that it can handle <em>--no-recursion</em>, <em>--listed-incremental</em> and <em>--files-from</em> together. This options enables two things in hdup; 1) directory info is written to 'filelist' and 2) <em>--no-recursion</em> is given to <strong>tar</strong>.</p><p>This solves the bug whereby <strong>hdup</strong> wouldn't include directory information in the archives.</p>
  </dd>
  <dt>
    <p><strong>-d, --dryrun</strong></p>
  </dt>
  <dd>
    <p>Do a dryrun - don't do anything with the filesystem</p>
  </dd>
  <dt>
    <p><strong>-q, --quiet</strong></p>
  </dt>
  <dd>
    <p>Suppress the output of the subprocesses (like 'tar' and 'ssh').</p>
  </dd>
  <dt>
    <p><strong>-q -q, --quiet --quiet</strong></p>
  </dt>
  <dd>
    <p>Suppress the logging output from <strong>hdup</strong>.</p>
  </dd>
  <dt>
    <p><strong>-q -q -q, --quiet --quiet --quiet</strong></p>
  </dt>
  <dd>
    <p>No logging at all. Even no overview message.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Be more verbose.</p>
  </dd>
  <dt>
    <p><strong>-V -V</strong></p>
  </dt>
  <dd>
    <p>Be even more verbose. This will show which files are backed up by <strong>hdup</strong> IF you also supply the -D option.</p>
  </dd>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>A help message.</p>
  </dd>
  <dt>
    <p><strong>-v, --version</strong></p>
  </dt>
  <dd>
    <p>Show the version of hdup.</p>
  </dd>
  <dt>
    <p><strong>-D, --debug</strong></p>
  </dt>
  <dd>
    <p>Show a lot of information which can aid debugging.</p>
  </dd>

</dl>
<p>The -V and -q options do <em>not</em> effect each other. A '-qqq -VV' option list will mean that <strong>hdup</strong> will show what is run, but nothing else (no overview message and no warning nor errors).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENCRYPTION</h2>
        <div class="sectioncontent">
<p><strong>hdup</strong> can encrypt the archives, <strong>mcrypt</strong> is used for the actual encryption. As of version 1.6.25 <strong>GPG</strong> can also be used to encrypt the archive. Note that currently remotely restoring a GPG encrypted archives is not working.</p><h3>mcrypt</h3>
<p>With <strong>mcrypt --list</strong> you get a list of the algorithms mcrypt supports:</p><table class="table table-striped">
<tr>
<th>...</th>
<th></th></tr>

<tr>
<td><em>serpent</em> (32): cbc cfb ctr ecb ncfb ofb nofb</td>
<td></td></tr>

<tr>
<td><em>wake</em> (32): stream</td>
<td></td></tr>

<tr>
<td><em>loki97</em> (32): cbc cfb ctr ecb ncfb ofb nofb</td>
<td></td></tr>

<tr>
<td><em>rijndael-128</em> (32): cbc cfb ctr ecb ncfb ofb nofb</td>
<td></td></tr>

<tr>
<td><em>rijndael-192</em> (32): cbc cfb ctr ecb ncfb ofb nofb</td>
<td></td></tr>

<tr>
<td>...</td>
<td></td></tr>
</table><p>If you want to use <em>loki97</em> you specify <strong>algorithm = loki97</strong> in hdup.conf. The same goes for all the other algorithms.</p>
<h3>GPG</h3>
<p>To use <strong>GPG</strong> the following is needed. Set <strong>algorithm = gpg</strong> and <strong>key = user ID of key</strong>. In my case I've created a GPG key with user ID of 'miekg' so I use:</p><p><strong>algorithm = gpg</strong></p><p><strong>key = miekg</strong></p><p>The <strong>key</strong> is supplied to <strong>gpg</strong> with the <em>-r</em> argument. See the manpage of <strong>gpg</strong> for more details.</p><p>When restoring a GPG encrypted archive you will be prompted to unlock your private key.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Miek Gieben. Wouter van Gils helped a lot with testing pre-release versions. User feedback is appreciated.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;hdup-user@miek.nl&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The %a expansion is not always the same in the prerun and postrun scripts (when using encryption).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>Under Linux kernel version 2.2 the archive size cannot exceed two (2) Gigabyte. If you need larger archives sizes you should upgrade your kernel. You can however solve this by using <em>chunk size</em>. Just define your maximum allowed size, something like <em>chunk size = 1800M</em> and you're set.</p><p>If you encrypt archives and want to restore them, you are forced to use one encryption scheme for all the backups. <strong>hdup</strong> does not store the key and algorithm with the archive, thus it is impossible to restore archives that use different keys and algorithms.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2001-2005 Miek Gieben. This is free software. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO hdup&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/hdup.conf.5.html"><strong>hdup.conf</strong>(5)</a></strong> for information about <strong>hdup</strong>'s configuration file.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="hdp.1.html"><span aria-hidden="true">&larr;</span> hdp.1: Display general information about the contents of an hdf file</a></li>
   <li class="next"><a href="head.1.html">head.1: Output the first part of files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
