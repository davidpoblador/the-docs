<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mia-3dfluid: Fluid dynamic 3d registration</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Fluid dynamic 3d registration">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mia-3dfluid (1) manual">
  <meta name="twitter:description" content="Fluid dynamic 3d registration">
  <meta name="twitter:image" content="https://www.carta.tech/images/mia-tools-mia-3dfluid-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mia-3dfluid.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mia-3dfluid (1) manual" />
  <meta property="og:description" content="Fluid dynamic 3d registration" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mia-tools-mia-3dfluid-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mia-3dfluid<small> (1)</small></h1>
        <p class="lead">Fluid dynamic 3d registration</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mia-3dfluid.1.html">
      <span itemprop="name">mia-3dfluid: Fluid dynamic 3d registration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mia-tools/">
      <span itemprop="name">mia-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mia-3dfluid.1.html">
      <span itemprop="name">mia-3dfluid: Fluid dynamic 3d registration</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mia-3dfluid -i &lt;in-image&gt; -r &lt;ref-image&gt; -o &lt;out-deformation&gt; [options]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mia-3dfluid</strong> This program is used for non-rigid registration based on fluid dynamics as described in: Wollny, G. and Kruggel, F., 'Computational cost of non-rigid registration algorithms based on fluid dynamics', IEEE Transactions on Medical Imaging, 11(8), pp. 946-952, 2002, doi:10.1109/TMI.2002.803113. It uses SSD as the sole registration criterion.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>File-IO</h3>

<dl class='dl-vertical'>
  <dt>
    -i --in-image=(input,required)
  </dt>
  <dd>
    <p>input image  For supported file types see PLUGINS:3dimage/io</p>
  </dd>
  <dt>
    -r --ref-image=(input,required)
  </dt>
  <dd>
    <p>reference image   For supported file types see PLUGINS:3dimage/io</p>
  </dd>
  <dt>
    -o --out-deformation=(output,required)
  </dt>
  <dd>
    <p>output vector field  For supported file types see PLUGINS:3dtransform/io</p>
  </dd>
  <dt>
    -d --deformed-image=(output)
  </dt>
  <dd>
    <p>save deformed image  For supported file types see PLUGINS:3dimage/io</p>
  </dd>

</dl>

<h3>Help & Info</h3>

<dl class='dl-vertical'>
  <dt>
    -V --verbose=warning
  </dt>
  <dd>
    <p>verbosity of output, print messages of given level and higher priorities. Supported priorities starting at lowest level are:</p><p><em></em> info \(hy Low level messages</p><p><em></em> trace \(hy Function call trace</p><p><em></em> fail \(hy Report test failures</p><p><em></em> warning \(hy Warnings</p><p><em></em> error \(hy Report errors</p><p><em></em> debug \(hy Debug output</p><p><em></em> message \(hy Normal messages</p><p><em></em> fatal \(hy Report only fatal errors</p>
  </dd>
  <dt>
       --copyright
  </dt>
  <dd>
    <p>print copyright information</p>
  </dd>
  <dt>
    -h --help
  </dt>
  <dd>
    <p>print this help</p>
  </dd>
  <dt>
    -? --usage
  </dt>
  <dd>
    <p>print a short help</p>
  </dd>
  <dt>
       --version
  </dt>
  <dd>
    <p>print the version number and exit</p>
  </dd>

</dl>

<h3>Processing</h3>

<dl class='dl-vertical'>
  <dt>
       --threads=-1
  </dt>
  <dd>
    <p>Maxiumum number of threads to use for processing,This number should be lower or equal to the number of logical processor cores in the machine. (-1: automatic estimation).</p>
  </dd>

</dl>

<h3>Registration parameters</h3>

<dl class='dl-vertical'>
  <dt>
       --disable-multigrid
  </dt>
  <dd>
    <p>disable multi-grid processing</p>
  </dd>
  <dt>
       --disable-fullres
  </dt>
  <dd>
    <p>disable processing on the full resolution image</p>
  </dd>
  <dt>
       --lambda=1
  </dt>
  <dd>
    <p>elasticy constant</p>
  </dd>
  <dt>
       --mu=1
  </dt>
  <dd>
    <p>elasticy constant</p>
  </dd>
  <dt>
    -s --start-size=16
  </dt>
  <dd>
    <p>initial multigrided size</p>
  </dd>
  <dt>
    -m --method=sora
  </dt>
  <dd>
    <p>method for solving PDE</p><p><em></em> sor \(hy succesive overrelaxation</p><p><em></em> sora \(hy Gauss Southwell relexation</p>
  </dd>
  <dt>
       --step=0.8
  </dt>
  <dd>
    <p>Initial stepsize</p>
  </dd>
  <dt>
    -p --interpolator=bspline:d=3
  </dt>
  <dd>
    <p>image interpolator kernel  For supported plugins see PLUGINS:1d/splinekernel</p>
  </dd>
  <dt>
       --relax=1
  </dt>
  <dd>
    <p>overrelaxation factor vor method sor</p>
  </dd>
  <dt>
       --maxiter=10
  </dt>
  <dd>
    <p>maxium iterations</p>
  </dd>
  <dt>
       --epsilon=0.01
  </dt>
  <dd>
    <p>truncation condition</p>
  </dd>
  <dt>
       --matter=4
  </dt>
  <dd>
    <p>intensity above which real matter is assumed (experimental)</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PLUGINS: 1d/splinekernel</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>bspline</strong></p>
  </dt>
  <dd>
    <p>B-spline kernel creation , supported parameters are:</p>
  </dd>

</dl>
<p><em></em> d = 3 (int)</p><p>Spline degree. in [0, 5]</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>omoms</strong></p>
  </dt>
  <dd>
    <p>OMoms-spline kernel creation, supported parameters are:</p>
  </dd>

</dl>
<p><em></em> d = 3 (int)</p><p>Spline degree. in [3, 3]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PLUGINS: 3dimage/io</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>analyze</strong></p>
  </dt>
  <dd>
    <p>Analyze 7.5 image</p>
  </dd>

</dl>
<p>Recognized file extensions:  .HDR, .hdr</p><p>Supported element types:</p><p>unsigned 8 bit, signed 16 bit, signed 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>datapool</strong></p>
  </dt>
  <dd>
    <p>Virtual IO to and from the internal data pool</p>
  </dd>

</dl>
<p>Recognized file extensions:  .@</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>dicom</strong></p>
  </dt>
  <dd>
    <p>Dicom image series as 3D</p>
  </dd>

</dl>
<p>Recognized file extensions:  .DCM, .dcm</p><p>Supported element types:</p><p>signed 16 bit, unsigned 16 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>hdf5</strong></p>
  </dt>
  <dd>
    <p>HDF5 3D image IO</p>
  </dd>

</dl>
<p>Recognized file extensions:  .H5, .h5</p><p>Supported element types:</p><p>binary data, signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>inria</strong></p>
  </dt>
  <dd>
    <p>INRIA image</p>
  </dd>

</dl>
<p>Recognized file extensions:  .INR, .inr</p><p>Supported element types:</p><p>signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>mhd</strong></p>
  </dt>
  <dd>
    <p>MetaIO 3D image IO using the VTK implementation (experimental).</p>
  </dd>

</dl>
<p>Recognized file extensions:  .MHA, .MHD, .mha, .mhd</p><p>Supported element types:</p><p>signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>nifti</strong></p>
  </dt>
  <dd>
    <p>NIFTI-1 3D image IO</p>
  </dd>

</dl>
<p>Recognized file extensions:  .NII, .nii</p><p>Supported element types:</p><p>signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vff</strong></p>
  </dt>
  <dd>
    <p>VFF Sun raster format</p>
  </dd>

</dl>
<p>Recognized file extensions:  .VFF, .vff</p><p>Supported element types:</p><p>unsigned 8 bit, signed 16 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vista</strong></p>
  </dt>
  <dd>
    <p>Vista 3D</p>
  </dd>

</dl>
<p>Recognized file extensions:  .V, .VISTA, .v, .vista</p><p>Supported element types:</p><p>binary data, signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vti</strong></p>
  </dt>
  <dd>
    <p>3D image VTK-XML in- and output (experimental).</p>
  </dd>

</dl>
<p>Recognized file extensions:  .VTI, .vti</p><p>Supported element types:</p><p>signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vtk</strong></p>
  </dt>
  <dd>
    <p>3D VTK image legacy in- and output (experimental).</p>
  </dd>

</dl>
<p>Recognized file extensions:  .VTK, .VTKIMAGE, .vtk, .vtkimage</p><p>Supported element types:</p><p>binary data, signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32 bit, floating point 32 bit, floating point 64 bit</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PLUGINS: 3dtransform/io</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>bbs</strong></p>
  </dt>
  <dd>
    <p>Binary (non-portable) serialized IO of 3D transformations</p>
  </dd>

</dl>
<p>Recognized file extensions:  .bbs</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>datapool</strong></p>
  </dt>
  <dd>
    <p>Virtual IO to and from the internal data pool</p>
  </dd>

</dl>
<p>Recognized file extensions:  .@</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>vista</strong></p>
  </dt>
  <dd>
    <p>Vista storage of 3D transformations</p>
  </dd>

</dl>
<p>Recognized file extensions:  .v, .v3dt</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>xml</strong></p>
  </dt>
  <dd>
    <p>XML serialized IO of 3D transformations</p>
  </dd>

</dl>
<p>Recognized file extensions:  .x3dt</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Register image test.v to image ref.v and write the deformation vector field regfield.v. Start registration at the smallest size above 16 pixel. mia-3dfluid -i test.v -r ref.v -o regfield.v -s 16</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR(s)</h2>
        <div class="sectioncontent">
<p>Gert Wollny</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>This software is Copyright (c) 1999\(hy2013 Leipzig, Germany and Madrid, Spain. It comes  with  ABSOLUTELY  NO WARRANTY  and  you  may redistribute it under the terms of the GNU GENERAL PUBLIC LICENSE Version 3 (or later). For more information run the program with the option '--copyright'.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mia-3dfield2norm.1.html"><span aria-hidden="true">&larr;</span> mia-3dfield2norm.1: Evaluate the norm image of a 3d vector field.</a></li>
   <li class="next"><a href="mia-3dforce.1.html">mia-3dforce.1: Evaluate the registration force between two 3d images. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
