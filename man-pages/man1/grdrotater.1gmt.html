<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>grdrotater: Rotate a grid using a finite rotation</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Rotate a grid using a finite rotation">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="grdrotater (1gmt) manual">
  <meta name="twitter:description" content="Rotate a grid using a finite rotation">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-grdrotater-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/grdrotater.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="grdrotater (1gmt) manual" />
  <meta property="og:description" content="Rotate a grid using a finite rotation" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-grdrotater-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">grdrotater<small> (1gmt)</small></h1>
        <p class="lead">Rotate a grid using a finite rotation</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/grdrotater.1gmt.html">
      <span itemprop="name">grdrotater: Rotate a grid using a finite rotation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/grdrotater.1gmt.html">
      <span itemprop="name">grdrotater: Rotate a grid using a finite rotation</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>grdrotate</strong> <em>ingrdfile</em> <strong>-G</strong><em>outgrdfile</em> <strong>-T</strong><em>plon</em>/<em>plat</em>/<em>omega</em> [ <strong>-F</strong><em>polygonfile</em> ] [ <strong>-H</strong>[<strong>i</strong>][<em>nrec</em>] ] [ <strong>-N</strong> ] [ <strong>-Q</strong>[<strong>b</strong>|<strong>c</strong>|<strong>l</strong>|<strong>n</strong>][[<strong>/</strong>]<em>threshold</em>] ] [ <strong>-R</strong><em>west</em>/<em>east</em>/<em>south</em>/<em>north</em>[<strong>r</strong>] ] [ <strong>-S</strong> ] [ <strong>-V</strong> ] [ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ] [ <strong>-b</strong>[<strong>i</strong>|<strong>o</strong>][<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ] [ <strong>-m</strong>[<em>flag</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>grdrotater</strong> reads a geographical grid and reconstructs it given a total reconstruction rotation.  Optionally, the user may supply a clipping polygon in multiple-segment format; then, only the part of the grid inside the polygon is used to determine the return grid region.  The outline of the projected region is returned on stdout provided the rotated region is not the entire globe.</p><p>	No space between the option flag and the associated arguments.  Use upper case for the option flags and lower case for modifiers.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>ingrdfile</em></p>
  </dt>
  <dd>
    <p>Name of a grid file in geographical (lon, lat) coordinates.</p>
  </dd>
  <dt>
    <p><strong>-G</strong></p>
  </dt>
  <dd>
    <p>Name of output grid.  This is the grid with the data reconstructed according to the specified rotation.</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>Finite rotation.  Specify the longitude and latitude of the rotation pole and the opening angle, all in degrees.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Specify a multi-segment closed polygon file that describes the inside area of the grid that should be projected [Default projects entire grid].</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Input file(s) has header record(s).  If used, the default number of header records is <strong>N_HEADER_RECS</strong>. Use <strong>-Hi</strong> if only input data should have header records [Default will write out header records if the input data have them]. Blank lines and lines starting with # are always skipped.</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>Do Not output the rotated polygon outline [Default will write it to stdout].</p>
  </dd>
  <dt>
    <p><strong>-Q</strong></p>
  </dt>
  <dd>
    <p>Quick mode, use bilinear rather than bicubic interpolation [Default]. Alternatively, select the interpolation mode by adding <strong>b</strong> for B-spline smoothing, <strong>c</strong> for bicubic interpolation, <strong>l</strong> for bilinear interpolation or <strong>n</strong> for nearest-neighbor value. Optionally, append <em>threshold</em> in the range [0,1]. This parameter controls how close to nodes with NaN values the interpolation will go.  E.g., a <em>threshold</em> of 0.5 will interpolate about half way from a non-NaN to a NaN node, whereas 0.1 will go about 90% of the way, etc. [Default is 1, which means none of the (4 or 16) nearby nodes may be NaN].  <strong>-Q0</strong> will just return the value of the nearest node instead of interpolating. This is the same as using <strong>-Qn</strong>.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p><em>west, east, south,</em> and <em>north</em> specify the Region of interest, and you may specify them in decimal degrees or in [+-]dd:mm[:ss.xxx][W|E|S|N] format.  Append <strong>r</strong> if lower left and upper right map coordinates are given instead of w/e/s/n.  The two shorthands <strong>-Rg</strong> and <strong>-Rd</strong> stand for global domain (0/360 and -180/+180 in longitude respectively, with -90/+90 in latitude). Alternatively, specify the name of an existing grid file and the <strong>-R</strong> settings (and grid spacing, if applicable) are copied from the grid.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Skip the rotation of the grid, just rotate the polygon outline (requires <strong>-F</strong>).</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-:</strong></p>
  </dt>
  <dd>
    <p>Toggles between (longitude,latitude) and (latitude,longitude) input/output.  [Default is (longitude,latitude)].</p>
  </dd>
  <dt>
    <p><strong>-bi</strong></p>
  </dt>
  <dd>
    <p>Selects binary input. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of columns in your binary input file if it exceeds the columns needed by the program. Or append <strong>c</strong> if the input file is netCDF. Optionally, append <em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>...</em> to specify the variables to be read. [Default is 2 input columns].</p>
  </dd>
  <dt>
    <p><strong>-bo</strong></p>
  </dt>
  <dd>
    <p>Selects binary output. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of desired columns in your binary output file. [Default is same as input].</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Multiple segment file(s).  Segments are separated by a special record. For ASCII files the first character must be <em>flag</em> [Default is '&gt;']. For binary files all fields must be NaN and <strong>-b</strong> must set the number of output columns explicitly.  By default the <strong>-m</strong> setting applies to both input and output.  Use <strong>-mi</strong> and <strong>-mo</strong> to give separate settings to input and output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To rotate the data defined by grid topo.grd and the polygon outline clip_path.d, using a finite rotation with pole at (135.5, -33.0) and a rotation angle of 37.3 degrees and bicubic interpolation, try</p><p><strong>grdrotater</strong> topo.grd <strong>-T</strong> 135.5/-33/37.3 <strong>-V</strong> <strong>-F</strong> clip_path.d <strong>-G</strong> rot_topo.grd &gt; rot_clip_path.d</p><p>To rotate the entire grid faa.grd using a finite rotation pole at (67:45W, 22:35S) and a rotation angle of 19.6 degrees using a bilinear interpolation, try</p><p><strong>grdrotater</strong> faa.grd <strong>-T</strong> 67:45W/22:35S/19.6 <strong>-V</strong> <strong>-Q</strong> <strong>-G</strong> rot_faa.grd &gt; rot_faa_path.d</p><p>To just see how the outline of the grid large.grd will plot after the same rotation, try</p><p><strong>grdrotater</strong> large.grd <strong>-T</strong> 67:45W/22:35S/19.6 <strong>-V</strong> <strong>-S</strong> | psxy <strong>-Rg</strong> <strong>-JH</strong> 180/6i <strong>-B</strong> 30 <strong>-m</strong> <strong>-W</strong> 0.5<strong>p</strong> | gv -</p><p>Let say you have rotated gridA.grd and gridB.grd, restricting each rotation to nodes inside polygons polyA.d and polyB.d, respectively, using rotation A = (123W,22S,16,4) and rotation B = (108W, 16S, -14.5), yielding rotated grids rot_gridA.grd and rot_gridB.grd. To determine the region of overlap between the rotated grids, we use grdmath:</p><p>grdmath 1 rot_gridA.grd ISNAN SUB 1 rot_gridB.grd ISNAN SUB 2 EQ = overlap.grd</p><p>The grid overlap.grd now has 1s in the regions of overlap and 0 elsewhere.  You can use it as a mask or use grdcontour to extract a polygon (contour).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COORDINATES</h2>
        <div class="sectioncontent">
<p>Data coordinates are assumed to be geodetic and will automatically be converted to geocentric before spherical rotations are performed.  We convert back to geodetic coordinates for output. Note: If your data already are geocentric, you can avoid the conversion by using --ELLIPSOID=sphere.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO grdrotater&hellip;</h2>
        <div class="sectioncontent">
<p><strong>backtracker</strong>(1), <strong>grdspotter</strong>(1), <strong>hotspotter</strong>(1), <strong>originator</strong>(1) <strong>rotconverter</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gmt-manpages-grdreformat.1gmt.html"><span aria-hidden="true">&larr;</span> grdreformat.1gmt: Converting between different grdfile formats.</a></li>
   <li class="next"><a href="gmt-grdsample.1gmt.html">grdsample.1gmt: Resample a grid file onto a new grid <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
