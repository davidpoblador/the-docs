<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fai-mirror: Create and manage a partial mirror for fai</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create and manage a partial mirror for fai">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fai-mirror (1) manual">
  <meta name="twitter:description" content="Create and manage a partial mirror for fai">
  <meta name="twitter:image" content="https://www.carta.tech/images/fai-server-fai-mirror-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/fai-mirror.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fai-mirror (1) manual" />
  <meta property="og:description" content="Create and manage a partial mirror for fai" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fai-server-fai-mirror-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fai-mirror<small> (1)</small></h1>
        <p class="lead">Create and manage a partial mirror for fai</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fai-mirror.1.html">
      <span itemprop="name">fai-mirror: Create and manage a partial mirror for fai</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fai-server/">
      <span itemprop="name">fai-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fai-mirror.1.html">
      <span itemprop="name">fai-mirror: Create and manage a partial mirror for fai</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>fai-mirror</strong> [OPTION]... DIRECTORY</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This command creates a partial mirror of Debian packages. It can be used to create the fai CD or as a local mirror when you can't download the whole Debian mirror. By default the mirror will contain all packages of all classes used in the configuration space (/srv/fai/config/package_config).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a ARCH</strong></p>
  </dt>
  <dd>
    <p>Download packages from architecture ARCH. If not specified, use native architecture of host.</p>
  </dd>
  <dt>
    <p><strong>-B</strong></p>
  </dt>
  <dd>
    <p>Do not add packages included in base.tgz and packages defined in nfsroot.conf to the mirror. By default all these packages are included in the mirror.</p>
  </dd>
  <dt>
    <p><strong>-C CFDIR</strong></p>
  </dt>
  <dd>
    <p>Use CFDIR as the configuration directory. Default is /etc/fai. You can also set the environment variable FAI_ETC_DIR.</p>
  </dd>
  <dt>
    <p><strong>-c </strong><em>CLASS[,CLASS]</em></p>
  </dt>
  <dd>
    <p>Use only this list of classes for building the mirror. Can't be used in conjunction with -x.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Show simple help and version.</p>
  </dd>
  <dt>
    <p><strong>-m </strong><em>MAX</em></p>
  </dt>
  <dd>
    <p>Set the number of packages to NUM. This overwrites the variable MAXPACKAGES.</p>
  </dd>
  <dt>
    <p><strong>-x </strong><em>CLASS[,CLASS]</em></p>
  </dt>
  <dd>
    <p>Exclude these classes. Do not add the packages of these classes to the mirror.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Preserve existing sources.list. NOT YET IMPLEMENTED.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Create verbose output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
   # fai-mirror -v /files/scratch/mirror
</pre>
<p>Creates a partial mirror in the directory /files/scratch/mirror using all classes.</p>
<pre>
   # fai-mirror -v -cDEFAULT,DEMO /debmirror
</pre>
<p>Creates a partial mirror containing all packages used in the classes DEFAULT and DEMO.</p>
<pre>
   # fai-mirror -v -cDEFAULT,AMD64 /srv/debmirror-amd64
</pre>
<p>Will create a mirror including packages for amd64 architecture defined for classes DEFAULT and AMD64. You can also run this on a non amd64 host.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>You only need root permissions if you access the official Debian mirror via NFS. By default, the variable MAXPACKAGES is set to 1, so conflicting packages can also be added to the mirror. Setting this to a higher number (e.g. 99999) reduces the time for creating the mirror, but some packages may be missing.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fai-mirror&hellip;</h2>
        <div class="sectioncontent">
<p>This program is part of FAI (Fully Automatic Installation). The FAI homepage is http://fai-project.org.</p>
<dl class='dl-vertical'>
  <dt>
    <p><a href="../man8/fai-make-nfsroot.8.html"><strong>fai-make-nfsroot</strong>(8)</a>, <a href="../man8/install_packages.8.html"><strong>install_packages</strong>(8)</a></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>\|&#92;$1\|</em></p>
  </dt>
  <dd>
    <p>The FAI configuration file.</p>
  </dd>
  <dt>
    <p>The FAI configuration file for the nfsroot.</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Package resource definition for FAI.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The FAI package configuration directory. This directory is defined by the variable FAI_CONFIGDIR.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>The list of packages included in base.tgz inside the nfsroot.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Additional packages that were added to the nfsroot by the configuration file /etc/fai/NFSROOT.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Thomas Lange &lt;lange@informatik.uni-koeln.de&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fai-do-scripts.1.html"><span aria-hidden="true">&larr;</span> fai-do-scripts.1: Call configuration scripts</a></li>
   <li class="next"><a href="fai-monitor-gui.1.html">fai-monitor-gui.1: Fai monitor daemon, graphical interface <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
