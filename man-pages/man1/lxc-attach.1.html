<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lxc-attach: Start a process inside a running container.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Start a process inside a running container.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lxc-attach (1) manual">
  <meta name="twitter:description" content="Start a process inside a running container.">
  <meta name="twitter:image" content="https://www.carta.tech/images/lxc-lxc-attach-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lxc-attach.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lxc-attach (1) manual" />
  <meta property="og:description" content="Start a process inside a running container." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lxc-lxc-attach-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lxc-attach<small> (1)</small></h1>
        <p class="lead">Start a process inside a running container.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lxc-attach.1.html">
      <span itemprop="name">lxc-attach: Start a process inside a running container.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lxc/">
      <span itemprop="name">lxc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lxc-attach.1.html">
      <span itemprop="name">lxc-attach: Start a process inside a running container.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lxc-attach</strong> \kx {-n <em>name</em>} [-a <em>arch</em>] [-e] [-s <em>namespaces</em>] [-R] [--keep-env] [--clear-env] [-- <em>command</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lxc-attach</strong> runs the specified <em>command</em> inside the container specified by <em>name</em>. The container has to be running already.</p><p>If no <em>command</em> is specified, the current default shell of the user running <strong>lxc-attach</strong> will be looked up inside the container and executed. This will fail if no such user exists inside the container or the container does not have a working nsswitch mechanism.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>-a, --arch </strong>\*(T&gt;<em>arch</em></p>
  </dt>
  <dd>
    <p>Specify the architecture which the kernel should appear to be running as to the command executed. This option will accept the same settings as the \*(T&lt;<strong>lxc.arch</strong>\*(T&gt; option in container configuration files, see <strong>\*(T&lt;</strong><em>lxc.conf</em>\*(T&gt;(5). By default, the current archictecture of the running container will be used.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-e, --elevated-privileges </strong>\*(T&gt;<em>privileges</em>\*(T&lt;<strong> </strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Do not drop privileges when running <em>command</em> inside the container. If this option is specified, the new process will <em>not</em> be added to the container's cgroup(s) and it will not drop its capabilities before executing.</p><p>You may specify privileges, in case you do not want to elevate all of them, as a pipe-separated list, e.g. <em>CGROUP|LSM</em>. Allowed values are <em>CGROUP</em>, <em>CAP</em> and <em>LSM</em> representing cgroup, capabilities and restriction privileges respectively.</p><p><em>Warning:</em> This may leak privileges into the container if the command starts subprocesses that remain active after the main process that was attached is terminated. The (re-)starting of daemons inside the container is problematic, especially if the daemon starts a lot of subprocesses such as <strong>cron</strong> or <strong>sshd</strong>. <em>Use with great care.</em></p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-s, --namespaces </strong>\*(T&gt;<em>namespaces</em></p>
  </dt>
  <dd>
    <p>Specify the namespaces to attach to, as a pipe-separated list, e.g. <em>NETWORK|IPC</em>. Allowed values are <em>MOUNT</em>, <em>PID</em>, <em>UTSNAME</em>, <em>IPC</em>, <em>USER </em>and <em>NETWORK</em>. This allows one to change the context of the process to e.g. the network namespace of the container while retaining the other namespaces as those of the host.</p><p><em>Important:</em> This option implies \*(T&lt;<strong>-e</strong>\*(T&gt;.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-R, --remount-sys-proc</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>When using \*(T&lt;<strong>-s</strong>\*(T&gt; and the mount namespace is not included, this flag will cause <strong>lxc-attach</strong> to remount <em>/proc</em> and <em>/sys</em> to reflect the current other namespace contexts.</p><p>Please see the <em>Notes</em> section for more details.</p><p>This option will be ignored if one tries to attach to the mount namespace anyway.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>--keep-env</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Keep the current environment for attached programs. This is the current default behaviour (as of version 0.9), but is is likely to change in the future, since this may leak undesirable information into the container. If you rely on the environment being available for the attached program, please use this option to be future-proof. In addition to current environment variables, container=lxc will be set.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>--clear-env</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Clear the environment before attaching, so no undesired environment variables leak into the container. The variable container=lxc will be the only environment with which the attached program starts.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMON OPTIONS</h2>
        <div class="sectioncontent">
<p>These options are common to most of lxc commands.</p>
<dl class='dl-vertical'>
  <dt>
    <p>\*(T&lt;<strong>-?, -h, --help</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Print a longer usage message than normal.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>--usage</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>Give the usage message</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-q, --quiet</strong>\*(T&gt;</p>
  </dt>
  <dd>
    <p>mute on</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-P, --lxcpath=</strong>\*(T&gt;<em>PATH</em></p>
  </dt>
  <dd>
    <p>Use an alternate container path. The default is /var/lib/lxc.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-o, --logfile=</strong>\*(T&gt;<em>FILE</em></p>
  </dt>
  <dd>
    <p>Output to an alternate log <em>FILE</em>. The default is no log.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-l, --logpriority=</strong>\*(T&gt;<em>LEVEL</em></p>
  </dt>
  <dd>
    <p>Set log priority to <em>LEVEL</em>. The default log priority is \*(T&lt;ERROR\*(T&gt;. Possible values are : \*(T&lt;FATAL\*(T&gt;, \*(T&lt;CRIT\*(T&gt;, \*(T&lt;WARN\*(T&gt;, \*(T&lt;ERROR\*(T&gt;, \*(T&lt;NOTICE\*(T&gt;, \*(T&lt;INFO\*(T&gt;, \*(T&lt;DEBUG\*(T&gt;.</p><p>Note that this option is setting the priority of the events log in the alternate log file. It do not have effect on the ERROR events log on stderr.</p>
  </dd>
  <dt>
    <p>\*(T&lt;<strong>-n, --name=</strong>\*(T&gt;<em>NAME</em></p>
  </dt>
  <dd>
    <p>Use container identifier <em>NAME</em>. The container identifier format is an alphanumeric string.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To spawn a new shell running inside an existing container, use</p>
<pre>
\*(T&lt;
          lxc-attach -n container
        \*(T&gt;
</pre>
<p>To restart the cron service of a running Debian container, use</p>
<pre>
\*(T&lt;
          lxc-attach -n container -- /etc/init.d/cron restart
        \*(T&gt;
</pre>
<p>To deactivate the network link eth1 of a running container that does not have the NET_ADMIN capability, use either the \*(T&lt;<strong>-e</strong>\*(T&gt; option to use increased capabilities, assuming the <strong>ip</strong> tool is installed:</p>
<pre>
\*(T&lt;
          lxc-attach -n container -e -- /sbin/ip link delete eth1
        \*(T&gt;
</pre>
<p>Or, alternatively, use the \*(T&lt;<strong>-s</strong>\*(T&gt; to use the tools installed on the host outside the container:</p>
<pre>
\*(T&lt;
          lxc-attach -n container -s NETWORK -- /sbin/ip link delete eth1
        \*(T&gt;
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMPATIBILITY</h2>
        <div class="sectioncontent">
<p>Attaching completely (including the pid and mount namespaces) to a container requires a kernel of version 3.8 or higher, or a patched kernel, please see the lxc website for details. <strong>lxc-attach</strong> will fail in that case if used with an unpatched kernel of version 3.7 and prior.</p><p>Nevertheless, it will succeed on an unpatched kernel of version 3.0 or higher if the \*(T&lt;<strong>-s</strong>\*(T&gt; option is used to restrict the namespaces that the process is to be attached to to one or more of <em>NETWORK</em>, <em>IPC</em> and <em>UTSNAME</em>.</p><p>Attaching to user namespaces is supported by kernel 3.8 or higher with enabling user namespace.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The Linux <em>/proc</em> and <em>/sys</em> filesystems contain information about some quantities that are affected by namespaces, such as the directories named after process ids in <em>/proc</em> or the network interface information in <em>/sys/class/net</em>. The namespace of the process mounting the pseudo-filesystems determines what information is shown, <em>not</em> the namespace of the process accessing <em>/proc</em> or <em>/sys</em>.</p><p>If one uses the \*(T&lt;<strong>-s</strong>\*(T&gt; option to only attach to the pid namespace of a container, but not its mount namespace (which will contain the <em>/proc</em> of the container and not the host), the contents of \*(T&lt;<strong>/proc</strong>\*(T&gt; will reflect that of the host and not the container. Analogously, the same issue occurs when reading the contents of <em>/sys/class/net</em> and attaching to just the network namespace.</p><p>To work around this problem, the \*(T&lt;<strong>-R</strong>\*(T&gt; flag provides the option to remount <em>/proc</em> and <em>/sys</em> in order for them to reflect the network/pid namespace context of the attached process. In order not to interfere with the host's actual filesystem, the mount namespace will be unshared (like <strong>lxc-unshare</strong> does) before this is done, esentially giving the process a new mount namespace, which is identical to the hosts's mount namespace except for the <em>/proc</em> and <em>/sys</em> filesystems.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>The \*(T&lt;<strong>-e</strong>\*(T&gt; and \*(T&lt;<strong>-s</strong>\*(T&gt; options should be used with care, as it may break the isolation of the containers if used improperly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lxc-attach&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/lxc.7.html"><strong>lxc</strong>(7)</a>, <a href="../man1/lxc-create.1.html"><strong>lxc-create</strong>(1)</a>, <a href="../man1/lxc-destroy.1.html"><strong>lxc-destroy</strong>(1)</a>, <a href="../man1/lxc-start.1.html"><strong>lxc-start</strong>(1)</a>, <a href="../man1/lxc-stop.1.html"><strong>lxc-stop</strong>(1)</a>, <a href="../man1/lxc-execute.1.html"><strong>lxc-execute</strong>(1)</a>, <a href="../man1/lxc-console.1.html"><strong>lxc-console</strong>(1)</a>, <a href="../man1/lxc-monitor.1.html"><strong>lxc-monitor</strong>(1)</a>, <a href="../man1/lxc-wait.1.html"><strong>lxc-wait</strong>(1)</a>, <a href="../man1/lxc-cgroup.1.html"><strong>lxc-cgroup</strong>(1)</a>, <a href="../man1/lxc-ls.1.html"><strong>lxc-ls</strong>(1)</a>, <a href="../man1/lxc-info.1.html"><strong>lxc-info</strong>(1)</a>, <a href="../man1/lxc-freeze.1.html"><strong>lxc-freeze</strong>(1)</a>, <a href="../man1/lxc-unfreeze.1.html"><strong>lxc-unfreeze</strong>(1)</a>, <a href="../man1/lxc-attach.1.html"><strong>lxc-attach</strong>(1)</a>, <a href="../man5/lxc.conf.5.html"><strong>lxc.conf</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Daniel Lezcano &lt;\*(T&lt;daniel.lezcano@free.fr\*(T&gt;&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lxappearance.1.html"><span aria-hidden="true">&larr;</span> lxappearance.1: Gtk+ theme switcher</a></li>
   <li class="next"><a href="lxc-autostart.1.html">lxc-autostart.1: Start/stop/kill auto-started containers <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
