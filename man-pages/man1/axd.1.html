<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>axd: Afnix cross debugger</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Afnix cross debugger">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="axd (1) manual">
  <meta name="twitter:description" content="Afnix cross debugger">
  <meta name="twitter:image" content="https://www.carta.tech/images/afnix-axd-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/axd.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="axd (1) manual" />
  <meta property="og:description" content="Afnix cross debugger" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/afnix-axd-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">axd<small> (1)</small></h1>
        <p class="lead">Afnix cross debugger</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/axd.1.html">
      <span itemprop="name">axd: Afnix cross debugger</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/afnix/">
      <span itemprop="name">afnix</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/axd.1.html">
      <span itemprop="name">axd: Afnix cross debugger</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>axd [options] file</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>[h]</strong></p><p>prints the help message</p><p><strong>[v]</strong></p><p>prints the program version</p><p><strong>[i] path</strong></p><p>add a directory path to the resolver</p><p><strong>[e] mode</strong></p><p>force the encoding mode</p><p><strong>[f] runini</strong></p><p>run initial file</p><p><strong>[f] emacs</strong></p><p>enable emacs mode</p><p><strong>[f] assert</strong></p><p>enable assertion checking</p><p><strong>[f] noseed</strong></p><p>do not seed the random engine</p><p><strong>[f] seed</strong></p><p>seed the random engine</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>axd invokes the  AFNIX  cross debugger. The axd client permits to debug an  AFNIX  program by inserting breakpoint at strategic positions in the source code. During a debugging session, when a breakpoint is reached, the program is suspended and the debugger prompt is shown. Since the debugger is based on the  AFNIX  interpreter, the full power of the  AFNIX  interpreter is available at the debugger prompt.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSION</h2>
        <div class="sectioncontent">
<p>The current version is the 2.2.0 release.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO axd&hellip;</h2>
        <div class="sectioncontent">
<p>axc, axd, axl,</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>AFNIX  comes with an extensive documentation. The documentation is available online or in the doc directory in the form of formatted xhtml documents.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>axd has been written by (amaury@afnix.org) Amaury Darsch.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GETTING STARTED</h2>
        <div class="sectioncontent">
<p>This chapter is short introduction to the cross debugger or axd. The debugger is a special interpreter that is designed to help the developer to trace an application. The debugger is designed to operate in a stand-alone mode or with Emacs. If you plan to use the debugger with Emacs, you will have to install a gud-mode package.</p><p><strong>A sample debugger session</strong></p><p>The cross debugger or axd is a special interpreter that gives the developer the opportunity to trace an application and examine the object contents during the execution. Operations normally available in a debugger are available with axd. Such operations include breakpoints, stepping, stack tracing, and many others. Because axd is built on top of the interpreter, all standard operations are supported by the debugger.</p><p><em>Starting the debugger</em></p><p>The debugger is started with the command axd. Within Emacs, the command Meta-x axd will do the same. When the debugger is started, an axd prompt is displayed. At this stage, there is no difference with the standard interpreter, except that a new nameset called axd is defined with all debugger commands. The axd:quit or axd:quit commands will terminate the session.</p>
<pre>
zsh&gt; axd
(axd)axd:quit
</pre>
<p><em>Debugger commands</em></p><p>All debugger commands are located in the axd nameset. For example, the command to set a breakpoint is axd:break. Since typing such command can be annoying, it is possible to rebind them at your convenience. For example, the form const b axd:break will define the symbol b as the breakpoint command, but care should be taken with this approach if your program uses the same symbol.</p><p><em>Debugging session example</em></p><p>The first example that demonstrates the use of axd is located in the directory exp/ref, that is part of this distribution. The platform information example 0501.als will be used for illustration. A simple session and the original source code is given below.</p>
<pre>
zsh&gt; axi 0501.als
major version number   :
minor version number   :
patch version number   :
interpreter version    : ..
program name           : afnix
operating system name  : linux
operating system type  : unix
afnix official uri     : http://www.afnix.org
</pre>
<p>The source code for this example is given below.</p>
<pre>
# many comments before
println "major version number   : " interp:major-version
println "minor version number   : " interp:minor-version
println "patch version number   : " interp:patch-version
println "interpreter version    : " interp:version
println "program name           : " interp:program-name
println "operating system name  : " interp:os-name
println "operating system type  : " interp:os-type
println "afnix official url     : " interp:afnix-uri
</pre>
<p>The debugger is started with the file to debug. The axd:info command can be used to print some information.</p>
<pre>
zsh&gt; axd 0501.als
(axd) axd:info
debugger version    : ..
os name             : linux
os type             : unix
initial file        : 0501.als
form file name      : 0501.als
form line number    : 17
verbose mode        : true
max line display    : 10
defined breakpoints : 0
(axd)
</pre>
<p>Along with the version, initial file name and other information, is the form file name and the form line number that indicates where the debugger is position. Another way to get this information is with the axd:list command that display the file at its current break position.</p>
<pre>
(axd) axd:list
17    println "major version number   : " interp:major-version
18    println "minor version number   : " interp:minor-version
19    println "patch version number   : " interp:patch-version
20    println "interpreter version    : " interp:version
21    println "program name           : " interp:program-name
22    println "operating system name  : " interp:os-name
23    println "operating system type  : " interp:os-type
24    println "afnix official uri     : " interp:afnix-uri
25
26
(axd)
</pre>
<p>With this in place it is possible to run the program. The axd:run command will do the job, but will not give you the opportunity to do something since there is no breakpoint installed. So, installing a breakpoint is simply achieved by giving the file name and line number. To make life easier, the axd:break command takes also 0 or argument. Without argument, a breakpoint is set at the current position. With one integer argument, a breakpoint is set at the specified line in the current file. If the verbose mode is active (which is the default), a message is printed to indicate the breakpoint index.</p>
<pre>
(axd) axd:break 19
setting breakpoint 0 in file 0501.als at line 19
(axd)axd:run
major version number   :
minor version number   :
breakpoint 0 in file 0501.als at line 19
(axd)
</pre>
<p>The axd:run command starts the program and immediately stops at the breakpoint. Note that the debugger prints a message to indicate the cause of such break. After this, stepping is achieved with the axd:next command. Resuming the execution is done with the axd:continue command. The axd:exit or axd:quit command terminates the session.</p>
<pre>
(axd)axd:next
patch version number   :
(axd)axd:next
interpreter version    : --
(axd)axd:continue
program name           : axd
operating system name  : linux
operating system type  : unix
afnix official uri     : http://www.afnix.org
(axd)axd:quit
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING THE DEBUGGER</h2>
        <div class="sectioncontent">
<p>This chapter describes in detail the usage of the cross debugger or axc. The debugger is a special application that is built on top of the interpreter. For this reason, the debugger provides the full execution environment with special commands bound into a dedicated nameset.</p><p><strong>Invocation and termination</strong></p><p>The axd debugger is started by typing the command axd. Once started, the debugger reads the commands from the terminal. Since the debugger is built on top of the interpreter, any command is in fact a special form that is executed by the interpreter. The natural way to invoke the debugger is to pass the primary file to debug with eventually some arguments.</p>
<pre>
zsh&gt; axd PROGRAM [arguments]
</pre>
<p>When the debugger is started, a prompt '(axd)' indicates that the session is running. The debugger session is terminated with the commands axd:exit or axd:quit.</p>
<pre>
zsh&gt; axd PROGRAM
(axd) axd:quit
zsh&gt;
</pre>
<p><em>Debugger options</em></p><p>The available options can be seen with the h option and the current version with the v option. This mode of operations is similar to the one found with the interpreter.</p>
<pre>
zsh&gt; axd [h]
usage: axd [options] [file] [arguments]
[h]              print this help message
[v]              print version information
[i] path         add a path to the resolver
[e   mode]       force the encoding mode
[f runini]       run initial file
[f  emacs]       enable emacs mode
[f assert]       enable assertion checks
[f nopath]       do not set initial path
</pre>
<p><em>Running the program</em></p><p>When a program is run within the debugger, a primary file must be used to indicate where to start the program. The file name can be given either as an axd command argument or with the axd:load command. The first available form in the primary file is used as the program starting point.</p><p><em>Loading the program</em></p><p>The axd:load command loads the primary file and mark the first available form as the starting form for the program execution. The command takes a file name as its first argument. The resolver rule apply for the file name resolution.</p><p>If the string name has the .als extension, the 	  string is considered to be the file name.</p><p>If the string name has the .axc extension or no 	  extension, the string is used to search a file that has a 	  .als extension or that belongs to a librarian.</p><p>Note that these operations are also dependent on the i option that adds a path or a librarian to the search-path.</p><p><em>Starting the program</em></p><p>The axd:run command starts the program at the first available form in the primary file. The program is executed until a breakpoint or any other halting condition is reached. Generally, when the program execution is suspended, an entry into the debugger is done and the prompt is shown at the command line.</p>
<pre>
(axd)axd:run
</pre>
<p>The axd:run is the primary command to execute before the program can be debugged. Eventually, a file name can be used as the primary file to execute.</p>
<pre>
(axd)axd:run "test.als"
</pre>
<p><em>Setting program arguments</em></p><p>Since the debugger is built on top of the interpreter, it is possible to set directly the argument vector. The argument vector is bound to the interpreter with the qualified name interp:argv. The standard vector can be used to manipulate the argument vector.</p>
<pre>
(axd)interp:argv:reset
(axd)interp:argv:append "hello"
</pre>
<p>In this example, the interpreter argument vector is reset and then a single argument string is added to the vector. If one wants to see the interpreter argument vector, a simple procedure can be used as shown below.</p>
<pre>
const argc (interp:argv:length)
loop (trans i 0) (&lt; i argc) (i:++) {
  trans arg (interp:argv:get i)
  println "argv[" i "] = " arg
}
</pre>
<p><strong>Breakpoints operations</strong></p><p>Breakpoints are set with the axd:break command. If a breakpoint is reached during the program execution, the program is suspended and the debugger session is resumed with a command prompt. At the command prompt, the full interpreter is available. It permits to examine symbols.</p><p><em>Breakpoint command</em></p><p>The axd:break command sets a breakpoint in a file at a specified line number. If the file is not specified, the primary file is used instead. If the line number is not specified, the first available form in the current file is used.</p>
<pre>
(axd) axd:break "demo.als" 12
Setting breakpoint 0 in file demo.als at line 12
</pre>
<p>In this example, a breakpoint is set in the file demo.als at the line number 12. The file name does not have to be the primary file. If another file name is specified, the file is loaded, instrumented and the breakpoint is set.</p><p><em>Viewing breakpoints</em></p><p>The axd:break-info command reports some information about the current breakpoint setting.</p>
<pre>
(axd) axd:break "demo.als" 12
(axd) axd:break "test.als" 18
(axd) axd:break-info
Breakpoint 0 in file demo.als at line 12
Breakpoint 1 in file test.als at line 18
</pre>
<p><em>Resuming execution</em></p><p>The axd:continue command resumes the program execution after a breakpoint. The program execution continues until another breaking condition is reached or the program terminates.</p>
<pre>
(axd) axd:run
Breakpoint 0 in file demo.als at line 12
(axd) axd:continue
</pre>
<p>In this example, the program is run and stopped at breakpoint 0. The axd:continue command resumes the program execution.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEBUGGER CONTROL REFERENCE</h2>
        <div class="sectioncontent">
<p>This appendix is a reference of the cross debugger or axd. The cross debugger is started with the axd command. All control commands are bound to the axd nameset.</p><p><strong>break</strong></p><p>The axd:breakbreak command sets a breakpoint. Without argument a breakpoint is set in the current file at the current line. With a line number, the breakpoint is set in the current file. With two arguments, the first one is used as the file name and the second one is used as the line number.</p><p><em>Syntax</em></p><p>axd:break axd:break "line" axd:break "file" "line"</p>
<pre>
(axd) axd:break "demo.als"  12
(axd) axd:break 25
</pre>
<p>The first example sets a breakpoint in the file demo.als at line 12. The second example sets a breakpoint in the current file at line 25. Without argument, the command sets the breakpoint at the current line. The current line can be seen with the axd:info command.</p><p><strong>break-info</strong></p><p>The axd:break-info control command reports some information about the current breakpoints.</p><p><em>Syntax</em></p><p>axd:break-info</p>
<pre>
(axd) axd:break "demo.als" 12
(axd) axd:break "test.als" 18
(axd) axd:break-info
Breakpoint 0 in file demo.als at line 12
Breakpoint 1 in file test.als at line 18
</pre>
<p>In this example, two breakpoints are set. One in file demo.als at line 12 and one in file test.als at line 18. The axd:break-info command reports the current breakpoint settings.</p><p><strong>continue</strong></p><p>The axd:continue control command resumes the program execution after a breakpoint. The program execution continues until a breakpoint or another terminating condition is reached.</p><p><em>Syntax</em></p><p>axd:continue</p>
<pre>
(axd) axd:run
Breakpoint 0 in file demo.als at line 12
(axd) axd:continue
</pre>
<p>In this example, the program is run and stopped at breakpoint 0. The axd:continue command resumes the program execution.</p><p><strong>exit</strong></p><p>The axd:exit command terminates a debugger session. This command is similar to the axd:quit command.</p><p><em>Syntax</em></p><p>axd:exit</p>
<pre>
(axd) axd:exit
</pre>
<p><strong>info</strong></p><p>The axd:info command reports some debugger information. Such information includes the debugger version, the operating system, the primary input file, the primary input file source and more.</p><p><em>Syntax</em></p><p>axd:info</p>
<pre>
(axd) axd:info
debugger version    : ..
os name             : linux
os type             : unix
initial file        : 0501
form file name      : 0501.als
form line number    : 17
verbose mode        : true
max line display    : 10
defined breakpoints : 0
</pre>
<p><strong>list</strong></p><p>The axd:list command display the form listing starting at the current session line number. The current form line number can also be seen with the axd:info command. The number of line is a debugger parameter. The first line to display can also be set as the first parameter. A file name can also be set.</p><p><em>Syntax</em></p><p>axd:list axd:list "line" axd:list "file" "line"</p>
<pre>
(axd) axd:list
(axd) axd:list 20
(axd) axd:list "file.als" 20
</pre>
<p>The first example shows the listing at the current debugger line. The second example starts the listing at line 20. The third example starts at line 20 with file file.als.</p><p><strong>load</strong></p><p>The axd:load command sets the initial or default file to be used with the axd:run control command.</p><p><em>Syntax</em></p><p>axd:load "file"</p>
<pre>
(axd) axd:load "demo.als"
</pre>
<p>In this example, the file demo.als is set as the primary file. Using the axd:info command will report at which line, the first available form has been found.</p><p><strong>next</strong></p><p>The axd:next command executes the next line in the source file. The axd:next command does not take argument.</p><p><em>Syntax</em></p><p>axd:next</p>
<pre>
(axd) axd:next
</pre>
<p><strong>quit</strong></p><p>The axd:quit command terminates a debugger session. This command is similar to the axd:exit command.</p><p><em>Syntax</em></p><p>axd:quit</p>
<pre>
(axd) axd:quit
</pre>
<p><strong>run</strong></p><p>The axd:run command executes the default file in the slave interpreter. Without argument, the initial or default file is executed. The axd:load command can be used to set the initial file. With one argument, the file name argument is used as the initial file.</p><p><em>Syntax</em></p><p>axd:run axd:run "file"</p>
<pre>
(axd) axd:run
(axd) axd:run "demo.als"
</pre>
<p>The first example runs the initial file. The second example sets the initial file as demo.als and run it.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="axcall.1.html"><span aria-hidden="true">&larr;</span> axcall.1: Make an ax.25, net/rom or rose connection.</a></li>
   <li class="next"><a href="axel.1.html">axel.1: A light download accelerator for linux. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
