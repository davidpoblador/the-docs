<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sbatch: Submit a batch script to slurm.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Submit a batch script to slurm.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sbatch (1) manual">
  <meta name="twitter:description" content="Submit a batch script to slurm.">
  <meta name="twitter:image" content="https://www.carta.tech/images/slurm-client-sbatch-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sbatch.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sbatch (1) manual" />
  <meta property="og:description" content="Submit a batch script to slurm." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/slurm-client-sbatch-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sbatch<small> (1)</small></h1>
        <p class="lead">Submit a batch script to slurm.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sbatch.1.html">
      <span itemprop="name">sbatch: Submit a batch script to slurm.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/slurm-client/">
      <span itemprop="name">slurm-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sbatch.1.html">
      <span itemprop="name">sbatch: Submit a batch script to slurm.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>sbatch [<em>options</em>] <em>script</em> [<em>args</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>sbatch submits a batch script to SLURM.  The batch script may be given to sbatch through a file name on the command line, or if no file name is specified, sbatch will read in a script from standard input. The batch script may contain options preceded with "#SBATCH" before any executable commands in the script. After the first line of the batch script, which typically identifies the shell to be used, sbatch will stop processing options at the first line which does NOT begin with "#SBATCH".</p><p>sbatch exits immediately after the script is successfully transferred to the SLURM controller and assigned a SLURM job ID.  The batch script is not necessarily granted resources immediately, it may sit in the queue of pending jobs for some time before its required resources become available.</p><p>By default both standard output and standard error are directed to a file of the name "slurm-%j.out", where the "%j" is replaced with the job allocation number. The file will be generated on the first node of the job allocation. Other than the batch script itself, Slurm does no movement of user files.</p><p>When the job allocation is finally granted for the batch script, SLURM runs a single copy of the batch script on the first node in the set of allocated nodes.</p><p>The following document describes the influence of various options on the allocation of cpus to jobs and tasks.</p><p>http://slurm.schedmd.com/cpu_management.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong>, <strong>--array</strong>=&lt;<em>indexes</em>&gt;</p>
  </dt>
  <dd>
    <p>Submit a job array, multiple jobs to be executed with identical parameters. The <em>indexes</em> specification identifies what array index values should be used. Multiple values may be specified using a comma separated list and/or a range of values with a "-" separator. For example, "--array=0-15" or "--array=0,6,16-32". A step function can also be specified with a suffix containing a colon and number. For example, "--array=0-15:4" is equivalent to "--array=0,4,8,12". The minimum index value is 0. the maximum value is one less than the configuration parameter MaxArraySize.</p>
  </dd>
  <dt>
    <p><strong>-A</strong>, <strong>--account</strong>=&lt;<em>account</em>&gt;</p>
  </dt>
  <dd>
    <p>Charge resources used by this job to specified account. The <em>account</em> is an arbitrary string. The account name may be changed after job submission using the <strong>scontrol</strong> command.</p>
  </dd>
  <dt>
    <p><strong>--acctg-freq</strong></p>
  </dt>
  <dd>
    <p>Define the job accounting and profiling sampling intervals. This can be used to override the <em>JobAcctGatherFrequency</em> parameter in SLURM's configuration file, <em>slurm.conf</em>. The supported format is as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--acctg-freq=</strong><em>&lt;datatype&gt;</em><strong>=</strong><em>&lt;interval&gt;</em></p>
  </dt>
  <dd>
    <p>where <em>&lt;datatype&gt;</em>=<em>&lt;interval&gt;</em> specifies the task sampling interval for the jobacct_gather plugin or a sampling interval for a profiling type by the acct_gather_profile plugin. Multiple, comma-separated <em>&lt;datatype&gt;</em>=<em>&lt;interval&gt;</em> intervals may be specified. Supported datatypes are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>task=</strong><em>&lt;interval&gt;</em></p>
  </dt>
  <dd>
    <p>where <em>&lt;interval&gt;</em> is the task sampling interval in seconds for the jobacct_gather plugins and for task profiling by the acct_gather_profile plugin. NOTE: This frequency is used to monitor memory usage. If memory limits are enforced the highest frequency a user can request is what is configured in the slurm.conf file.  They can not turn it off (=0) either.</p>
  </dd>
  <dt>
    <p><strong>energy=</strong><em>&lt;interval&gt;</em></p>
  </dt>
  <dd>
    <p>where <em>&lt;interval&gt;</em> is the sampling interval in seconds for energy profiling using the acct_gather_energy plugin</p>
  </dd>
  <dt>
    <p><strong>network=</strong><em>&lt;interval&gt;</em></p>
  </dt>
  <dd>
    <p>where <em>&lt;interval&gt;</em> is the sampling interval in seconds for infiniband profiling using the acct_gather_infiniband plugin.</p>
  </dd>
  <dt>
    <p><strong>filesystem=</strong><em>&lt;interval&gt;</em></p>
  </dt>
  <dd>
    <p>where <em>&lt;interval&gt;</em> is the sampling interval in seconds for filesystem profiling using the acct_gather_filesystem plugin.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>

  </dd>

</dl>
<p>The default value for the task sampling interval is 30 seconds. The default value for all other intervals is 0. An interval of 0 disables sampling of the specified type. If the task sampling interval is 0, accounting information is collected only at job termination (reducing SLURM interference with the job).</p><p>Smaller (non-zero) values have a greater impact upon job performance, but a value of 30 seconds is not likely to be noticeable for applications having less than 10,000 tasks.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-B</strong> <strong>--extra-node-info</strong>=&lt;<em>sockets</em>[:<em>cores</em>[:<em>threads</em>]]&gt;</p>
  </dt>
  <dd>
    <p>Request a specific allocation of resources with details as to the number and type of computational resources within a cluster: number of sockets (or physical processors) per node, cores per socket, and threads per core. The total amount of resources being requested is the product of all of the terms. Each value specified is considered a minimum. An asterisk (*) can be used as a placeholder indicating that all available resources of that type are to be utilized. As with nodes, the individual levels can also be specified in separate options if desired:</p>
<pre>
    <strong>--sockets-per-node</strong>=&lt;<em>sockets</em>&gt;
    <strong>--cores-per-socket</strong>=&lt;<em>cores</em>&gt;
    <strong>--threads-per-core</strong>=&lt;<em>threads</em>&gt;
</pre>
<p>If SelectType is configured to select/cons_res, it must have a parameter of CR_Core, CR_Core_Memory, CR_Socket, or CR_Socket_Memory for this option to be honored. This option is not supported on BlueGene systems (select/bluegene plugin is configured). If not specified, the scontrol show job will display 'ReqS:C:T=*:*:*'.</p>
  </dd>
  <dt>
    <p><strong>--begin</strong>=&lt;<em>time</em>&gt;</p>
  </dt>
  <dd>
    <p>Submit the batch script to the SLURM controller immediately, like normal, but tell the controller to defer the allocation of the job until the specified time.</p><p>Time may be of the form <em>HH:MM:SS</em> to run a job at a specific time of day (seconds are optional). (If that time is already past, the next day is assumed.) You may also specify <em>midnight</em>, <em>noon</em>, <em>fika</em> (3 PM) or <em>teatime</em> (4 PM) and you can have a time-of-day suffixed with <em>AM</em> or <em>PM</em> for running in the morning or the evening. You can also say what day the job will be run, by specifying a date of the form <em>MMDDYY</em> or <em>MM/DD/YY</em> <em>YYYY-MM-DD</em>. Combine date and time using the following format <em>YYYY-MM-DD[THH:MM[:SS]]</em>. You can also give times like <em>now + count time-units</em>, where the time-units can be <em>seconds</em> (default), <em>minutes</em>, <em>hours</em>, <em>days</em>, or <em>weeks</em> and you can tell SLURM to run the job today with the keyword <em>today</em> and to run the job tomorrow with the keyword <em>tomorrow</em>. The value may be changed after job submission using the <strong>scontrol</strong> command. For example:</p>
<pre>
   --begin=16:00
   --begin=now+1hour
   --begin=now+60           (seconds by default)
   --begin=2010-01-20T12:34:00
</pre>
<p>Notes on date/time specifications:  - Although the 'seconds' field of the HH:MM:SS time specification is allowed by the code, note that the poll time of the SLURM scheduler is not precise enough to guarantee dispatch of the job on the exact second.  The job will be eligible to start on the next poll following the specified time. The exact poll interval depends on the SLURM scheduler (e.g., 60 seconds with the default sched/builtin).  - If no time (HH:MM:SS) is specified, the default is (00:00:00).  - If a date is specified without a year (e.g., MM/DD) then the current year is assumed, unless the combination of MM/DD and HH:MM:SS has already passed for that year, in which case the next year is used.</p>
  </dd>
  <dt>
    <p><strong>--checkpoint</strong>=&lt;<em>time</em>&gt;</p>
  </dt>
  <dd>
    <p>Specifies the interval between creating checkpoints of the job step. By default, the job step will have no checkpoints created. Acceptable time formats include "minutes", "minutes:seconds", "hours:minutes:seconds", "days-hours", "days-hours:minutes" and "days-hours:minutes:seconds".</p>
  </dd>
  <dt>
    <p><strong>--checkpoint-dir</strong>=&lt;<em>directory</em>&gt;</p>
  </dt>
  <dd>
    <p>Specifies the directory into which the job or job step's checkpoint should be written (used by the checkpoint/blcrm and checkpoint/xlch plugins only). The default value is the current working directory. Checkpoint files will be of the form "&lt;job_id&gt;.ckpt" for jobs and "&lt;job_id&gt;.&lt;step_id&gt;.ckpt" for job steps.</p>
  </dd>
  <dt>
    <p><strong>--comment</strong>=&lt;<em>string</em>&gt;</p>
  </dt>
  <dd>
    <p>An arbitrary comment enclosed in double quotes if using spaces or some special characters.</p>
  </dd>
  <dt>
    <p><strong>-C</strong>, <strong>--constraint</strong>=&lt;<em>list</em>&gt;</p>
  </dt>
  <dd>
    <p>Nodes can have <strong>features</strong> assigned to them by the SLURM administrator. Users can specify which of these <strong>features</strong> are required by their job using the constraint option. Only nodes having features matching the job constraints will be used to satisfy the request. Multiple constraints may be specified with AND, OR, matching OR, resource counts, etc. Supported <strong>constraint</strong> options include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Single Name</strong></p>
  </dt>
  <dd>
    <p>Only nodes which have the specified feature will be used. For example, <strong>--constraint="intel"</strong></p>
  </dd>
  <dt>
    <p><strong>Node Count</strong></p>
  </dt>
  <dd>
    <p>A request can specify the number of nodes needed with some feature by appending an asterisk and count after the feature name. For example "<strong>--nodes=16 --constraint=graphics*4 ..."</strong> indicates that the job requires 16 nodes at that at least four of those nodes must have the feature "graphics."</p>
  </dd>
  <dt>
    <p><strong>AND</strong></p>
  </dt>
  <dd>
    <p>If only nodes with all of specified features will be used. The ampersand is used for an AND operator. For example, <strong>--constraint="intel&gpu"</strong></p>
  </dd>
  <dt>
    <p><strong>OR</strong></p>
  </dt>
  <dd>
    <p>If only nodes with at least one of specified features will be used. The vertical bar is used for an OR operator. For example, <strong>--constraint="intel|amd"</strong></p>
  </dd>
  <dt>
    <p><strong>Matching OR</strong></p>
  </dt>
  <dd>
    <p>If only one of a set of possible options should be used for all allocated nodes, then use the OR operator and enclose the options within square brackets. For example: "<strong>--constraint=[rack1|rack2|rack3|rack4]"</strong> might be used to specify that all nodes must be allocated on a single rack of the cluster, but any of those four racks can be used.</p>
  </dd>
  <dt>
    <p><strong>Multiple Counts</strong></p>
  </dt>
  <dd>
    <p>Specific counts of multiple resources may be specified by using the AND operator and enclosing the options within square brackets. For example: "<strong>--constraint=[rack1*2&rack2*4]"</strong> might be used to specify that two nodes must be allocated from nodes with the feature of "rack1" and four nodes must be allocated from nodes with the feature "rack2".</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--contiguous</strong></p>
  </dt>
  <dd>
    <p>If set, then the allocated nodes must form a contiguous set. Not honored with the <strong>topology/tree</strong> or <strong>topology/3d_torus</strong> plugins, both of which can modify the node ordering.</p>
  </dd>
  <dt>
    <p><strong>--cores-per-socket</strong>=&lt;<em>cores</em>&gt;</p>
  </dt>
  <dd>
    <p>Restrict node selection to nodes with at least the specified number of cores per socket.  See additional information under <strong>-B</strong> option above when task/affinity plugin is enabled.</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--cpus-per-task</strong>=&lt;<em>ncpus</em>&gt;</p>
  </dt>
  <dd>
    <p>Advise the SLURM controller that ensuing job steps will require <em>ncpus</em> number of processors per task.  Without this option, the controller will just try to allocate one processor per task.</p><p>For instance, consider an application that has 4 tasks, each requiring 3 processors.  If our cluster is comprised of quad-processors nodes and we simply ask for 12 processors, the controller might give us only 3 nodes.  However, by using the --cpus-per-task=3 options, the controller knows that each task requires 3 processors on the same node, and the controller will grant an allocation of 4 nodes, one for each of the 4 tasks.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--dependency</strong>=&lt;<em>dependency_list</em>&gt;</p>
  </dt>
  <dd>
    <p>Defer the start of this job until the specified dependencies have been satisfied completed. &lt;<em>dependency_list</em>&gt; is of the form &lt;<em>type:job_id[:job_id][,type:job_id[:job_id]]</em>&gt;. Many jobs can share the same dependency and these jobs may even belong to different  users. The  value may be changed after job submission using the scontrol command.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>after:job_id[:jobid...]</strong></p>
  </dt>
  <dd>
    <p>This job can begin execution after the specified jobs have begun execution.</p>
  </dd>
  <dt>
    <p><strong>afterany:job_id[:jobid...]</strong></p>
  </dt>
  <dd>
    <p>This job can begin execution after the specified jobs have terminated.</p>
  </dd>
  <dt>
    <p><strong>afternotok:job_id[:jobid...]</strong></p>
  </dt>
  <dd>
    <p>This job can begin execution after the specified jobs have terminated in some failed state (non-zero exit code, node failure, timed out, etc).</p>
  </dd>
  <dt>
    <p><strong>afterok:job_id[:jobid...]</strong></p>
  </dt>
  <dd>
    <p>This job can begin execution after the specified jobs have successfully executed (ran to completion with an exit code of zero).</p>
  </dd>
  <dt>
    <p><strong>expand:job_id</strong></p>
  </dt>
  <dd>
    <p>Resources allocated to this job should be used to expand the specified job. The job to expand must share the same QOS (Quality of Service) and partition. Gang scheduling of resources in the partition is also not supported.</p>
  </dd>
  <dt>
    <p><strong>singleton</strong></p>
  </dt>
  <dd>
    <p>This job can begin execution after any previously launched jobs sharing the same job name and user have terminated.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-D</strong>, <strong>--workdir</strong>=&lt;<em>directory</em>&gt;</p>
  </dt>
  <dd>
    <p>Set the working directory of the batch script to <em>directory</em> before it is executed. The path can be specified as full path or relative path to the directory where the command is executed.</p>
  </dd>
  <dt>
    <p><strong>-e</strong>, <strong>--error</strong>=&lt;<em>filename pattern</em>&gt;</p>
  </dt>
  <dd>
    <p>Instruct SLURM to connect the batch script's standard error directly to the file name specified in the "<em>filename pattern</em>". By default both standard output and standard error are directed to the same file. For job arrays, the default file name is "slurm-%A_%a.out", "%A" is replaced by the job ID and "%a" with the array index. For other jobs, the default file name is "slurm-%j.out", where the "%j" is replaced by the job ID. See the <strong>--input</strong> option for filename specification options.</p>
  </dd>
  <dt>
    <p><strong>--exclusive</strong></p>
  </dt>
  <dd>
    <p>The job allocation can not share nodes with other running jobs. The default shared/exclusive behavior depends on system configuration and the partition's <strong>Shared</strong> option takes precedence over the job's option.</p>
  </dd>
  <dt>
    <p><strong>--export</strong>=&lt;<em>environment variables | ALL | NONE</em>&gt;</p>
  </dt>
  <dd>
    <p>Identify which environment variables are propagated to the batch job. Multiple environment variable names should be comma separated. Environment variable names may be specified to propagate the current value of those variables (e.g. "--export=EDITOR") or specific values for the variables may be exported (e.g.. "--export=EDITOR=/bin/vi"). This option particularly important for jobs that are submitted on one cluster and execute on a different cluster (e.g. with different paths). By default all environment variables are propagated. If the argument is <em>NONE</em> or specific environment variable names, then the <strong>--get-user-env</strong> option will implicitly be set to load other environment variables based upon the user's configuration on the cluster which executes the job.</p>
  </dd>
  <dt>
    <p><strong>--export-file</strong>=&lt;<em>filename</em> | <em>fd</em>&gt;</p>
  </dt>
  <dd>
    <p>If a number between 3 and OPEN_MAX is specified as the argument to this option, a readable file descriptor will be assumed (STDIN and STDOUT are not supported as valid arguments).  Otherwise a filename is assumed.  Export environment variables defined in &lt;<em>filename</em>&gt; or read from &lt;<em>fd</em>&gt; to the job's execution environment. The content is one or more environment variable definitions of the form NAME=value, each separated by a null character.  This allows the use of special characters in environment definitions.</p>
  </dd>
  <dt>
    <p><strong>-F</strong>, <strong>--nodefile</strong>=&lt;<em>node file</em>&gt;</p>
  </dt>
  <dd>
    <p>Much like --nodelist, but the list is contained in a file of name <em>node file</em>.  The node names of the list may also span multiple lines in the file.    Duplicate node names in the file will be ignored. The order of the node names in the list is not important; the node names will be sorted by SLURM.</p>
  </dd>
  <dt>
    <p><strong>--get-user-env</strong>[=<em>timeout</em>][<em>mode</em>]</p>
  </dt>
  <dd>
    <p>This option will tell sbatch to retrieve the login environment variables for the user specified in the <strong>--uid</strong> option. The environment variables are retrieved by running something of this sort "su - &lt;username&gt; -c /usr/bin/env" and parsing the output. Be aware that any environment variables already set in sbatch's environment will take precedence over any environment variables in the user's login environment. Clear any environment variables before calling sbatch that you do not want propagated to the spawned program. The optional <em>timeout</em> value is in seconds. Default value is 8 seconds. The optional <em>mode</em> value control the "su" options. With a <em>mode</em> value of "S", "su" is executed without the "-" option. With a <em>mode</em> value of "L", "su" is executed with the "-" option, replicating the login environment. If <em>mode</em> not specified, the mode established at SLURM build time is used. Example of use include "--get-user-env", "--get-user-env=10" "--get-user-env=10L", and "--get-user-env=S". This option was originally created for use by Moab.</p>
  </dd>
  <dt>
    <p><strong>--gid</strong>=&lt;<em>group</em>&gt;</p>
  </dt>
  <dd>
    <p>If <strong>sbatch</strong> is run as root, and the <strong>--gid</strong> option is used, submit the job with <em>group</em>'s group access permissions.  <em>group</em> may be the group name or the numerical group ID.</p>
  </dd>
  <dt>
    <p><strong>--gres</strong>=&lt;<em>list</em>&gt;</p>
  </dt>
  <dd>
    <p>Specifies a comma delimited list of generic consumable resources. The format of each entry on the list is "name[:count]". The name is that of the consumable resource. The count is the number of those resources with a default value of 1. The specified resources will be allocated to the job on each node. The available generic consumable resources is configurable by the system administrator. A list of available generic consumable resources will be printed and the command will exit if the option argument is "help". Examples of use include "--gres=gpu:2,mic=1" and "--gres=help".</p>
  </dd>
  <dt>
    <p><strong>-H, --hold</strong></p>
  </dt>
  <dd>
    <p>Specify the job is to be submitted in a held state (priority of zero). A held job can now be released using scontrol to reset its priority (e.g. "<em>scontrol release &lt;job_id&gt;</em>").</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Display help information and exit.</p>
  </dd>
  <dt>
    <p><strong>--hint</strong>=&lt;<em>type</em>&gt;</p>
  </dt>
  <dd>
    <p>Bind tasks according to application hints</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>compute_bound</strong></p>
  </dt>
  <dd>
    <p>Select settings for compute bound applications: use all cores in each socket, one thread per core</p>
  </dd>
  <dt>
    <p><strong>memory_bound</strong></p>
  </dt>
  <dd>
    <p>Select settings for memory bound applications: use only one core in each socket, one thread per core</p>
  </dd>
  <dt>
    <p><strong>[no]multithread</strong></p>
  </dt>
  <dd>
    <p>[don't] use extra threads with in-core multi-threading which can benefit communication intensive applications</p>
  </dd>
  <dt>
    <p><strong>help</strong></p>
  </dt>
  <dd>
    <p>show this help message</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-I</strong>, <strong>--immediate</strong></p>
  </dt>
  <dd>
    <p>The batch script will only be submitted to the controller if the resources necessary to grant its job allocation are immediately available.  If the job allocation will have to wait in a queue of pending jobs, the batch script will not be submitted. NOTE: There is limited support for this option with batch jobs.</p>
  </dd>
  <dt>
    <p><strong>--ignore-pbs</strong></p>
  </dt>
  <dd>
    <p>Ignore any "#PBS" options specified in the batch script.</p>
  </dd>
  <dt>
    <p><strong>-i</strong>, <strong>--input</strong>=&lt;<em>filename pattern</em>&gt;</p>
  </dt>
  <dd>
    <p>Instruct SLURM to connect the batch script's standard input directly to the file name specified in the "<em>filename pattern</em>".</p><p>By default, "/dev/null" is open on the batch script's standard input and both standard output and standard error are directed to a file of the name "slurm-%j.out", where the "%j" is replaced with the job allocation number, as described below.</p><p>The filename pattern may contain one or more replacement symbols, which are a percent sign "%" followed by a letter (e.g. %j).</p><p>Supported replacement symbols are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>%A</strong></p>
  </dt>
  <dd>
    <p>Job array's master job allocation number.</p>
  </dd>
  <dt>
    <p><strong>%a</strong></p>
  </dt>
  <dd>
    <p>Job array ID (index) number.</p>
  </dd>
  <dt>
    <p><strong>%j</strong></p>
  </dt>
  <dd>
    <p>Job allocation number.</p>
  </dd>
  <dt>
    <p><strong>%N</strong></p>
  </dt>
  <dd>
    <p>Node name.  Only one file is created, so %N will be replaced by the name of the first node in the job, which is the one that runs the script.</p>
  </dd>
  <dt>
    <p><strong>%u</strong></p>
  </dt>
  <dd>
    <p>User name.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-J</strong>, <strong>--job-name</strong>=&lt;<em>jobname</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify a name for the job allocation. The specified name will appear along with the job id number when querying running jobs on the system. The default is the name of the batch script, or just "sbatch" if the script is read on sbatch's standard input.</p>
  </dd>
  <dt>
    <p><strong>--jobid</strong>=&lt;<em>jobid</em>&gt;</p>
  </dt>
  <dd>
    <p>Allocate resources as the specified job id. NOTE: Only valid for user root.</p>
  </dd>
  <dt>
    <p><strong>-k</strong>, <strong>--no-kill</strong></p>
  </dt>
  <dd>
    <p>Do not automatically terminate a job if one of the nodes it has been allocated fails.  The user will assume the responsibilities for fault-tolerance should a node fail.  When there is a node failure, any active job steps (usually MPI jobs) on that node will almost certainly suffer a fatal error, but with --no-kill, the job allocation will not be revoked so the user may launch new job steps on the remaining nodes in their allocation.</p><p>By default SLURM terminates the entire job allocation if any node fails in its range of allocated nodes.</p>
  </dd>
  <dt>
    <p><strong>-L</strong>, <strong>--licenses</strong>=&lt;<strong>license</strong>&gt;</p>
  </dt>
  <dd>
    <p>Specification of licenses (or other resources available on all nodes of the cluster) which must be allocated to this job. License names can be followed by a colon and count (the default count is one). Multiple license names should be comma separated (e.g. "--licenses=foo:4,bar").</p>
  </dd>
  <dt>
    <p><strong>-M</strong>, <strong>--clusters</strong>=&lt;<em>string</em>&gt;</p>
  </dt>
  <dd>
    <p>Clusters to issue commands to.  Multiple cluster names may be comma separated. The job will be submitted to the one cluster providing the earliest expected job initiation time. The default value is the current cluster. A value of &apos;<em>all</em>' will query to run on all clusters.  Note the <strong>--export</strong> option to control environment variables exported between clusters.</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--distribution</strong>=</p>
  </dt>
  <dd>
    <p>&lt;<em>block</em>|<em>cyclic</em>|<em>arbitrary</em>|<em>plane=&lt;options&gt;</em>[:<em>block</em>|<em>cyclic</em>]&gt;</p><p>Specify alternate distribution methods for remote processes. In sbatch, this only sets environment variables that will be used by subsequent srun requests. This option controls the assignment of tasks to the nodes on which resources have been allocated, and the distribution of those resources to tasks for binding (task affinity). The first distribution method (before the ":") controls the distribution of resources across nodes. The optional second distribution method (after the ":") controls the distribution of resources across sockets within a node. Note that with select/cons_res, the number of cpus allocated on each socket and node may be different. Refer to http://slurm.schedmd.com/mc_support.html for more information on resource allocation, assignment of tasks to nodes, and binding of tasks to CPUs.</p><p>First distribution method:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>block</strong></p>
  </dt>
  <dd>
    <p>The block distribution method will distribute tasks to a node such that consecutive tasks share a node. For example, consider an allocation of three nodes each with two cpus. A four-task block distribution request will distribute those tasks to the nodes with tasks one and two on the first node, task three on the second node, and task four on the third node.  Block distribution is the default behavior if the number of tasks exceeds the number of allocated nodes.</p>
  </dd>
  <dt>
    <p><strong>cyclic</strong></p>
  </dt>
  <dd>
    <p>The cyclic distribution method will distribute tasks to a node such that consecutive tasks are distributed over consecutive nodes (in a round-robin fashion). For example, consider an allocation of three nodes each with two cpus. A four-task cyclic distribution request will distribute those tasks to the nodes with tasks one and four on the first node, task two on the second node, and task three on the third node. Note that when SelectType is select/cons_res, the same number of CPUs may not be allocated on each node. Task distribution will be round-robin among all the nodes with CPUs yet to be assigned to tasks. Cyclic distribution is the default behavior if the number of tasks is no larger than the number of allocated nodes.</p>
  </dd>
  <dt>
    <p><strong>plane</strong></p>
  </dt>
  <dd>
    <p>The tasks are distributed in blocks of a specified size.  The options include a number representing the size of the task block.  This is followed by an optional specification of the task distribution scheme within a block of tasks and between the blocks of tasks.  The number of tasks distributed to each node is the same as for cyclic distribution, but the taskids assigned to each node depend on the plane size.  For more details (including examples and diagrams), please see</p><p>http://slurm.schedmd.com/mc_support.html</p><p>and</p><p>http://slurm.schedmd.com/dist_plane.html</p>
  </dd>
  <dt>
    <p><strong>arbitrary</strong></p>
  </dt>
  <dd>
    <p>The arbitrary method of distribution will allocate processes in-order as listed in file designated by the environment variable SLURM_HOSTFILE.  If this variable is listed it will override any other method specified.  If not set the method will default to block. Inside the hostfile must contain at minimum the number of hosts requested and be one per line or comma separated.  If specifying a task count (<strong>-n</strong>, <strong>--ntasks</strong>=&lt;<em>number</em>&gt;), your tasks will be laid out on the nodes in the order of the file.</p><p><strong>NOTE:</strong> The arbitrary distribution option on a job allocation only controls the nodes to be allocated to the job and not the allocation of CPUs on those nodes. This option is meant primarily to control a job step's task layout in an existing job allocation for the srun command.</p>
  </dd>
  <dt>
    <p>Second distribution method:</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>block</strong></p>
  </dt>
  <dd>
    <p>The block distribution method will distribute tasks to sockets such that consecutive tasks share a socket.</p>
  </dd>
  <dt>
    <p><strong>cyclic</strong></p>
  </dt>
  <dd>
    <p>The cyclic distribution method will distribute tasks to sockets such that consecutive tasks are distributed over consecutive sockets (in a round-robin fashion).</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--mail-type</strong>=&lt;<em>type</em>&gt;</p>
  </dt>
  <dd>
    <p>Notify user by email when certain event types occur. Valid <em>type</em> values are BEGIN, END, FAIL, REQUEUE, and ALL (any state change). The user to be notified is indicated with <strong>--mail-user</strong>.</p>
  </dd>
  <dt>
    <p><strong>--mail-user</strong>=&lt;<em>user</em>&gt;</p>
  </dt>
  <dd>
    <p>User to receive email notification of state changes as defined by <strong>--mail-type</strong>. The default value is the submitting user.</p>
  </dd>
  <dt>
    <p><strong>--mem</strong>=&lt;<em>MB</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify the real memory required per node in MegaBytes. Default value is <strong>DefMemPerNode</strong> and the maximum value is <strong>MaxMemPerNode</strong>. If configured, both of parameters can be seen using the <strong>scontrol show config</strong> command. This parameter would generally be used if whole nodes are allocated to jobs (<strong>SelectType=select/linear</strong>). Also see <strong>--mem-per-cpu</strong>. <strong>--mem</strong> and <strong>--mem-per-cpu</strong> are mutually exclusive. NOTE: Enforcement of memory limits currently relies upon the task/cgroup plugin or enabling of accounting, which samples memory use on a periodic basis (data need not be stored, just collected). In both cases memory use is based upon the job's Resident Set Size (RSS). A task may exceed the memory limit until the next periodic accounting sample.</p>
  </dd>
  <dt>
    <p><strong>--mem-per-cpu</strong>=&lt;<em>MB</em>&gt;</p>
  </dt>
  <dd>
    <p>Mimimum memory required per allocated CPU in MegaBytes. Default value is <strong>DefMemPerCPU</strong> and the maximum value is <strong>MaxMemPerCPU</strong> (see exception below). If configured, both of parameters can be seen using the <strong>scontrol show config</strong> command. Note that if the job's <strong>--mem-per-cpu</strong> value exceeds the configured <strong>MaxMemPerCPU</strong>, then the user's limit will be treated as a memory limit per task; <strong>--mem-per-cpu</strong> will be reduced to a value no larger than <strong>MaxMemPerCPU</strong>; <strong>--cpus-per-task</strong> will be set and value of <strong>--cpus-per-task</strong> multiplied by the new <strong>--mem-per-cpu</strong> value will equal the original <strong>--mem-per-cpu</strong> value specified by the user. This parameter would generally be used if individual processors are allocated to jobs (<strong>SelectType=select/cons_res</strong>). If resources are allocated by the core, socket or whole nodes; the number of CPUs allocated to a job may be higher than the task count and the value of <strong>--mem-per-cpu</strong> should be adjusted accordingly. Also see <strong>--mem</strong>. <strong>--mem</strong> and <strong>--mem-per-cpu</strong> are mutually exclusive.</p>
  </dd>
  <dt>
    <p><strong>--mem_bind</strong>=[{<em>quiet,verbose</em>},]<em>type</em></p>
  </dt>
  <dd>
    <p>Bind tasks to memory. Used only when the task/affinity plugin is enabled and the NUMA memory functions are available. <strong>Note that the resolution of CPU and memory binding</strong> may differ on some architectures. For example, CPU binding may be performed at the level of the cores within a processor while memory binding will be performed at the level of nodes, where the definition of "nodes" may differ from system to system. <strong>The use of any type other than</strong> "none" or "local" is not recommended. If you want greater control, try running a simple test code with the options "--mem_bind=verbose,none" to determine the specific configuration.</p><p>NOTE: To have SLURM always report on the selected memory binding for all commands executed in a shell, you can enable verbose mode by setting the SLURM_MEM_BIND environment variable value to "verbose".</p><p>The following informational environment variables are set when <strong>--mem_bind</strong> is in use:</p>
<pre>
        SLURM_MEM_BIND_VERBOSE
        SLURM_MEM_BIND_TYPE
        SLURM_MEM_BIND_LIST
</pre>
<p>See the <strong>ENVIRONMENT VARIABLES</strong> section for a more detailed description of the individual SLURM_MEM_BIND* variables.</p><p>Supported options include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>q[uiet]</strong></p>
  </dt>
  <dd>
    <p>quietly bind before task runs (default)</p>
  </dd>
  <dt>
    <p><strong>v[erbose]</strong></p>
  </dt>
  <dd>
    <p>verbosely report binding before task runs</p>
  </dd>
  <dt>
    <p><strong>no[ne]</strong></p>
  </dt>
  <dd>
    <p>don't bind tasks to memory (default)</p>
  </dd>
  <dt>
    <p><strong>rank</strong></p>
  </dt>
  <dd>
    <p>bind by task rank (not recommended)</p>
  </dd>
  <dt>
    <p><strong>local</strong></p>
  </dt>
  <dd>
    <p>Use memory local to the processor in use</p>
  </dd>
  <dt>
    <p><strong>map_mem:&lt;list&gt;</strong></p>
  </dt>
  <dd>
    <p>bind by mapping a node's memory to tasks as specified where &lt;list&gt; is &lt;cpuid1&gt;,&lt;cpuid2&gt;,...&lt;cpuidN&gt;. CPU IDs are interpreted as decimal values unless they are preceded with '0x' in which case they interpreted as hexadecimal values (not recommended)</p>
  </dd>
  <dt>
    <p><strong>mask_mem:&lt;list&gt;</strong></p>
  </dt>
  <dd>
    <p>bind by setting memory masks on tasks as specified where &lt;list&gt; is &lt;mask1&gt;,&lt;mask2&gt;,...&lt;maskN&gt;. memory masks are <strong>always</strong> interpreted as hexadecimal values. Note that masks must be preceded with a '0x' if they don't begin with [0-9] so they are seen as numerical values by srun.</p>
  </dd>
  <dt>
    <p><strong>help</strong></p>
  </dt>
  <dd>
    <p>show this help message</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--mincpus</strong>=&lt;<em>n</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify a minimum number of logical cpus/processors per node.</p>
  </dd>
  <dt>
    <p><strong>-N</strong>, <strong>--nodes</strong>=&lt;<em>minnodes</em>[-<em>maxnodes</em>]&gt;</p>
  </dt>
  <dd>
    <p>Request that a minimum of <em>minnodes</em> nodes be allocated to this job. A maximum node count may also be specified with <em>maxnodes</em>. If only one number is specified, this is used as both the minimum and maximum node count. The partition's node limits supersede those of the job. If a job's node limits are outside of the range permitted for its associated partition, the job will be left in a PENDING state. This permits possible execution at a later time, when the partition limit is changed. If a job node limit exceeds the number of nodes configured in the partition, the job will be rejected. Note that the environment variable <strong>SLURM_NNODES</strong> will be set to the count of nodes actually allocated to the job. See the <strong>ENVIRONMENT VARIABLES </strong> section for more information.  If <strong>-N</strong> is not specified, the default behavior is to allocate enough nodes to satisfy the requirements of the <strong>-n</strong> and <strong>-c</strong> options. The job will be allocated as many nodes as possible within the range specified and without delaying the initiation of the job. The node count specification may include a numeric value followed by a suffix of "k" (multiplies numeric value by 1,024) or "m" (multiplies numeric value by 1,048,576).</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--ntasks</strong>=&lt;<em>number</em>&gt;</p>
  </dt>
  <dd>
    <p>sbatch does not launch tasks, it requests an allocation of resources and submits a batch script. This option advises the SLURM controller that job steps run within the allocation will launch a maximum of <em>number</em> tasks and to provide for sufficient resources. The default is one task per node, but note that the <strong>--cpus-per-task</strong> option will change this default.</p>
  </dd>
  <dt>
    <p><strong>--network</strong>=&lt;<em>type</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify information pertaining to the switch or network. The interpretation of <em>type</em> is system dependent. This option is supported when running Slurm on a Cray natively.  It is used to request using Network Performace Counters. Only one value per request is valid. All options are case in-sensitive. In this configuration supported values include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>system</strong></p>
  </dt>
  <dd>
    <p>Use the system-wide network performance counters. Only nodes requested will be marked in use for the job allocation.  If the job does not fill up the entire system the rest of the nodes are not able to be used by other jobs using NPC, if idle their state will appear as PerfCnts.  These nodes are still available for other jobs not using NPC.</p>
  </dd>
  <dt>
    <p><strong>blade</strong></p>
  </dt>
  <dd>
    <p>Use the blade network performance counters. Only nodes requested will be marked in use for the job allocation.  If the job does not fill up the entire blade(s) allocated to the job those blade(s) are not able to be used by other jobs using NPC, if idle their state will appear as PerfCnts.  These nodes are still available for other jobs not using NPC.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>

</dl>
<p>In all cases the job allocation request <strong>must specify the</strong> --exclusive option.  Otherwise the request will be denied.</p><p>Also with any of these options steps are not allowed to share blades, so resources would remain idle inside an allocation if the step running on a blade does not take up all the nodes on the blade.</p><p>The <strong>network</strong> option is also supported on systems with IBM's Parallel Environment (PE). See IBM's LoadLeveler job command keyword documentation about the keyword "network" for more information. Multiple values may be specified in a comma separated list. All options are case in-sensitive. Supported values include:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>BULK_XFER</strong>[=&lt;<em>resources</em>&gt;]</p>
  </dt>
  <dd>
    <p>Enable bulk transfer of data using Remote Direct-Memory Access (RDMA). The optional <em>resources</em> specification is a numeric value which can have a suffix of "k", "K", "m", "M", "g" or "G" for kilobytes, megabytes or gigabytes. NOTE: The <em>resources</em> specification is not supported by the underlying IBM infrastructure as of Parallel Environment version 2.2 and no value should be specified at this time.</p>
  </dd>
  <dt>
    <p><strong>CAU</strong>=&lt;<em>count</em>&gt;</p>
  </dt>
  <dd>
    <p>Number of Collective Acceleration Units (CAU) required. Applies only to IBM Power7-IH processors. Default value is zero. Independent CAU will be allocated for each programming interface (MPI, LAPI, etc.)</p>
  </dd>
  <dt>
    <p><strong>DEVNAME</strong>=&lt;<em>name</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify the device name to use for communications (e.g. "eth0" or "mlx4_0").</p>
  </dd>
  <dt>
    <p><strong>DEVTYPE</strong>=&lt;<em>type</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify the device type to use for communications. The supported values of <em>type</em> are: "IB" (InfiniBand), "HFI" (P7 Host Fabric Interface), "IPONLY" (IP-Only interfaces), "HPCE" (HPC Ethernet), and "KMUX" (Kernel Emulation of HPCE). The devices allocated to a job must all be of the same type. The default value depends upon depends upon what hardware is available and in order of preferences is IPONLY (which is not considered in User Space mode), HFI, IB, HPCE, and KMUX.</p>
  </dd>
  <dt>
    <p><strong>IMMED</strong> =&lt;<em>count</em>&gt;</p>
  </dt>
  <dd>
    <p>Number of immediate send slots per window required. Applies only to IBM Power7-IH processors. Default value is zero.</p>
  </dd>
  <dt>
    <p><strong>INSTANCES</strong> =&lt;<em>count</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify number of network connections for each task on each network connection. The default instance count is 1.</p>
  </dd>
  <dt>
    <p><strong>IPV4</strong></p>
  </dt>
  <dd>
    <p>Use Internet Protocol (IP) version 4 communications (default).</p>
  </dd>
  <dt>
    <p><strong>IPV6</strong></p>
  </dt>
  <dd>
    <p>Use Internet Protocol (IP) version 6 communications.</p>
  </dd>
  <dt>
    <p><strong>LAPI</strong></p>
  </dt>
  <dd>
    <p>Use the LAPI programming interface.</p>
  </dd>
  <dt>
    <p><strong>MPI</strong></p>
  </dt>
  <dd>
    <p>Use the MPI programming interface. MPI is the default interface.</p>
  </dd>
  <dt>
    <p><strong>PAMI</strong></p>
  </dt>
  <dd>
    <p>Use the PAMI programming interface.</p>
  </dd>
  <dt>
    <p><strong>SHMEM</strong></p>
  </dt>
  <dd>
    <p>Use the OpenSHMEM programming interface.</p>
  </dd>
  <dt>
    <p><strong>SN_ALL</strong></p>
  </dt>
  <dd>
    <p>Use all available switch networks (default).</p>
  </dd>
  <dt>
    <p><strong>SN_SINGLE</strong></p>
  </dt>
  <dd>
    <p>Use one available switch network.</p>
  </dd>
  <dt>
    <p><strong>UPC</strong></p>
  </dt>
  <dd>
    <p>Use the UPC programming interface.</p>
  </dd>
  <dt>
    <p><strong>US</strong></p>
  </dt>
  <dd>
    <p>Use User Space communications.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p>Some examples of network specifications:</p>
  </dd>
  <dt>
    <p><strong>Instances=2,US,MPI,SN_ALL</strong></p>
  </dt>
  <dd>
    <p>Create two user space connections for MPI communications on every switch network for each task.</p>
  </dd>
  <dt>
    <p><strong>US,MPI,Instances=3,Devtype=IB</strong></p>
  </dt>
  <dd>
    <p>Create three user space connections for MPI communications on every InfiniBand network for each task.</p>
  </dd>
  <dt>
    <p><strong>IPV4,LAPI,SN_Single</strong></p>
  </dt>
  <dd>
    <p>Create a IP version 4 connection for LAPI communications on one switch network for each task.</p>
  </dd>
  <dt>
    <p><strong>Instances=2,US,LAPI,MPI</strong></p>
  </dt>
  <dd>
    <p>Create two user space connections each for LAPI and MPI communications on every switch network for each task. Note that SN_ALL is the default option so every switch network is used. Also note that Instances=2 specifies that two connections are established for each protocol (LAPI and MPI) and each task. If there are two networks and four tasks on the node then a total of 32 connections are established (2 instances x 2 protocols x 2 networks x 4 tasks).</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--nice</strong>[=<em>adjustment</em>]</p>
  </dt>
  <dd>
    <p>Run the job with an adjusted scheduling priority within SLURM. With no adjustment value the scheduling priority is decreased by 100. The adjustment range is from -10000 (highest priority) to 10000 (lowest priority). Only privileged users can specify a negative adjustment. NOTE: This option is presently ignored if <em>SchedulerType=sched/wiki</em> or <em>SchedulerType=sched/wiki2</em>.</p>
  </dd>
  <dt>
    <p><strong>--no-requeue</strong></p>
  </dt>
  <dd>
    <p>Specifies that the batch job should not be requeued after node failure. Setting this option will prevent system administrators from being able to restart the job (for example, after a scheduled downtime). When a job is requeued, the batch script is initiated from its beginning. Also see the <strong>--requeue</strong> option. The <em>JobRequeue</em> configuration parameter controls the default behavior on the cluster.</p>
  </dd>
  <dt>
    <p><strong>--ntasks-per-core</strong>=&lt;<em>ntasks</em>&gt;</p>
  </dt>
  <dd>
    <p>Request the maximum <em>ntasks</em> be invoked on each core. Meant to be used with the <strong>--ntasks</strong> option. Related to <strong>--ntasks-per-node</strong> except at the core level instead of the node level. NOTE: This option is not supported unless <em>SelectTypeParameters=CR_Core</em> or <em>SelectTypeParameters=CR_Core_Memory</em> is configured.</p>
  </dd>
  <dt>
    <p><strong>--ntasks-per-socket</strong>=&lt;<em>ntasks</em>&gt;</p>
  </dt>
  <dd>
    <p>Request the maximum <em>ntasks</em> be invoked on each socket. Meant to be used with the <strong>--ntasks</strong> option. Related to <strong>--ntasks-per-node</strong> except at the socket level instead of the node level. NOTE: This option is not supported unless <em>SelectTypeParameters=CR_Socket</em> or <em>SelectTypeParameters=CR_Socket_Memory</em> is configured.</p>
  </dd>
  <dt>
    <p><strong>--ntasks-per-node</strong>=&lt;<em>ntasks</em>&gt;</p>
  </dt>
  <dd>
    <p>Request that <em>ntasks</em> be invoked on each node. If used with the <strong>--ntasks</strong> option, the <strong>--ntasks</strong> option will take precedence and the <strong>--ntasks-per-node</strong> will be treated as a <em>maximum</em> count of tasks per node. Meant to be used with the <strong>--nodes</strong> option. This is related to <strong>--cpus-per-task</strong>=<em>ncpus</em>, but does not require knowledge of the actual number of cpus on each node.  In some cases, it is more convenient to be able to request that no more than a specific number of tasks be invoked on each node.  Examples of this include submitting a hybrid MPI/OpenMP app where only one MPI "task/rank" should be assigned to each node while allowing the OpenMP portion to utilize all of the parallelism present in the node, or submitting a single setup/cleanup/monitoring job to each node of a pre-existing allocation as one step in a larger job script.</p>
  </dd>
  <dt>
    <p><strong>-O</strong>, <strong>--overcommit</strong></p>
  </dt>
  <dd>
    <p>Overcommit resources. When applied to job allocation, only one CPU is allocated to the job per node and options used to specify the number of tasks per node, socket, core, etc. are ignored. When applied to job step allocations (the <strong>srun</strong> command when executed within an existing job allocation), this option can be used to launch more than one task per CPU. Normally, <strong>srun</strong> will not allocate more than one process per CPU. By specifying <strong>--overcommit</strong> you are explicitly allowing more than one process per CPU. However no more than <strong>MAX_TASKS_PER_NODE</strong> tasks are permitted to execute per node.  NOTE: <strong>MAX_TASKS_PER_NODE</strong> is defined in the file <em>slurm.h</em> and is not a variable, it is set at SLURM build time.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--output</strong>=&lt;<em>filename pattern</em>&gt;</p>
  </dt>
  <dd>
    <p>Instruct SLURM to connect the batch script's standard output directly to the file name specified in the "<em>filename pattern</em>". By default both standard output and standard error are directed to the same file. For job arrays, the default file name is "slurm-%A_%a.out", "%A" is replaced by the job ID and "%a" with the array index. For other jobs, the default file name is "slurm-%j.out", where the "%j" is replaced by the job ID. See the <strong>--input</strong> option for filename specification options.</p>
  </dd>
  <dt>
    <p><strong>--open-mode</strong>=append|truncate</p>
  </dt>
  <dd>
    <p>Open the output and error files using append or truncate mode as specified. The default value is specified by the system configuration parameter <em>JobFileAppend</em>.</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--partition</strong>=&lt;<em>partition_names</em>&gt;</p>
  </dt>
  <dd>
    <p>Request a specific partition for the resource allocation.  If not specified, the default behavior is to allow the slurm controller to select the default partition as designated by the system administrator. If the job can use more than one partition, specify their names in a comma separate list and the one offering earliest initiation will be used with no regard given to the partition name ordering (although higher priority partitions will be considered first). When the job is initiated, the name of the partition used will be placed first in the job record partition string.</p>
  </dd>
  <dt>
    <p><strong>--priority</strong>=&lt;value&gt;</p>
  </dt>
  <dd>
    <p>Request a specific job priority. May be subject to configuration specific constraints.</p>
  </dd>
  <dt>
    <p><strong>--profile</strong>=&lt;all|none|[energy[,|task[,|lustre[,|network]]]]&gt;</p>
  </dt>
  <dd>
    <p>enables detailed data collection by the acct_gather_profile plugin. Detailed data are typically time-series that are stored in an HDF5 file for the job.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>All</strong></p>
  </dt>
  <dd>
    <p>All data types are collected. (Cannot be combined with other values.)</p>
  </dd>
  <dt>
    <p><strong>None</strong></p>
  </dt>
  <dd>
    <p>No data types are collected. This is the default.  (Cannot be combined with other values.)</p>
  </dd>
  <dt>
    <p><strong>Energy</strong></p>
  </dt>
  <dd>
    <p>Energy data is collected.</p>
  </dd>
  <dt>
    <p><strong>Task</strong></p>
  </dt>
  <dd>
    <p>Task (I/O, Memory, ...) data is collected.</p>
  </dd>
  <dt>
    <p><strong>Lustre</strong></p>
  </dt>
  <dd>
    <p>Lustre data is collected.</p>
  </dd>
  <dt>
    <p><strong>Network</strong></p>
  </dt>
  <dd>
    <p>Network (InfiniBand) data is collected.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--parsable</strong></p>
  </dt>
  <dd>
    <p>Outputs only the job id number and the cluster name if present. The values are separated by a semicolon. Errors will still be displayed.</p>
  </dd>
  <dt>
    <p><strong>--propagate</strong>[=<em>rlimitfR]</em></p>
  </dt>
  <dd>
    <p>Allows users to specify which of the modifiable (soft) resource limits to propagate to the compute nodes and apply to their jobs.  If <em>rlimits</em> is not specified, then all resource limits will be propagated. The following rlimit names are supported by Slurm (although some options may not be supported on some systems):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>ALL</strong></p>
  </dt>
  <dd>
    <p>All limits listed below</p>
  </dd>
  <dt>
    <p><strong>AS</strong></p>
  </dt>
  <dd>
    <p>The maximum address space for a process</p>
  </dd>
  <dt>
    <p><strong>CORE</strong></p>
  </dt>
  <dd>
    <p>The maximum size of core file</p>
  </dd>
  <dt>
    <p><strong>CPU</strong></p>
  </dt>
  <dd>
    <p>The maximum amount of CPU time</p>
  </dd>
  <dt>
    <p><strong>DATA</strong></p>
  </dt>
  <dd>
    <p>The maximum size of a process's data segment</p>
  </dd>
  <dt>
    <p><strong>FSIZE</strong></p>
  </dt>
  <dd>
    <p>The maximum size of files created. Note that if the user sets FSIZE to less than the current size of the slurmd.log, job launches will fail with a 'File size limit exceeded' error.</p>
  </dd>
  <dt>
    <p><strong>MEMLOCK</strong></p>
  </dt>
  <dd>
    <p>The maximum size that may be locked into memory</p>
  </dd>
  <dt>
    <p><strong>NOFILE</strong></p>
  </dt>
  <dd>
    <p>The maximum number of open files</p>
  </dd>
  <dt>
    <p><strong>NPROC</strong></p>
  </dt>
  <dd>
    <p>The maximum number of processes available</p>
  </dd>
  <dt>
    <p><strong>RSS</strong></p>
  </dt>
  <dd>
    <p>The maximum resident set size</p>
  </dd>
  <dt>
    <p><strong>STACK</strong></p>
  </dt>
  <dd>
    <p>The maximum stack size</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-Q</strong>, <strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>Suppress informational messages from sbatch. Errors will still be displayed.</p>
  </dd>
  <dt>
    <p><strong>--qos</strong>=&lt;<em>qos</em>&gt;</p>
  </dt>
  <dd>
    <p>Request a quality of service for the job.  QOS values can be defined for each user/cluster/account association in the SLURM database. Users will be limited to their association's defined set of qos's when the SLURM configuration parameter, AccountingStorageEnforce, includes "qos" in it's definition.</p>
  </dd>
  <dt>
    <p><strong>--requeue</strong></p>
  </dt>
  <dd>
    <p>Specifies that the batch job should be requeued after node failure. When a job is requeued, the batch script is initiated from its beginning. Also see the <strong>--no-requeue</strong> option. The <em>JobRequeue</em> configuration parameter controls the default behavior on the cluster.</p>
  </dd>
  <dt>
    <p><strong>--reservation</strong>=&lt;<em>name</em>&gt;</p>
  </dt>
  <dd>
    <p>Allocate resources for the job from the named reservation.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--share</strong></p>
  </dt>
  <dd>
    <p>The job allocation can share resources with other running jobs. The resources to be shared can be nodes, sockets, cores, or hyperthreads depending upon configuration. The default shared behavior depends on system configuration and the partition's <strong>Shared</strong> option takes precedence over the job's option. This option may result the allocation being granted sooner than if the --share option was not set and allow higher system utilization, but application performance will likely suffer due to competition for resources. Also see the --exclusive option.</p>
  </dd>
  <dt>
    <p><strong>-S</strong>, <strong>--core-spec</strong>=&lt;<em>num</em>&gt;</p>
  </dt>
  <dd>
    <p>Count of specialized cores per node reserved by the job for system operations and not used by the application. The application will not use these cores, but will be charged for their allocation. Default value is zero.</p>
  </dd>
  <dt>
    <p><strong>--signal</strong>=[B:]&lt;<em>sig_num</em>&gt;[@&lt;<em>sig_time</em>&gt;]</p>
  </dt>
  <dd>
    <p>When a job is within <em>sig_time</em> seconds of its end time, send it the signal <em>sig_num</em>. Due to the resolution of event handling by SLURM, the signal may be sent up to 60 seconds earlier than specified. <em>sig_num</em> may either be a signal number or name (e.g. "10" or "USR1"). <em>sig_time</em> must have integer value between zero and 65535. By default, no signal is sent before the job's end time. If a <em>sig_num</em> is specified without any <em>sig_time</em>, the default time will be 60 seconds. Use the "B:" option to signal only the batch shell, none of the other processes will be signaled. By default all job steps will be signalled, but not the batch shell itself.</p>
  </dd>
  <dt>
    <p><strong>--sockets-per-node</strong>=&lt;<em>sockets</em>&gt;</p>
  </dt>
  <dd>
    <p>Restrict node selection to nodes with at least the specified number of sockets.  See additional information under <strong>-B</strong> option above when task/affinity plugin is enabled.</p>
  </dd>
  <dt>
    <p><strong>--switches</strong>=&lt;<em>count</em>&gt;[@&lt;<em>max-time</em>&gt;]</p>
  </dt>
  <dd>
    <p>When a tree topology is used, this defines the maximum count of switches desired for the job allocation and optionally the maximum time to wait for that number of switches. If SLURM finds an allocation containing more switches than the count specified, the job remains pending until it either finds an allocation with desired switch count or the time limit expires. It there is no switch count limit, there is no delay in starting the job. Acceptable time formats include "minutes", "minutes:seconds", "hours:minutes:seconds", "days-hours", "days-hours:minutes" and "days-hours:minutes:seconds". The job's maximum time delay may be limited by the system administrator using the <strong>SchedulerParameters</strong> configuration parameter with the <strong>max_switch_wait</strong> parameter option. The default max-time is the max_switch_wait SchedulerParameter.</p>
  </dd>
  <dt>
    <p><strong>-t</strong>, <strong>--time</strong>=&lt;<em>time</em>&gt;</p>
  </dt>
  <dd>
    <p>Set a limit on the total run time of the job allocation.  If the requested time limit exceeds the partition's time limit, the job will be left in a PENDING state (possibly indefinitely).  The default time limit is the partition's default time limit.  When the time limit is reached, each task in each job step is sent SIGTERM followed by SIGKILL.  The interval between signals is specified by the SLURM configuration parameter <strong>KillWait</strong>.  A time limit of zero requests that no time limit be imposed.  Acceptable time formats include "minutes", "minutes:seconds", "hours:minutes:seconds", "days-hours", "days-hours:minutes" and "days-hours:minutes:seconds".</p>
  </dd>
  <dt>
    <p><strong>--tasks-per-node</strong>=&lt;<em>n</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify the number of tasks to be launched per node. Equivalent to <strong>--ntasks-per-node</strong>.</p>
  </dd>
  <dt>
    <p><strong>--test-only</strong></p>
  </dt>
  <dd>
    <p>Validate the batch script and return an estimate of when a job would be scheduled to run given the current job queue and all the other arguments specifying the job requirements. No job is actually submitted.</p>
  </dd>
  <dt>
    <p><strong>--threads-per-core</strong>=&lt;<em>threads</em>&gt;</p>
  </dt>
  <dd>
    <p>Restrict node selection to nodes with at least the specified number of threads per core.  NOTE: "Threads" refers to the number of processing units on each core rather than the number of application tasks to be launched per core. See additional information under <strong>-B</strong> option above when task/affinity plugin is enabled.</p>
  </dd>
  <dt>
    <p><strong>--time-min</strong>=&lt;<em>time</em>&gt;</p>
  </dt>
  <dd>
    <p>Set a minimum time limit on the job allocation. If specified, the job may have it's <strong>--time</strong> limit lowered to a value no lower than <strong>--time-min</strong> if doing so permits the job to begin execution earlier than otherwise possible. The job's time limit will not be changed after the job is allocated resources. This is performed by a backfill scheduling algorithm to allocate resources otherwise reserved for higher priority jobs. Acceptable time formats include "minutes", "minutes:seconds", "hours:minutes:seconds", "days-hours", "days-hours:minutes" and "days-hours:minutes:seconds".</p>
  </dd>
  <dt>
    <p><strong>--tmp</strong>=&lt;<em>MB</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify a minimum amount of temporary disk space.</p>
  </dd>
  <dt>
    <p><strong>-u</strong>, <strong>--usage</strong></p>
  </dt>
  <dd>
    <p>Display brief help message and exit.</p>
  </dd>
  <dt>
    <p><strong>--uid</strong>=&lt;<em>user</em>&gt;</p>
  </dt>
  <dd>
    <p>Attempt to submit and/or run a job as <em>user</em> instead of the invoking user id. The invoking user's credentials will be used to check access permissions for the target partition. User root may use this option to run jobs as a normal user in a RootOnly partition for example. If run as root, <strong>sbatch</strong> will drop its permissions to the uid specified after node allocation is successful. <em>user</em> may be the user name or numerical user ID.</p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Display version information and exit.</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Increase the verbosity of sbatch's informational messages.  Multiple <strong>-v</strong>'s will further increase sbatch's verbosity.  By default only errors will be displayed.</p>
  </dd>
  <dt>
    <p><strong>-w</strong>, <strong>--nodelist</strong>=&lt;<em>node name list</em>&gt;</p>
  </dt>
  <dd>
    <p>Request a specific list of hosts. Unless constrained by the maximum node count, the job will contain <em>all</em> of these hosts. The list may be specified as a comma-separated list of hosts, a range of hosts (host[1-5,7,...] for example), or a filename. The host list will be assumed to be a filename if it contains a "/" character. If you specify a maximum node count and the host list contains more nodes, the extra node names will be silently ignored. If you specify a minimum node or processor count larger than can be satisfied by the supplied host list, additional resources will be allocated on other nodes as needed. Duplicate node names in the list will be ignored. The order of the node names in the list is not important; the node names will be sorted by SLURM.</p>
  </dd>
  <dt>
    <p><strong>--wait-all-nodes</strong>=&lt;<em>value</em>&gt;</p>
  </dt>
  <dd>
    <p>Controls when the execution of the command begins. By default the job will begin execution as soon as the allocation is made.</p>
<dl class='dl-vertical'>
  <dt>
    <p>0</p>
  </dt>
  <dd>
    <p>Begin execution as soon as allocation can be made. Do not wait for all nodes to be ready for use (i.e. booted).</p>
  </dd>
  <dt>
    <p>1</p>
  </dt>
  <dd>
    <p>Do not begin execution until all nodes are ready for use.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--wckey</strong>=&lt;<em>wckey</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify wckey to be used with job.  If TrackWCKey=no (default) in the slurm.conf this value is ignored.</p>
  </dd>
  <dt>
    <p><strong>--wrap</strong>=&lt;<em>command string</em>&gt;</p>
  </dt>
  <dd>
    <p>Sbatch will wrap the specified command string in a simple "sh" shell script, and submit that script to the slurm controller.  When --wrap is used, a script name and arguments may not be specified on the command line; instead the sbatch-generated wrapper script is used.</p>
  </dd>
  <dt>
    <p><strong>-x</strong>, <strong>--exclude</strong>=&lt;<em>node name list</em>&gt;</p>
  </dt>
  <dd>
    <p>Explicitly exclude certain nodes from the resources granted to the job.</p>
  </dd>

</dl>
<p>The following options support Blue Gene systems, but may be applicable to other systems as well.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--blrts-image</strong>=&lt;<em>path</em>&gt;</p>
  </dt>
  <dd>
    <p>Path to Blue Gene\/L Run Time Supervisor, or blrts, image for bluegene block.  BGL only. Default from <em>blugene.conf</em> if not set.</p>
  </dd>
  <dt>
    <p><strong>--cnload-image</strong>=&lt;<em>path</em>&gt;</p>
  </dt>
  <dd>
    <p>Path to compute node image for bluegene block.  BGP only. Default from <em>blugene.conf</em> if not set.</p>
  </dd>
  <dt>
    <p><strong>--conn-type</strong>=&lt;<em>type</em>&gt;</p>
  </dt>
  <dd>
    <p>Require the block connection type to be of a certain type. On Blue Gene the acceptable of <em>type</em> are MESH, TORUS and NAV. If NAV, or if not set, then SLURM will try to fit a what the DefaultConnType is set to in the bluegene.conf if that isn't set the default is TORUS. You should not normally set this option. If running on a BGP system and wanting to run in HTC mode (only for 1 midplane and below).  You can use HTC_S for SMP, HTC_D for Dual, HTC_V for virtual node mode, and HTC_L for Linux mode. For systems that allow a different connection type per dimension you can supply a comma separated list of connection types may be specified, one for each dimension (i.e. M,T,T,T will give you a torus connection is all dimensions expect the first).</p>
  </dd>
  <dt>
    <p><strong>-g</strong>, <strong>--geometry</strong>=&lt;<em>XxYxZ</em>&gt; | &lt;<em>AxXxYxZ</em>&gt;</p>
  </dt>
  <dd>
    <p>Specify the geometry requirements for the job. On BlueGene/L and BlueGene/P systems there are three numbers giving dimensions in the X, Y and Z directions, while on BlueGene/Q systems there are four numbers giving dimensions in the A, X, Y and Z directions and can not be used to allocate sub-blocks. For example "--geometry=1x2x3x4", specifies a block of nodes having 1 x 2 x 3 x 4 = 24 nodes (actually midplanes on BlueGene).</p>
  </dd>
  <dt>
    <p><strong>--ioload-image</strong>=&lt;<em>path</em>&gt;</p>
  </dt>
  <dd>
    <p>Path to io image for bluegene block.  BGP only. Default from <em>blugene.conf</em> if not set.</p>
  </dd>
  <dt>
    <p><strong>--linux-image</strong>=&lt;<em>path</em>&gt;</p>
  </dt>
  <dd>
    <p>Path to linux image for bluegene block.  BGL only. Default from <em>blugene.conf</em> if not set.</p>
  </dd>
  <dt>
    <p><strong>--mloader-image</strong>=&lt;<em>path</em>&gt;</p>
  </dt>
  <dd>
    <p>Path to mloader image for bluegene block. Default from <em>blugene.conf</em> if not set.</p>
  </dd>
  <dt>
    <p><strong>-R</strong>, <strong>--no-rotate</strong></p>
  </dt>
  <dd>
    <p>Disables rotation of the job's requested geometry in order to fit an appropriate block. By default the specified geometry can rotate in three dimensions.</p>
  </dd>
  <dt>
    <p><strong>--ramdisk-image</strong>=&lt;<em>path</em>&gt;</p>
  </dt>
  <dd>
    <p>Path to ramdisk image for bluegene block.  BGL only. Default from <em>blugene.conf</em> if not set.</p>
  </dd>
  <dt>
    <p><strong>--reboot</strong></p>
  </dt>
  <dd>
    <p>Force the allocated nodes to reboot before starting the job.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INPUT ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>Upon startup, sbatch will read and handle the options set in the following environment variables.  Note that environment variables will override any options set in a batch script, and command line options will override any environment variables.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>SBATCH_ACCOUNT</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-A, --account</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_ACCTG_FREQ</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--acctg-freq</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_ARRAY_INX</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-a, --array</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_BLRTS_IMAGE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--blrts-image</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_CHECKPOINT</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--checkpoint</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_CHECKPOINT_DIR</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--checkpoint-dir</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_CLUSTERS</strong> or <strong>SLURM_CLUSTERS</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--clusters</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_CNLOAD_IMAGE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--cnload-image</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_CONN_TYPE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--conn-type</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_CORE_SPEC</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--core-spec</strong></p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>SBATCH_DEBUG</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-v, --verbose</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_DISTRIBUTION</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-m, --distribution</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_EXCLUSIVE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--exclusive</strong></p>
  </dd>
  <dt>
    <p><strong>SLURM_EXIT_ERROR</strong></p>
  </dt>
  <dd>
    <p>Specifies the exit code generated when a SLURM error occurs (e.g. invalid options). This can be used by a script to distinguish application exit codes from various SLURM error conditions.</p>
  </dd>
  <dt>
    <p><strong>SBATCH_EXPORT</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--export</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_GEOMETRY</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-g, --geometry</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_GET_USER_ENV</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--get-user-env</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_HINT</strong> or <strong>SLURM_HINT</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--hint</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_IGNORE_PBS</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--ignore-pbs</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_IMMEDIATE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-I, --immediate</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_IOLOAD_IMAGE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--ioload-image</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_JOBID</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--jobid</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_JOB_NAME</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-J, --job-name</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_LINUX_IMAGE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--linux-image</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_MEM_BIND</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--mem_bind</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_MLOADER_IMAGE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--mloader-image</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_NETWORK</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--network</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_NO_REQUEUE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--no-requeue</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_NO_ROTATE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-R, --no-rotate</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_OPEN_MODE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--open-mode</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_OVERCOMMIT</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-O, --overcommit</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_PARTITION</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-p, --partition</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_PROFILE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--profile</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_QOS</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--qos</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_RAMDISK_IMAGE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--ramdisk-image</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_RESERVATION</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--reservation</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_REQ_SWITCH</strong></p>
  </dt>
  <dd>
    <p>When a tree topology is used, this defines the maximum count of switches desired for the job allocation and optionally the maximum time to wait for that number of switches. See <strong>--switches</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_REQUEUE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--requeue</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_SIGNAL</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--signal</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_TIMELIMIT</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-t, --time</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_WAIT_ALL_NODES</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--wait-all-nodes</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_WAIT4SWITCH</strong></p>
  </dt>
  <dd>
    <p>Max time waiting for requested switches. See <strong>--switches</strong></p>
  </dd>
  <dt>
    <p><strong>SBATCH_WCKEY</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--wckey</strong></p>
  </dd>
  <dt>
    <p><strong>SLURM_STEP_KILLED_MSG_NODE_ID</strong>=ID</p>
  </dt>
  <dd>
    <p>If set, only the specified node will log when the job or step are killed by a signal.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>The SLURM controller will set the following variables in the environment of the batch script.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>BASIL_RESERVATION_ID</strong></p>
  </dt>
  <dd>
    <p>The reservation ID on Cray systems running ALPS/BASIL only.</p>
  </dd>
  <dt>
    <p><strong>MPIRUN_NOALLOCATE</strong></p>
  </dt>
  <dd>
    <p>Do not allocate a block on Blue Gene L/P systems only.</p>
  </dd>
  <dt>
    <p><strong>MPIRUN_NOFREE</strong></p>
  </dt>
  <dd>
    <p>Do not free a block on Blue Gene L/P systems only.</p>
  </dd>
  <dt>
    <p><strong>MPIRUN_PARTITION</strong></p>
  </dt>
  <dd>
    <p>The block name on Blue Gene systems only.</p>
  </dd>
  <dt>
    <p><strong>SLURM_ARRAY_TASK_ID</strong></p>
  </dt>
  <dd>
    <p>Job array ID (index) number.</p>
  </dd>
  <dt>
    <p><strong>SLURM_ARRAY_JOB_ID</strong></p>
  </dt>
  <dd>
    <p>Job array's master job ID number.</p>
  </dd>
  <dt>
    <p><strong>SLURM_CHECKPOINT_IMAGE_DIR</strong></p>
  </dt>
  <dd>
    <p>Directory into which checkpoint images should  be written if specified on the execute line.</p>
  </dd>
  <dt>
    <p><strong>SLURM_CPUS_ON_NODE</strong></p>
  </dt>
  <dd>
    <p>Number of CPUS on the allocated node.</p>
  </dd>
  <dt>
    <p><strong>SLURM_DISTRIBUTION</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>-m, --distribution</strong></p>
  </dd>
  <dt>
    <p><strong>SLURM_GTIDS</strong></p>
  </dt>
  <dd>
    <p>Global task IDs running on this node.  Zero  origin and comma separated.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_ID</strong> (and <strong>SLURM_JOBID</strong> for backwards compatibility)</p>
  </dt>
  <dd>
    <p>The ID of the job allocation.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_CPUS_PER_NODE</strong></p>
  </dt>
  <dd>
    <p>Count of processors available to the job on this node. Note the select/linear plugin allocates entire nodes to jobs, so the value indicates the total count of CPUs on the node. The select/cons_res plugin allocates individual processors to jobs, so this number indicates the number of processors on this node allocated to the job.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_DEPENDENCY</strong></p>
  </dt>
  <dd>
    <p>Set to value of the --dependency option.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_NAME</strong></p>
  </dt>
  <dd>
    <p>Name of the job.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_NODELIST</strong> (and <strong>SLURM_NODELIST</strong> for backwards compatibility)</p>
  </dt>
  <dd>
    <p>List of nodes allocated to the job.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_NUM_NODES</strong> (and <strong>SLURM_NNODES</strong> for backwards compatibility)</p>
  </dt>
  <dd>
    <p>Total number of nodes in the job's resource allocation.</p>
  </dd>
  <dt>
    <p><strong>SLURM_JOB_PARTITION</strong></p>
  </dt>
  <dd>
    <p>Name of the partition in which the job is running.</p>
  </dd>
  <dt>
    <p><strong>SLURM_LOCALID</strong></p>
  </dt>
  <dd>
    <p>Node local task ID for the process within a job.</p>
  </dd>
  <dt>
    <p><strong>SLURM_MEM_BIND</strong></p>
  </dt>
  <dd>
    <p>Set to value of the --mem_bind option.</p>
  </dd>
  <dt>
    <p><strong>SLURM_NODE_ALIASES</strong></p>
  </dt>
  <dd>
    <p>Sets of node name, communication address and hostname for nodes allocated to the job from the cloud. Each element in the set if colon separated and each set is comma separated. For example: SLURM_NODE_ALIASES=ec0:1.2.3.4:foo,ec1:1.2.3.5:bar</p>
  </dd>
  <dt>
    <p><strong>SLURM_NODEID</strong></p>
  </dt>
  <dd>
    <p>ID of the nodes allocated.</p>
  </dd>
  <dt>
    <p><strong>SLURMD_NODENAME</strong></p>
  </dt>
  <dd>
    <p>Names of all the allocated nodes.</p>
  </dd>
  <dt>
    <p><strong>SLURM_NTASKS</strong> (and <strong>SLURM_NPROCS</strong> for backwards compatibility)</p>
  </dt>
  <dd>
    <p>Same as <strong>-n, --ntasks</strong></p>
  </dd>
  <dt>
    <p><strong>SLURM_NTASKS_PER_CORE</strong></p>
  </dt>
  <dd>
    <p>Number of tasks requested per core. Only set if the <strong>--ntasks-per-core</strong> option is specified.</p>
  </dd>
  <dt>
    <p><strong>SLURM_NTASKS_PER_NODE</strong></p>
  </dt>
  <dd>
    <p>Number of tasks requested per node. Only set if the <strong>--ntasks-per-node</strong> option is specified.</p>
  </dd>
  <dt>
    <p><strong>SLURM_NTASKS_PER_SOCKET</strong></p>
  </dt>
  <dd>
    <p>Number of tasks requested per socket. Only set if the <strong>--ntasks-per-socket</strong> option is specified.</p>
  </dd>
  <dt>
    <p><strong>SLURM_PRIO_PROCESS</strong></p>
  </dt>
  <dd>
    <p>The  scheduling priority (nice value) at the time of job submission. This value is  propagated  to the spawned processes.</p>
  </dd>
  <dt>
    <p><strong>SLURM_PROCID</strong></p>
  </dt>
  <dd>
    <p>The MPI rank (or relative process ID) of the current process</p>
  </dd>
  <dt>
    <p><strong>SLURM_PROFILE</strong></p>
  </dt>
  <dd>
    <p>Same as <strong>--profile</strong></p>
  </dd>
  <dt>
    <p><strong>SLURM_RESTART_COUNT</strong></p>
  </dt>
  <dd>
    <p>If the job has been restarted due to system failure or has been explicitly requeued, this will be sent to the number of times the job has been restarted.</p>
  </dd>
  <dt>
    <p><strong>SLURM_SUBMIT_DIR</strong></p>
  </dt>
  <dd>
    <p>The directory from which <strong>sbatch</strong> was invoked.</p>
  </dd>
  <dt>
    <p><strong>SLURM_SUBMIT_HOST</strong></p>
  </dt>
  <dd>
    <p>The hostname of the computer from which <strong>sbatch</strong> was invoked.</p>
  </dd>
  <dt>
    <p><strong>SLURM_TASKS_PER_NODE</strong></p>
  </dt>
  <dd>
    <p>Number of tasks to be initiated on each node. Values are comma separated and in the same order as SLURM_NODELIST. If two or more consecutive nodes are to have the same task count, that count is followed by "(x#)" where "#" is the repetition count. For example, "SLURM_TASKS_PER_NODE=2(x3),1" indicates that the first three nodes will each execute three tasks and the fourth node will execute one task.</p>
  </dd>
  <dt>
    <p><strong>SLURM_TASK_PID</strong></p>
  </dt>
  <dd>
    <p>The process ID of the task being started.</p>
  </dd>
  <dt>
    <p><strong>SLURM_TOPOLOGY_ADDR</strong></p>
  </dt>
  <dd>
    <p>This is set only if the  system  has  the  topology/tree  plugin configured.   The value will be set to the names network switches which  may be  involved  in  the  job's  communications from the system's top level switch down to the leaf switch and  ending  with node name. A period is used to separate each hardware component name.</p>
  </dd>
  <dt>
    <p><strong>SLURM_TOPOLOGY_ADDR_PATTERN</strong></p>
  </dt>
  <dd>
    <p>This is set only if the  system  has  the  topology/tree  plugin configured. The value will be set  component  types  listed   in SLURM_TOPOLOGY_ADDR.   Each  component will be identified as either "switch" or "node".  A period is  used  to separate each hardware component type.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Specify a batch script by filename on the command line. The batch script specifies a 1 minute time limit for the job.</p><ul>
<li><p>$ cat myscript</p><p>#!/bin/sh</p><p>#SBATCH --time=1</p><p>srun hostname |sort</p><p>$ sbatch -N4 myscript</p><p>salloc: Granted job allocation 65537</p><p>$ cat slurm-65537.out</p><p>host1</p><p>host2</p><p>host3</p><p>host4</p></li>
</ul><p>Pass a batch script to sbatch on standard input:</p><ul>
<li><p>$ sbatch -N4 &lt;&lt;EOF</p><p>&gt; #!/bin/sh</p><p>&gt; srun hostname |sort</p><p>&gt; EOF</p><p>sbatch: Submitted batch job 65541</p><p>$ cat slurm-65541.out</p><p>host1</p><p>host2</p><p>host3</p><p>host4</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2006-2007 The Regents of the University of California. Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).</p><p>Copyright (C) 2008-2010 Lawrence Livermore National Security.</p><p>Copyright (C) 2010-2013 SchedMD LLC.</p><p>This file is part of SLURM, a resource management program. For details, see &lt;http://slurm.schedmd.com/&gt;.</p><p>SLURM is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>SLURM is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sbatch&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/sinfo.1.html"><strong>sinfo</strong>(1)</a>, <a href="../man1/sattach.1.html"><strong>sattach</strong>(1)</a>, <a href="../man1/salloc.1.html"><strong>salloc</strong>(1)</a>, <strong>squeue</strong>(1), <a href="../man1/scancel.1.html"><strong>scancel</strong>(1)</a>, <strong>scontrol</strong>(1), <a href="../man5/slurm.conf.5.html"><strong>slurm.conf</strong>(5)</a>, <strong>sched_setaffinity</strong> (2), <strong>numa</strong> (3)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sb_xmlrpcserver.1.html"><span aria-hidden="true">&larr;</span> sb_xmlrpcserver.1: A server version of hammie.py.</a></li>
   <li class="next"><a href="sbcast.1.html">sbcast.1: Transmit a file to the nodes allocated to a slurm job. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
