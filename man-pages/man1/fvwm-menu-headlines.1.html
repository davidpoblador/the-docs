<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fvwm-menu-headlines: Builds headlines menu definition for fvwm</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Builds headlines menu definition for fvwm">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fvwm-menu-headlines (1) manual">
  <meta name="twitter:description" content="Builds headlines menu definition for fvwm">
  <meta name="twitter:image" content="https://www.carta.tech/images/fvwm-fvwm-menu-headlines-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/fvwm-menu-headlines.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fvwm-menu-headlines (1) manual" />
  <meta property="og:description" content="Builds headlines menu definition for fvwm" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fvwm-fvwm-menu-headlines-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fvwm-menu-headlines<small> (1)</small></h1>
        <p class="lead">Builds headlines menu definition for fvwm</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fvwm-menu-headlines.1.html">
      <span itemprop="name">fvwm-menu-headlines: Builds headlines menu definition for fvwm</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fvwm/">
      <span itemprop="name">fvwm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fvwm-menu-headlines.1.html">
      <span itemprop="name">fvwm-menu-headlines: Builds headlines menu definition for fvwm</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>fvwm-menu-headlines</strong> [ <strong>--help</strong>|<strong>-h</strong>|<strong>-?</strong> ] [ <strong>--version</strong>|<strong>-V</strong> ] [ <strong>--info</strong> [site] ] [ <strong>--site</strong>|<strong>-s</strong> site ] [ <strong>--name</strong>|<strong>-n</strong> name ] [ <strong>--title</strong>|<strong>-t</strong> title ] [ <strong>--item</strong> item ] [ <strong>--exec</strong>|<strong>-e</strong> exec-command ] [ <strong>--command</strong>|<strong>-e</strong> fvwm-command ] [ <strong>--icon-title</strong> icon ] [ <strong>--icon-item</strong> icon ] [ <strong>--icon-home</strong> icon ] [ <strong>--icon-error</strong> icon ] [ <strong>--wm-icons</strong> ] [ <strong>--frontpage</strong> [where] ] [ <strong>--proxy</strong>|<strong>-p</strong> host:port ] [ <strong>--file</strong> [file] ] [ <strong>--fake</strong> [file] ] [ <strong>--timeout</strong> seconds ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This configurable perl script builds an fvwm menu definition for headlines of popular news web sites: FreshMeat, Slashdot, LinuxToday, DaemonNews, GNOME-News, KDE-News, RootPrompt, LinuxFr, ThinkGeek, \s-1CNN\s0, \s-1BBC\s0 and more.</p><p>It is possible to specify a customized menu item format, change a command (usually launching a browser) and add menu icons (there is a support for the wm-icons package).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>--help</strong>
  </dt>
  <dd>
    <p>show the help and exit</p>
  </dd>
  <dt>
    <strong>--version</strong>
  </dt>
  <dd>
    <p>show the version and exit</p>
  </dd>
  <dt>
    <strong>--info</strong> [site]
  </dt>
  <dd>
    <p>if site name is given print the site specific info, otherwise print all site names</p>
  </dd>
  <dt>
    <strong>--site</strong> site
  </dt>
  <dd>
    <p>defile a web site, headlines of which to show, this option also can be used together with --help to get new defaults. Default site: freshmeat.</p>
  </dd>
  <dt>
    <strong>--name</strong> name
  </dt>
  <dd>
    <p>define menu name (default is \*(L"MenuHeadlinesFreshmeat\*(R")</p>
  </dd>
  <dt>
    <strong>--title</strong> title
  </dt>
  <dd>
    <p>define menu title (default is \*(L"Freshmeat Headlines\*(R").</p>
  </dd>
  <dt>
    <strong>--item</strong> label-format
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>--exec</strong> command-format
  </dt>
  <dd>
    <p>define format for menu item or command (what is shown and what is executed when the item is chosen). Default label is '%h&#92;t%[(%Y-%m-%d %H:%M)]'. \s-1TAB\s0 can be specified as '&#92;t', but in .fvwm2rc you should specify a double backslash or a real \s-1TAB\s0. Format specifiers for a headline format:</p>
<pre>
  %h - headline
  %u - url
  %d - date in the native format (that site backend supplied)
  %[strftime-argument-string] - date/time, see <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>
    the date/time is represented according to the local time;
    date and/or time fields that can&apos;t be guessed are stripped
    Example: %[|%d %B %Y| %H:%M %S]
      If site supplied only date - this becomes %[|%d %B %Y|],
      if site supplied no date - this becomes an empty string.
  %{name} - site specific named value, like %{comments}
  %(text) - arbitrary text, good for escaping or aligning
</pre>
<p>These specifiers can receive an optional integer size, positive for right adjusted string or negative for left adjusted, example: %8x; and optional *num or *-num, which means to leave only the first or last (if minus) num of chars, the num must be greater than 3, since the striped part is replaced with \*(L"...\*(R", example: %*30x. Both can be combined: %-10*-20x, this instructs to get only the 20 last characters, but if the length is less then 10 - to fill with up to 10 spaces on the right. Example:   --exec "iceweasel -remote &apos;openURL(%u, new-window)&apos; || iceweasel &apos;%u&apos;"</p>
  </dd>
  <dt>
    <strong>--command</strong> command-format
  </dt>
  <dd>
    <p>like <strong>--exec</strong> above, but enables to specify any fvwm command, for example, \*(L"Function FuncFvwmShowURL '%u'\*(R" not only Exec. In fact, --exec=\*(L"mozilla '%u'\*(R" is equivalent to --command=\*(L"Exec mozilla '%u'\*(R"</p>
  </dd>
  <dt>
    <strong>--icon-title</strong> icon
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>--icon-item</strong> icon
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>--icon-home</strong> icon
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>--icon-error</strong> icon
  </dt>
  <dd>
    <p>define menu icon for title, regular item, frontpage item and error item respectively. Default is no menu icons (equivalent to an empty icon argument).</p>
  </dd>
  <dt>
    <strong>--wm-icons</strong>
  </dt>
  <dd>
    <p>define icon names suitable for use with wm-icons package. Currently this is equivalent to: --icon-title '' --icon-item menu/information.xpm --icon-home menu/home.xpm --icon-error menu/choice-no.xpm.</p>
  </dd>
  <dt>
    <strong>--frontpage</strong> [where]
  </dt>
  <dd>
    <p>add the site frontpage item to the menu. Optional value can be used to specify where this item will be placed in the menu - 'top' or 't', 'bottom' or 'b'.</p>
  </dd>
  <dt>
    <strong>--proxy</strong> host[:port]
  </dt>
  <dd>
    <p>define a proxy to use. Example: --proxy proxy.inter.net:3128</p>
  </dd>
  <dt>
    <strong>--file</strong> [file]
  </dt>
  <dd>
    <p>write the menu output to specified file. If no filename is given with this option (or empty filename), the default filename \s-1WORK_HOME/SITE\s0.menu is used. Without this option or with '-' filename, the menu output is written to standard output.</p>
  </dd>
  <dt>
    <strong>--fake</strong> [file]
  </dt>
  <dd>
    <p>don't connect to the host using \s-1HTTP\s0 protocol, instead, read from \s-1WORK_HOME/SITE\s0.in file. The following reads input from freshmeat.in (downloaded http://freshmeat.net/backend/recentnews.txt) and saves output to segfault.menu (both files are in \s-1WORK_HOME\s0): fvwm-menu-headlines --site freshmeat --fake --file</p>
  </dd>
  <dt>
    <strong>--timeout</strong> seconds
  </dt>
  <dd>
    <p>limit a line reading from a socket to this timeout, the default timeout is 20 seconds.</p>
  </dd>

</dl>
<p>\s-1WORK_HOME\s0 of this script is ~/.fvwm/.fvwm-menu-headlines. It is created if needed.</p><p>Option parameters can be specified either using '=' or in the next argument. Short options are ok if not ambiguous: \*(C`-h\*(C', \*(C`-t\*(C'; but be careful with short options, what is now unambiguous, can become ambiguous in the next versions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>1. One of the ways to use this script is to define a crontab entry to run the script every hour or so for every monitored site:</p><p>  0,30 * * * * fvwm-menu-headlines --file --site freshmeat   1,31 * * * * fvwm-menu-headlines --file --site linuxtoday   2,32 * * * * fvwm-menu-headlines --file --site slashdot</p><p>Then add these lines to your fvwm configuration file:</p><p>  DestroyFunc FuncFvwmMenuHeadlines   AddToFunc   FuncFvwmMenuHeadlines   + I Read "$HOME/.fvwm/.fvwm-menu-headlines/$0.menu"</p><p>  DestroyMenu MenuHeadlines   AddToMenu   MenuHeadlines "Headlines" Title   + MissingSubmenuFunction FuncFvwmMenuHeadlines   + "FreshMeat"  Popup freshmeat   + "LinuxToday" Popup linuxtoday   + "Slashdot"   Popup slashdot</p><p>2. Another way to use this script (only if you have fast network/proxy) is to run it every time you want to open your Headlines submenus. (Note, the submenu that is once created is not reloaded, use \*(L"Reset all\*(R".)</p><p>In this case your fvwm configuration lines could be:</p><p>  DestroyFunc FuncFvwmMenuHeadlines   AddToFunc   FuncFvwmMenuHeadlines   + I PipeRead "fvwm-menu-headlines --site $0"   #+ I Schedule 900000 DestroyMenu $0  # reset generated menu in 15 minutes</p><p>  DestroyMenu MenuHeadlines   AddToMenu   MenuHeadlines "Headlines" Title   + MissingSubmenuFunction FuncFvwmMenuHeadlines   + "FreshMeat"  Popup freshmeat   + "Slashdot"   Popup slashdot   + "LinuxToday" Popup linuxtoday   + "GNOME News" Popup gnome-news   + "KDE News"   Popup kde-news   + "" Nop   + "Reset all"  FuncResetHeadlines</p><p>  DestroyFunc FuncResetHeadlines   AddToFunc   FuncResetHeadlines   + I DestroyMenu freshmeat   + I DestroyMenu linuxtoday   + I DestroyMenu slashdot   + I DestroyMenu gnome-news   + I DestroyMenu kde-news</p><p>And finally, add \*(L"Popup MenuHeadlines\*(R" somewhere.</p><p>3. Here is a usual usage. Use FvwmConsole or FvwmCommand to run fvwm commands from a shell script. Every time you want headlines from some site, execute (give any additional options if you want):</p><p>  PipeRead "fvwm-menu-headlines --site newsforge --name MenuHeadlinesNewsForge"   # this may take several seconds, you may use: BusyCursor Read true   Popup MenuHeadlinesNewsForge</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOW TO ADD SITE HEADLINES</h2>
        <div class="sectioncontent">
<p>It is possible to add user defined site headlines without touching the script itself. Put your perl extensions to the file WORK_HOME/extension.pl. For each site add something similar to:</p><p>  $site_info-&gt;{&apos;myslashdot&apos;} = {     &apos;name&apos; =&gt; "MySlashdot",     &apos;host&apos; =&gt; "myslashdot.org",     &apos;path&apos; =&gt; "/myslashdot.xml",     &apos;func&apos; =&gt; &#92;&process_my_slashdot,     # the following string is only used in --info     &apos;flds&apos; =&gt; &apos;time, title, department, topic, author, url&apos;,   };</p><p>  sub process_my_slashdot () {     return process_xml(       &apos;story&apos;,       # mandatory &apos;h&apos;, &apos;u&apos; and &apos;d&apos; aliases or undef       { &apos;h&apos; =&gt; &apos;title&apos;, &apos;u&apos; =&gt; &apos;url&apos;, &apos;d&apos; =&gt; &apos;time&apos; },       sub ($) {  # convert &apos;d&apos; string to (y, m, d, H, M, S)         $_[0] =~ /(&#92;d+)-(&#92;d+)-(&#92;d+) (&#92;d+):(&#92;d+):(&#92;d+)/;         ($1, ($2 || 0) - 1, $3, $4, $5, $6);       }, +0,  # timezone offset; already in UTC     );   }</p><p>  1;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>This script is inspired by WMHeadlines v1.3 by:</p><p>  Jeff Meininger &lt;jeffm@boxybutgood.com&gt;   (http://rive.boxybutgood.com/WMHeadlines/).</p><p>Reimplemented for fvwm and heavily enhanced by:</p><p>  Mikhael Goikhman &lt;migo@homemail.com&gt;, 16 Dec 1999.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>The script is distributed by the same terms as fvwm itself. See \s-1GNU\s0 General Public License for details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>I try to keep all supported site info up to date, but sites often go down, change their backend formats, change their httpd responses, just stop to post news and so on; the script in the latest cvs may be more up to date.</p><p>The headline times may be off by one hour or more, since the time is displayed for your local time zone, and the time zone of the original time in the site backend output is often guessed (sometimes incorrectly); similarly it is guessed whether to apply the daylight saving correction.</p><p>Report bugs to fvwm-bug@fvwm.org.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fvwm-menu-directory.1.html"><span aria-hidden="true">&larr;</span> fvwm-menu-directory.1: Builds a directory browsing menu for fvwm</a></li>
   <li class="next"><a href="fvwm-menu-xlock.1.html">fvwm-menu-xlock.1: Builds xlock menu definition for fvwm <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
