<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lprng_certs: Lprng ssl certificate management</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lprng ssl certificate management">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lprng_certs (1) manual">
  <meta name="twitter:description" content="Lprng ssl certificate management">
  <meta name="twitter:image" content="https://www.carta.tech/images/lprng-lprng_certs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lprng_certs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lprng_certs (1) manual" />
  <meta property="og:description" content="Lprng ssl certificate management" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lprng-lprng_certs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lprng_certs<small> (1)</small></h1>
        <p class="lead">Lprng ssl certificate management</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lprng_certs.1.html">
      <span itemprop="name">lprng_certs: Lprng ssl certificate management</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lprng/">
      <span itemprop="name">lprng</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lprng_certs.1.html">
      <span itemprop="name">lprng_certs: Lprng ssl certificate management</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong></strong></p>
<pre>
lprng_certs option
 Options:
  init     - make directory structure
  newca    - make new root CA
  defaults - set new default values for certs
  gen      - generate user, server, or signing cert
  index [dir] - index cert files
  verify [cert] - verify cert file
  encrypt keyfile
           - set or change keyfile password
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>lprng_certs</strong> program is used to manage SSL certificates for the LPRng software. There SSL certificate structure consists of a hierarchy of certificates. The LPRng software assumes that the following types of certificates will be used:</p>
<dl class='dl-vertical'>
  <dt>
    CA or root
  </dt>
  <dd>
    <p>A top level or self-signed certificate.</p>
  </dd>
  <dt>
    signing
  </dt>
  <dd>
    <p>A certificate that can be used to sign other certificates. This is signed by the root CA or another signing certificate.</p>
  </dd>
  <dt>
    user
  </dt>
  <dd>
    <p>A certificate used by a user to identify themselves to the lpd server.</p>
  </dd>
  <dt>
    server
  </dt>
  <dd>
    <p>A certificate used by the <em>lpd</em> server to identify themselves to the user or other <em>lpd</em> servers.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Signing Certificates</h2>
        <div class="sectioncontent">
<p>All of the signing certificates, including the root certificate (root CA), /etc/lprng/ssl.ca/ca.crt, are in the same directory as the root CA file. Alternately, all of the signing certs can be concatenated and put into a single file, which by convention is assumed to have the same name as the root CA file, /etc/lprng/ssl.ca/ca.crt. The <strong>ssl_ca_file</strong>, <strong>ssl_ca_path</strong>, and <strong>ssl_ca_key</strong> printcap and configuration options can be used to specify the locations of the root CA files, a directory containing the signing certificate files, and the private key file for the root CA file respectively.</p><p>The root certificate (root CA file) /etc/lprng/ssl.ca/ca.crt has a private key file /etc/lprng/ssl.ca/ca.key as well. By convention, the private keys for the other signing certificate files are stored in the certificate file.</p><p>The OpenSSL software requires that this directory also contain a set of hash files which are, in effect, links to these files.</p><p>By default, all signing certificates are assumed to be in the same directory as the root certificate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Server Certificates</h2>
        <div class="sectioncontent">
<p>The certificate used by the <em>lpd</em> server are kept in another directory. These files do not need to have hash links to them. By convention, the private keys for these certificate files are stored in the certificate file. The server certificate file is specified by the <strong>ssl_server_cert</strong> and has the default value /etc/lprng/ssl.server/server.crt. This file contains the cert and private key. The server certificate password  file is specified by the <strong>ssl_server_password</strong> option with the default value</p><p>and contains the password used to decrypt the servers private key and use it for authentication. This key file should be read only by the <em>lpd</em> server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">User Certificates</h2>
        <div class="sectioncontent">
<p>The certificates used by users are kept in a separate directory in the users home directory. By convention, the private keys for these certificate files are stored in the certificate file.</p><p>The user certificate file is specified by the <strong>LPR_SSL_FILE</strong> environment variable, otherwise the <strong>${HOME}/.lpr/client.crt</strong> is used. The password is taken from the file specified by the <strong>LPR_SSL_PASSWORD</strong> environment variable, otherwise the <strong>${HOME}/.lpr/client.pwd</strong> file is read.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING LPRNG_CERTS</h2>
        <div class="sectioncontent">
<p>The organization of the SSL certificates used by LPRng is similar to that used by other programs such as the <strong>Apache</strong> <strong>mod_ssl</strong> support. The <strong>lprng_certs</strong> program is used to create the directory structure, create certificates for the root CA, signing, user and servers. In order to make management simple, the following support is provided.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs init</h2>
        <div class="sectioncontent">
<p>This command creates the directories used by the lpd server. It is useful when setting up a new <strong>lpd</strong> server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs newca</h2>
        <div class="sectioncontent">
<p>This command creates a self-signed certificate, suitable for use as a root CA certificate. It also sets up a set of default values for other certificate creation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs defaults</h2>
        <div class="sectioncontent">
<p>This command is used to modify the set of default values.</p><p>The default values are listed and should be self-explanatory, except for the value of the <strong>signer</strong> certificate. By default, the root CA can be used to sign certificates. However, a signing certificate can be used as well. This allows delegation of signing authority without compromising the security of the root CA.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs gen</h2>
        <div class="sectioncontent">
<p>This is used to generate a user, server, or signing certificate.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs index</h2>
        <div class="sectioncontent">
<p>This is used to create the indexes for the signing certificates.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs verify [cert]</h2>
        <div class="sectioncontent">
<p>This checks the certificate file using the Openssl <strong>openssl verify</strong> command.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">lprng_certs encrypt keyfile</h2>
        <div class="sectioncontent">
<p>This removes all key information from the key file, reencrypts the key information, and the puts the encrypted key information in the file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LPRng OPTIONS</h2>
        <div class="sectioncontent">

<pre>
Option	Purpose
ssl_ca_path	directory holding the SSL signing certs
ssl_ca_file	file holding the root CA or all SSL signing certs
ssl_server_cert	cert file for the server
ssl_server_password	file containing password for server server
${HOME}/.lpr/client.crt	client certificate file
${HOME}/.lpr/client.pwd	client certificate private key password
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<pre>
LPR_SSL_FILE	client certificate file
LPR_SSL_PASSWORD	client certificate private key password

</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The following exit values are returned:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>zero (0)</strong></p>
  </dt>
  <dd>
    <p>Successful completion.</p>
  </dd>
  <dt>
    <p><strong>non-zero (!=0)</strong></p>
  </dt>
  <dd>
    <p>An error occurred.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lprng_certs&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/lpd.conf.5.html"><strong>lpd.conf</strong>(5)</a>, <a href="../man8/lpc.8.html"><strong>lpc</strong>(8)</a>, <strong>lpd</strong>(8), <a href="../man8/checkpc.8.html"><strong>checkpc</strong>(8)</a>, <a href="../man1/lpr.1.html"><strong>lpr</strong>(1)</a>, <a href="../man1/lpq.1.html"><strong>lpq</strong>(1)</a>, <a href="../man1/lprm.1.html"><strong>lprm</strong>(1)</a>, <a href="../man5/printcap.5.html"><strong>printcap</strong>(5)</a>, <a href="../man5/lpd.conf.5.html"><strong>lpd.conf</strong>(5)</a>, pr(1), <a href="../man1/lprng_certs.1.html"><strong>lprng_certs</strong>(1)</a>, <a href="../man1/lprng_index_certs.1.html"><strong>lprng_index_certs</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Patrick Powell &lt;papowell@lprng.com&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HISTORY</h2>
        <div class="sectioncontent">
<p>LPRng is a enhanced printer spooler system with functionality similar to the Berkeley LPR software. The LPRng developer mailing list is lprng-devel@lists.sourceforge.net; subscribe by visiting <strong>https://lists.sourceforge.net/lists/listinfo/lprng-devel</strong> or sending mail to <strong>lprng-request@lists.sourceforge.net</strong> with the word <em>subscribe</em> in the body.</p><p>The software is available via <strong>http://lprng.sourceforge.net</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lprng-lprm.1.html"><span aria-hidden="true">&larr;</span> lprm.1: Remove jobs from the line printer spooling queue</a></li>
   <li class="next"><a href="lprng_index_certs.1.html">lprng_index_certs.1: Lprng ssl certificate management <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
