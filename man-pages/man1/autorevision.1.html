<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>autorevision: Extract current-revision metadata from version-control repositories</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Extract current-revision metadata from version-control repositories">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="autorevision (1) manual">
  <meta name="twitter:description" content="Extract current-revision metadata from version-control repositories">
  <meta name="twitter:image" content="https://www.carta.tech/images/autorevision-autorevision-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/autorevision.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="autorevision (1) manual" />
  <meta property="og:description" content="Extract current-revision metadata from version-control repositories" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/autorevision-autorevision-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">autorevision<small> (1)</small></h1>
        <p class="lead">Extract current-revision metadata from version-control repositories</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/autorevision.1.html">
      <span itemprop="name">autorevision: Extract current-revision metadata from version-control repositories</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/autorevision/">
      <span itemprop="name">autorevision</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/autorevision.1.html">
      <span itemprop="name">autorevision: Extract current-revision metadata from version-control repositories</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>autorevision</strong> {<strong>-t</strong> &lt;output-type&gt; | <strong>-s</strong> &lt;symbol&gt;} [<strong>-o</strong> &lt;cache-file&gt; [<strong>-f</strong>] ] [<strong>-U</strong>] [<strong>-V</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Extracts metadata about the head revision from your repository.</p><p>This program is meant to be used by project build systems to extract properties that can be used in software version strings. It can emit source files containing variable and macro definitions suitable for use with C, C++, Java, sh, Python, Perl, Mac info.plist and other types of files (see below for the full list).</p><p>The generated source is written to standard output.</p><p>This program can normally be called from anywhere within a repository copy. Under bzr the copy must be of a branch, not a full multibranch repository. Under Subversion it must be called under a repository checkout, not the repository itself.</p><p>If you specify a cache file, then when <strong>autorevision</strong> is run where no repository can be recognized, the values from the cache file will be used instead. If a repository can be recognized, the cache is rewritten. This feature makes it possible for your build to run from an unpacked tarball that includes the cache file.</p><h3>Valid Repository Types</h3>
<p><strong>Git</strong>: A version greater than 1.7.2.3 is recommended.</p><p><strong>Mercurial</strong>: A version greater than 1.6 is recommended.</p><p><strong>Subversion</strong>: Any production version.</p><p><strong>Bazaar</strong>: Any production version.</p>
<h3>Valid Output Types</h3>
<p><strong>h</strong></p><p>A header file suitable for C/C++.</p><p><strong>xcode</strong></p><p>A header like output for use with xcode to populate info.plist strings.</p><p><strong>swift</strong></p><p>A Swift source file setting Swift global constants.</p><p>Unless set <strong>VCS_EXTRA</strong> and any symbols that are are missing because of repository support are set to nil.</p><p><strong>sh</strong></p><p>A text file suitable for including from a bash script. Will work with Ruby.</p><p><strong>py</strong></p><p>A Python source file setting Python variables (<strong>python</strong> is an acceptable synonym).</p><p><strong>pl</strong></p><p>A Perl source file setting Perl variables (<strong>perl</strong> is an acceptable synonym).</p><p><strong>lua</strong></p><p>A lua source file setting lua variables.</p><p><strong>php</strong></p><p>A PHP source file setting PHP variables.</p><p><strong>ini</strong></p><p>A ini source file setting ini variables.</p><p><strong>js</strong></p><p>A javascript source file setting javascript variables.</p><p><strong>json</strong></p><p>A JSON format file.</p><p><strong>java</strong></p><p>A Java source file setting class properties.</p><p><strong>javaprop</strong></p><p>A Java properties file (like ini); useful when META-INF is readable in Java.</p><p><strong>tex</strong></p><p>A TeX source file defining TeX macros. Note that the symbols are given different names since the underscore has a special meaning in TeX. For example, VCS_SHORT_HASH is renamed to &#92;vcsShortHash.</p><p><strong>m4</strong></p><p>An m4 source file defining m4 macros.</p>
<h3>Valid Symbol Names</h3>
<p><strong>VCS_TYPE</strong></p><p>The repository type - "git", "hg", "bzr", or "svn".</p><p><strong>VCS_BASENAME</strong></p><p>The basename of the directory root. For most VCSes this will simply be the basename of the repository root directory. For Subversion, <strong>autorevision</strong> will navigate up though trunk, branches, and tags directories to find the actual root.</p><p><strong>VCS_NUM</strong></p><p>A count of revisions between the current one and the initial one; useful for reporting build numbers.</p><p><strong>VCS_UUID</strong></p><p>A universally unique identifier, generated from the root commit in git and hg; for svn it uses the supplied UUID.</p><p>For git we choose the oldest commit if there is more than one.</p><p>Not currently implemented for bzr.</p><p><strong>VCS_DATE</strong></p><p>The date of the most recent commit in true ISO-8601/RFC3339 format, including seconds.</p><p><strong>VCS_BRANCH</strong></p><p>The name of the branch of the commit graph that was selected when autoversion was run.</p><p>Under git, this will normally be the shortname of the current branch (the asterisked line in the output of of "git branch") except that when the branch doesn\(cqt have a shortname it will be a full refspec.</p><p>Under hg the feature that is called <em>branches</em> is actually a sort of graph coloring (multiple heads can have the same branch name) so this symbol is filled with the current bookmark if it exists, with the current branch name as a fallback.</p><p>Under Subversion this will normally be either <em>trunk</em> or the basename of some branch or tag subdirectory, depending on where <strong>autoversion</strong> was run.</p><p>Under bzr, this is the nick of the branch you are on.</p><p><strong>VCS_TAG</strong></p><p>The name of the most recent tag ancestral to the current commit.</p><p>Empty under Subversion.</p><p><strong>VCS_TICK</strong></p><p>A count of commits since most recent tag ancestral to the current commit or an alias of <strong>VCS_NUM</strong> if there are no prior tags.</p><p>Empty under Subversion.</p><p><strong>VCS_EXTRA</strong></p><p>A symbol set aside specifically to be set by the user through the environment or via scripts.</p><p><strong>VCS_FULL_HASH</strong></p><p>A full unique identifier for the current revision.</p><p><strong>VCS_SHORT_HASH</strong></p><p>A shortened version of <strong>VCS_FULL_HASH</strong>, but <strong>VCS_FULL_HASH</strong> if it cannot be shortened.</p><p><strong>VCS_WC_MODIFIED</strong></p><p>Set to 1 if the current working directory has been modified and 0 if not. If the output language has native Boolean literals, true will mean modified and false unmodified. The C/C++ output is left as numeric so the preprocessor can test it. <em>Untracked files are not ignored; see </em><em></em><strong>-U</strong><em> for details.</em></p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-t</strong> <em>&lt;output-type&gt;</em></p><p>Sets the output type. It is required unless <strong>-s</strong> is specified; both <strong>-t</strong> and <strong>-s</strong> cannot be used in the same invocation.</p><p><strong>-s</strong> <em>&lt;symbol&gt;</em></p><p>Changes the reporting behavior; instead of emitting a symbol file to stdout, only the value of that individual symbol will be reported. It is required unless <strong>-t</strong> is specified; both <strong>-t</strong> and <strong>-s</strong> cannot be used in the same invocation.</p><p><strong>-o</strong> <em>&lt;cache-file&gt;</em></p><p>Sets the name of the cache file.</p><p><strong>-f</strong></p><p>Forces the use cache data even when in a repo; useful if you want to preprocess the data before final output.</p><p><strong>-U</strong></p><p>Causes untracked files to be checked when determining if the working copy is modified <em>for Subversion only</em>. While this is the default behavior for all other repository types it is off by default for Subversion because of speed concerns.</p><p><strong>-V</strong></p><p>Emits the autorevision version and exits.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The bzr extractor is not very well tested as yet.</p><p>When a git repo is actually a git-svn remote, this tool tries to do the right thing and return a Subversion revision. The bug is that the detector code for this case is somewhat unreliable; you will get the hash instead if your configuration doesn\(cqt use svn-remote.svn.url.</p><p>Nested repositories, particularly repositories of different types, <em>may</em> result in incorrect and unintended behavior.</p><p>Unpacking a tarball into a repository <em>will</em> result in incorrect and unintended behavior.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Development of autorevision is carried out at https://github.com/Autorevision/autorevision</p><p>Tarballs and HTML rendered docs are also hosted at http://www.catb.org/esr/autorevision/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>dak180 &lt;dak180@users.sf.net&gt;: concept, bash/C/C++/XCode/PHP/ini support, git and hg extraction. Eric S. Raymond &lt;esr@thyrsus.com&gt;: Python/Perl/lua/m4 support, svn and bzr extraction, git-svn support, CLI design, man page.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="autorenamer.1.html"><span aria-hidden="true">&larr;</span> autorenamer.1: Program to rename files so they sort according to given ordering</a></li>
   <li class="next"><a href="autoscan.1.html">autoscan.1: Generate a preliminary configure.in <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
