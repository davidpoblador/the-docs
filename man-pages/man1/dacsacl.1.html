<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dacsacl: List, check, or re-index access control rules</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="List, check, or re-index access control rules">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dacsacl (1) manual">
  <meta name="twitter:description" content="List, check, or re-index access control rules">
  <meta name="twitter:image" content="https://www.carta.tech/images/dacs-dacsacl-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dacsacl.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dacsacl (1) manual" />
  <meta property="og:description" content="List, check, or re-index access control rules" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dacs-dacsacl-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dacsacl<small> (1)</small></h1>
        <p class="lead">List, check, or re-index access control rules</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dacsacl.1.html">
      <span itemprop="name">dacsacl: List, check, or re-index access control rules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dacs/">
      <span itemprop="name">dacs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dacsacl.1.html">
      <span itemprop="name">dacsacl: List, check, or re-index access control rules</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dacsacl</strong> [<em>\m[blue]</em><strong>dacsoptions</strong>\m[]\s-2\u[1]\d\s+2] [<strong>-build</strong> | <strong>-nobuild</strong>] [<strong>-vfs&nbsp;</strong><strong></strong><em>vfs_uri</em>] [...] [<em>op-spec</em>] [<em>acl-name</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is part of the <strong>DACS</strong> suite.</p><p>The <strong>dacsacl</strong> utility performs administrative functions related to access control, such as:</p><p>validating the syntax of ACL files (parsing the XML and <strong>DACS</strong> expressions);</p><p>checking that the revocation list (VFS type revocations) exists and performing a syntax check on it;</p><p>creating an index (a directory data structure, as an XML file) of access control files; and</p><p>listing and deleting access tokens in the authorization cache (refer to \m[blue]<a href="../man8/dacs_acs.8.html"><strong>dacs_acs</strong>(8)</a></strong>\m[]\s-2\u[2]\d\s+2).</p><p>Please refer to \m[blue]<a href="../man5/dacs.acls.5.html"><strong>dacs.acls</strong>(5)</a></strong>\m[]\s-2\u[3]\d\s+2 for details about how access control rule files are named.</p><p><strong>Important</strong></p><p>Version 1.4.21 introduced important changes to the way <strong>DACS</strong> processes access control files, introducing incompatibilities with earlier releases. Please pay special attention to the <strong>-convert</strong> and <strong>-build</strong> flags.</p><p>Most importantly, after adding, deleting, or editing an access control file the ACL index must be regenerated. This can be done simply by running <strong>dacsacl</strong> with no arguments.</p><p><strong>Notes</strong></p><p>So that it can be run as part of the installation procedure, <strong>dacsacl</strong> does not require dacs.conf to exist. If it does exist, however, it must be readable and syntactically correct.</p><p>The program emits a warning message if it finds different ACL files that contain identical url_pattern (or url_expr) attributes. It does not detect pairs of these attributes that are equivalent, however; in general, it is not possible to do so because the actual specifications used to match against a service request are not known until run time. Two or more service elements should never apply to the same service request (other than through wildcard matching) and the result of authorization testing with such rules is indeterminate.</p><p>The \m[blue]<a href="../man8/dacs_admin.8.html"><strong>dacs_admin</strong>(8)</a></strong>\m[]\s-2\u[4]\d\s+2 web service provides some of the same functionality as <strong>dacsacl</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>In addition to the standard \m[blue]<strong></strong><em>dacsoptions</em>\m[]\s-2\u[1]\d\s+2, <strong>dacsacl</strong> recognizes these options:</p><p><strong>-build</strong></p><p>Index rebuilding is done by default with most modes of operation, but it can be explicitly requested with this flag. If the flag is given, it is not an error if an index file does not exist (as when initially creating an index).</p><p><strong>-nobuild</strong></p><p>Suppress index rebuilding.</p><p><strong>-vfs </strong><strong></strong><em>vfs_uri</em></p><p>This flag, which may be repeated, causes <em>vfs_uri</em> to be defined as if by a \m[blue]<strong>VFS</strong>\m[]\s-2\u[5]\d\s+2 directive, overriding any existing definition. This can be used to specify an alternate location for the item types acls or dacs_acls, for instance. As a special case, if acls (dacs_acls) is defined using this flag but not dacs_acls (acls), then only the former&apos;s index will be rebuilt.</p><p>This option can be useful in conjunction with the <strong>\m[blue]</strong><strong>-un</strong>\m[]\s-2\u[1]\d\s+2 flag so that indexes can be generated before a jurisdiction has been configured.</p><p>The optional <em>op-spec</em> describes one of the following operations:</p><p><strong>-convert</strong></p><p>This flag is used to convert from the older rule processing scheme (pre-1.4.21) to the current scheme. It should only be needed by installations that are using custom rules (i.e., those other than the standard rules for <strong>DACS</strong> web pages and web services). Note that in some cases (described below) conversion is not fully automated, so the administrator may need to do some additional work.</p><p><strong>--</strong></p><p>This flag is a no-op that is used to prevent any following argument from being interpreted as a flag or operation.</p><p><strong>-f</strong> <em>file</em> [...]</p><p>Each <em>file</em> argument is the pathname of an ACL file or a directory containing ACL files. Since ACL files can be organized using a directory structure, directories are checked recursively.</p><p><strong>-l</strong></p><p>List the full URI of each access control rule in the virtual filestore for item types acls and dacs_acls. No error checking is performed.</p><p><strong>-s</strong></p><p>List the name (sans prefixes) of each access control rule in the virtual filestore for item types acls and dacs_acls. No error checking is performed.</p><p><strong>-tc</strong></p><p>Clean up the authorization cache by deleting expired or otherwise invalid entries. Note: since there may not be any concurrency control in effect, this should probably not be done while <strong>DACS</strong> could be writing to the file.</p><p><strong>-td</strong> # ...</p><p>Delete one or more authorization cache entries by giving their integer listing number (starting at 1, as produced by the <strong>-tl</strong> flag). Note: since there may not be any concurrency control in effect, this should probably not be done while <strong>DACS</strong> could be writing to the file.</p><p><strong>-tl</strong></p><p>List the entries in the authorization cache.</p><p><strong>-tt</strong></p><p>Truncate the authorization cache, effectively deleting everything in the cache. This is not currently implemented; in the meantime, simply delete the file or database, or copy /dev/null to it.</p><p>If one or more <em>acl-name</em> arguments appear they are interpreted as ACL files accessed through <strong>DACS&apos;s</strong> virtual filestore using item types acls and dacs_acls (both are checked). The applicable <strong>DACS</strong> configuration for the item type determines how an <em>acl-name</em> will be accessed. Note that <em>acl-name</em> must be the actual filename.</p><p>If no <em>op-spec</em> or <em>acl-name</em> is specified, <strong>dacsacl</strong> will examine all currently indexed ACL files configured for the appropriate <strong>DACS</strong> jurisdiction.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following command checks all of the access control rules belonging to the jurisdiction associated with dss.example.com:</p>
<pre>
% dacsacl -u dss.example.com -v
Checking: /usr/local/dacs/federations/dss/acls/acl.2
Checking: /usr/local/dacs/federations/dss/acls/acl.3
Checking: /usr/local/dacs/federations/dss/acls/acl.4
Checking: /usr/local/dacs/acls/acl-auth.0
(Note: duplicate keys for "acl-auth.0" and "acl-conf.0")
Checking: /usr/local/dacs/acls/acl-conf.0
(Note: duplicate keys for "acl-conf.0" and "acl-dacs.0")
Checking: /usr/local/dacs/acls/acl-dacs.0
(Note: duplicate keys for "acl-dacs.0" and "acl-passwd.0")
Checking: /usr/local/dacs/acls/acl-passwd.0
(Note: duplicate keys for "acl-passwd.0" and "acl-stddocs.0")
Checking: /usr/local/dacs/acls/acl-stddocs.0
Updated rule: [acls]dacs-fs:/usr/local/dacs/conf/acls/acl-abc.0
Updated rule: [acls]dacs-fs:/usr/local/dacs/conf/acls/acl-accounts.0
...
Built index for "acls": 44 rules
Updated rule: [dacs_acls]dacs-fs:/usr/local/dacs/acls/acl-admin.0
Updated rule: [dacs_acls]dacs-fs:/usr/local/dacs/acls/acl-auth-agent.0
...
Built index for "dacs_acls": 14 rules
58 ACL files were checked (OK)
</pre>
<p><strong>Note</strong></p><p>While it is not an error for access control rules to have the same numeric suffix, because the suffix partly determines the order in which roles are processed, using equal suffix values accidentally may have unintended results.</p><p>The following command checks only one access control rule belonging to the jurisdiction associated with dss.example.com:</p>
<pre>
% dacsacl -u dss.example.com -v acl.2
Checking: /usr/local/dacs/federations/dss/acls/acl.2
1 ACL file was checked (OK)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>The program exits 0 if everything was fine, 1 if an error occurred.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dacsacl&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<a href="../man1/dacsvfs.1.html"><strong>dacsvfs</strong>(1)</a></strong>\m[]\s-2\u[6]\d\s+2, \m[blue]<a href="../man5/dacs.acls.5.html"><strong>dacs.acls</strong>(5)</a></strong>\m[]\s-2\u[3]\d\s+2, \m[blue]<a href="../man8/dacs_acs.8.html"><strong>dacs_acs</strong>(8)</a></strong>\m[]\s-2\u[7]\d\s+2, \m[blue]<a href="../man8/dacs_admin.8.html"><strong>dacs_admin</strong>(8)</a></strong>\m[]\s-2\u[4]\d\s+2, \m[blue]<a href="../man8/dacs_vfs.8.html"><strong>dacs_vfs</strong>(8)</a></strong>\m[]\s-2\u[8]\d\s+2</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Distributed Systems Software (\m[blue]<strong>www.dss.ca</strong>\m[]\s-2\u[9]\d\s+2)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright2003-2013 Distributed Systems Software. See the \m[blue]<strong>LICENSE</strong>\m[]\s-2\u[10]\d\s+2 file that accompanies the distribution for licensing information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>dacsoptions</p><p>http://dacs.dss.ca/man/dacs.1.html#dacsoptions</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p><a href="../man8/dacs_acs.8.html"><strong>dacs_acs</strong>(8)</a></p><p>http://dacs.dss.ca/man/dacs_acs.8.html#authorization_caching</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p><a href="../man5/dacs.acls.5.html"><strong>dacs.acls</strong>(5)</a></p><p>http://dacs.dss.ca/man/dacs.acls.5.html</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p><a href="../man8/dacs_admin.8.html"><strong>dacs_admin</strong>(8)</a></p><p>http://dacs.dss.ca/man/dacs_admin.8.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p>VFS</p><p>http://dacs.dss.ca/man/dacs.conf.5.html#VFS</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><a href="../man1/dacsvfs.1.html"><strong>dacsvfs</strong>(1)</a></p><p>http://dacs.dss.ca/man/dacsvfs.1.html</p>
  </dd>
  <dt>
     7.
  </dt>
  <dd>
    <p><a href="../man8/dacs_acs.8.html"><strong>dacs_acs</strong>(8)</a></p><p>http://dacs.dss.ca/man/dacs_acs.8.html</p>
  </dd>
  <dt>
     8.
  </dt>
  <dd>
    <p><a href="../man8/dacs_vfs.8.html"><strong>dacs_vfs</strong>(8)</a></p><p>http://dacs.dss.ca/man/dacs_vfs.8.html</p>
  </dd>
  <dt>
     9.
  </dt>
  <dd>
    <p>www.dss.ca</p><p>http://www.dss.ca</p>
  </dd>
  <dt>
    10.
  </dt>
  <dd>
    <p>LICENSE</p><p>http://dacs.dss.ca/man/../misc/LICENSE</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dacs.1.html"><span aria-hidden="true">&larr;</span> dacs.1: A distributed access control system</a></li>
   <li class="next"><a href="dacsauth.1.html">dacsauth.1: Authentication check <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
