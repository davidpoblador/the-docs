<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>atop: At computing's system & process monitor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="At computing's system & process monitor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="atop (1) manual">
  <meta name="twitter:description" content="At computing's system & process monitor">
  <meta name="twitter:image" content="https://www.carta.tech/images/atop-atop-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/atop.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="atop (1) manual" />
  <meta property="og:description" content="At computing's system & process monitor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/atop-atop-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">atop<small> (1)</small></h1>
        <p class="lead">At computing's system & process monitor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/atop.1.html">
      <span itemprop="name">atop: At computing's system & process monitor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/atop/">
      <span itemprop="name">atop</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/atop.1.html">
      <span itemprop="name">atop: At computing's system & process monitor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>Interactive usage:</p><p><strong>atop</strong> [-g|-m|-d|-n|-u|-p|-s|-c|-v|-o] [-C|-M|-D|-N|-A] [-af1x] [-L linelen] [-Plabel[,label]...] [ <em>interval</em> [ <em>samples</em> ]]</p><p>Writing and reading raw logfiles:</p><p><strong>atop</strong> -w <em>rawfile</em> [-a] [-S] [ <em>interval</em> [ <em>samples</em> ]]</p><p><strong>atop</strong> -r [ <em>rawfile</em> ] [-b <em>hh:mm</em> ] [-e <em>hh:mm</em> ] [-g|-m|-d|-n|-u|-p|-s|-c|-v|-o] [-C|-M|-D|-N|-A] [-f1x] [-L linelen] [-Plabel[,label]...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The program <em>atop</em> is an interactive monitor to view the load on a Linux system. It shows the occupation of the most critical hardware resources (from a performance point of view) on system level, i.e. cpu, memory, disk and network.</p><p>It also shows which processes are responsible for the indicated load with respect to cpu- and memory load on process level. Disk load is shown if per process "storage accounting" is active in the kernel or if the kernel patch `cnt' has been installed. Network load is only shown per process if the kernel patch `cnt' has been installed.</p><p>Every <em>interval</em> (default: 10 seconds) information is shown about the resource occupation on system level (cpu, memory, disks and network layers), followed by a list of processes which have been active during the last interval (note that all processes that were unchanged during the last interval are not shown, unless the key 'a' has been pressed). If the list of active processes does not entirely fit on the screen, only the top of the list is shown (sorted in order of activity).</p><p>The intervals are repeated till the number of <em>samples</em> (specified as command argument) is reached, or till the key 'q' is pressed in interactive mode.</p><p>When <em>atop</em> is started, it checks whether the standard output channel is connected to a screen, or to a file/pipe. In the first case it produces screen control codes (via the ncurses library) and behaves interactively; in the second case it produces flat ASCII-output.</p><p>In interactive mode, the output of <em>atop</em> scales dynamically to the current dimensions of the screen/window.</p><p>If the window is resized horizontally, columns will be added or removed automatically. For this purpose, every column has a particular weight. The columns with the highest weigths that fit within the current width will be shown.</p><p>If the window is resized vertically, lines of the process-list will be added or removed automatically.</p><p>Furthermore in interactive mode the output of <em>atop</em> can be controlled by pressing particular keys. However it is also possible to specify such key as <strong>flag</strong> on the command line. In the latter case <em>atop</em> will switch to the indicated mode on beforehand; this mode can be modified again interactively. Specifying such key as flag is especially useful when running <em>atop</em> with output to a pipe or file (non-interactively). The flags used are the same as the keys which can be pressed in interactive mode (see section INTERACTIVE COMMANDS).</p><p>Additional flags are available to support storage of atop-data in raw format (see section RAW DATA STORAGE).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROCESS ACCOUNTING</h2>
        <div class="sectioncontent">
<p>When <em>atop</em> is started, it switches on the process accounting mechanism in the kernel. This forces the kernel to write a record with accounting information to the accounting file whenever a process ends. Apart from the kernel administration related to the running processes, <em>atop</em> also interprets the accounting records on disk with every interval; in this way <em>atop</em> can also show the activity of a process during the interval in which it is finished.</p><p>Whenever the last incarnation of <em>atop</em> stops (either by pressing `q' or by `kill -15'), it switches off the process accounting mechanism again. You should never terminate <em>atop</em> by `kill -9', because then it has no chance to stop process accounting; as a result the accounting file may consume a lot of disk space after a while.</p><p>With the environment variable ATOPACCT the name of a specific process accounting file can be specified (accounting should have been activated on beforehand). When this environment variable is present but its contents is empty, process accounting will not be used at all.</p><p>Notice that root-privileges are required to switch on process accounting in the kernel. You can start <em>atop</em> as root or specify setuid-root privileges to the executable file. In the latter case, <em>atop</em> switches on process accounting and immediately drops the root-privileges again.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COLORS</h2>
        <div class="sectioncontent">
<p>For the resource consumption on system level, <em>atop</em> uses colors to indicate that a critical occupation percentage has been (almost) reached. A critical occupation percentage means that is likely that this load causes a noticable negative performance influence for applications using this resource. The critical percentage depends on the type of resource: e.g. the performance influence of a disk with a busy percentage of 80% might be more noticable for applications/user than a CPU with a busy percentage of 90%.</p><p>Currently <em>atop</em> uses the following default values to calculate a weighted percentage per resource:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&nbsp;Processor</strong></p>
  </dt>
  <dd>
    <p>A busy percentage of 90% or higher is considered `critical'.</p>
  </dd>
  <dt>
    <p><strong>&nbsp;Disk</strong></p>
  </dt>
  <dd>
    <p>A busy percentage of 70% or higher is considered `critical'.</p>
  </dd>
  <dt>
    <p><strong>&nbsp;Network</strong></p>
  </dt>
  <dd>
    <p>A busy percentage of 90% or higher for the load of an interface is considered `critical'.</p>
  </dd>
  <dt>
    <p><strong>&nbsp;Memory</strong></p>
  </dt>
  <dd>
    <p>An occupation percentage of 90% is considered `critical'. Notice that this occupation percentage is the accumulated memory consumption of the kernel (including slab) and all processes; the memory for the page cache (`cache' and `buff' in the MEM-line) is not implied!</p><p>If the number of pages swapped out (`swout' in the PAG-line) is larger than 10 per second, the memory resource is considered `critical'. A value of at least 1 per second is considered `almost critical'.</p><p>If the committed virtual memory exceeds the limit (`vmcom' and `vmlim' in the SWP-line), the SWP-line is colored due to overcommitting the system.</p>
  </dd>
  <dt>
    <p><strong>&nbsp;Swap</strong></p>
  </dt>
  <dd>
    <p>An occupation percentage of 80% is considered `critical' because swap space might be completely exhausted in the near future; it is not critical from a performance point-of-view.</p>
  </dd>

</dl>
<p>These default values can be modified in the configuration file (see separate man-page of atoprc).</p><p>When a resource exceeded its critical occupation percentage, the entire screen line is colored red.</p><p>When a resource exceeded (default) 80% of its critical percentage (so it is almost critical), the entire screen line is colored cyan. This `almost critical percentage' (one value for all resources) can be modified in the configuration file (see separate man-page of atoprc).</p><p>With the key 'x' (or flag -x), line coloring can be suppressed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERACTIVE COMMANDS</h2>
        <div class="sectioncontent">
<p>When running <em>atop</em> interactively (no output redirection), keys can be pressed to control the output. In general, lower case keys can be used to show other information for the active processes and upper case keys can be used to influence the sort order of the active process list.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>g</strong></p>
  </dt>
  <dd>
    <p>Show generic output (default).</p><p>Per process the following fields are shown in case of a window-width of 80 positions: process-id, cpu consumption during the last interval in system- and user mode, the virtual and resident memory growth of the process.</p><p>The subsequent columns depend on the used kernel: When the kernel patch `cnt' has been installed, the number of read- and write transfers on disk, and the number of received and transmitted network packets are shown for each process. When the kernel patch is not installed and the kernel supports "storage accounting" (&gt;= 2.6.20), the data transfer for read/write on disk, the status and exit code are shown for each process. When the kernel patch is not installed and the kernel does not support "storage accounting", the username, number of threads in the thread group, the status and exit code are shown.</p><p>The last columns contain the state, the occupation percentage for the choosen resource (default: cpu) and the process name.</p><p>When more than 80 positions are available, other information is added.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>m</strong></p>
  </dt>
  <dd>
    <p>Show memory related output.</p><p>Per process the following fields are shown in case of a window-width of 80 positions: process-id, minor and major memory faults, size of virtual shared text, total virtual process size, total resident process size, virtual and resident growth during last interval, memory occupation percentage and process name.</p><p>When more than 80 positions are available, other information is added.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>d</strong></p>
  </dt>
  <dd>
    <p>Show disk-related output.</p><p>When "storage accounting" is active in the kernel, the following fields are shown: process-id, amount of data read from disk, amount of data written to disk, amount of data that was written but has been withdrawn again (WCANCL), disk occupation percentage and process name.</p><p>When the kernel patch `cnt' is installed in the kernel, the following fields are shown: process-id, number of physical disk reads, average size per read (bytes), total size for read transfers, physical disk writes, average size per write (bytes), total size for write transfers, disk occupation percentage and process name.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>n</strong></p>
  </dt>
  <dd>
    <p>Show network related output.</p><p>Per process the following fields are shown in case of a window-width of 80 positions: process-id, number of received TCP packets with the average size per packet (in bytes), number of sent TCP packets with the average size per packet (in bytes), number of received UDP packets with the average size per packet (in bytes), number of sent UDP packets with the average size per packet (in bytes), and received and sent raw packets (e.g. ICMP) in one column, the network occupation percentage and process name.</p><p>This information can only be shown when kernel patch `cnt' is installed.</p><p>When more than 80 positions are available, other information is added.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>s</strong></p>
  </dt>
  <dd>
    <p>Show scheduling characteristics.</p><p>Per process the following fields are shown in case of a window-width of 80 positions: process-id, number of threads in state 'running' (R), number of threads in state 'interruptible sleeping' (S), number of threads in state 'uninterruptible sleeping' (D), scheduling policy (normal timesharing, realtime round-robin, realtime fifo), nice value, priority, realtime priority, current processor, status, exit code, state, the occupation percentage for the choosen resource and the process name.</p><p>When more than 80 positions are available, other information is added.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>v</strong></p>
  </dt>
  <dd>
    <p>Show various process characteristics.</p><p>Per process the following fields are shown in case of a window-width of 80 positions: process-id, user name and group, start date and time, status (e.g. exit code if the process has finished), state, the occupation percentage for the choosen resource and the process name.</p><p>When more than 80 positions are available, other information is added.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>c</strong></p>
  </dt>
  <dd>
    <p>Show the command line of the process.</p><p>Per process the following fields are shown: process-id, the occupation percentage for the choosen resource and the command line including arguments.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>o</strong></p>
  </dt>
  <dd>
    <p>Show the user-defined line of the process.</p><p>In the configuration file the keyword <em>ownprocline</em> can be specified with the description of a user-defined output-line.</p><p>Refer to the man-page of <strong>atoprc</strong> for a detailed description.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>u</strong></p>
  </dt>
  <dd>
    <p>Show the process activity accumulated per user.</p><p>Per user the following fields are shown: number of processes active or terminated during last interval (or in total if combined with command `a'), accumulated cpu consumption during last interval in system- and user mode, the current virtual and resident memory space consumed by active processes (or all processes of the user if combined with command `a').</p><p>When the kernel patch `cnt' has been installed or "storage accounting" is active, the accumulated read- and write throughput on disk is shown. When the kernel patch `cnt' has been installed, the number of received and sent network packets are shown.</p><p>The last columns contain the accumulated occupation percentage for the choosen resource (default: cpu) and the user name.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>p</strong></p>
  </dt>
  <dd>
    <p>Show the process activity accumulated per program (i.e. process name).</p><p>Per program the following fields are shown: number of processes active or terminated during last interval (or in total if combined with command `a'), accumulated cpu consumption during last interval in system- and user mode, the current virtual and resident memory space consumed by active processes (or all processes of the user if combined with command `a').</p><p>When the kernel patch `cnt' has been installed or "storage accounting" is active, the accumulated read- and write throughput on disk is shown. When the kernel patch `cnt' has been installed, the number of received and sent network packets are shown.</p><p>The last columns contain the accumulated occupation percentage for the choosen resource (default: cpu) and the program name.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>C</strong></p>
  </dt>
  <dd>
    <p>Sort the current list in the order of cpu consumption (default). The one-but-last column changes to ``CPU''.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>M</strong></p>
  </dt>
  <dd>
    <p>Sort the current list in the order of resident memory consumption. The one-but-last column changes to ``MEM''.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>D</strong></p>
  </dt>
  <dd>
    <p>Sort the current list in the order of disk accesses issued. The one-but-last column changes to ``DSK''.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>N</strong></p>
  </dt>
  <dd>
    <p>Sort the current list in the order of network packets received/transmitted. The one-but-last column changes to ``NET''.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>A</strong></p>
  </dt>
  <dd>
    <p>Sort the current list automatically in the order of the most busy system resource during this interval. The one-but-last column shows either ``ACPU'', ``AMEM'', ``ADSK'' or ``ANET'' (the preceding 'A' indicates automatic sorting-order). The most busy resource is determined by comparing the weighted busy-percentages of the system resources, as described earlier in the section COLORS.</p><p>This option remains valid until another sorting-order is explicitly selected again.</p><p>A sorting-order for disk is only possible when the kernel patch `cnt' is installed or "storage accounting" is active. A sorting-order for network is only possible when the kernel patch `cnt' is installed.</p>
  </dd>

</dl>
<p>Miscellaneous interactive commands:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>?</strong></p>
  </dt>
  <dd>
    <p>Request for help information (also the key 'h' can be pressed).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>V</strong></p>
  </dt>
  <dd>
    <p>Request for version information (version number and date).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>x</strong></p>
  </dt>
  <dd>
    <p>Suppress colors to highlight critical resources (toggle).</p><p>Whether this key is active or not can be seen in the header line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>z</strong></p>
  </dt>
  <dd>
    <p>The pause key can be used to freeze the current situation in order to investigate the output on the screen. While <em>atop</em> is paused, the keys described above can be pressed to show other information about the current list of processes. Whenever the pause key is pressed again, atop will continue with a next sample.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>i</strong></p>
  </dt>
  <dd>
    <p>Modify the interval timer (default: 10 seconds). If an interval timer of 0 is entered, the interval timer is switched off. In that case a new sample can only be triggered manually by pressing the key 't'.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>t</strong></p>
  </dt>
  <dd>
    <p>Trigger a new sample manually. This key can be pressed if the current sample should be finished before the timer has exceeded, or if no timer is set at all (interval timer defined as 0). In the latter case <em>atop</em> can be used as a stopwatch to measure the load being caused by a particular application transaction, without knowing on beforehand how many seconds this transaction will last.</p><p>When viewing the contents of a raw file, this key can be used to show the next sample from the file.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>T</strong></p>
  </dt>
  <dd>
    <p>When viewing the contents of a raw file, this key can be used to show the previous sample from the file.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>b</strong></p>
  </dt>
  <dd>
    <p>When viewing the contents of a raw file, this key can be used to branch to a certain timestamp within the file (either forward or backward).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>r</strong></p>
  </dt>
  <dd>
    <p>Reset all counters to zero to see the system and process activity since boot again.</p><p>When viewing the contents of a raw file, this key can be used to rewind to the beginning of the file again.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>U</strong></p>
  </dt>
  <dd>
    <p>Specify a search string for specific user names as a regular expression. From now on, only (active) processes will be shown from a user which matches the regular expression. The system statistics are still system wide. If the Enter-key is pressed without specifying a name, active processes of all users will be shown again.</p><p>Whether this key is active or not can be seen in the header line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>P</strong></p>
  </dt>
  <dd>
    <p>Specify a search string for specific process names as a regular expression. From now on, only processes will be shown with a name which matches the regular expression. The system statistics are still system wide. If the Enter-key is pressed without specifying a name, all active processes will be shown again.</p><p>Whether this key is active or not can be seen in the header line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>a</strong></p>
  </dt>
  <dd>
    <p>The `all/active' key can be used to toggle between only showing/accumulating the processes that were active during the last interval (default) or showing/accumulating all processes.</p><p>Whether this key is active or not can be seen in the header line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>f</strong></p>
  </dt>
  <dd>
    <p>Fixate the number of lines for system resources (toggle). By default only the lines are shown about system resources (cpu, paging, disk, network) that really have been active during the last interval. With this key you can force <em>atop</em> to show lines of inactive resources as well.</p><p>Whether this key is active or not can be seen in the header line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>Show relevant counters as an average per second (in the format `..../s') instead of as a total during the interval (toggle).</p><p>Whether this key is active or not can be seen in the header line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>l</strong></p>
  </dt>
  <dd>
    <p>Limit the number of system level lines for the counters per-cpu, the active disks and the network interfaces. By default lines are shown of all cpu's, disks and network interfaces which have been active during the last interval. Limiting these lines can be useful on systems with huge number cpu's, disks or interfaces in order to be able to run <em>atop</em> on a screen/window with e.g. only 24 lines.</p><p>For all mentioned resources the maximum number of lines can be specified interactively. When using the flag <strong>-l</strong> the maximum number of per-cpu lines is set to 0, the maximum number of disk lines to 5 and the maximum number of interface lines to 3. These values can be modified again in interactive mode.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>k</strong></p>
  </dt>
  <dd>
    <p>Send a signal to an active process (a.k.a. kill a process).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>q</strong></p>
  </dt>
  <dd>
    <p>Quit the program.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>^F</strong></p>
  </dt>
  <dd>
    <p>Show the next page of the process list (forward).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>^B</strong></p>
  </dt>
  <dd>
    <p>Show the previous page of the process list (backward).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>^L</strong></p>
  </dt>
  <dd>
    <p>Redraw the screen.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RAW DATA STORAGE</h2>
        <div class="sectioncontent">
<p>In order to store system- and process level statistics for long-term analysis (e.g. to check the system load and the active processes running yesterday between 3:00 and 4:00 PM), <em>atop</em> can store the system- and process level statistics in compressed binary format in a raw file with the flag <strong>-w</strong> followed by the filename. If this file already exists and is recognized as a raw data file, <em>atop</em> will append new samples to the file (starting with a sample which reflects the activity since boot); if the file does not exist, it will be created.</p><p>By default only processes which have been active during the interval are stored in the raw file. When the flag <strong>-a</strong> is specified, all processes will be stored.</p><p>The interval (default: 10 seconds) and number of samples (default: infinite) can be passed as last arguments. Instead of the number of samples, the flag <strong>-S</strong> can be used to indicate that <em>atop</em> should finish anyhow before midnight.</p><p>A raw file can be read and visualized again with the flag <strong>-r</strong> followed by the filename. If no filename is specified, the file <strong>/var/log/atop/atop_</strong><em>YYYYMMDD</em> is opened for input (where <em>YYYYMMDD</em> are digits representing the current date). If a filename is specified in the format YYYYMMDD (representing any valid date), the file <strong>/var/log/atop/atop_</strong><em>YYYYMMDD</em> is opened. If a filename with the symbolic name <strong>y</strong> is specified, yesterday's daily logfile is opened (this can be repeated so 'yyyy' indicates the logfile of four days ago).</p><p>The samples from the file can be viewed interactively by using the key 't' to show the next sample, the key 'T' to show the previous sample, the key 'b' to branch to a particular time or the key 'r' to rewind to the begin of the file.</p><p>When output is redirected to a file or pipe, <strong>atop</strong> prints all samples in plain ASCII. The default line length is 80 characters in that case; with the flag <strong>-L</strong> followed by an alternate line length, more (or less) columns will be shown.</p><p>With the flag <strong>-b</strong> (begin time) and/or <strong>-e</strong> (end time) followed by a time argument of the form HH:MM, a certain time period within the raw file can be selected.</p><p>When <strong>atop</strong> is installed, the script <strong>atop.daily</strong> is stored in the <em>/etc/atop</em> directory. This scripts takes care that <strong>atop</strong> is activated every day at midnight to write compressed binary data to the file <strong>/var/log/atop/atop_</strong><em>YYYYMMDD</em> with an interval of 10 minutes.</p><p>Furthermore the script removes all raw files which are older than four weeks.</p><p>The script is activated via the <strong>cron</strong> daemon using the file <em>/etc/cron.d/atop</em> with the contents</p><p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 0 * * * root /etc/atop/atop.daily</strong></p><p>When the RPM `psacct' is installed, the process accounting is automatically restarted via the <strong>logrotate</strong> mechanism. The file <strong>/etc/logrotate.d/psaccs_atop</strong> takes care that <strong>atop</strong> is finished just before the rotation of the process accounting file and the file <strong>/etc/logrotate.d/psaccu_atop</strong> takes care that <strong>atop</strong> is restarted again after the rotation. When the RPM `psacct' is not installed, these logrotate-files have no effect.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The first sample shows the system level activity since boot (the elapsed time in the header shows the time since boot). Note that particular counters could have reached their maximum value (several times) and started by zero again, so do not rely on these figures.</p><p>For every sample <em>atop</em> first shows the lines related to system level activity. If a particular system resource has not been used during the interval, the entire line related to this resource is suppressed. So the number of system level lines may vary for each sample.</p><p>After that a list is shown of processes which have been active during the last interval. This list is by default sorted on cpu consumption, but this order can be changed by the keys which are previously described.</p><p>If values have to be shown by <em>atop</em> which do not fit in the column width, another notation is used. If e.g. a cpu-consumption of 233216 milliseconds should be shown in a column width of 4 positions, it is shown as `233s' (in seconds). For large memory figures, another unit is chosen if the value does not fit (Mb instead of Kb, Gb instead of Mb). For other values, a kind of exponent notation is used (value 123456789 shown in a column of 5 positions gives 123e6).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT DESCRIPTION - SYSTEM LEVEL</h2>
        <div class="sectioncontent">
<p>The system level information consists of the following output lines:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>PRC</strong></p>
  </dt>
  <dd>
    <p>Process level totals.</p><p>This line contains the total cpu time consumed in system mode (`sys') and in user mode (`user'), the total number of processes present at this moment (`#proc'), the total number of threads present at this moment in state `running' (`#trun'), `sleeping interruptible' (`#tslpi') and `sleeping uninterruptible' (`#tslpu'), the number of zombie processes (`#zombie'), the number of clone system calls (`clones'), and the number of processes that ended during the interval (`#exit', which shows `?' if process accounting is not used).</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>CPU</strong></p>
  </dt>
  <dd>
    <p>CPU utilization.</p><p>At least one line is shown for the total occupation of all CPU's together.</p><p>In case of a multi-processor system, an additional line is shown for every individual processor (with `cpu' in lower case), sorted on activity. Inactive cpu's will not be shown by default. The lines showing the per-cpu occupation contain the cpu number in the last field.</p><p>Every line contains the percentage of cpu time spent in kernel mode by all active processes (`sys'), the percentage of cpu time consumed in user mode (`user') for all active processes (including processes running with a nice value larger than zero), the percentage of cpu time spent for interrupt handling (`irq') including softirq, the percentage of unused cpu time while no processes were waiting for disk-I/O (`idle'), and the percentage of unused cpu time while at least one process was waiting for disk-I/O (`wait').</p><p>In case of per-cpu occupation, the last column shows the cpu number and the wait percentage (`w') for that cpu. The number of lines showing the per-cpu occupation can be limited.</p><p>For virtual machines the steal-percentage is shown (`steal'), reflecting the percentage of cpu time stolen by other virtual machines running on the same hardware.</p><p>For physical machines hosting one or more virtual machines, the guest-percentage is shown (`guest'), reflecting the percentage of cpu time used by the virtual machines.</p><p>In case of frequency-scaling, all previously mentioned CPU-percentages are relative to the used scaling of the CPU during the interval. If e.g. a CPU has been active for 50% in user mode during the interval while the frequency-scaling of that was 40%, then only 20% of the full capacity of the CPU has been used in user mode.</p><p>In case that the kernel module `cpufreq_stats' is active (after issueing `modprobe cpufreq_stats'), the <em>average</em> frequency (`avgf') and the <em>average</em> scaling percentage (`avgscal') is shown. Otherwise the <em>current</em> frequency (`curf') and the <em>current</em> scaling percentage (`curscal') is shown at the moment that the sample is taken.</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>CPL</strong></p>
  </dt>
  <dd>
    <p>CPU load information.</p><p>This line contains the load average figures reflecting the number of threads that are available to run on a CPU (i.e. part of the runqueue) or that are waiting for disk I/O. These figures are averaged over 1 (`avg1'), 5 (`avg5') and 15 (`avg15') minutes.</p><p>Furthermore the number of context switches (`csw'), the number of serviced interrupts (`intr') and the number of available cpu's are shown.</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>MEM</strong></p>
  </dt>
  <dd>
    <p>Memory occupation.</p><p>This line contains the total amount of physical memory (`tot'), the amount of memory which is currently free (`free'), the amount of memory in use as page cache (`cache'), the amount of memory within the page cache that has to be flushed to disk (`dirty'), the amount of memory used for filesystem meta data (`buff') and the amount of memory being used for kernel malloc's (`slab' - always 0 for kernel 2.4).</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>SWP</strong></p>
  </dt>
  <dd>
    <p>Swap occupation and overcommit info.</p><p>This line contains the total amount of swap space on disk (`tot') and the amount of free swap space (`free').</p><p>Furthermore the committed virtual memory space (`vmcom') and the maximum limit of the committed space (`vmlim', which is by default swap size plus 50% of memory size) is shown. The committed space is the reserved virtual space for all allocations of private memory space for processes. The kernel only verifies whether the committed space exceeds the limit if strict overcommit handling is configured (vm.overcommit_memory is 2).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>PAG</strong></p>
  </dt>
  <dd>
    <p>Paging frequency.</p><p>This line contains the number of scanned pages (`scan') due to the fact that free memory drops below a particular threshold and the number times that the kernel tries to reclaim pages due to an urgent need (`stall').</p><p>Also the number of memory pages the system read from swap space (`swin') and the number of memory pages the system wrote to swap space (`swout') are shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>LVM/MDD/DSK</strong></p>
  </dt>
  <dd>
    <p>Logical volume/multiple device/disk utilization.</p><p>Per active unit one line is produced, sorted on unit activity. Such line shows the name (e.g. VolGroup00-lvtmp for a logical volume or sda for a hard disk), the busy percentage i.e. the portion of time that the unit was busy handling requests (`busy'), the number of read requests issued (`read'), the number of write requests issued (`write'), the number of KiBytes per read (`KiB/r'), the number of KiBytes per write (`KiB/w'), the number of MiBytes per second throughput for reads (`MBr/s'), the number of MiBytes per second throughput for writes (`MBw/s'), the average queue depth (`avq') and the average number of milliseconds needed by a request (`avio') for seek, latency and data transfer.</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p><p>The number of lines showing the units can be limited per class (LVM, MDD or DSK) with the 'l' key or statically (see separate man-page of atoprc). By specifying the value 0 for a particular class, no lines will be shown any more for that class.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>NET</strong></p>
  </dt>
  <dd>
    <p>Network utilization (TCP/IP).</p><p>One line is shown for activity of the transport layer (TCP and UDP), one line for the IP layer and one line per active interface.</p><p>For the transport layer, counters are shown concerning the number of received TCP segments including those received in error (`tcpi'), the number of transmitted TCP segments excluding those containing only retransmitted octets (`tcpo'), the number of UDP datagrams received (`udpi'), the number of UDP datagrams transmitted (`udpo'), the number of active TCP opens (`tcpao'), the number of passive TCP opens (`tcppo'), the number of TCP output retransmissions (`tcprs'), the number of TCP input errors (`tcpie'), the number of TCP output resets (`tcpie'), the number of TCP output retransmissions (`tcpor'), the number of UDP no ports (`udpnp'), and the number of UDP input errors (`tcpie').</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p><p>These counters are related to IPv4 and IPv6 combined.</p><p>For the IP layer, counters are shown concerning the number of IP datagrams received from interfaces, including those received in error (`ipi'), the number of IP datagrams that local higher-layer protocols offered for transmission (`ipo'), the number of received IP datagrams which were forwarded to other interfaces (`ipfrw'), the number of IP datagrams which were delivered to local higher-layer protocols (`deliv'), the number of received ICMP datagrams (`icmpi'), and the number of transmitted ICMP datagrams (`icmpo').</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p><p>These counters are related to IPv4 and IPv6 combined.</p><p>For every active network interface one line is shown, sorted on the interface activity. Such line shows the name of the interface and its busy percentage in the first column. The busy percentage for half duplex is determined by comparing the interface speed with the number of bits transmitted and received per second; for full duplex the interface speed is compared with the highest of either the transmitted or the received bits. When the interface speed can not be determined (e.g. for the loopback interface), `---' is shown instead of the percentage.</p><p>Furthermore the number of received packets (`pcki'), the number of transmitted packets (`pcko'), the effective amount of bits received per second (`si'), the effective amount of bits transmitted per second (`so'), the number of collisions (`coll'), the number of received multicast packets (`mlti'), the number of errors while receiving a packet (`erri'), the number of errors while transmitting a packet (`erro'), the number of received packets dropped (`drpi'), and the number of transmitted packets dropped (`drpo').</p><p>If the screen-width does not allow all of these counters, only a relevant subset is shown.</p><p>The number of lines showing the network interfaces can be limited.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT DESCRIPTION - PROCESS LEVEL</h2>
        <div class="sectioncontent">
<p>Following the system level information, the processes are shown from which the resource utilization has changed during the last interval. These processes might have used cpu time or issued disk- or network requests. However a process is also shown if part of it has been paged out due to lack of memory (while the process itself was in sleep state).</p><p>Per process the following fields may be shown (in alphabetical order), depending on the current output mode as described in the section INTERACTIVE COMMANDS and depending on the current width of your window:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>AVGRSZ</strong></p>
  </dt>
  <dd>
    <p>The average size of one read-action on disk.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>AVGWSZ</strong></p>
  </dt>
  <dd>
    <p>The average size of one write-action on disk.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>CMD</strong></p>
  </dt>
  <dd>
    <p>The name of the process. This name can be surrounded by "less/greater than" signs (`&lt;name&gt;') which means that the process has finished during the last interval.</p><p>Behind the abbreviation `CMD' in the header line, the current page number and the total number of pages of the process list are shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>COMMAND-LINE</strong></p>
  </dt>
  <dd>
    <p>The full command line of the process (including arguments), which is limited to the length of the screen line. Th command line can be surrounded by "less/greater than" signs (`&lt;line&gt;') which means that the process has finished during the last interval.</p><p>Behind the verb `COMMAND-LINE' in the header line, the current page number and the total number of pages of the process list are shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>CPU</strong></p>
  </dt>
  <dd>
    <p>The occupation percentage of this process related to the available capacity for this resource on system level.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>CPUNR</strong></p>
  </dt>
  <dd>
    <p>The identification of the CPU the main thread of the process is running on or has recently been running on.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>DSK</strong></p>
  </dt>
  <dd>
    <p>The occupation percentage of this process related to the total load that is produced by all processes (i.e. total disk accesses by all processes during the last interval).</p><p>This information is shown when per process "storage accounting" is active in the kernel or when the kernel patch `cnt' has been installed.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>EGID</strong></p>
  </dt>
  <dd>
    <p>Effective group-id under which this process executes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>ENDATE</strong></p>
  </dt>
  <dd>
    <p>Date that the process has been finished. If the process is still running, this field shows `active'.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>ENTIME</strong></p>
  </dt>
  <dd>
    <p>Time that the process has been finished. If the process is still running, this field shows `active'.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>EUID</strong></p>
  </dt>
  <dd>
    <p>Effective user-id under which this process executes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>EXC</strong></p>
  </dt>
  <dd>
    <p>The exit code of a terminated process (second position of column `ST' is E) or the fatal signal number (second position of column `ST' is S or C).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>FSGID</strong></p>
  </dt>
  <dd>
    <p>Filesystem group-id under which this process executes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>FSUID</strong></p>
  </dt>
  <dd>
    <p>Filesystem user-id under which this process executes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>MAJFLT</strong></p>
  </dt>
  <dd>
    <p>The number of page faults issued by this process that have been solved by creating/loading the requested memory page.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>MEM</strong></p>
  </dt>
  <dd>
    <p>The occupation percentage of this process related to the available capacity for this resource on system level.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>MINFLT</strong></p>
  </dt>
  <dd>
    <p>The number of page faults issued by this process that have been solved by reclaiming the requested memory page from the free list of pages.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>NET</strong></p>
  </dt>
  <dd>
    <p>The occupation percentage of this process related to the total load that is produced by all processes (i.e. network packets transferred by all processes during the last interval).</p><p>This information can only be shown when kernel patch `cnt' is installed.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>NICE</strong></p>
  </dt>
  <dd>
    <p>The more or less static priority that can be given to a proces on a scale from -20 (high priority) to +19 (low priority).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>NPROCS</strong></p>
  </dt>
  <dd>
    <p>The number of active and terminated processes accumulated for this user or program.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>PID</strong></p>
  </dt>
  <dd>
    <p>Process-id. If a process has been started and finished during the last interval, a `?' is shown because the process-id is not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown properly.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>POLI</strong></p>
  </dt>
  <dd>
    <p>The policies 'norm' (normal, which is SCHED_OTHER), 'btch' (batch) and 'idle' refer to timesharing processes. The policies 'fifo' (SCHED_FIFO) and 'rr' (round robin, which is SCHED_RR) refer to realtime processes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>PPID</strong></p>
  </dt>
  <dd>
    <p>Parent process-id. If a process has been started and finished during the last interval, value 0 is shown because the parent process-id is not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown properly.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>PRI</strong></p>
  </dt>
  <dd>
    <p>The process' priority ranges from 0 (highest priority) to 139 (lowest priority). Priority 0 to 99 are used for realtime processes (fixed priority independent of their behavior) and priority 100 to 139 for timesharing processes (variable priority depending on their recent CPU consumption and the nice value).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RAWRCV</strong></p>
  </dt>
  <dd>
    <p>The number of raw datagrams received by this process. This information can only be shown when kernel patch `cnt' is installed.</p><p>If a process has finished during the last interval, no value is shown since network counters are not registered in the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RAWSND</strong></p>
  </dt>
  <dd>
    <p>The number of raw datagrams sent by this process. This information can only be shown when kernel patch `cnt' is installed.</p><p>If a process has finished during the last interval, no value is shown since network counters are not registered in the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RDDSK</strong></p>
  </dt>
  <dd>
    <p>When the kernel maintains standard io statistics (&gt;= 2.6.20):</p><p>The read data transfer issued physically on disk (so reading from the disk cache is not accounted for).</p><p>When the kernel patch `cnt' is installed:</p><p>The number of read accesses issued physically on disk (so reading from the disk cache is not accounted for).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RGID</strong></p>
  </dt>
  <dd>
    <p>The real group-id under which the process executes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RGROW</strong></p>
  </dt>
  <dd>
    <p>The amount of resident memory that the process has grown during the last interval. A resident growth can be caused by touching memory pages which were not physically created/loaded before (load-on-demand). Note that a resident growth can also be negative e.g. when part of the process is paged out due to lack of memory or when the process frees dynamically allocated memory. For a process which started during the last interval, the resident growth reflects the total resident size of the process at that moment.</p><p>If a process has finished during the last interval, no value is shown since resident memory occupation is not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RNET</strong></p>
  </dt>
  <dd>
    <p>The number of TCP- and UDP packets received by this process. This information can only be shown when kernel patch `cnt' is installed.</p><p>If a process has finished during the last interval, no value is shown since network counters are not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RSIZE</strong></p>
  </dt>
  <dd>
    <p>The total resident memory usage consumed by this process (or user).</p><p>If a process has finished during the last interval, no value is shown since resident memory occupation is not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RTPR</strong></p>
  </dt>
  <dd>
    <p>Realtime priority according the POSIX standard. Value can be 0 for a timesharing process (policy 'norm', 'btch' or 'idle') or ranges from 1 (lowest) till 99 (highest) for a realtime process (policy 'rr' or 'fifo').</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>RUID</strong></p>
  </dt>
  <dd>
    <p>The real user-id under which the process executes.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>S</strong></p>
  </dt>
  <dd>
    <p>The current state of the main thread of the process: `R' for running (currently processing or in the runqueue), `S' for sleeping interruptible (wait for an event to occur), `D' for sleeping non-interruptible, `Z' for zombie (waiting to be synchronized with its parent process), `T' for stopped (suspended or traced), `W' for swapping, and `E' (exit) for processes which have finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>SGID</strong></p>
  </dt>
  <dd>
    <p>The saved group-id of the process.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>SNET</strong></p>
  </dt>
  <dd>
    <p>The number of TCP- and UDP packets transmitted by this process. This information can only be shown when kernel patch `cnt' is installed.</p><p>If a process has finished during the last interval, no value is shown since network-counters are not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>ST</strong></p>
  </dt>
  <dd>
    <p>The status of a process.</p><p>The first position indicates if the process has been started during the last interval (the value <em>N</em> means 'new process').</p><p>The second position indicates if the process has been finished during the last interval.</p><p>The value <em>E</em> means 'exit' on the process' own initiative; the exit code is displayed in the column `EXC'.</p><p>The value <em>S</em> means that the process has been terminated unvoluntarily by a signal; the signal number is displayed in the in the column `EXC'.</p><p>The value <em>C</em> means that the process has been terminated unvoluntarily by a signal, producing a core dump in its current directory; the signal number is displayed in the column `EXC'.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>STDATE</strong></p>
  </dt>
  <dd>
    <p>The start date of the process.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>STTIME</strong></p>
  </dt>
  <dd>
    <p>The start time of the process.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>SUID</strong></p>
  </dt>
  <dd>
    <p>The saved user-id of the process.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>SYSCPU</strong></p>
  </dt>
  <dd>
    <p>CPU time consumption of this process in system mode (kernel mode), usually due to system call handling.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TCPRASZ</strong></p>
  </dt>
  <dd>
    <p>The average size of a received TCP buffer in bytes (by the process). This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TCPRCV</strong></p>
  </dt>
  <dd>
    <p>The number of receive requests issued by this process for TCP sockets. This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TCPSASZ</strong></p>
  </dt>
  <dd>
    <p>The average size of a transmitted TCP buffer in bytes (by the process). This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TCPSND</strong></p>
  </dt>
  <dd>
    <p>The number of send requests issued by this process for TCP sockets, and the average size per transfer in bytes. This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>THR</strong></p>
  </dt>
  <dd>
    <p>Total number of threads within this process. All related threads are contained in a thread group, represented by <em>atop</em> as one line.</p><p>On Linux 2.4 systems it is hardly possible to determine which threads (i.e. processes) are related to the same thread group. Every thread is represented by <em>atop</em> as a separate line.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TOTRSZ</strong></p>
  </dt>
  <dd>
    <p>The total amount of data physically read from disk. This information can only be shown when kernel patch `cnt' is installed.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TOTWSZ</strong></p>
  </dt>
  <dd>
    <p>The total amount of data physically written to disk. This information can only be shown when kernel patch `cnt' is installed.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TRUN</strong></p>
  </dt>
  <dd>
    <p>Number of threads within this process that are in the state 'running' (R).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TSLPI</strong></p>
  </dt>
  <dd>
    <p>Number of threads within this process that are in the state 'interruptible sleeping' (S).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>TSLPU</strong></p>
  </dt>
  <dd>
    <p>Number of threads within this process that are in the state 'uninterruptible sleeping' (D).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>UDPRASZ</strong></p>
  </dt>
  <dd>
    <p>The average size of a received UDP packet in bytes. This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>UDPRCV</strong></p>
  </dt>
  <dd>
    <p>The number of receive requests issued by this process for UDP sockets. This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>UDPSASZ</strong></p>
  </dt>
  <dd>
    <p>The average size of a transmitted UDP packets in bytes. This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>UDPSND</strong></p>
  </dt>
  <dd>
    <p>The number of send requests issued by this process for TCP sockets, and the average size per transfer in bytes. This information can only be shown when kernel patch `cnt' is installed. When the kernel patch `acct' is installed as well, this value will also be shown when a process has finished during the last interval.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>USRCPU</strong></p>
  </dt>
  <dd>
    <p>CPU time consumption of this process in user mode, due to processing the own program text.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>VGROW</strong></p>
  </dt>
  <dd>
    <p>The amount of virtual memory that the process has grown during the last interval. A virtual growth can be caused by e.g. issueing a malloc() or attaching a shared memory segment. Note that a virtual growth can also be negative by e.g. issueing a free() or detaching a shared memory segment. For a process which started during the last interval, the virtual growth reflects the total virtual size of the process at that moment.</p><p>If a process has finished during the last interval, no value is shown since virtual memory occupation is not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>VSIZE</strong></p>
  </dt>
  <dd>
    <p>The total virtual memory usage consumed by this process (or user).</p><p>If a process has finished during the last interval, no value is shown since virtual memory occupation is not part of the standard process accounting record. However when the kernel patch `acct' is installed, this value will be shown.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>VSTEXT</strong></p>
  </dt>
  <dd>
    <p>The virtual memory size used by the shared text of this process.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>WRDSK</strong></p>
  </dt>
  <dd>
    <p>When the kernel maintains standard io statistics (&gt;= 2.6.20):</p><p>The write data transfer issued physically on disk (so writing to the disk cache is not accounted for). This counter is maintained for the application process that writes its data to the cache (assuming that this data is physically transferred to disk later on). Notice that disk I/O needed for swapping is not taken into account.</p><p>When the kernel patch `cnt' is installed:</p><p>The number of write accesses issued physically on disk (so writing to the disk cache is not accounted for). Usually application processes just transfer their data to the cache, while the physical write accesses are done later on by kernel daemons like pdflush. Note that the number read- and write accesses are not separately maintained in the standard process accounting record. This means that only one value is given for read's and write's in case a process has finished during the last interval. However when the kernel patch `acct' is installed, these values will be shown separately.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>WCANCL</strong></p>
  </dt>
  <dd>
    <p>When the kernel patch `cnt' is not installed, but the kernel maintains standard io statistics (&gt;= 2.6.20):</p><p>The write data transfer previously accounted for this process or another process that has been cancelled. Suppose that a process writes new data to a file and that data is removed again before the cache buffers have been flushed to disk. Then the original process shows the written data as WRDSK, while the process that removes/truncates the file shows the unflushed removed data as WCANCL.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARSEABLE OUTPUT</h2>
        <div class="sectioncontent">
<p>With the flag <strong>-P</strong> followed by a list of one or more labels (comma-separated), parseable output is produced for each sample. The labels that can be specified for system-level statistics correspond to the labels (first verb of each line) that can be found in the interactive output: "CPU", "cpu" "CPL" "MEM", "SWP", "PAG", "LVM", "MDD", "DSK" and "NET".</p><p>For process-level statistics special labels are introduced: "PRG" (general), "PRC" (cpu), "PRM" (memory), "PRD" (disk, only if the kernel-patch has been installed) and "PRN" (network, only if the kernel-patch has been installed).</p><p>With the label "ALL", all system- and process-level statistics are shown.</p><p>For every interval all requested lines are shown whereafter <strong>atop</strong> shows a line just containing the label "SEP" as a separator before the lines for the next sample are generated.</p><p>When a sample contains the values since boot, <strong>atop</strong> shows a line just containing the label "RESET" before the lines for this sample are generated.</p><p>The first part of each output-line consists of the following six fields: <strong>label</strong> (the name of the label), <strong>host</strong> (the name of this machine), <strong>epoch</strong> (the time of this interval as number of seconds since 1-1-1970), <strong>date</strong> (date of this interval in format YYYY/MM/DD), <strong>time</strong> (time of this interval in format HH:MM:SS), and <strong>interval</strong> (number of seconds elapsed for this interval).</p><p>The subsequent fields of each output-line depend on the label:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>CPU</strong></p>
  </dt>
  <dd>
    <p>Subsequent fields: total number of clock-ticks per second for this machine, number of processors, consumption for all CPU's in system mode (clock-ticks), consumption for all CPU's in user mode (clock-ticks), consumption for all CPU's in user mode for niced processes (clock-ticks), consumption for all CPU's in idle mode (clock-ticks), consumption for all CPU's in wait mode (clock-ticks), consumption for all CPU's in irq mode (clock-ticks), consumption for all CPU's in softirq mode (clock-ticks), consumption for all CPU's in steal mode (clock-ticks), and consumption for all CPU's in guest mode (clock-ticks).</p>
  </dd>
  <dt>
    <p><strong>cpu</strong></p>
  </dt>
  <dd>
    <p>Subsequent fields: total number of clock-ticks per second for this machine, processor-number, consumption for this CPU in system mode (clock-ticks), consumption for this CPU in user mode (clock-ticks), consumption for this CPU in user mode for niced processes (clock-ticks), consumption for this CPU in idle mode (clock-ticks), consumption for this CPU in wait mode (clock-ticks), consumption for this CPU in irq mode (clock-ticks), consumption for this CPU in softirq mode (clock-ticks), consumption for this CPU in steal mode (clock-ticks), and consumption for this CPU in guest mode (clock-ticks).</p>
  </dd>
  <dt>
    <p><strong>CPL</strong></p>
  </dt>
  <dd>
    <p>Subsequent fields: number of processors, load average for last minute, load average for last five minutes, load average for last fifteen minutes, number of context-switches, and number of device interrupts.</p>
  </dd>
  <dt>
    <p><strong>MEM</strong></p>
  </dt>
  <dd>
    <p>Subsequent fields: page size for this machine (in bytes), size of physical memory (pages), size of free memory (pages), size of page cache (pages), size of buffer cache (pages), size of slab (pages), and number of dirty pages in cache.</p>
  </dd>
  <dt>
    <p><strong>SWP</strong></p>
  </dt>
  <dd>
    <p>Subsequent fields: page size for this machine (in bytes), size of swap (pages), size of free swap (pages), 0 (future use), size of committed space (pages), and limit for committed space (pages).</p>
  </dd>
  <dt>
    <p><strong>PAG</strong></p>
  </dt>
  <dd>
    <p>Subsequent fields: page size for this machine (in bytes), number of page scans, number of allocstalls, 0 (future use), number of swapins, and number of swapouts.</p>
  </dd>
  <dt>
    <p><strong>LVM/MDD/DSK</strong></p>
  </dt>
  <dd>
    <p>For every logical volume/multiple device/hard disk one line is shown.</p><p>Subsequent fields: name, number of milliseconds spent for I/O, number of reads issued, number of sectors transferred for reads, number of writes issued, and number of sectors transferred for write.</p>
  </dd>
  <dt>
    <p><strong>NET</strong></p>
  </dt>
  <dd>
    <p>First one line is produced for the upper layers of the TCP/IP stack.</p><p>Subsequent fields: the verb "upper", number of packets received by TCP, number of packets transmitted by TCP, number of packets received by UDP, number of packets transmitted by UDP, number of packets received by IP, number of packets transmitted by IP, number of packets delivered to higher layers by IP, and number of packets forwarded by IP.</p><p>Next one line is shown for every interface.</p><p>Subsequent fields: name of the interface, number of packets received by the interface, number of bytes received by the interface, number of packets transmitted by the interface, number of bytes transmitted by the interface, interface speed, and duplex mode (0=half, 1=full).</p>
  </dd>
  <dt>
    <p><strong>PRG</strong></p>
  </dt>
  <dd>
    <p>For every process one line is shown.</p><p>Subsequent fields: PID, name (between brackets), state, real uid, real gid, TGID (same as PID), total number of threads, exit code, start time (epoch), full command line (between brackets), PPID, number of threads in state 'running' (R), number of threads in state 'interruptible sleeping' (S), number of threads in state 'uninterruptible sleeping' (D), effective uid, effective gid, saved uid, saved gid, filesystem uid, filesystem gid, and elapsed time (hertz).</p>
  </dd>
  <dt>
    <p><strong>PRC</strong></p>
  </dt>
  <dd>
    <p>For every process one line is shown.</p><p>Subsequent fields: PID, name (between brackets), state, total number of clock-ticks per second for this machine, CPU-consumption in user mode (clockticks), CPU-consumption in system mode (clockticks), nice value, priority, realtime priority, scheduling policy, current CPU, and sleep average.</p>
  </dd>
  <dt>
    <p><strong>PRM</strong></p>
  </dt>
  <dd>
    <p>For every process one line is shown.</p><p>Subsequent fields: PID, name (between brackets), state, page size for this machine (in bytes), virtual memory size (Kbytes), resident memory size (Kbytes), shared text memory size (Kbytes), virtual memory growth (Kbytes), resident memory growth (Kbytes), number of minor page faults, and number of major page faults.</p>
  </dd>
  <dt>
    <p><strong>PRD</strong></p>
  </dt>
  <dd>
    <p>For every process one line is shown.</p><p>Subsequent fields: PID, name (between brackets), state, kernel-patch installed ('y' or 'n'), standard io statistics used ('y' or 'n'), number of reads on disk, cumulative number of sectors read, number of writes on disk, cumulative number of sectors written, and cancelled number of written sectors.</p><p>If the kernel patch is not installed and the standard I/O statistics (&gt;= 2.6.20) are not used, the disk I/O counters per process are not relevant. When the kernel patch is installed, the counter 'cancelled number of written sectors' is not relevant. When only the standard io statistics are used, the counters 'number of reads on disk' and 'number of writes on disk' are not relevant.</p>
  </dd>
  <dt>
    <p><strong>PRN</strong></p>
  </dt>
  <dd>
    <p>For every process one line is shown.</p><p>Subsequent fields: PID, name (between brackets), state, kernel-patch installed ('y' or 'n'), number of TCP-packets transmitted, cumulative size of TCP-packets transmitted, number of TCP-packets received, cumulative size of TCP-packets received, number of UDP-packets transmitted, cumulative size of UDP-packets transmitted, number of UDP-packets received, cumulative size of UDP-packets transmitted, number of raw packets transmitted, and number of raw packets received.</p><p>If the kernel patch is not installed, the network I/O counters per process are not relevant.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To monitor the current system load interactively with an interval of 5 seconds:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&nbsp;atop 5</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>To monitor the system load and write it to a file (in plain ASCII) with an interval of one minute during half an hour with active processes sorted on memory consumption:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&nbsp;atop -M 60 30 &gt; /log/atop.mem</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Store information about the system- and process activity in binary compressed form to a file with an interval of ten minutes during an hour:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>&nbsp;atop -w /tmp/atop.raw 600 6</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>View the contents of this file interactively:</p><p><strong>&nbsp;atop -r /tmp/atop.raw</strong></p><p>View the processor- and disk-utilization of this file in parseable format:</p><p><strong>&nbsp;atop -PCPU,DSK -r /tmp/atop.raw</strong></p><p>View the contents of today's standard logfile interactively:</p><p><strong>&nbsp;atop -r</strong></p><p>View the contents of the standard logfile of the day before yesterday interactively:</p><p><strong>&nbsp;atop -r yy</strong></p><p>View the contents of the standard logfile of 2010, January 7 from 02:00 PM onwards interactively:</p><p><strong>&nbsp;atop -r 20100107 -b 14:00</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/tmp/atop.d/atop.acct</strong></p>
  </dt>
  <dd>
    <p>File in which the kernel writes the accounting records if the standard accounting to the file <strong>/var/log/pacct</strong> or <strong>/var/account/pacct</strong> is not used.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/atoprc</strong></p>
  </dt>
  <dd>
    <p>Configuration file containing system-wide default values. See related man-page.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>~/.atoprc</strong></p>
  </dt>
  <dd>
    <p>Configuration file containing personal default values. See related man-page.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>/var/log/atop/atop_</strong><em>YYYYMMDD</em></p>
  </dt>
  <dd>
    <p>Raw file, where <em>YYYYMMDD</em> are digits representing the current date. This name is used by the script <strong>atop.daily</strong> as default name for the output file, and by <strong>atop</strong> as default name for the input file when using the <strong>-r</strong> flag.</p><p>All binary system- and process-level data in this file has been stored in compressed format.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO atop&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/atopsar.1.html"><strong>atopsar</strong>(1)</a>,</strong> <a href="../man5/atoprc.5.html"><strong>atoprc</strong>(5)</a>,</strong> <a href="../man8/logrotate.8.html"><strong>logrotate</strong>(8)</a></strong></p><p><strong>http://www.atoptool.nl</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Gerlof Langeveld (gerlof.langeveld@atoptool.nl)</p><p>JC van Winkel (jc@ATComputing.nl)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="atool.1.html"><span aria-hidden="true">&larr;</span> atool.1: A script for managing file archives of various types</a></li>
   <li class="next"><a href="atopsar.1.html">atopsar.1: At computing's system activity report (atop related) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
