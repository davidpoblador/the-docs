<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Xvnc4: The x vnc server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The x vnc server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="Xvnc4 (1) manual">
  <meta name="twitter:description" content="The x vnc server">
  <meta name="twitter:image" content="https://www.carta.tech/images/vnc4server-Xvnc4-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/Xvnc4.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Xvnc4 (1) manual" />
  <meta property="og:description" content="The x vnc server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/vnc4server-Xvnc4-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">Xvnc4<small> (1)</small></h1>
        <p class="lead">The x vnc server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/Xvnc4.1.html">
      <span itemprop="name">Xvnc4: The x vnc server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/vnc4server/">
      <span itemprop="name">vnc4server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/Xvnc4.1.html">
      <span itemprop="name">Xvnc4: The x vnc server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>Xvnc</strong> [<em>options</em>] :<em>display#</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Xvnc</strong> is the X VNC (Virtual Network Computing) server.  It is based on a standard X server, but it has a "virtual" screen rather than a physical one.  X applications display themselves on it as if it were a normal X display, but they can only be accessed via a VNC viewer - see <strong>vncviewer</strong>(1).</p><p>So Xvnc is really two servers in one. To the applications it is an X server, and to the remote VNC users it is a VNC server. By convention we have arranged that the VNC server display number will be the same as the X server display number, which means you can use eg. snoopy:2 to refer to display 2 on machine "snoopy" in both the X world and the VNC world.</p><p>The best way of starting <strong>Xvnc</strong> is via the <strong>vncserver</strong> script.  This sets up the environment appropriately and runs some X applications to get you going.  See the manual page for <strong>vncserver</strong>(1) for more information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>Xvnc</strong> takes lots of options - running <strong>Xvnc -help</strong> gives a list.  Many of these are standard X server options, which are described in the <a href="../man1/Xserver.1.html"><strong>Xserver</strong>(1)</a> manual page.  In addition to options which can only be set via the command-line, there are also "parameters" which can be set both via the command-line and through the <strong>vncconfig</strong>(1) program.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-geometry </strong><em>width</em><strong>x</strong><em>height</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify the size of the desktop to be created. Default is 1024x768.</p>
  </dd>
  <dt>
    <p><strong>-depth </strong><em>depth</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify the pixel depth in bits of the desktop to be created. Default is 16, other possible values are 8, 15, and 24 - anything else is likely to cause strange behaviour by applications.</p>
  </dd>
  <dt>
    <p><strong>-pixelformat </strong><em>format</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify pixel format for server to use (BGRnnn or RGBnnn).  The default for depth 8 is BGR233 (meaning the most significant two bits represent blue, the next three green, and the least significant three represent red), the default for depth 16 is RGB565 and for depth 24 is RGB888.</p>
  </dd>
  <dt>
    <p><strong>-cc 3</strong></p>
  </dt>
  <dd>
    <p>As an alternative to the default TrueColor visual, this allows you to run an Xvnc server with a PseudoColor visual (i.e. one which uses a colour map or palette), which can be useful for running some old X applications which only work on such a display.  Values other than 3 (PseudoColor) and 4 (TrueColor) for the -cc option may result in strange behaviour, and PseudoColor desktops must be 8 bits deep (i.e. <strong>-depth 8</strong>).</p>
  </dd>
  <dt>
    <p><strong>-inetd</strong></p>
  </dt>
  <dd>
    <p>This significantly changes Xvnc's behaviour so that it can be launched from inetd.  See the section below on usage with inetd.</p>
  </dd>
  <dt>
    <p><strong>-help</strong></p>
  </dt>
  <dd>
    <p>List all the options and parameters</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p>VNC parameters can be set both via the command-line and through the <strong>vncconfig</strong>(1) program, and with a VNC-enabled XFree86 server via Options entries in the XF86Config file.</p><p>Parameters can be turned on with -<em>param</em> or off with -<em>param</em>=0.  Parameters which take a value can be specified as -<em>param</em> <em>value</em>.  Other valid forms are <em>param</em><strong>=</strong><em>value</em> -<em>param</em>=<em>value</em> --<em>param</em>=<em>value</em>.  Parameter names are case-insensitive.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-desktop </strong><em>desktop-name</em><strong></strong></p>
  </dt>
  <dd>
    <p>Each desktop has a name which may be displayed by the viewer. It defaults to "x11".</p>
  </dd>
  <dt>
    <p><strong>-rfbport </strong><em>port</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specifies the TCP port on which Xvnc listens for connections from viewers (the protocol used in VNC is called RFB - "remote framebuffer").  The default is 5900 plus the display number.</p>
  </dd>
  <dt>
    <p><strong>-rfbwait </strong><em>time</em><strong>, -ClientWaitTimeMillis </strong><em>time</em><strong></strong></p>
  </dt>
  <dd>
    <p>Time in milliseconds to wait for a viewer which is blocking Xvnc.  This is necessary because Xvnc is single-threaded and sometimes blocks until the viewer has finished sending or receiving a message - note that this does not mean an update will be aborted after this time.  Default is 20000 (20 seconds).</p>
  </dd>
  <dt>
    <p><strong>-httpd </strong><em>directory</em><strong></strong></p>
  </dt>
  <dd>
    <p>Run a mini-HTTP server which serves files from the given directory.  Normally the directory will contain the classes for the Java viewer.  In addition, files with a .vnc extension will have certain substitutions made so that a single installation of the Java VNC viewer can be served by separate instances of Xvnc.</p>
  </dd>
  <dt>
    <p><strong>-httpPort </strong><em>port</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specifies the port on which the mini-HTTP server runs.  Default is 5800 plus the display number.</p>
  </dd>
  <dt>
    <p><strong>-rfbauth </strong><em>passwd-file</em><strong>, -PasswordFile </strong><em>passwd-file</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specifies the file containing the password used to authenticate viewers.  The file is accessed each time a connection comes in, so it can be changed on the fly via <strong>vncpasswd</strong>(1).</p>
  </dd>
  <dt>
    <p><strong>-deferUpdate </strong><em>time</em><strong></strong></p>
  </dt>
  <dd>
    <p>Xvnc uses a "deferred update" mechanism which enhances performance in many cases. After any change to the framebuffer, Xvnc waits for this number of milliseconds (default 40) before sending an update to any waiting clients. This means that more changes tend to get coalesced together in a single update. Setting it to 0 results in the same behaviour as earlier versions of Xvnc, where the first change to the framebuffer causes an immediate update to any waiting clients.</p>
  </dd>
  <dt>
    <p><strong>-SendCutText</strong></p>
  </dt>
  <dd>
    <p>Send clipboard changes to clients (default is on).  Note that you must also run <strong>vncconfig</strong>(1) to get the clipboard to work.</p>
  </dd>
  <dt>
    <p><strong>-AcceptCutText</strong></p>
  </dt>
  <dd>
    <p>Accept clipboard updates from clients (default is on).  Note that you must also run <strong>vncconfig</strong>(1) to get the clipboard to work.</p>
  </dd>
  <dt>
    <p><strong>-AcceptPointerEvents</strong></p>
  </dt>
  <dd>
    <p>Accept pointer press and release events from clients (default is on).</p>
  </dd>
  <dt>
    <p><strong>-AcceptKeyEvents</strong></p>
  </dt>
  <dd>
    <p>Accept key press and release events from clients (default is on).</p>
  </dd>
  <dt>
    <p><strong>-DisconnectClients</strong></p>
  </dt>
  <dd>
    <p>Disconnect existing clients if an incoming connection is non-shared (default is on). If <strong>DisconnectClients</strong> is false, then a new non-shared connection will be refused while there is a client active.  When combined with <strong>NeverShared</strong> this means only one client is allowed at a time.</p>
  </dd>
  <dt>
    <p><strong>-NeverShared</strong></p>
  </dt>
  <dd>
    <p>Never treat incoming connections as shared, regardless of the client-specified setting (default is off).</p>
  </dd>
  <dt>
    <p><strong>-AlwaysShared</strong></p>
  </dt>
  <dd>
    <p>Always treat incoming connections as shared, regardless of the client-specified setting (default is off).</p>
  </dd>
  <dt>
    <p><strong>-Protocol3.3</strong></p>
  </dt>
  <dd>
    <p>Always use protocol version 3.3 for backwards compatibility with badly-behaved clients (default is off).</p>
  </dd>
  <dt>
    <p><strong>-CompareFB</strong></p>
  </dt>
  <dd>
    <p>Perform pixel comparison on framebuffer to reduce unnecessary updates (default is on).</p>
  </dd>
  <dt>
    <p><strong>-SecurityTypes </strong><em>sec-types</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify which security schemes to use separated by commas.  At present only "None" and "VncAuth" are supported.  The default is "VncAuth" - note that if you want a server which does not require a password, you must set this parameter to "None".</p>
  </dd>
  <dt>
    <p><strong>-IdleTimeout </strong><em>seconds</em><strong></strong></p>
  </dt>
  <dd>
    <p>The number of seconds after which an idle VNC connection will be dropped (default is 3600 i.e. an hour).</p>
  </dd>
  <dt>
    <p><strong>-QueryConnect</strong></p>
  </dt>
  <dd>
    <p>Prompts the user of the desktop to explicitly accept or reject incoming connections.  This is most useful when using the vnc.so module or <strong>x0vncserver</strong>(1) program to access an existing X desktop via VNC.</p><p>The <strong>vncconfig</strong>(1) program must be running on the desktop in order for QueryConnect to be supported by the <strong>vnc.so</strong>(1) module or <strong>Xvnc</strong>(1) program.  The <strong>x0vncserver</strong>(1) program does not require <strong>vncconfig</strong>(1) to be running.</p>
  </dd>
  <dt>
    <p><strong>-localhost</strong></p>
  </dt>
  <dd>
    <p>Only allow connections from the same machine. Useful if you use SSH and want to stop non-SSH connections from any other hosts. See the guide to using VNC with SSH on the web site.</p>
  </dd>
  <dt>
    <p><strong>-log </strong><em>logname</em><strong>:</strong><em>dest</em><strong>:</strong><em>level</em><strong></strong></p>
  </dt>
  <dd>
    <p>Configures the debug log settings.  <em>dest</em> can currently be <strong>stderr</strong> or <strong>stdout</strong>, and <em>level</em> is between 0 and 100, 100 meaning most verbose output.  <em>logname</em> is usually <strong>*</strong> meaning all, but you can target a specific source file if you know the name of its "LogWriter".  Default is <strong>*:stderr:30</strong>.</p>
  </dd>
  <dt>
    <p><strong>-RemapKeys </strong><em>mapping</em></p>
  </dt>
  <dd>
    <p>Sets up a keyboard mapping. <em>mapping</em> is a comma-separated string of character mappings, each of the form <em>char</em>-&gt;<em>char</em>, or <em>char</em>&lt;&gt;<em>char</em>, where <em>char</em> is a hexadecimal keysym. For example, to exchange the " and @ symbols you would specify the following:</p><ul>
<li><p>RemapKeys=0x22&lt;&gt;0x40</p></li>
</ul>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE WITH INETD</h2>
        <div class="sectioncontent">
<p>By configuring the <strong>inetd</strong>(1) service appropriately, Xvnc can be launched on demand when a connection comes in, rather than having to be started manually.  When given the <strong>-inetd</strong> option, instead of listening for TCP connections on a given port it uses its standard input and standard output. There are two modes controlled by the wait/nowait entry in the inetd.conf file.</p><p>In the nowait mode, Xvnc uses its standard input and output directly as the connection to a viewer.  It never has a listening socket, so cannot accept further connections from viewers (it can however connect out to listening viewers by use of the vncconfig program).  Further viewer connections to the same TCP port result in inetd spawning off a new Xvnc to deal with each connection.  When the connection to the viewer dies, the Xvnc and any associated X clients die.  This behaviour is most useful when combined with the XDMCP options -query and -once.  An typical example in inetd.conf might be (all on one line):</p><p>5950   stream   tcp nowait nobody  /usr/local/bin/Xvnc Xvnc -inetd -query localhost -once securitytypes=none</p><p>In this example a viewer connection to :50 will result in a new Xvnc for that connection which should display the standard XDM login screen on that machine. Because the user needs to login via XDM, it is usually OK to accept connections without a VNC password in this case.</p><p>In the wait mode, when the first connection comes in, inetd gives the listening socket to Xvnc.  This means that for a given TCP port, there is only ever one Xvnc at a time.  Further viewer connections to the same port are accepted by the same Xvnc in the normal way.  Even when the original connection is broken, the Xvnc will continue to run.  If this is used with the XDMCP options -query and -once, the Xvnc and associated X clients will die when the user logs out of the X session in the normal way.  It is important to use a VNC password in this case.  A typical entry in inetd.conf might be:</p><p>5951   stream   tcp wait   james     /usr/local/bin/Xvnc Xvnc -inetd -query localhost -once passwordFile=/home/james/.vnc/passwd</p><p>In fact typically, you would have one entry for each user who uses VNC regularly, each of whom has their own dedicated TCP port which they use.  In this example, when user "james" connects to :51, he enters his VNC password, then gets the XDM login screen where he logs in in the normal way.  However, unlike the previous example, if he disconnects, the session remains persistent, and when he reconnects he will get the same session back again.  When he logs out of the X session, the Xvnc will die, but of course a new one will be created automatically the next time he connects.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO Xvnc4&hellip;</h2>
        <div class="sectioncontent">
<p><strong>vncconfig</strong>(1), <strong>vncpasswd</strong>(1), <strong>vncserver</strong>(1), <strong>vncviewer</strong>(1), <a href="../man1/Xserver.1.html"><strong>Xserver</strong>(1)</a>, <strong>inetd</strong>(1)</p><p>http://www.realvnc.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Tristan Richardson, RealVNC Ltd.</p><p>VNC was originally developed by the RealVNC team while at Olivetti Research Ltd / AT&T Laboratories Cambridge.  It is now being maintained by RealVNC Ltd.  See http://www.realvnc.com for details.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="Xvfb.1.html"><span aria-hidden="true">&larr;</span> Xvfb.1: Virtual framebuffer x server for x version 11</a></li>
   <li class="next"><a href="YUV411toRGB.1.html">YUV411toRGB.1: Converts bmp files to rgb to stdout  rgbtobmp - converts rgb from stdin to bmp files  rgbtouyvy - converts rgb to uyvy from stdin to stdout  rgbtoyuv411 - converts rgb to yuv411 from stdin to stdout  rgbtoyuv420 - converts rgb to yuv420 from stdin to stdout  rgbtoyuv422 - converts rgb to yuv422 from stdin to stdout  rgbtoyuv444 - converts rgb to yuv444 from stdin to stdout  uyvytorgb - converts uyvy to uyvy from stdin to stdout  yuv411torgb - converts yuv411 to uyvy from stdin to stdout  yuv420torgb - converts yuv420 to uyvy from stdin to stdout  yuv422torgb - converts yuv422 to uyvy from stdin to stdout  yuv444torgb - converts yuv444 to uyvy from stdin to stdout  yuv420down2x2 - filters yuv420 frames to a single output file with half dimensions and subsampling  yuv420pt75filter - filters yuv420 frames down to .75  yuv420toyuv422 - converts yuv420 to yuv422 from stdin to stdout  yuv422touyvy - converts yuv422 to uyvy from stdin to stdout  yuv422toyuv420 - converts yuv422 to yuv420 from stdin to stdout  uyvytoyuv422 - converts uyvy to yuv422 from stdin to stdout <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
