<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>proxycheck: Proxycheck  open proxy server checker</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Proxycheck  open proxy server checker">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="proxycheck (1) manual">
  <meta name="twitter:description" content="Proxycheck  open proxy server checker">
  <meta name="twitter:image" content="https://www.carta.tech/images/proxycheck-proxycheck-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/proxycheck.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="proxycheck (1) manual" />
  <meta property="og:description" content="Proxycheck  open proxy server checker" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/proxycheck-proxycheck-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">proxycheck<small> (1)</small></h1>
        <p class="lead">Proxycheck  open proxy server checker</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/proxycheck.1.html">
      <span itemprop="name">proxycheck: Proxycheck  open proxy server checker</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/proxycheck/">
      <span itemprop="name">proxycheck</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/proxycheck.1.html">
      <span itemprop="name">proxycheck: Proxycheck  open proxy server checker</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSYS</h2>
        <div class="sectioncontent">
<p><strong>proxycheck</strong> <em>options</em> <em>host</em>[:<em>proto_port_spec</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>proxycheck</strong> is a simple open proxy checking tool which is capable to quickly discovery open proxy servers on many hosts. It's primary goal is to detect an open proxy server in order to prevent it's abuse by various "bad guys", mostly spammers. Having a wide-open proxy service running on a publicaly accessible network is a very bad idea nowadays, and <strong>proxycheck</strong> may be used to find such system in order to be able to either secure a system, or to refuse servicing it until it will be secured properly.</p><p>In order to determine if a given host is running an open proxy service, <strong>proxycheck</strong> tries to connect to a given destination system via a host and perform some actions, trying to talk with the destination system.  If a talk is successeful, <strong>proxycheck</strong> assumes the proxy service is running and wide-open.</p><p><strong>proxycheck</strong> supports all commonly used proxy protocols, namely, HTTP CONNECT method, SOCKS versions 4 and 5, and Wingate "telnet"\(hystyle proxies.  In future, support for more protocols may be added.</p><p>Please note that with current number of various trojan horses cicrulating around, each opening a proxy on a random port, it is not really enouth to probe for standard (in whatever reason) ports built into the <strong>proxycheck</strong>.  Instead, it is highly recommended to use a list of currently active ports maintained by several people on the 'net.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The following command-line options are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    <p>print a short help and exit.</p>
  </dd>
  <dt>
    <strong>-v</strong>
  </dt>
  <dd>
    <p>increase the verbosity level.  All debugging messages will go to standard error stream.</p>
  </dd>
  <dt>
    <strong>-d</strong> <em>deshost</em>:<em>destport</em> (required)
  </dt>
  <dd>
    <p>try to establish a proxied connection to the given <em>dsthost</em>, port <em>dstport</em>.  This option is required.</p>
  </dd>
  <dt>
    <strong>-c</strong> <em>check</em>[:<em>params</em>] (required)
  </dt>
  <dd>
    <p>the "method" <strong>proxycheck</strong> will use when talking to a destination system to determine if a proxy is open or not.  Interpretation of <em>params</em> is <em>check</em>-dependant.  This option is required. Several methods are available:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>chat</strong>:<em>sendstr</em>:<em>expectstr</em>
  </dt>
  <dd>
    <p>Try to perform simple "chat" with the destination system: send the string given as <em>sendstr</em> and wait for <em>expectstr</em> on output. If <em>sendstr</em> is empty, <strong>proxycheck</strong> will send the proxy parameters in the form</p>
<pre>
   <em>protocol</em>:<em>ip-address</em>:<em>portnumber</em>

</pre>
<p>to the remote system.  Proxy assumed to be open if <em>expectstr</em> is found.</p>
  </dd>
  <dt>
    <strong>dsbl</strong>   (no parameters accepted)
  </dt>
  <dd>
    <p>try to submit all found proxies to the DSBL.org-like system, see http://dsbl.org/ for more details.  All the parameters required (username, password, recipient address, cookie server, ...) are expected to be found in environment variables.  Run <strong>proxycheck</strong> with <strong>-h</strong> option to see a list of recognized variables and their default values.  By default, <strong>proxycheck</strong> will anonimously submit all found proxies to unconfirmed.dsbl.org (which isn't very useful).  For trusted DSBL user, at least DSBL_USER and DSBL_PASS variables should be set properly.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>-p</strong> <em>proto_port_spec</em>
  </dt>
  <dd>
    <p>specifies protocol and ports to connect to.  If not given, <strong>proxycheck</strong> will try it's built-in default list.  This option may be specified more than once.   See below for <em>proto_port_spec</em>.  If <em>proto_port_spec</em> is specified for a single host to check, it applies to that host only, and no protocols/ports in default list will be checked for that host.</p>
  </dd>
  <dt>
    <strong>-D</strong>
  </dt>
  <dd>
    <p>do not reset default port list when using <strong>-p</strong> option, but prepend new ports to it instead.</p>
  </dd>
  <dt>
    <strong>-a</strong>
  </dt>
  <dd>
    <p>use more "advanced" ports/protocols.  The more <strong>-a</strong>'s given, the more ports/protocols will be probed.  For a complete list of all ports and protocols and their level, execute <strong>proxycheck</strong> with <strong>-h</strong> option.</p>
  </dd>
  <dt>
    <strong>-t</strong> <em>timeout</em>
  </dt>
  <dd>
    <p>a timeout, in secounds, for every operation.  Default value is 30 secounds. The timer starts at the connection attempt to the proxy itself, after sending the "connect" command to the proxy and so on.</p>
  </dd>
  <dt>
    <strong>-m</strong> <em>maxconn</em>
  </dt>
  <dd>
    <p>Do not attempt to make more than <em>maxconn</em> parallel connections. By default, maximum number of parallel connections limited by the operating system and on most systems it is around 1000.</p>
  </dd>
  <dt>
    <strong>-M</strong> <em>maxhconn</em>
  </dt>
  <dd>
    <p>Do not make more than <em>maxhconn</em> parallel connections to the same host (default is unlimited).  This may be useful for overloaded proxies which can't handle many parallel connections using different ports/protocols, but may significantly slow down the whole process.</p>
  </dd>
  <dt>
    <strong>-s</strong>
  </dt>
  <dd>
    <p>when an open proxy is found on a given IP, stop probing for other ports/protocols for this IP.  Best used when many IPs are tested, and/or with <strong>-M</strong> option.  This is because currently, <strong>proxycheck</strong> will not make any <em>new</em> connections to such host, but will wait for already active connections to complete.</p>
  </dd>
  <dt>
    <strong>-b</strong> <em>bindaddr</em>
  </dt>
  <dd>
    <p>use <em>bindaddr</em> as a source address for all outgoing connections.</p>
  </dd>
  <dt>
    <strong>-n</strong>
  </dt>
  <dd>
    <p>write a line about definitely closed proxies to stdout in additional to writing about open proxies, in a form</p>
<pre>
   127.0.0.1 http:8080 closed
</pre>

  </dd>
  <dt>
    <strong>-x</strong>
  </dt>
  <dd>
    <p>print extended proxy information (proxy-agent and the like) if available. This will be on the same "open" (or "closed" with -n) line, last, enclosed in square brackets [].</p>
  </dd>
  <dt>
    <strong>-i</strong> <em>filename</em>
  </dt>
  <dd>
    <p>read list of hosts to check from a given file <em>filename</em> (in addition to command line), or from stdin if <em>filename</em> if `-'.</p>
  </dd>

</dl>
<h3>Protocol and Port specification</h3>
<p>Proxy protocols and ports to try (<em>proto_port_spec</em>) specified using the following syntax:</p>
<pre>
      [proto:][port,port,port]

like:

      hc:3128,8080 (http protocol on ports 3128 and 8080)
      hc:    (default list of ports for http protocol)
      3128   (try http protocol on standard http port 3128)
      1234   (try all protocols on non-standard port 1234)

</pre>
<p>Run <strong>proxycheck -h</strong> to see a list of supported protocols and default ports.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Simplest usage of <strong>proxycheck</strong> is to try to connect to e.g. your own mailserver with <strong>chat</strong> check method.  First, connect to your mailserver on port 25 to see which line it outputs upon connection (SMTP greething line), and use it with <strong>chat</strong>:</p>
<pre>
  proxycheck -d yourmailserver.example.org:25 &#92;
    -c chat::<em>greething</em> ip.add.re.ss...
</pre>
<p><strong>proxycheck</strong> will write a single line for every proto:port it finds to be open on stdout, in the form:</p>
<pre>
  127.0.0.3 hc:80 open

</pre>
<p>where <em>127.0.0.3</em> is an IP address of a host being tested, <em>hc</em> is the protocol name (HTTP CONNECT, consult <strong>proxycheck -h</strong> for a full list of protocols) and <em>80</em> is a port number where the proxy service is running.</p><p>In addition, if <strong>proxycheck</strong> is able to guess <em>outgoing</em> IP address of a proxy as seen by a destination system, and if that address is different from input <strong>proxycheck</strong> is connecting to, it will print this information too on the same line, like:</p>
<pre>
  127.0.0.2 hc:80 open 127.0.0.3

</pre>
<p>where <em>127.0.0.3</em> is <em>outgoing</em> IP addres of a multihomed/cascaded proxy as reported by the destination system.  This IP address is hint only, there is no simple and reliable way currently exists for <strong>proxycheck</strong> to determine that information.  <strong>Proxycheck</strong> is able to parse a line sent by remote system in <strong>-c chat</strong> mode &ndash; in this mode, <strong>proxycheck</strong> skips all printable characters after <em>expstr</em> it found and searches for opening `[', when tries to find closing ']' and interpret digits and dots in between as an IP address which gets printed like above.  If your mailserver's initial reply contains remote system's IP, or if your mailserver replies with remote system's IP address to HELO/EHLO command, this feature may be useful (in the last case, HELO command should be specified in chat).</p><p>When <strong>-n</strong> option is specified, for proto:ports which aren't running open proxy service, and for which <strong>proxycheck</strong> is able to strongly determine this, a line in the following format will be written:</p>
<pre>
  127.0.0.4 hc:80 closed

</pre>
<p>Note however that in most cases there is no way to reliable determine whenever a given service is <em>not</em> open: for example, an open proxy server may be overloaded and refusing connections.  In most cases, <strong>proxycheck</strong> assumes proxy is in unknown state, only a few codes are recognized as real indication of "closed" state.</p><p>When <strong>-x</strong> option is specified, there will be additional proxy info written on the same line (if available), like:</p>
<pre>
  127.0.0.2 hc:80 open 127.0.0.3 [AnalogX 3.1415926]
  127.0.0.3 hc:80 open [AnalogX 3.1415926]
  127.0.0.4 hc:80 closed [AnalogX 3.1415926]

</pre>
<p>One may see some detail of <strong>proxycheck</strong>'s operations giving sufficient number of <strong>-v</strong> options in the command line.  Verbosity level of 5 (<strong>-vvvvv</strong>) will show almost everything.  All the debugging output will go to the standard error stream and thus will not affect normal operations (when you process <strong>proxycheck</strong>'s output using some script).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT CODE</h2>
        <div class="sectioncontent">
<p><strong>proxycheck</strong> will exit with code 100 if at least one open proxy server was found.  In case of incorrect usage, it will exit with code 1.  If no open proxies where found, <strong>proxycheck</strong> will return 0.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>This program is free software.  It may be used and distributed in the terms of General Public License (GPL) version 2 or later.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>proxycheck</strong> written by Michael Tokarev &lt;mjt@corpit.ru&gt;. Latest version of this utlilty may be found at http://www.corpit.ru/mjt/proxycheck.html.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="proxychains.1.html"><span aria-hidden="true">&larr;</span> proxychains.1: Redirect connections through proxy servers</a></li>
   <li class="next"><a href="proxytrack.1.html">proxytrack.1: Proxy to serve content archived by httrack website copier <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
