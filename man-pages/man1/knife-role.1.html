<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>knife-role: The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="knife-role (1) manual">
  <meta name="twitter:description" content="The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server.">
  <meta name="twitter:image" content="https://www.carta.tech/images/chef-knife-role-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/knife-role.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="knife-role (1) manual" />
  <meta property="og:description" content="The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/chef-knife-role-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">knife-role<small> (1)</small></h1>
        <p class="lead">The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/knife-role.1.html">
      <span itemprop="name">knife-role: The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/chef/">
      <span itemprop="name">chef</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/knife-role.1.html">
      <span itemprop="name">knife-role: The man page for the knife role subcommand.  a role is a way to define certain patterns and processes that exist across nodes in an organization as belonging to a single job function. each role consists of zero (or more) attributes and a run list. each node can have zero (or more) roles assigned to it. when a role is run against a node, the configuration details of that node are compared against the attributes of the role, and then the contents of that roles run list are applied to the nodes configuration details. when a chef-client runs, it merges its own attributes and run lists with those contained within each assigned role.  the knife role subcommand is used to manage the roles that are associated with one or more nodes on a server.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">COMMON OPTIONS</h2>
        <div class="sectioncontent">
<p>The following options may be used with any of the arguments available to the <strong>knife role</strong> subcommand:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>--chef-zero-port PORT</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The port on which chef-zero will listen.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-c CONFIG_FILE</strong><strong>, </strong><strong>--config CONFIG_FILE</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The configuration file to use.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-d</strong><strong>, </strong><strong>--disable-editing</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates that $EDITOR will not be opened; data will be accepted as-is.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--defaults</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates that Knife will use the default value, instead of asking a user to provide one.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-e EDITOR</strong><strong>, </strong><strong>--editor EDITOR</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The $EDITOR that is used for all interactive commands.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-E ENVIRONMENT</strong><strong>, </strong><strong>--environment ENVIRONMENT</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The name of the environment. When this option is added to a command, the command will run only against the named environment.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-F FORMAT</strong><strong>, </strong><strong>--format FORMAT</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The output format: <strong>summary</strong> (default), <strong>text</strong>, <strong>json</strong>, <strong>yaml</strong>, and <strong>pp</strong>.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-h</strong><strong>, </strong><strong>--help</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Shows help for the command.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-k KEY</strong><strong>, </strong><strong>--key KEY</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The private key that Knife will use to sign requests made by the API client to the server.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--[no-]color</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates whether colored output will be used.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--print-after</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates that data will be shown after a destructive operation.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-s URL</strong><strong>, </strong><strong>--server-url URL</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The URL for the server.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-u USER</strong><strong>, </strong><strong>--user USER</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The user name used by Knife to sign requests made by the API client to the server. Authentication will fail if the user name does not match the private key.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-V</strong><strong>, </strong><strong>--verbose</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Set for more verbose outputs. Use <strong>-VV</strong> for maximum verbosity.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-v</strong><strong>, </strong><strong>--version</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The version of the chef-client.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-y</strong><strong>, </strong><strong>--yes</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates that the response to all confirmation prompts will be "Yes" (and that Knife will not ask for confirmation).</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-z</strong><strong>, </strong><strong>--local-mode</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates that the chef-client will be run in local mode, which allows all commands that work against the server to also work against the local chef-repo.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BULK DELETE</h2>
        <div class="sectioncontent">
<p>The <strong>bulk delete</strong> argument is used to delete one or more roles that match a pattern defined by a regular expression. The regular expression must be within quotes and not be surrounded by forward slashes (/).</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role bulk delete REGEX
</pre>
<p><strong>Options</strong></p><p>This command does not have any specific options.</p><p><strong>Examples</strong></p><p>Use a regular expression to define the pattern used to bulk delete roles:</p>
<pre>
$ knife role bulk delete "^[0-9]{3}$"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREATE</h2>
        <div class="sectioncontent">
<p>The <strong>create</strong> argument is used to add a role to the server. Role data is saved as JSON on the server.</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role create ROLE_NAME (options)
</pre>
<p><strong>Options</strong></p><p>This argument has the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>-d DESCRIPTION</strong><strong>, </strong><strong>--description DESCRIPTION</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The description of the role. This value will populate the description field for the role on the server.</p><p><strong>Examples</strong></p><p>To add a role named "role1", enter:</p>
<pre>
$ knife role create role1
</pre>
<p>In the $EDITOR enter the role data in JSON:</p>
<pre>
## sample:
{
   "name": "role1",
   "default_attributes": {
   },
   "json_class": "Chef::Role",
   "run_list": [&apos;recipe[cookbook_name::recipe_name],
                 role[role_name]&apos;
   ],
   "description": "",
   "chef_type": "role",
   "override_attributes": {
   }
}
</pre>
<p>When finished, save it.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DELETE</h2>
        <div class="sectioncontent">
<p>The <strong>delete</strong> argument is used to delete a role from the server.</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role delete ROLE_NAME
</pre>
<p><strong>Options</strong></p><p>This command does not have any specific options.</p><p><strong>Examples</strong></p>
<pre>
$ knife role delete devops
</pre>
<p>Type <strong>Y</strong> to confirm a deletion.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EDIT</h2>
        <div class="sectioncontent">
<p>The <strong>edit</strong> argument is used to edit role details on the server.</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role edit ROLE_NAME
</pre>
<p><strong>Options</strong></p><p>This command does not have any specific options.</p><p><strong>Examples</strong></p><p>To edit the data for a role named "role1", enter:</p>
<pre>
$ knife role edit role1
</pre>
<p>Update the role data in JSON:</p>
<pre>
## sample:
{
   "name": "role1",
   "default_attributes": {
   },
   "json_class": "Chef::Role",
   "run_list": [&apos;recipe[cookbook_name::recipe_name],
                 role[role_name]&apos;
   ],
   "description": "This is the description for the role1 role.",
   "chef_type": "role",
   "override_attributes": {
   }
}
</pre>
<p>When finished, save it.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FROM FILE</h2>
        <div class="sectioncontent">
<p>The <strong>from file</strong> argument is used to create a role using existing JSON data as a template.</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role from file FILE
</pre>
<p><strong>Options</strong></p><p>This command does not have any specific options.</p><p><strong>Examples</strong></p><p>To view role details based on the values contained in a JSON file:</p>
<pre>
$ knife role from file "path to JSON file"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIST</h2>
        <div class="sectioncontent">
<p>The <strong>list</strong> argument is used to view a list of roles that are currently available on the server.</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role list
</pre>
<p><strong>Options</strong></p><p>This argument has the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>-w</strong><strong>, </strong><strong>--with-uri</strong><strong></strong></p>
  </dt>
  <dd>
    <p>Indicates that the corresponding URIs will be shown.</p><p><strong>Examples</strong></p><p>To view a list of roles on the server and display the URI for each role returned, enter:</p>
<pre>
$ knife role list -w
</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SHOW</h2>
        <div class="sectioncontent">
<p>The <strong>show</strong> argument is used to view the details of a role.</p><p><strong>Syntax</strong></p><p>This argument has the following syntax:</p>
<pre>
$ knife role show ROLE_NAME
</pre>
<p><strong>Options</strong></p><p>This argument has the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>-a ATTR</strong><strong>, </strong><strong>--attribute ATTR</strong><strong></strong></p>
  </dt>
  <dd>
    <p>The attribute (or attributes) to show.</p><p><strong>Examples</strong></p><p>To view information in JSON format, use the <strong>-F</strong> common option as part of the command like this:</p>
<pre>
$ knife role show devops -F json
</pre>
<p>Other formats available include <strong>text</strong>, <strong>yaml</strong>, and <strong>pp</strong>.</p><p>To view information in JSON format, use the <strong>-F</strong> common option as part of the command like this:</p>
<pre>
$ knife role show devops -F json
</pre>
<p>Other formats available include <strong>text</strong>, <strong>yaml</strong>, and <strong>pp</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Chef</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="knife-recipe-list.1.html"><span aria-hidden="true">&larr;</span> knife-recipe-list.1: The man page for the knife recipe list subcommand.  the knife recipe list subcommand is used to view all of the recipes that are on a server. a regular expression can be used to limit the results to recipes that match a specific pattern. the regular expression must be within quotes and not be surrounded by forward slashes (/).  syntax  this argument has the following syntax:</a></li>
   <li class="next"><a href="knife-search.1.html">knife-search.1: The man page for the knife search subcommand.  search indexes allow queries to be made for any type of data that is indexed by the server, including data bags (and data bag items), environments, nodes, and roles. a defined query syntax is used to support search patterns like exact, wildcard, range, and fuzzy. a search is a full-text query that can be done from several locations, including from within a recipe, by using the search subcommand in knife, by using the search functionality in the chef manage, or by using the /search or /search/index endpoints in the chef server api. the search engine is based on apache solr and is run from the server.  the knife search subcommand is used run a search query for information that is indexed on a server.  syntax  this argument has the following syntax: <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
