<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>funhist: Create a 1d histogram of a column (from a fits binary table or raw event file) or an image</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a 1d histogram of a column (from a fits binary table or raw event file) or an image">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="funhist (1) manual">
  <meta name="twitter:description" content="Create a 1d histogram of a column (from a fits binary table or raw event file) or an image">
  <meta name="twitter:image" content="https://www.carta.tech/images/funtools-funhist-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/funhist.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="funhist (1) manual" />
  <meta property="og:description" content="Create a 1d histogram of a column (from a fits binary table or raw event file) or an image" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/funtools-funhist-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">funhist<small> (1)</small></h1>
        <p class="lead">Create a 1d histogram of a column (from a fits binary table or raw event file) or an image</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/funhist.1.html">
      <span itemprop="name">funhist: Create a 1d histogram of a column (from a fits binary table or raw event file) or an image</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/funtools/">
      <span itemprop="name">funtools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/funhist.1.html">
      <span itemprop="name">funhist: Create a 1d histogram of a column (from a fits binary table or raw event file) or an image</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>funhist  [\-n|\-w|\-T] &lt;iname&gt; [column] [[lo:hi:]bins]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<pre>
  -n    # normalize bin value by the width of each bin
  -w    # specify bin width instead of number of bins in arg3
  -T    # output in rdb/starbase format (tab separators)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>funhist</strong> creates a one-dimensional histogram from the specified columns of a \s-1FITS\s0 Extension binary table of a \s-1FITS\s0 file (or from a non-FITS raw event file), or from a \s-1FITS\s0 image or array, and writes that histogram as an \s-1ASCII\s0 table. Alternatively, the program can perform a 1D projection of one of the image axes.</p><p>The first argument to the program is required, and specifies the Funtools file: \s-1FITS\s0 table or image, raw event file, or array.  If \*(L"stdin\*(R" is specified, data are read from the standard input. Use Funtools Bracket Notation to specify \s-1FITS\s0 extensions, and filters.</p><p>For a table, the second argument also is required. It specifies the column to use in generating the histogram.  If the data file is of type image (or array), the column is optional: if \*(L"x\*(R" (or \*(L"X\*(R"), \*(L"y\*(R" (or \*(L"Y\*(R") is specified, then a projection is performed over the x (dim1) or y (dim2) axes, respectively. (That is, this projection will give the same results as a histogram performed on a table containing the equivalent x,y event rows.)  If no column name is specified or \*(L"xy\*(R" (or \*(L"\s-1XY\s0\*(R") is specified for the image, then a histogram is performed on the values contained in the image pixels.</p><p>The argument that follows is optional and specifies the number of bins to use in creating the histogram and, if desired, the range of bin values.  For image and table histograms, the range should specify the min and max data values.  For image histograms on the x and y axes, the range should specify the min and max image bin values.  If this argument is omitted, the number of output bins for a table is calculated either from the \s-1TLMIN/TLMAX\s0 headers values (if these exist in the table \s-1FITS\s0 header for the specified column) or by going through the data to calculate the min and max value. For an image, the number of output bins is calculated either from the \s-1DATAMIN/DATAMAX\s0 header values, or by going through the data to calculate min and max value. (Note that this latter calculation might fail if the image cannot be fit in memory.)  If the data are floating point (table or image) and the number of bins is not specified, an arbitrary default of 128 is used.</p><p>For binary table processing, the <strong>\-w</strong> (bin width) switch can be used to specify the width of each bin rather than the number of bins. Thus:</p><p>  funhist test.ev pha 1:100:5</p><p>means that 5 bins of width 20 are used in the histogram, while:</p><p>  funhist -w test.ev pha 1:100:5</p><p>means that 20 bins of width 5 are used in the histogram.</p><p>The data are divvied up into the specified number of bins and the resulting 1D histogram (or projection) is output in \s-1ASCII\s0 table format. For a table, the output displays the low_edge (inclusive) and hi_edge (exclusive) values for the data. For example, a 15\-row table containing a \*(L"pha\*(R" column whose values range from \-7.5 to 7.5 can be processed thus:</p><p>  [sh] funhist test.ev pha   # data file:        /home/eric/data/test.ev   # column:           pha   # min,max,bins:     -7.5 7.5 15</p><p>     bin     value               lo_edge               hi_edge   ------ --------- --------------------- ---------------------        1        22           -7.50000000           -6.50000000        2        21           -6.50000000           -5.50000000        3        20           -5.50000000           -4.50000000        4        19           -4.50000000           -3.50000000        5        18           -3.50000000           -2.50000000        6        17           -2.50000000           -1.50000000        7        16           -1.50000000           -0.50000000        8        30           -0.50000000            0.50000000        9        16            0.50000000            1.50000000       10        17            1.50000000            2.50000000       11        18            2.50000000            3.50000000       12        19            3.50000000            4.50000000       13        20            4.50000000            5.50000000       14        21            5.50000000            6.50000000       15        22            6.50000000            7.50000000</p><p>  [sh] funhist test.ev pha 1:6   # data file:          /home/eric/data/test.ev   # column:             pha   # min,max,bins:       0.5 6.5 6</p><p>     bin     value               lo_edge               hi_edge   ------ --------- --------------------- ---------------------        1        16            0.50000000            1.50000000        2        17            1.50000000            2.50000000        3        18            2.50000000            3.50000000        4        19            3.50000000            4.50000000        5        20            4.50000000            5.50000000        6        21            5.50000000            6.50000000</p><p>  [sh] funhist test.ev pha 1:6:3   # data file:          /home/eric/data/test.ev   # column:             pha   # min,max,bins:       0.5 6.5 3</p><p>     bin     value               lo_edge               hi_edge   ------ --------- --------------------- ---------------------        1        33            0.50000000            2.50000000        2        37            2.50000000            4.50000000        3        41            4.50000000            6.50000000</p><p>For a table histogram, the <strong>\-n</strong>(normalize) switch can be used to normalize the bin value by the width of the bin (i.e., hi_edge\-lo_edge):</p><p>  [sh] funhist -n test.ev pha 1:6:3   # data file:          test.ev   # column:             pha   # min,max,bins:       0.5 6.5 3   # width normalization (val/(hi_edge-lo_edge)) is applied</p><p>     bin                 value               lo_edge               hi_edge   ------ --------------------- --------------------- ---------------------        1           16.50000000            0.50000000            2.50000000        2            6.16666667            2.50000000            4.50000000        3            4.10000000            4.50000000            6.50000000</p><p>This could used, for example, to produce a light curve with values having units of counts/second instead of counts.</p><p>For an image histogram, the output displays the low and high image values (both inclusive) used to generate the histogram.  For example, in the following example, 184 pixels had a value of 1, 31 had a value of 2, while only 2 had a value of 3,4,5,6, or 7:</p><p>  [sh] funhist test.fits   # data file:           /home/eric/data/test.fits   # min,max,bins:        1 7 7</p><p>     bin                 value                lo_val                hi_val   ------ --------------------- --------------------- ---------------------        1          184.00000000            1.00000000            1.00000000        2           31.00000000            2.00000000            2.00000000        3            2.00000000            3.00000000            3.00000000        4            2.00000000            4.00000000            4.00000000        5            2.00000000            5.00000000            5.00000000        6            2.00000000            6.00000000            6.00000000        7            2.00000000            7.00000000            7.00000000</p><p>For the axis projection of an image, the output displays the low and high image bins (both inclusive) used to generate the projection.  For example, in the following example, 21 counts had their X bin value of 2, etc.:</p><p>  [sh] funhist test.fits x 2:7   # data file:            /home/eric/data/test.fits   # column:               X   # min,max,bins: 2 7 6</p><p>     bin                 value                lo_bin                hi_bin   ------ --------------------- --------------------- ---------------------        1           21.00000000            2.00000000            2.00000000        2           20.00000000            3.00000000            3.00000000        3           19.00000000            4.00000000            4.00000000        4           18.00000000            5.00000000            5.00000000        5           17.00000000            6.00000000            6.00000000        6           16.00000000            7.00000000            7.00000000</p><p>  [sh] funhist test.fits x 2:7:2   # data file:            /home/eric/data/test.fits   # column:               X   # min,max,bins: 2 7 2</p><p>     bin                 value                lo_bin                hi_bin   ------ --------------------- --------------------- ---------------------        1           60.00000000            2.00000000            4.00000000        2           51.00000000            5.00000000            7.00000000</p><p>You can use gnuplot or other plotting programs to graph the results, using a script such as:</p><p>  #!/bin/sh   sed -e '1,/---- .*/d   /^$/,$d' | &#92;   awk '&#92;   BEGIN{print "set nokey; set title &#92;"funhist&#92;"; set xlabel &#92;"bin&#92;"; set ylabel &#92;"counts&#92;"; plot &#92;"-&#92;" with boxes"}   &#92;   {print $3, $2, $4-$3}'        | &#92;   gnuplot -persist - 1&gt;/dev/null 2&gt;&1</p><p>Similar plot commands are supplied in the script <strong>funhist.plot</strong>:</p><p>  funhist test.ev pha ...  | funhist.plot gnuplot</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO funhist&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="funhead.1.html"><span aria-hidden="true">&larr;</span> funhead.1: Display a header in a funtools file</a></li>
   <li class="next"><a href="funimage.1.html">funimage.1: Create a fits image from a funtools data file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
