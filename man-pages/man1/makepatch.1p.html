<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>makepatch: Create script to update a source tree</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create script to update a source tree">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="makepatch (1p) manual">
  <meta name="twitter:description" content="Create script to update a source tree">
  <meta name="twitter:image" content="https://www.carta.tech/images/makepatch-makepatch-1p.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1p/makepatch.1p.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="makepatch (1p) manual" />
  <meta property="og:description" content="Create script to update a source tree" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/makepatch-makepatch-1p.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">makepatch<small> (1p)</small></h1>
        <p class="lead">Create script to update a source tree</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/makepatch.1p.html">
      <span itemprop="name">makepatch: Create script to update a source tree</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/makepatch/">
      <span itemprop="name">makepatch</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1p/makepatch.1p.html">
      <span itemprop="name">makepatch: Create script to update a source tree</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>makepatch</strong> [ <em>options</em> ] <em>old-src</em> <em>new-src</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Introduction</h2>
        <div class="sectioncontent">
<p>Traditionally, source trees are updated with the <strong>patch</strong> program, processing patch information that is generated by the <strong>diff</strong> program. Although <strong>diff</strong> and <strong>patch</strong> do a very good job at patching file contents, most versions do not handle creating and deleting files and directories, and adjusting of file modes and time stamps. Newer versions of <strong>diff</strong> and <strong>patch</strong> seem to be able to create files, and very new versions of <strong>patch</strong> can remove files. But that's about it.</p><p>Another typical problem is that patch kits are typically downloaded from the Internet, or transmitted via electronic mail. It is often desirable to verify the correctness of a patch kit before even attempting to apply it.</p><p>The <strong>makepatch</strong> package is designed to overcome these limitations.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>makepatch</strong> package contains two Perl programs: <strong>makepatch</strong> and <strong>applypatch</strong>.</p><p><strong>makepatch</strong> will generate a patch kit from two source trees. It traverses the source directory and runs a <strong>diff</strong> on each pair of corresponding files, accumulating the output into a patch kit. It knows about the conventions for patch kits: if a file named \*(C`patchlevel.h\*(C' exists, it is handled first, so <strong>patch</strong> can check the version of the source tree. Also, to deal with the non-perfect versions of <strong>patch</strong> that are in use, it supplies "\*(C`Index:\*(C'\*(L" and \*(R"\*(C`Prereq:\*(C'" lines, so <strong>patch</strong> can correctly locate the files to patch, and it relocates the patch to the current directory to avoid problems with creating new files.</p><p>The list of files can be specified in a so called <strong>\s-1MANIFEST\s0</strong> file, but it can also be generated by recursively traversing the source tree. Files can be excluded using shell style wildcards and Perl regex patterns.</p><p>But that is not it! <strong>makepatch</strong> also inserts some additional information in the patch kit for use by the <strong>applypatch</strong> program.</p><p>It is important to emphasize that the generated patch kit is still valid input for <strong>patch</strong>. When used with <strong>patch</strong>, there are no verifications and problems may arise when new files need to be created. <strong>makepatch</strong> prepends a small shell script in front of the patch kit that creates the necessary files and directories for the patch process. If you can not run <strong>applypatch</strong> for some reason, you can run the patch kit <em>as a shell script</em> to prepare the source directory for the patching process.</p><p>The <strong>applypatch</strong> program will do the following:</p><ul>
<li><p>It will extensively verify that the patch kit is complete and not corrupted during transfer.</p></li><li><p>It will apply some heuristics to verify that the directory in which the patch will be applied does indeed contain the expected sources.</p></li><li><p>It creates files and directories as necessary.</p></li><li><p>It applies the patch by running the <strong>patch</strong> program.</p></li><li><p>Upon completion, obsolete files, directories and \*(C`.orig\*(C' files are removed, file modes of new files are set, and the timestamps of all patched files are adjusted.</p></li>
</ul><p>Note that <strong>applypatch</strong> only requires the <strong>patch</strong> program. It does not rely on a shell or shell tools. This makes it possible to apply patches on non-Unix systems.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">General usage</h2>
        <div class="sectioncontent">
<p>Suppose you have an archive `\*(C`pkg-1.6.tar.gz\*(C'' containing the sources for package `\*(C`pkg\*(C'' version 1.6, and a directory tree `\*(C`pkg-1.7\*(C'' containing the sources for version 1.7. The following command will generate a patch kit that updates the 1.6 sources into their 1.7 versions:</p>
<pre>
    makepatch pkg-1.6.tar.gz pkg-1.7 &gt; pkg-1.6-1.7.patch
</pre>
<p>To apply this script, go to the directory containing the 1.6 sources and feed the script to <strong>applypatch</strong>:</p><p>    cd old/pkg-1.6     applypatch pkg-1.6-1.7.patch</p><p><strong>applypatch</strong> will verify that it is executing in the right place and make all necessary updates.</p><p>By default, <strong>makepatch</strong> will provide a few lines of progress information, for example:</p><p>    Extracting pkg-1.6.tar.gz to /tmp/mp21575.d/old...     Manifest MANIFEST for pkg-1.6 contains 1083 files.     Manifest MANIFEST for pkg-1.7 contains 1292 files.     Processing the filelists ...     Collecting patches ...       266 files need to be patched.       216 files and 8 directories need to be created.       7 files need to be removed.</p><p><strong>applypatch</strong> will provide no feedback information by default.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Makepatch arguments</h2>
        <div class="sectioncontent">
<p><strong>makepatch</strong> requires two arguments: <em>old_src</em> and <em>new_src</em>.</p>
<dl class='dl-vertical'>
  <dt>
    <em>old-src</em>
  </dt>
  <dd>
    <p>This is the name of either a single file or a directory that contains copies of the older version of the target files; in other words, copies of the files <em>prior</em> to any modifications. Alternatively, it may be the name of an archive that holds the files to be processed. Allowable archive formats are gzipped tar (name ends in "\*(C`.tar.gz\*(C'\*(L" or \*(R"\*(C`.tgz\*(C'\*(L"), bzipped tar (name ends in \*(R"\*(C`.tar.bz2\*(C'\*(L"), plain tar (name ends in \*(R"\*(C`.tar\*(C'\*(L" and zip (name ends in \*(R"\*(C`.zip\*(C'").</p>
  </dd>
  <dt>
    <em>new-src</em>
  </dt>
  <dd>
    <p>This is the name of either a single file or a directory that contains copies of the newer version of the target files; in other words, copies of the files <em>after</em> the modifications have been made. Alternatively, it may be the name of an archive that holds the files to be processed.</p>
  </dd>

</dl>
<p>The patch script generated by <strong>makepatch</strong> will take care of creating new files and directories, update existing files, and remove files and directories that are no longer present in the <em>new-src</em> directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MANIFEST files</h2>
        <div class="sectioncontent">
<p>The purpose of a manifest file is to provide the list of files that constitute a package. Manifest files are traditionally called "\*(C`MANIFEST\*(C'" and reside in the top level directory of the package.</p><p>Although there is no formal standard for the contents of manifest files, <strong>makepatch</strong> uses the following rules:</p><ul>
<li><p>If the second line from the manifest file looks like a separator line (e.g. it is empty, or contains only dashes), it is discarded and so is the first line.</p></li><li><p>Empty lines and lines that start with a \*(C`#\*(C' are ignored.</p></li><li><p>If there are multiple space-separated \*(L"words\*(R" on a line, the first word is considered to be the filename.</p></li>
</ul><p><strong>&#92;$1</strong></p><p>By default, <strong>makepatch</strong> looks for files named "\*(C`MANIFEST\*(C'" in the top level directories of the old and the new source trees. If these files (or one of them) are found, they are used. If no manifest file could be found, the package is assumed to consist of all files in the directory.</p><p>The default name of the default manifest file can be modified with the command line option "\*(C`-automanifest\*(C'", see Section \*(L"Command line options\*(R". Command line options "\*(C`-oldmanifest\*(C'\*(L" and \*(R"\*(C`-newmanifest\*(C'\*(L" can be used to explicitly designate old and new manifest files. Option \*(R"\*(C`-manifest\*(C'" is a short way to set one manifest file for both the old and new source trees. Command line option "\*(C`-nomanifest\*(C'" can be used to suppress all manifest file processing. The package is assumed to consist of all files in the source directories.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Makepatch options</h2>
        <div class="sectioncontent">
<p><strong>makepatch</strong> takes several options to control its behaviour. Options are usually specified on the command line, but <strong>makepatch</strong> can take options from three sources in the following order:</p><ul>
<li><p>Environment variable <strong>\s-1MAKEPATCHINIT\s0</strong>. When this environment variable is set its contents are considered to be command line options that are processed upon startup. All normal options are allowed, plus one: <strong>-rcfile </strong><em>filename</em>. Option <strong>-rcfile</strong> can be used to specify an alternate option file, see below.</p></li><li><p>Options files. <strong>makepatch</strong> first tries to process a file named <strong>/etc/makepatchrc</strong>. (This is a Unix-ism.) It is okay if this file is missing. Next, <strong>makepatch</strong> will process a file named <strong>.makepatchrc</strong> in the user's home directory, if it exists. After processing this file, <strong>makepatch</strong> will process a file named <strong>.makepatchrc</strong> in the current directory, if it exists. An alternative name for this file can be specified with option <strong>-rcfile</strong> in environment variable <strong>\s-1MAKEPATCHINIT\s0</strong>. This is the only way to specify an alternative options file name. In all option files, empty lines and lines starting with \*(C`;\*(C' or \*(C`#\*(C' are ignored. All other lines are considered to contain options exactly as if they had been supplied on the command line.</p></li><li><p>The command line.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Command line options</h2>
        <div class="sectioncontent">
<p>Options are matched case insensitive, and may be abbreviated to uniqueness.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-description</strong> <em>text</em>
  </dt>
  <dd>
    <p>Provide a descriptive text for this patch. Multiple <strong>-description</strong> options may be supplied. If no description is provided, the program try to guess one. This is usually possible if both directories are simple names, e.g. '\*(C`pkg-1.16\*(C''. If no description can be determined, the program will ask for one.</p>
  </dd>
  <dt>
    <strong>-diff</strong> <em>cmd</em>
  </dt>
  <dd>
    <p>If specified, <em>cmd</em> is the command to be used to generate the differences between the two versions of the files.  If not specified, this command defaults to "\*(C`diff -c\*(C'". For best results, only use "\*(C`diff -c\*(C'\*(L" or \*(R"\*(C`diff -u\*(C'". In any case, it <strong>must</strong> produce either context or unified diff output.</p>
  </dd>
  <dt>
    <strong>-patchlevel</strong> <em>pfile</em>
  </dt>
  <dd>
    <p>If specified, <em>pfile</em> indicates an alternate file that is to be used in lieu of "<strong>patchlevel.h</strong>".</p>
  </dd>
  <dt>
    <strong>-automanifest</strong> <em>mfile</em>
  </dt>
  <dd>
    <p><strong>makepatch</strong> will automatically use manifest files of the given name if they appear in the directories. The default name is "<strong>\s-1MANIFEST\s0</strong>".</p>
  </dd>
  <dt>
    <strong>-nomanifest</strong>
  </dt>
  <dd>
    <p>Suppress using manifest files.</p>
  </dd>
  <dt>
    <strong>-manifest</strong> <em>mfile</em>
  </dt>
  <dd>
    <p>If specified, <em>mfile</em> indicates the name of the manifest file which consists of a list of the files contained in both the <em>old</em> and the <em>new</em> directories.</p>
  </dd>
  <dt>
    <strong>-oldmanifest</strong> <em>omfile</em>
  </dt>
  <dd>
    <p>If specified, <em>omfile</em> indicates the name of the manifest file which consists of a list of the files contained in the <em>old</em> directory. This option is designed to be used in conjunction with the <strong>-newmanifest</strong> option.  Note that the <em>old</em> and <em>new</em> directories must still be indicated.</p>
  </dd>
  <dt>
    <strong>-newmanifest</strong> <em>nmfile</em>
  </dt>
  <dd>
    <p>If specified, <em>nmfile</em> indicates the name of the manifest file which consists of a list of the files contained in the <em>new</em> directory. This option is designed to be used in conjunction with the <strong>-oldmanifest</strong> option.  Note that the <em>old</em> and <em>new</em> directories must still be indicated.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>recurse</strong>
  </dt>
  <dd>
    <p><strong>makepatch</strong> recurses through directories by default. Option <strong>-norecurse</strong> prevents recursion beyond the initial directories.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>follow</strong>
  </dt>
  <dd>
    <p>If set, symbolic links to directories are traversed as if they were real directories.</p>
  </dd>
  <dt>
    <strong>-infocmd</strong> <em>command</em>
  </dt>
  <dd>
    <p>If specified, the output of running <em>command</em> will be added before each patch chunk. <em>command</em> will undergo the following substitutions first: %oP will be replaced by the name of the old file, %nP will be replaced by the name of the new file. \*(C`%%\*(C' will be replaced by a single \*(C`%\*(C'; other \*(C`%\*(C' sequences may be added in future versions. When a new file is being created, the name of the new file will be supplied for both %oP and %nP. Note that %oP and %nP are modeled after the \*(C`%\*(C' sequences of <strong>find -printf</strong>.</p>
  </dd>
  <dt>
    <strong>-exclude</strong> <em>pattern</em>
  </dt>
  <dd>
    <p>If specified, files that match the shell pattern <em>pattern</em> will be excluded. Only wildcard characters \*(C`*\*(C' and \*(C`?\*(C', and character classes \*(C`[...]\*(C' are handled. Multiple <strong>-exclude</strong> options may be supplied.</p>
  </dd>
  <dt>
    <strong>-exclude-regex</strong> <em>pattern</em>
  </dt>
  <dd>
    <p>If specified, files and directories that match the Perl regular expression pattern <em>pattern</em> will be excluded. Multiple <strong>-exclude-regex</strong> options may be supplied.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>exclude-standard</strong>
  </dt>
  <dd>
    <p>Set by default. If set, a common set of files and directories are ignored. See also section \*(L"Standard Exclude Patterns\*(R".</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>exclude-cvs</strong>
  </dt>
  <dd>
    <p>If set, files and directories that are usually part of version control system \s-1CVS\s0 are excluded. Also, \*(C`.cvsignore\*(C' files are honoured just like \s-1CVS\s0 does it. See also section \*(L"Standard Exclude Patterns\*(R".</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>exclude-rcs</strong>
  </dt>
  <dd>
    <p>If set, files and directories that are usually part of version control system \s-1RCS\s0 are excluded. See also section \*(L"Standard Exclude Patterns\*(R".</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>exclude-sccs</strong>
  </dt>
  <dd>
    <p>If set, files and directories that are usually part of version control system \s-1SCCS\s0 are excluded. See also section \*(L"Standard Exclude Patterns\*(R".</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>exclude-vc</strong>
  </dt>
  <dd>
    <p>Short for (re)setting <strong>-exclude-rcs</strong>, <strong>-exclude-cvs</strong>, and <strong>-exclude-sccs</strong>.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>ignore-cvs-keywords</strong>
  </dt>
  <dd>
    <p>Differences in \s-1CVS\s0 keyword data (e.g. \*(C`Id\*(C', \*(C`Header\*(C', \*(C`Revision\*(C') are ignored, provided there are no other differences in the same hunk. This option passes a very hairy regex to the <strong>--ignore-matching-lines</strong> option of the <em>diff</em> program, and hence requires \s-1GNU\s0 <em>diff</em>. This restriction may be lifted in a future version.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>ignore-rcs-keywords</strong>
  </dt>
  <dd>
    <p>Same as <strong>-</strong>[<strong>no</strong>]<strong>ignore-cvs-keywords</strong>.</p>
  </dd>
  <dt>
    <strong>-extract</strong> <em>pattern</em><strong>=</strong><em>command</em>
  </dt>
  <dd>
    <p>Define additional extraction rules for archives. If the name of the source or destination matches the Perl <em>pattern</em>, the <em>command</em> is executed with the archive on standard input and the current directory set to the location where the files must be extracted. Multiple <strong>-extract</strong> options may be supplied. User defined rules override built-in rules. Builtin rules are:     .+&#92;.(tar&#92;.gz|tgz)    =&gt; "gzip -d | tar xpf -"     .+&#92;.(tar&#92;.bz2)       =&gt; "bzip2 -d | tar xpf -"     .+&#92;.tar              =&gt; "tar xf -"     .+&#92;.zip              =&gt; "unzip -" The patterns are implicitly anchored to the begin and end of the filename.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>ident</strong>
  </dt>
  <dd>
    <p>If set, the program name and version is reported.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>verbose</strong>
  </dt>
  <dd>
    <p>This is set by default, making <strong>makepatch</strong> display information concerning its activity to <em>stderr</em>.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>quiet</strong>
  </dt>
  <dd>
    <p>The opposite of <strong>-verbose</strong>. If set, this instructs <strong>makepatch</strong> to suppress the display of activity information.</p>
  </dd>
  <dt>
    <strong>-</strong>[<strong>no</strong>]<strong>help</strong>
  </dt>
  <dd>
    <p>If set, this causes a short help message to be displayed, after which the program immediately exits.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Standard Exclude Patterns</h2>
        <div class="sectioncontent">
<p>The following file patterns are always excluded:</p><p>    *~ *.a *.bak *.BAK *.elc *.exe *.gz *.ln *.o *.obj     *.olb *.old *.orig *.rej *.so *.Z     .del-* .make.state .nse_depinfo core     tags TAGS</p><p>Option <strong>-exclude-sccs</strong> adds:</p><p>    p.* s.* SCCS</p><p>Option <strong>-exclude-rcs</strong> adds:</p><p>    ,* *,v RCS RCSLOG</p><p>Option <strong>-exclude-cvs</strong> adds \*(C`.cvsignore\*(C' patterns, and:</p><p>    .#* #* _$* *$ CVS CVS.adm cvslog.*</p><p>Please let me know if I missed some.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Environment variables</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    \s-1MAKEPATCHINIT\s0
  </dt>
  <dd>
    <p>When this environment variable is set its contents is considered to be command line options that are processed upon startup. All normal options are allowed, plus one: <strong>-rcfile </strong><em>filename</em>. If <strong>-rcfile</strong> is specified, the file is read and all lines of it are considered to contain option settings as described in section \*(L"Makepatch options\*(R".</p>
  </dd>
  <dt>
    \s-1TMPDIR\s0
  </dt>
  <dd>
    <p>\*(C`TMPDIR\*(C' can be used to designate the area where temporary files are placed. It defaults to \*(C`/tmp\*(C'.</p>
  </dd>
  <dt>
    \s-1TEMP\s0
  </dt>
  <dd>
    <p>\*(C`TEMP\*(C' can be used as an alternative to \*(C`TMPDIR\*(C'.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Examples</h2>
        <div class="sectioncontent">
<p>Suppose you have a directory tree `\*(C`pkg-1.6\*(C'' containing the sources for package `\*(C`pkg\*(C'' version 1.6, and a directory tree `\*(C`pkg-1.7\*(C'' containing the sources for version 1.7. The following command will generate a patch kit that updates the 1.6 sources into their 1.7 versions:</p><p>    makepatch pkg-1.6 pkg-1.7 &gt; pkg-1.6-1.7.patch</p><p>To apply this script, go to the pkg-1.6 directory and feed the script to <strong>applypatch</strong>:</p><p>    cd old/pkg-1.6     applypatch pkg-1.6-1.7.patch</p><p><strong>applypatch</strong> will verify that it is executing in the right place and make all necessary updates.</p><p>This is one way to generate and use manifest files:</p><p>    (cd pkg-1.6; find . -type f -print &gt; OLDMANIFEST)</p><p>    (cd pkg-1.7; find . -type f -print &gt; NEWMANIFEST)</p><p>    makepatch &#92;       -oldmanifest pkg-1.6/OLDMANIFEST &#92;       -newmanifest pkg-1.7/NEWMANIFEST &#92;       pkg-1.6 pkg-1.7 &gt; pkg-1.6-1.7.diff</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Bugs and restrictions</h2>
        <div class="sectioncontent">
<p>Much of the job of <strong>makepatch</strong> is processing file names. <strong>makepatch</strong> has been tested extensively on Unix systems, but it is not guaranteed to work on other systems.</p><p><strong>applypatch</strong> is repeatedly reported to correctly process <strong>makepatch</strong> generated patch kits on modern 32-bit Windows systems as well.</p><p><strong>makepatch</strong> does not know about symbolic links. These will be treated like plain files.</p><p>Wrong results can be generated if the file lists that are used or generated use different path separators.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO makepatch&hellip;</h2>
        <div class="sectioncontent">
<p><strong>applypatch</strong>(1), <a href="../man1/diff.1.html"><strong>diff</strong>(1)</a>, <a href="../man1/patch.1.html"><strong>patch</strong>(1)</a>, <strong>perl</strong>(1), <strong>rm</strong>(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR AND CREDITS</h2>
        <div class="sectioncontent">
<p>Johan Vromans (jvromans@squirrel.nl) wrote the program, with a little help and inspiration from: Jeffery Small, Ulrich Pfeifer, Nigel Metheringham, Julian Yip, Tim Bunce, Gurusamy Sarathy, Hugo van der Sanden, Rob Browning, Joshua Pritikin, and others.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT AND DISCLAIMER</h2>
        <div class="sectioncontent">
<p>This program is Copyright 1992,2004,2006 by Squirrel Consultancy. All rights reserved.</p><p>This program is free software; you can redistribute it and/or modify it under the terms of either: a) the \s-1GNU\s0 General Public License as published by the Free Software Foundation; either version 1, or (at your option) any later version, or b) the \*(L"Artistic License\*(R" which comes with Perl.</p><p>This program is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0. See either the \s-1GNU\s0 General Public License or the Artistic License for more details.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lorem.1p.html"><span aria-hidden="true">&larr;</span> lorem.1p: Generate random latin looking text using text::lorem</a></li>
   <li class="next"><a href="masterha_check_repl.1p.html">masterha_check_repl.1p: Checking mysql replication health <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
