<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rdup-tr: Transform rdup output</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Transform rdup output">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rdup-tr (1) manual">
  <meta name="twitter:description" content="Transform rdup output">
  <meta name="twitter:image" content="https://www.carta.tech/images/rdup-rdup-tr-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rdup-tr.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rdup-tr (1) manual" />
  <meta property="og:description" content="Transform rdup output" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/rdup-rdup-tr-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rdup-tr<small> (1)</small></h1>
        <p class="lead">Transform rdup output</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rdup-tr.1.html">
      <span itemprop="name">rdup-tr: Transform rdup output</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/rdup/">
      <span itemprop="name">rdup</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rdup-tr.1.html">
      <span itemprop="name">rdup-tr: Transform rdup output</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>rdup-tr</strong> [<em>OPTION</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Transform rdup output into <em>something else</em>. Where <em>something else</em> can be a tar, cpio, pax archive or another rdup stream.</p><p>The rdup archive must be given on <strong>rdup-tr</strong>'s standard input.</p><p>You can select multiple types of output (-O flag), but you must be aware that you may loose some information in formats other than <strong>rdup</strong>'s own, see the table below.</p><p>You may also supply <strong>rdup-tr</strong> with only a list of pathnames, this can be selected with the -L flag.</p><p>The following table shows what happens with the output depending on the input.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>OK</p>
  </dd>
  <dt>
    <p><strong>D</strong></p>
  </dt>
  <dd>
    <p>delete information is lost</p>
  </dd>
  <dt>
    <p><strong>H</strong></p>
  </dt>
  <dd>
    <p>hardlink information is lost</p><table class="table table-striped">
<tr>
<th>    output</th></tr>

<tr>
<td>tar,cpio,pax</td></tr>

<tr>
<td>rdup</td></tr>

<tr>
<td>input</td></tr>

<tr>
<td>-------------</td></tr>

<tr>
<td>-------------</td></tr>

<tr>
<td>------</td></tr>

<tr>
<td>rdup</td></tr>

<tr>
<td>    D</td></tr>

<tr>
<td>0</td></tr>

<tr>
<td>filelist</td></tr>

<tr>
<td>    DH</td></tr>

<tr>
<td>H</td></tr>

<tr>
<td></td></tr>
</table>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Select list input format. Normally <strong>rdup-tr</strong> accepts rdup output, with this option you can give it a list of path names. Note: with list input <strong>rdup-tr</strong> will `stat()` each file.</p>
  </dd>
  <dt>
    <p><strong>-O</strong></p>
  </dt>
  <dd>
    <p>Output format. This can be 'tar', 'cpio', 'pax' or 'rdup'. It defaults to 'rdup'.</p>
  </dd>
  <dt>
    <p><strong>-X </strong><em>key</em></p>
  </dt>
  <dd>
    <p>Read the encryption key from the file key and encrypt all paths with Blowfish and this key and iv. After the encryption the binary data is converted into ASCII using an URL safe (Section 4 of RFC 3548) version of base64 encode.</p><p>The encryption key must be on the first line and the key size must be 16 and 8 bytes for the iv, so 24 in total.</p>
  </dd>
  <dt>
    <p><strong>-Y </strong><em>key</em></p>
  </dt>
  <dd>
    <p>Read the decryption key from the file key and decrypt all paths with Blowfish and this key. Before the encryption the paths are converted to binary by using an URL safe version of base64 decode.</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Force output to the tty. Normally <strong>rdup-tr</strong> wants to see it's output redirected.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Be more verbose.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print rdup-tr's version.</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>A short help.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The following is possible</p><p> rdup -Pgzip -Pmcrypt,-f,KEY,-c /dev/null /home | &#92;  rdup-tr -O tar -X&lt;(echo secret) | gzip &gt; &#92;  my-home-zipped-crypted-pathcrypted-tar.gz</p><p>That is: all files under /home are gzipped and encrypted on a <em>per</em> file basis (first line). Further more, all pathnames are Blowfish encrypted (second line) with the key 'secret'. This is put in a tar file, which is then compressed, resulting in the final output (final line).</p><p>Creating a compressed and encrypted tar archive out of a full rdup dump might be done as follows</p><p> rdup -Pgzip -Pmcrypt,-f,KEY,-c /dev/null /home | &#92;  rdup-tr -O tar &gt; my-home-zipped-and-crypted.tar</p><p>Or even pack and unpack it on the fly</p><p> rdup -Pgzip -Pmcrypt,-fKEY,-c /dev/null /home | rdup-tr -Otar | &#92;  ssh user@remotehost tar xvCf /tmp -</p><p>Or encryption with openssl</p><p>rdup -Popenssl,enc,-e,-des-cbc,-k,secret /dev/null /home</p><p>Or, compressing with gzip, encrypting with openssl and then compressing the entire archive yet again</p><p> rdup -Pgzip -Popenssl,enc,-e,-des-cbc,-k,secret /dev/null /home | &#92;  gzip &gt; my_compressed_encrypted_rdup_archive.gz</p><p>Recreating the original <strong>rdup</strong> output, which can be fed to <strong>rdup-up</strong>.</p><p> gunzip -c my_compressed_encrypted_rdup_archive.gz |&#92;  rdup-tr -Popenssl,enc,-d,-des-cbc,-k,secret -Pgzip,-d &gt;&#92;  my_rdup_archive</p><p> rdup-up &lt; my_rdup_archive -t /tmp/restore</p><p>Notice the reversal of the -P options.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT CODE</h2>
        <div class="sectioncontent">
<p><strong>rdup-tr</strong> return a zero exit code on success, otherwise 1 is returned.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Miek Gieben.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;miek@miek.nl&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rdup-tr&hellip;</h2>
        <div class="sectioncontent">
<p>http:/www.miek.nl/projects/rdup/ is the main site of rdup. Also see <a href="../man1/rdup.1.html"><strong>rdup</strong>(1)</a>, <a href="../man1/rdup-up.1.html"><strong>rdup-up</strong>(1)</a> and <a href="../man7/rdup-backups.7.html"><strong>rdup-backups</strong>(7)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2005-2010 Miek Gieben. This is free software. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p><p>Licensed under the GPL version 3. See the file LICENSE in the source distribution of rdup.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rdup.1.html"><span aria-hidden="true">&larr;</span> rdup.1: Generate a file list suitable for making backups</a></li>
   <li class="next"><a href="rdup-up.1.html">rdup-up.1: Update a directory tree with a rdup archive <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
