<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pymvpa2-mkds: Create a pymvpa dataset from various sources</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create a pymvpa dataset from various sources">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pymvpa2-mkds (1) manual">
  <meta name="twitter:description" content="Create a pymvpa dataset from various sources">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-mvpa2-pymvpa2-mkds-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pymvpa2-mkds.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pymvpa2-mkds (1) manual" />
  <meta property="og:description" content="Create a pymvpa dataset from various sources" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-mvpa2-pymvpa2-mkds-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pymvpa2-mkds<small> (1)</small></h1>
        <p class="lead">Create a pymvpa dataset from various sources</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pymvpa2-mkds.1.html">
      <span itemprop="name">pymvpa2-mkds: Create a pymvpa dataset from various sources</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-mvpa2/">
      <span itemprop="name">python-mvpa2</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pymvpa2-mkds.1.html">
      <span itemprop="name">pymvpa2-mkds: Create a pymvpa dataset from various sources</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pymvpa2</strong> <em>\,mkds \/</em>[<em>\,--version\/</em>] [<em>\,-h\/</em>] [<em>\,-i \/</em>[<em>\,dataset \/</em>[<em>\,dataset \/</em>...]]] [<em>\,--txt-data VALUE \/</em>[<em>\,VALUE \/</em>...] <em>\,| --npy-data VALUE \/</em>[<em>\,VALUE \/</em>...] <em>\,| --mri-data IMAGE \/</em>[<em>\,IMAGE \/</em>...]] [<em>\,--add-sa VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-fa VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-sa-txt VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-fa-txt VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-sa-attr FILENAME\/</em>] [<em>\,--add-sa-npy VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--add-fa-npy VALUE \/</em>[<em>\,VALUE \/</em>...]] [<em>\,--mask IMAGE\/</em>] [<em>\,--add-vol-attr ARG ARG\/</em>] [<em>\,--add-fsl-mcpar FILENAME\/</em>] <em>\,-o OUTPUT \/</em>[<em>\,--hdf5-compression TYPE\/</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Create a PyMVPA dataset from various sources.</p><p>This command converts data from various sources, such as text files, NumPy's NPY files, and MR (magnetic resonance) images into a PyMVPA dataset that gets stored in HDF5 format. An arbitrary number of sample and feature attributes can be added to a dataset, and individual attributes can be read from heterogeneous sources (e.g. they do not have to be all from text files).</p><p>For datasets from MR images this command also supports automatic conversion of additional images into (volumetric) feature attributes. This can be useful for describing features with, for example, atlas labels.</p><p>COMPOSE ATTRIBUTES ON THE COMMAND LINE</p><p>Options <strong>--add-sa</strong> and <strong>--add-fa</strong>  can be used to compose dataset attributes directly on The command line. The syntax is:</p><p>... <strong>--add-sa</strong> &lt;attribute name&gt; &lt;comma-separated values&gt; [DTYPE]</p><p>where the optional 'DTYPE' is any identifier of a NumPy data type (e.g. 'int', or 'float32'). If no data type is specified the attribute values will be strings.</p><p>If only one attribute value is given, it will copied and assigned to all entries in the dataset.</p><p>LOAD DATA FROM TEXT FILES</p><p>All options for loading data from text files support optional parameters to Tweak the conversion:</p><p>... <strong>--add-sa-txt</strong> &lt;mandatory values&gt; [DELIMITER [DTYPE [SKIPROWS [COMMENTS]]]]</p><p>where 'DELIMITER' is the string that is used to separate values in the input file, 'DTYPE' is any identifier of a NumPy data type (e.g. 'int', or 'float32'), 'SKIPROWS' is an integer indicating how many lines at the beginning of the respective file shall be ignored, and 'COMMENTS' is a string indicating how to-be-ignored comment lines are prefixed in the file.</p><p>LOAD DATA FROM NUMPY NPY FILES</p><p>All options for loading data from NumPy NPY files support an optional parameter:</p><p>... <strong>--add-fa-npy</strong> &lt;mandatory values&gt; [MEMMAP]</p><p>where 'MEMMAP' is a flag  that triggers whether the respective file shall be read by memory-mapping, i.e. not read (immediately) into memory. Enable by with on of: yes|1|true|enable|on'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version and license information and exit</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong>, <strong>--help-np</strong></p>
  </dt>
  <dd>
    <p>show this help message and exit. <strong>--help-np</strong> forcefully disables the use of a pager for displaying the help.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> [dataset [dataset ...]], <strong>--input</strong> [dataset [dataset ...]]</p>
  </dt>
  <dd>
    <p>path(s) to one or more PyMVPA dataset files. All datasets will be merged into a single dataset (vstack'ed) in order of specification. In some cases this option may need to be specified more than once if multiple, but separate, input datasets are required.</p>
  </dd>

</dl>
<h3>Input data sources:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--txt-data</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load samples from a text file. The first value is the filename the data will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from text files".</p>
  </dd>
  <dt>
    <p><strong>--npy-data</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load samples from a Numpy .npy file. Compressed files (i.e. .npy.gz) are supported as well. The first value is the filename the data will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from Numpy NPY files".</p>
  </dd>
  <dt>
    <p><strong>--mri-data</strong> IMAGE [IMAGE ...]</p>
  </dt>
  <dd>
    <p>load data from an MR image, such as a NIfTI file. This can either be a single 4D image, or a list of 3D images, or a combination of both.</p>
  </dd>

</dl>

<h3>Options for attributes from the command line:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--add-sa</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>compose a sample attribute from the command line input. The first value is the desired attribute name, the second value is a comma-separated list (appropriately quoted) of actual attribute values. An optional third value can be given to specify a data type. Additional information on defining dataset attributes on the command line are given in the section "Compose attributes on the command line.</p>
  </dd>
  <dt>
    <p><strong>--add-fa</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>compose a feature attribute from the command line input. The first value is the desired attribute name, the second value is a comma-separated list (appropriately quoted) of actual attribute values. An optional third value can be given to specify a data type. Additional information on defining dataset attributes on the command line are given in the section "Compose attributes on the command line.</p>
  </dd>

</dl>

<h3>Options for attributes from text files:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--add-sa-txt</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load sample attribute from a text file. The first value is the desired attribute name, the second value is the filename the attribute will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from text files".</p>
  </dd>
  <dt>
    <p><strong>--add-fa-txt</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load feature attribute from a text file. The first value is the desired attribute name, the second value is the filename the attribute will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from text files".</p>
  </dd>
  <dt>
    <p><strong>--add-sa-attr</strong> FILENAME</p>
  </dt>
  <dd>
    <p>load sample attribute values from an legacy 'attributes file'. Column data is read as "literal". Only two column files ('targets' + 'chunks') without headers are supported. This option allows for reading attributes files from early PyMVPA versions.</p>
  </dd>

</dl>

<h3>Options for attributes from stored Numpy arrays:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--add-sa-npy</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load sample attribute from a Numpy .npy file. Compressed files (i.e. .npy.gz) are supported as well. The first value is the desired attribute name, the second value is the filename the data will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from Numpy NPY files".</p>
  </dd>
  <dt>
    <p><strong>--add-fa-npy</strong> VALUE [VALUE ...]</p>
  </dt>
  <dd>
    <p>load feature attribute from a Numpy .npy file. Compressed files (i.e. .npy.gz) are supported as well. The first value is the desired attribute name, the second value is the filename the data will be loaded from. Additional values modifying the way the data is loaded are described in the section "Load data from Numpy NPY files".</p>
  </dd>

</dl>

<h3>Options for input from MR images:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--mask</strong> IMAGE</p>
  </dt>
  <dd>
    <p>mask image file with the same dimensions as an input data sample. All voxels corresponding to non-zero mask elements will be permitted into the dataset.</p>
  </dd>
  <dt>
    <p><strong>--add-vol-attr</strong> ARG ARG</p>
  </dt>
  <dd>
    <p>attribute name (1st argument) and image file with the same dimensions as an input data sample (2nd argument). The image data will be added as a feature attribute under the specified name.</p>
  </dd>
  <dt>
    <p><strong>--add-fsl-mcpar</strong> FILENAME</p>
  </dt>
  <dd>
    <p>6-column motion parameter file in FSL's McFlirt format. Six additional sample attributes will be created: mc_{x,y,z} and mc_rot{1-3}, for translation and rotation estimates respectively.</p>
  </dd>

</dl>

<h3>Output options:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-o</strong> OUTPUT, <strong>--output</strong> OUTPUT</p>
  </dt>
  <dd>
    <p>output filename ('.hdf5' extension is added automatically if necessary). NOTE: The output format is suitable for data exchange between PyMVPA commands, but is not recommended for long-term storage or exchange as its specific content may vary depending on the actual software environment. For long-term storage consider conversion into other data formats (see 'dump' command).</p>
  </dd>
  <dt>
    <p><strong>--hdf5-compression</strong> TYPE</p>
  </dt>
  <dd>
    <p>compression type for HDF5 storage. Available values depend on the specific HDF5 installation. Typical values are: 'gzip', 'lzf', 'szip', or integers from 1 to 9 indicating gzip compression levels.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Load 4D MRI image, assign atlas labels to a feature attribute, and attach class labels from a text file. The resulting dataset is stored as 'ds.hdf5' in the current directory.</p><ul>
<li><p>$ pymvpa2 mkds -o ds --mri-data bold.nii.gz --vol-attr area harvox.nii.gz --add-sa-txt targets labels.txt</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Michael Hanke & Yaroslav Halchenko, and numerous other contributors.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2006-2014 PyMVPA developers</p><p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p><p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p><p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pymvpa2-info.1.html"><span aria-hidden="true">&larr;</span> pymvpa2-info.1: Query various information about a pymvpa installation</a></li>
   <li class="next"><a href="pymvpa2-mkevds.1.html">pymvpa2-mkevds.1: Extract (multi-sample) events from a dataset <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
