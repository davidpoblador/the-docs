<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>parallel-ssh: Paralllel-ssh  parallel ssh program</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Paralllel-ssh  parallel ssh program">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="parallel-ssh (1) manual">
  <meta name="twitter:description" content="Paralllel-ssh  parallel ssh program">
  <meta name="twitter:image" content="https://www.carta.tech/images/pssh-parallel-ssh-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/parallel-ssh.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="parallel-ssh (1) manual" />
  <meta property="og:description" content="Paralllel-ssh  parallel ssh program" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pssh-parallel-ssh-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">parallel-ssh<small> (1)</small></h1>
        <p class="lead">Paralllel-ssh  parallel ssh program</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/parallel-ssh.1.html">
      <span itemprop="name">parallel-ssh: Paralllel-ssh  parallel ssh program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pssh/">
      <span itemprop="name">pssh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/parallel-ssh.1.html">
      <span itemprop="name">parallel-ssh: Paralllel-ssh  parallel ssh program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>paralllel-ssh</strong> [<strong>-vAiIP</strong>] [<strong>-h</strong> <em>hosts_file</em>] [<strong>-H</strong> [<em>user</em>@]<em>host</em>[:<em>port</em>]] [<strong>-l</strong> <em>user</em>] [<strong>-p</strong> <em>par</em>] [<strong>-o</strong> <em>outdir</em>] [<strong>-e</strong> <em>errdir</em>] [<strong>-t</strong> <em>timeout</em>] [<strong>-O</strong> <em>options</em>] [<strong>-x</strong> <em>args</em>] [<strong>-X</strong> <em>arg</em>] <em>command ...</em></p><p><strong>paralllel-ssh -I</strong> [<strong>-vAiIP</strong>] [<strong>-h</strong> <em>hosts_file</em>] [<strong>-H</strong> [<em>user</em>@]<em>host</em>[:<em>port</em>]] [<strong>-l</strong> <em>user</em>] [<strong>-p</strong> <em>par</em>] [<strong>-o</strong> <em>outdir</em>] [<strong>-e</strong> <em>errdir</em>] [<strong>-t</strong> <em>timeout</em>] [<strong>-O</strong> <em>options</em>] [<strong>-x</strong> <em>args</em>] [<strong>-X</strong> <em>arg</em>] [<em>command</em> <em>...</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>paralllel-ssh</strong> is a program for executing ssh in parallel on a number of hosts.  It provides features such as sending input to all of the processes, passing a password to ssh, saving output to files, and timing out.</p><p>The PSSH_NODENUM and PSSH_HOST environment variables are sent to the remote host.  The PSSH_NODENUM variable is assigned a unique number for each ssh connection, starting with 0 and counting up.  The PSSH_HOST variable is assigned the name of the host as specified in the hosts list.  Note that sshd drops environment variables by default, so sshd_config on the remote host must include the line:</p><p>AcceptEnv PSSH_NODENUM PSSH_HOST</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong><em> host_file</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--hosts</strong><em> host_file</em></p>
  </dt>
  <dd>
    <p>Read hosts from the given <em>host_file</em>. Lines in the host file are of the form [<em>user</em>@]<em>host</em>[:<em>port</em>] and can include blank lines and comments (lines beginning with "#"). If multiple host files are given (the <strong>-h</strong> option is used more than once), then paralllel-ssh behaves as though these files were concatenated together. If a host is specified multiple times, then paralllel-ssh will connect the given number of times.</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>[<em>user</em>@]<em>host</em>[:<em>port</em>]</p>
  </dd>
  <dt>
    <p><strong>--host</strong></p>
  </dt>
  <dd>
    <p>[<em>user</em>@]<em>host</em>[:<em>port</em>]</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>&quot;[<em>user</em>@]<em>host</em>[:<em>port</em>] [ [<em>user</em>@]<em>host</em>[:<em>port</em> ] ... ]&quot;</p>
  </dd>
  <dt>
    <p><strong>--host</strong></p>
  </dt>
  <dd>
    <p>&quot;[<em>user</em>@]<em>host</em>[:<em>port</em>] [ [<em>user</em>@]<em>host</em>[:<em>port</em> ] ... ]&quot;</p><ul>
<li><p>Add the given host strings to the list of hosts.  This option may be given multiple times, and may be used in conjunction with the <strong>-h</strong> option.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>-l</strong><em> user</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--user</strong><em> user</em></p>
  </dt>
  <dd>
    <p>Use the given username as the default for any host entries that don't specifically specify a user.</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em> parallelism</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--par</strong><em> parallelism</em></p>
  </dt>
  <dd>
    <p>Use the given number as the maximum number of concurrent connections.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em> timeout</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--timeout</strong><em> timeout</em></p>
  </dt>
  <dd>
    <p>Make connections time out after the given number of seconds.  With a value of 0, paralllel-ssh will not timeout any connections.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em> outdir</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--outdir</strong><em> outdir</em></p>
  </dt>
  <dd>
    <p>Save standard output to files in the given directory.  Filenames are of the form [<em>user</em>@]<em>host</em>[:<em>port</em>][.<em>num</em>] where the user and port are only included for hosts that explicitly specify them.  The number is a counter that is incremented each time for hosts that are specified more than once.</p>
  </dd>
  <dt>
    <p><strong>-e</strong><em> errdir</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--errdir</strong><em> errdir</em></p>
  </dt>
  <dd>
    <p>Save standard error to files in the given directory.  Filenames are of the same form as with the <strong>-o</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-x</strong><em> args</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--extra-args</strong><em> args</em></p>
  </dt>
  <dd>
    <p>Passes extra SSH command-line arguments (see the <strong>ssh</strong>(1) man page for more information about SSH arguments). This option may be specified multiple times. The arguments are processed to split on whitespace, protect text within quotes, and escape with backslashes. To pass arguments without such processing, use the <strong>-X</strong> option instead.</p>
  </dd>
  <dt>
    <p><strong>-X</strong><em> arg</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--extra-arg</strong><em> arg</em></p>
  </dt>
  <dd>
    <p>Passes a single SSH command-line argument (see the <strong>ssh</strong>(1) man page for more information about SSH arguments).  Unlike the <strong>-x</strong> option, no processing is performed on the argument, including word splitting. To pass multiple command-line arguments, use the option once for each argument.</p>
  </dd>
  <dt>
    <p><strong>-O</strong><em> options</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--options</strong><em> options</em></p>
  </dt>
  <dd>
    <p>SSH options in the format used in the SSH configuration file (see the <strong>ssh_config</strong>(5) man page for more information).  This option may be specified multiple times.</p>
  </dd>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--askpass</strong></p>
  </dt>
  <dd>
    <p>Prompt for a password and pass it to ssh.  The password may be used for either to unlock a key or for password authentication. The password is transferred in a fairly secure manner (e.g., it will not show up in argument lists).  However, be aware that a root user on your system could potentially intercept the password.</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--inline</strong></p>
  </dt>
  <dd>
    <p>Display standard output and standard error as each host completes.</p>
  </dd>
  <dt>
    <p><strong>--inline-stdout</strong></p>
  </dt>
  <dd>
    <p>Display standard output (but not standard error) as each host completes.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>Include error messages from ssh with the <strong>-i</strong> and <strong>&#92;</strong> options.</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--send-input</strong></p>
  </dt>
  <dd>
    <p>Read input and send to each ssh process.  Since ssh allows a command script to be sent on standard input, the <strong>-I</strong> option may be used in lieu of the command argument.</p>
  </dd>
  <dt>
    <p><strong>-P</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>--print</strong></p>
  </dt>
  <dd>
    <p>Display output as it arrives.  This option is of limited usefulness because output from different hosts are interleaved.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Connect to host1 and host2, and print "hello, world" from each:</p><p>parallel-ssh -i -H "host1 host2" echo "hello, world"</p><p>Print "hello, world" from each host specified in the file hosts.txt:</p><p>parallel-ssh -i -h hosts.txt echo "hello, world"</p><p>Run a command as root with a prompt for the root password:</p><p>parallel-ssh -i -h hosts.txt -A -l root echo hi</p><p>Run a long command without timing out:</p><p>parallel-ssh -i -h hosts.txt -t 0 sleep 10000</p><p>If the file hosts.txt has a large number of entries, say 100, then the parallelism option may also be set to 100 to ensure that the commands are run concurrently:</p><p>parallel-ssh -i -h hosts.txt -p 100 -t 0 sleep 10000</p><p>Run a command without checking or saving host keys:</p><p>parallel-ssh -i -H host1 -H host2 -x "-O StrictHostKeyChecking=no -O UserKnownHostsFile=/dev/null -O GlobalKnownHostsFile=/dev/null" echo hi</p><p>Print the node number for each connection (this will print 0, 1, and 2):</p><p>parallel-ssh -i -H host1 -H host1 -H host2 'echo $PSSH_NODENUM'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TIPS</h2>
        <div class="sectioncontent">
<p>If you have a set of hosts that you connect to frequently with specific options, it may be helpful to create an alias such as:</p><p>alias pssh_servers="parallel-ssh -h /path/to/server_list.txt -l root -A"</p><p>The ssh_config file can include an arbitrary number of Host sections.  Each host entry specifies ssh options which apply only to the given host.  Host definitions can even behave like aliases if the HostName option is included. This ssh feature, in combination with parallel-ssh host files, provides a tremendous amount of flexibility.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The exit status codes from paralllel-ssh are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>Success</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>Miscellaneous error</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>Syntax or usage error</p>
  </dd>
  <dt>
    <p><strong>3</strong></p>
  </dt>
  <dd>
    <p>At least one process was killed by a signal or timed out.</p>
  </dd>
  <dt>
    <p><strong>4</strong></p>
  </dt>
  <dd>
    <p>All processes completed, but at least one ssh process reported an error (exit status 255).</p>
  </dd>
  <dt>
    <p><strong>5</strong></p>
  </dt>
  <dd>
    <p>There were no ssh errors, but at least one remote command had a non-zero exit status.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Written by Brent N. Chun &lt;bnc@theether.org&gt; and Andrew McNabb &lt;amcnabb@mcnabbs.org&gt;.</p><p>http://code.google.com/p/parallel-ssh/</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO parallel-ssh&hellip;</h2>
        <div class="sectioncontent">
<p><strong>ssh</strong>(1), <strong>ssh_config</strong>(5),</strong> <a href="../man1/parallel-scp.1.html"><strong>parallel-scp</strong>(1)</a>, <a href="../man1/parallel-rsync.1.html"><strong>parallel-rsync</strong>(1)</a>, <a href="../man1/parallel-slurp.1.html"><strong>parallel-slurp</strong>(1)</a>, <a href="../man1/parallel-nuke.1.html"><strong>parallel-nuke</strong>(1)</a>,</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="parallel-slurp.1.html"><span aria-hidden="true">&larr;</span> parallel-slurp.1: Parallel-slurp  parallel process kill program</a></li>
   <li class="next"><a href="paraprof.1.html">paraprof.1: Opens tau's performance data viewer. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
