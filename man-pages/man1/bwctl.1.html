<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bwctl: Client application to request throughput tests.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Client application to request throughput tests.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="bwctl (1) manual">
  <meta name="twitter:description" content="Client application to request throughput tests.">
  <meta name="twitter:image" content="https://www.carta.tech/images/bwctl-client-bwctl-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/bwctl.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="bwctl (1) manual" />
  <meta property="og:description" content="Client application to request throughput tests." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/bwctl-client-bwctl-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">bwctl<small> (1)</small></h1>
        <p class="lead">Client application to request throughput tests.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bwctl.1.html">
      <span itemprop="name">bwctl: Client application to request throughput tests.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/bwctl-client/">
      <span itemprop="name">bwctl-client</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bwctl.1.html">
      <span itemprop="name">bwctl: Client application to request throughput tests.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>bwctl</strong> [<em>options</em>] <em>-c recvhost -s sendhost</em></p><p><strong>bwctl</strong> [<em>options</em>] <em>-c recvhost</em></p><p><strong>bwctl</strong> [<em>options</em>] <em>-s sendhost</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>bwctl</strong> is a command line client application that is used to initiate throughput tests.</p>
<dl class='dl-vertical'>
  <dt>
    <p>This version of <strong>bwctl</strong> is capable of initiating <strong>Iperf</strong>, <strong>Nuttcp</strong>, and <strong>Thrulay</strong> tests.</p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p><strong>bwctl</strong> works by contacting a <strong>bwctld</strong> daemon on both the receiving host and the sending host. <strong>bwctld</strong> manages and schedules the resources of the host it runs on. In the case where only one of the receiving host or sending host is specified, <strong>bwctl</strong> assumes the local host is the other endpoint. <strong>bwctl</strong> will attempt to contact a local <strong>bwctld</strong> if it can. If there is no local <strong>bwctld</strong> running, <strong>bwctl</strong> assumes the local host does not require policy controls and will execute the <strong>bwctld</strong> functionality required to run the test directly.</p><p>If cases where <strong>bwctl</strong> is directly running the throughput test on the host, there are several configuration options that are shared with <strong>bwctld</strong>. Those configuration options can be set using the <a href="../man5/bwctlrc.5.html"><strong>bwctlrc</strong>(5)</a> configuration file in a way very similar to the way they are specified in the <a href="../man5/bwctld.conf.5.html"><strong>bwctld.conf</strong>(5)</a> file.</p><p>The <strong>bwctl</strong> client is used to request the desired type of throughput test. Furthermore, it requests <em>when</em> the test is wanted. <strong>bwctld</strong> on each endpoint either responds with a tentative reservation or a <strong>test denied</strong> message. Once <strong>bwctl</strong> is able to get a matching reservation from both <strong>bwctld</strong> processes (one for each host involved in the test), it confirms the reservation. Then, the <strong>bwctld</strong> processes run the test and return the results. The results are returned to the client from both sides of the test from the respective <strong>bwctld</strong> processes. Additionally, the <strong>bwctld</strong> processes share the results from their respective side of the test with each other.</p><p><strong>BWCTL</strong> (<strong>bwctl</strong> and <strong>bwctld</strong>) is used to enable non-specific throughput tests to hosts without having to give full user accounts on the given systems. Users want the ability to run throughput tests to determine the achievable or available bandwidth between a pair of hosts. It is often useful to test to multiple points along a network path to determine the network characteristics along that path. Typically, users who want to do this path decomposition have to directly contact the network/system administrators who control the hosts along the path. The administrator needs to either run half of the test for the user or give them a user account on the host. Also, network paths of interest are typically controlled by multiple administrators. These hurdles have made this kind of testing difficult in practice.</p><p><strong>BWCTL</strong> was designed to help with this problem. It allows an administrator to configure a given host as an <strong>Iperf</strong>, <strong>Thrulay</strong>, or <strong>Nuttcp</strong> endpoint.  The endpoint can be a packet sender (e.g. <strong>Iperf</strong> client) or a packet receiver (e.g. <strong>Iperf</strong> server). It can be shared by multiple users without concern that those users will interfere with each other. Specific policy limits can be applied to specific users, and individual tests are scheduled so they will not interfere with each other. Additionally, full user accounts are not required for the users running the tests.</p><p><strong>BWCTL</strong> allows the administrator to classify incoming connections based upon a user name and AES key combination or, alternatively, based upon an IP/netmask. Once the connection is classified, the <strong>bwctld</strong> can determine the exact type and intensities of througput tests that will be allowed. More information on the policy controls can be found in the <a href="../man8/bwctld.8.html"><strong>bwctld</strong>(8)</a> man page.</p><p><strong>BWCTL</strong> makes use of a distributed scheduling algorithm. Each host maintains a schedule independently. As a client requests a test, the two endpoints are contacted and each <strong>bwctld</strong> server responds with the first available open schedule slot. This enables on-demand tests to co-exist with regularly scheduled tests since regularly scheduled tests are implemented by having the client request tests on regular intervals. Different priorities can be implemented using the <em>event_horizon</em> configuration directive to <strong>bwctld</strong>. (By allowing clients that implement regularly scheduled tests to reserve their time slots further into the future.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ARGUMENTS</h2>
        <div class="sectioncontent">
<h3>Connection/Authentication Arguments:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-4</strong></p>
  </dt>
  <dd>
    <p>Forces bwctl to use IPv4 addresses only.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unspecified (IPv6 is preferred).</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-6</strong></p>
  </dt>
  <dd>
    <p>Forces bwctl to use IPv6 addresses only.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unspecified (IPv6 is preferred).</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-A</strong> <em>authmethod</em><strong></strong></p>
  </dt>
  <dd>
    <p><em>authmethod</em> is used to specify the authentication method the <strong>bwctl</strong> client is willing to use for communication with the <strong>bwctld</strong> on the <em>sendhost</em> and <em>recvhost</em>. The authentication options of <strong>bwctl</strong> are intended to be extensible. The communication from the <strong>bwctl</strong> client to each <strong>bwctld</strong> server may take different options for different types of authentication. If the <em>authmethod</em> option is specified for either the <strong>-s</strong>, or the <strong>-c</strong> argument, it overrides the <em>authmethod</em> specified with the <strong>-A</strong> option for communication with that particular host. (Therefore, the <strong>-A</strong> argument is really only useful if the same authentication can be used with both hosts.)</p><p>Allowing different authentication methods for each connection should allow a client to use different authentication methods with different servers which should in turn allow cross-domain tests to occur more easily.</p><p>The format for <em>authmethod</em> is:</p><p><em>authmode [authscheme schemeopts]</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><em>authmode</em></p>
  </dt>
  <dd>
    <p>Specifies the authentication mode the client is willing to speak with a server. It must be set as a character string with any or all of the characters "AEO". The modes are:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>A</strong>
  </dt>
  <dd>
    <p>[<strong>A</strong>]uthenticated. This mode encrypts the control connection.</p>
  </dd>
  <dt>
    <strong>E</strong>
  </dt>
  <dd>
    <p>[<strong>E</strong>]ncrypted. This mode encrypts the control connection. If the test supports encryption, this mode will additionally encrypt the test stream. (Encryption of the test stream is not currently supported, so this mode is currently identical to authenticated.)</p>
  </dd>
  <dt>
    <strong>O</strong>
  </dt>
  <dd>
    <p>[<strong>O</strong>]pen. No encryption of any kind is done.</p>
  </dd>

</dl>
<p>The client can specify all the modes with which it is willing to communicate. The most strict mode that both the server and the client are willing to use will be selected.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>"AEO"</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><em>authscheme schemeopts</em></p>
  </dt>
  <dd>
    <p><em>authscheme</em> indicates the authentication scheme that should be used to achieve the <strong>authenticated</strong> or <strong>encrypted</strong> modes. <em>schemeopts</em> are a list of arguments specific to each particular authentication scheme. Supported <em>authscheme</em> values follow (listed with the <em>schemeopts</em> each scheme requires):</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>AESKEY</strong> <em>userid [keyfile]</em></p>
  </dt>
  <dd>
    <p>This is the initial "simple" shared secret (AES key) model. <em>userid</em> is required to identify which shared secret the server and client should use. <em>keyfile</em> optionally specifies a file to retrieve the AES key from. If <em>keyfile</em> is not specified, the user will be prompted for a <em>passphrase</em>. <em>keyfile</em> can be generated using the <a href="../man1/aespasswd.1.html"><strong>aespasswd</strong>(1)</a> application.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unauthenticated</p>
  </dd>

</dl>

  </dd>

</dl>

  </dd>

</dl>
<p><em>authscheme</em> and <em>schemeopts</em> are only needed if authenticated communication (<strong>A</strong> or <strong>E</strong> modes of <em>authmode</em>) is wanted with <em>sendhost</em> and <em>recvhost</em>.</p>
  </dd>
  <dt>
    <p><strong>-B</strong> <em>srcaddr</em></p>
  </dt>
  <dd>
    <p>Bind the local address of the client socket to <em>srcaddr</em>. <em>srcaddr</em> can be specified using a DNS name or using standard textual notations for the IP addresses.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unspecified (wild-card address selection).</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-c</strong> <em>recvhost[:port] [authmethod]</em></p>
  </dt>
  <dd>
    <p>Specifies the host that will run the <strong>Iperf</strong>, <strong>Thrulay</strong> or <strong>Nuttcp</strong> server. The :port suffix is optional and is only needed if <strong>bwctld</strong> is being run on a non-default port number. If an IPv6 address is being specified, note that the accepted format contains the <em>recvhost</em> portion of the specification in square brackets as: [fe80::fe9f:62d8]:4823. This ensures the port number is distinct from the address specification, and is not needed if the :port suffix is not being used.</p><p>At least one of the <strong>-c</strong> or <strong>-s</strong> options must be specified. If one of them is not specified, it is assumed to be the local host.</p><p><em>authmethod</em> is a specifically ordered list of keywords that is only needed if authenticated communication is wanted with <em>recvhost</em>. These keywords are used to describe the type of communication and authentication that should be used to contact the <em>recvhost</em>. If <em>recvhost</em> and <em>sendhost</em> share the same authentication methods and identities, it is possible to specify the authmethod for both <em>recvhost</em> and <em>sendhost</em> using the <strong>-A</strong> argument. An <em>authmethod</em> specified with the <strong>-c</strong> option will override an <em>authmethod</em> specified with the <strong>-A</strong> argument for communication with the <em>recvhost</em>.</p><p>The format for <em>authmethod</em> and a description of the currently available authentication methods are described with the <strong>-A</strong> argument.</p>
  </dd>
  <dt>
    <p><strong>-k</strong></p>
  </dt>
  <dd>
    <p>This option has been deprecated. Originally, it was used to specify the keyfile for authentication. All authentication options can now be specified using the <strong>-A</strong> argument. For the next several versions this option will report an error. Eventually, it may be reclaimed for another purpose.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-s</strong> <em>sendhost[:port] [authmethod]</em></p>
  </dt>
  <dd>
    <p>Specifies the host that will run the <strong>Iperf</strong>, <strong>Thrulay</strong> or <strong>Nuttcp</strong> client. The :port suffix is optional and is only needed if <strong>bwctld</strong> is being run on a non-default port number. If an IPv6 address is being specified, note that the accepted format contains the <em>sendhost</em> portion of the specification in square brackets as: [fe80::fe9f:62d8]:4823. This ensures the port number is distinct from the address specification, and is not needed if the :port suffix is not being used.</p><p>At least one of the <strong>-c</strong> or <strong>-s</strong> options must be specified. If one of them is not specified, it is assumed to be the <em>local</em>.</p><p><em>authmethod</em> is a specifically ordered list of keywords that is only needed if authenticated communication is wanted with <em>sendhost</em>. These keywords are used to describe the type of communication and authentication that should be used to contact the <em>sendhost</em>. If <em>recvhost</em> and <em>sendhost</em> share the same authentication methods and identities, it is possible to specify the authmethod for both <em>recvhost</em> and <em>sendhost</em> using the <strong>-A</strong> argument. An <em>authmethod</em> specified with the <strong>-s</strong> option will override an <em>authmethod</em> specified with the <strong>-A</strong> argument for communication with the <em>sendhost</em>.</p><p>The format for <em>authmethod</em> and a description of the currently available authentication methods are described with the <strong>-A</strong> argument.</p>
  </dd>
  <dt>
    <p><strong>-U</strong></p>
  </dt>
  <dd>
    <p>This option has been deprecated. Originally, it was used to specify the username to identify the AES key for authentication. All authentication options can now be specified using the <strong>-A</strong> argument. For the next several versions this option will report an error. Eventually, it may be reclaimed for another purpose.</p>
  </dd>

</dl>

<h3>Throughput Test Arguments:</h3>
<p>The arguments were named to match their counterparts in <strong>Iperf</strong> as closely as possible.</p><p>Some of the options are not available for some of the throughput testers. BWCTL does not support UDP tests, changing the output format or changing the output units for either <strong>Nuttcp</strong> or <strong>Thrulay</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>Specify which throughput tester to use:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>iperf</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>thrulay</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <strong>nuttcp</strong>
  </dt>
  <dd>
    
  </dd>
  <dt>
    Default:
  </dt>
  <dd>
    <p>None. Selects a tool that the client and server have in common</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-S</strong> <em>TOS</em></p>
  </dt>
  <dd>
    <p>Set the TOS byte in the sending packets.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>None.</p>
  </dd>

</dl>

  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-D</strong> <em>DSCP</em></p>
  </dt>
  <dd>
    <p>Set an RFC 2474 style DSCP value for the TOS byte in the sending packets. This can be set using a 6-bit numeric value in decimal, hex, or octal. Additionally, the following set of symbolic <strong>DSCP</strong> name constants are understood. (Example applications are taken from RFC 4594.)</p>
  </dd>

</dl>
<table class="table table-striped">
<tr>
<th>Name</th></tr>

<tr>
<td>Value</td></tr>

<tr>
<td>Service Class</td></tr>

<tr>
<td>Examples</td></tr>

<tr>
<td>NONE</td></tr>

<tr>
<td>000000</td></tr>

<tr>
<td>Standard</td></tr>

<tr>
<td>Undifferentiated</td></tr>

<tr>
<td>DEFAULT</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>DF</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>CS0</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>CS1</td></tr>

<tr>
<td>001000</td></tr>

<tr>
<td>Low-Priority Data</td></tr>

<tr>
<td>No BW assurance</td></tr>

<tr>
<td>AF11</td></tr>

<tr>
<td>001010</td></tr>

<tr>
<td>High-Throughput Data</td></tr>

<tr>
<td>Store and forward</td></tr>

<tr>
<td>AF12</td></tr>

<tr>
<td>001100</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>AF13</td></tr>

<tr>
<td>001110</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>CS2</td></tr>

<tr>
<td>010000</td></tr>

<tr>
<td>OAM</td></tr>

<tr>
<td>OAM&P</td></tr>

<tr>
<td>AF21</td></tr>

<tr>
<td>010010</td></tr>

<tr>
<td>Low-Latency Data</td></tr>

<tr>
<td>Web-based ordering</td></tr>

<tr>
<td>AF22</td></tr>

<tr>
<td>010100</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>AF23</td></tr>

<tr>
<td>010110</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>CS3</td></tr>

<tr>
<td>011000</td></tr>

<tr>
<td>Broadcast Video</td></tr>

<tr>
<td>TV & live events</td></tr>

<tr>
<td>AF31</td></tr>

<tr>
<td>011010</td></tr>

<tr>
<td>Multimedia Streaming</td></tr>

<tr>
<td>Streaming video and audio</td></tr>

<tr>
<td>AF32</td></tr>

<tr>
<td>011100</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>AF33</td></tr>

<tr>
<td>011110</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>CS4</td></tr>

<tr>
<td>100000</td></tr>

<tr>
<td>Real-Time Interactive</td></tr>

<tr>
<td>Video conf and gaming</td></tr>

<tr>
<td>AF41</td></tr>

<tr>
<td>100010</td></tr>

<tr>
<td>Multimedia Conferencing</td></tr>

<tr>
<td>H.323 video conferencing</td></tr>

<tr>
<td>AF42</td></tr>

<tr>
<td>100100</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>AF43</td></tr>

<tr>
<td>100110</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>\^</td></tr>

<tr>
<td>CS5</td></tr>

<tr>
<td>101000</td></tr>

<tr>
<td>Signaling</td></tr>

<tr>
<td>Video conf and gaming</td></tr>

<tr>
<td>EF</td></tr>

<tr>
<td>101110</td></tr>

<tr>
<td>Telephony</td></tr>

<tr>
<td>IP Telephony bearer</td></tr>

<tr>
<td>CS6</td></tr>

<tr>
<td>110000</td></tr>

<tr>
<td>Network Control</td></tr>

<tr>
<td>Network routing</td></tr>

<tr>
<td>CS7</td></tr>

<tr>
<td>111000</td></tr>
</table>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unset.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b</strong> <em>bandwidth</em></p>
  </dt>
  <dd>
    <p>Limit UDP send rate to <em>bandwidth</em> (bits/sec).</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>1 Mb</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-i</strong> <em>interval</em></p>
  </dt>
  <dd>
    <p>Report interval (seconds).</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>unset (no intervals reported)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-l</strong> <em>len</em></p>
  </dt>
  <dd>
    <p>length of read/write buffers (bytes).</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>8 KB TCP, 1470 bytes UDP</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-P</strong> <em>nStreams</em></p>
  </dt>
  <dd>
    <p>Number of concurrent streams for the test. See the <strong>-P</strong> option of <strong>Iperf</strong> for details.</p>
  </dd>
  <dt>
    <p><strong>-S</strong> <em>TOS</em></p>
  </dt>
  <dd>
    <p>Set the TOS (See RFC 1349) byte in packets.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>0 (not set)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-t</strong> <em>time</em></p>
  </dt>
  <dd>
    <p>Duration of test (seconds).</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>10</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-u</strong></p>
  </dt>
  <dd>
    <p>UDP test.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>TCP test</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-W</strong> <em>window</em></p>
  </dt>
  <dd>
    <p>Same as the <strong>-w</strong> option, except that the value is advisory. <strong>bwctl</strong> will attempt to dynamically determine the appropriate TCP window, based upon RTT information gathered from the control socket. If <strong>bwctl</strong> is unable to dynamically determine a window, the value <em>window</em> will be used.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unset (system defaults)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-w</strong> <em>window</em></p>
  </dt>
  <dd>
    <p>Socket buffer sizes (bytes). For TCP, this sets the TCP window size. For UDP, this sets the socket receive buffer size.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unset (system defaults)</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>Scheduling Arguments:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-a</strong> <em>syncfuzz</em></p>
  </dt>
  <dd>
    <p>Allow <strong>bwctl</strong> to run without a synchronized system clock. Use this to specify how far off the local clock is from <strong>UTC</strong>. <strong>bwctl</strong> prefers to have an <strong>NTP</strong> synchronized system clock to ensure the two endpoints of the test are actually agreeing to the same scheduled time window for test execution.</p><p>If two systems do NOT have a close enough notion of time, then the throughput test will eventually fail because one endpoint of the test will attempt to run at a different time than the other.</p><p>If the operating system supports the <strong>NTP</strong> system calls, and the system clock is determined to be unsynchronized, error messages will still be reported depending upon the value of the <em>-e</em> flag.</p><p>When calculating the time errors, this value will be aded in to account for the difference. The maximum time offset can be bounded on the server side, using the max_time_error directive, to prevent a denial of service attack. If set, the server will reject any requests to test with a peer that has too high a timestamp error.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unset (Defaults to Set for systems without the <strong>NTP</strong> system calls)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-I</strong> <em>interval</em></p>
  </dt>
  <dd>
    <p>Specifies that <strong>bwctl</strong> should attempt to run a throughput test every <em>interval</em> seconds.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Unset. If it is unset, <strong>bwctl</strong> only runs the test once.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-L</strong> <em>longest</em></p>
  </dt>
  <dd>
    <p>Specifies the longest amount of time the client is willing to wait for a reservation window. When <strong>bwctl</strong> requests a test from the <strong>bwctld</strong> server, it specifies the earliest time and the latest time it is willing to accept. The latest time is determined by adding this <em>longest</em> option to the earliest time. The earliest time is essentially 'now'. The <em>longest</em> time is specified as a number of seconds.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>If <em>interval</em> is set, the default is 50% of <em>interval</em>. Otherwise, the default is twice the test duration <em>time</em> but no smaller than 5 minutes. (See <strong>-t</strong>.)</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-n</strong> <em>nIntervals</em></p>
  </dt>
  <dd>
    <p>Number of tests to perform if the <strong>-I</strong> option is set.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>Continuous</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-R</strong> <em>alpha</em></p>
  </dt>
  <dd>
    <p>Randomize the start time of the test within this <em>alpha</em> percent of the <em>interval</em>. Valid values for <em>alpha</em> are from 0-50. <strong>bwctl</strong> will attempt to run the test every <em>interval</em> +/- <em>alpha</em> percent. For example, if the <em>interval</em> is 300 seconds and <em>alpha</em> is set to 10 percent, then <strong>bwctl</strong> will attempt to run a test every 270-330 seconds. This option is only useful with the <strong>-I</strong> option.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>0 (no randomness)</p>
  </dd>

</dl>

  </dd>

</dl>

<h3>Output Arguments:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong> <em>dir</em></p>
  </dt>
  <dd>
    <p>Specifies directory for results files if the <strong>-p</strong> option is set.</p>
  </dd>
  <dt>
    <p><strong>-e</strong> <em>facility</em></p>
  </dt>
  <dd>
    <p>Syslog <em>facility</em> to log messages to.</p>
<dl class='dl-vertical'>
  <dt>
    Default:
  </dt>
  <dd>
    <p>LOG_USER</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-f</strong> <em>units</em></p>
  </dt>
  <dd>
    <p>Specify the units for the tool to use when displaying the results. The accepted values for <em>units</em> are tool specific.</p>
<dl class='dl-vertical'>
  <dt>
    Iperf:
  </dt>
  <dd>
    
<dl class='dl-vertical'>
  <dt>
    <strong>k</strong>
  </dt>
  <dd>
    <p>Kilobits per second</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <strong>K</strong>
  </dt>
  <dd>
    <p>Kilobytes per second</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <strong>m</strong>
  </dt>
  <dd>
    <p>Megabits per second</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <strong>M</strong>
  </dt>
  <dd>
    <p>Megabytes per second</p>
  </dd>

</dl>

  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Print a help message.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Place test results in files. Print the filenames to stdout when results are complete.</p>
  </dd>
  <dt>
    <p><strong>-q</strong></p>
  </dt>
  <dd>
    <p>Quiet output. Output as little as possible.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Send syslog messages to stderr.  This is the default unless the <strong>-q</strong> option is specified so this option is only useful with the <strong>-q</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print version information and exit.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose output. Specifying additional <strong>-v</strong>'s increases the verbosity.</p>
  </dd>
  <dt>
    <p><strong>-x</strong></p>
  </dt>
  <dd>
    <p>Output sender (client) results as well as receiver results. By default, sender results are not output. If the <strong>-p</strong> option is specified, the sender results are placed in an additional file.</p>
  </dd>
  <dt>
    <p><strong>-y</strong> <em>format</em></p>
  </dt>
  <dd>
    <p>Specify the output format of the tool. The accepted values for <em>format</em> are tool specific.</p>
<dl class='dl-vertical'>
  <dt>
    Iperf:
  </dt>
  <dd>
    
<dl class='dl-vertical'>
  <dt>
    <strong>c</strong>
  </dt>
  <dd>
    <p>[<strong>c</strong>]omma-separated output</p>
  </dd>

</dl>

  </dd>

</dl>

  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<table class="table table-striped">
<tr>
<th>bwctl Environment Variable</th>
<th>use</th>
<th>default</th>
<th></th></tr>

<tr>
<td></td>
<td></td>
<td></td>
<td></td></tr>

<tr>
<td>BWCTLRC</td>
<td>Config file</td>
<td>~/.bwctlrc</td>
<td></td></tr>

<tr>
<td>BWCTL_DEBUG_TIMEOFFSET</td>
<td>Offset</td>
<td>0.0(seconds)</td>
<td></td></tr>
</table>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>Only tested with versions 1.7.0 and 2.0.b of <strong>Iperf</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p><strong>bwctl -c somehost.example.com</strong></p><ul>
<li><p>Run a default 10 second TCP test as soon as possible with <em>local</em> as the sender and somehost.example.com as the receiver, using whichever tools they have in common. Return the results from the receive side of the test.</p></li>
</ul><p><strong>bwctl -x -c somehost.example.com</strong></p><ul>
<li><p>Like the previous test, but also return the results from the sender side of the test.</p></li>
</ul><p><strong>bwctl -x -c somehost.example.com -s otherhost.example.com</strong></p><ul>
<li><p>Like the previous test, but with otherhost.example.com as the sender instead of <em>local</em>.</p></li>
</ul><p><strong>bwctl -t 30 -T iperf -s somehost.example.com</strong></p><ul>
<li><p>Run a 30 second TCP <strong>Iperf</strong> test with somehost.example.com as the sender and <em>local</em> as the receiver.</p></li>
</ul><p><strong>bwctl -I 3600 -R 10 -t 10 -u -b 10m -s somehost.example.com</strong></p><ul>
<li><p>Run a 10 second UDP test about every hour (3600 +/- 360 seconds) with the sender rate limited to 10 Mbits per second from somehost.example.com to <em>local</em>.</p></li>
</ul><p><strong>bwctl -s somehost.example.com AE AESKEY someuser</strong></p><ul>
<li><p>Run the default 10 second TCP test. Authenticate using the identity <em>someuser</em>. <strong>bwctl</strong> will prompt for a passphrase that will be used to create an AES key.</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO bwctl&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/bwctld.8.html"><strong>bwctld</strong>(8)</a> and the http://e2epi.internet2.edu/bwctl/ web site.</p><p>For details on <strong>Iperf</strong>, see the http://sourceforge.net/projects/iperf web site.</p><p>For details on <strong>Nuttcp</strong>, see the http://www.wcisd.hpc.mil/nuttcp/Nuttcp-HOWTO.html web site.</p><p>For details on <strong>Thrulay</strong>, see the http://e2epi.internet2.edu/thrulay/ web site.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGMENTS</h2>
        <div class="sectioncontent">
<p>This material is based in part on work supported by the National Science Foundation (NSF) under Grant No. ANI-0314723. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the NSF.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bwbasic.1.html"><span aria-hidden="true">&larr;</span> bwbasic.1: Bywater basic interpreter/shell</a></li>
   <li class="next"><a href="bwild.1.html">bwild.1: Bareos's 'wildcard' engine <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
