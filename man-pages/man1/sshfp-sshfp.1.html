<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sshfp: Generate sshfp dns records from knownhosts files or ssh-keyscan</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate sshfp dns records from knownhosts files or ssh-keyscan">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sshfp (1) manual">
  <meta name="twitter:description" content="Generate sshfp dns records from knownhosts files or ssh-keyscan">
  <meta name="twitter:image" content="https://www.carta.tech/images/sshfp-sshfp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sshfp-sshfp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sshfp (1) manual" />
  <meta property="og:description" content="Generate sshfp dns records from knownhosts files or ssh-keyscan" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sshfp-sshfp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sshfp<small> (1)</small></h1>
        <p class="lead">Generate sshfp dns records from knownhosts files or ssh-keyscan</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sshfp.1.html">
      <span itemprop="name">sshfp: Generate sshfp dns records from knownhosts files or ssh-keyscan</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sshfp/">
      <span itemprop="name">sshfp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sshfp.1.html">
      <span itemprop="name">sshfp: Generate sshfp dns records from knownhosts files or ssh-keyscan</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>sshfp [<strong>-k</strong> &lt;<em>knownhosts_file</em>&gt;] [<strong>-d</strong>] [<strong>-a</strong>] | [&lt;<em>host1</em>&gt; [<em>host2 ...]</em>] sshfp <strong>-s</strong> [<strong>-p</strong> &lt;<em>port</em>&gt;] [<strong>-d</strong>] &lt;<strong>-a</strong>&gt; [<strong>-n &lt;nameserver</strong>&gt;<em>] &lt;domain1</em>&gt; [<em>domain2</em>] | &lt;<em>host1</em>&gt; [<em>host2 ...</em>] &gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>sshfp generates RFC4255 SSHFP DNS records based on the public keys stored in a known_hosts file, which implies the user has previously trusted this key, or public keys can be obtained by using ssh-keyscan (1). Using ssh-keyscan (1) implies a secure path to connect to the hosts being scanned. It also implies a trust in the DNS to obtain the IP address of the hostname to be scanned. If the nameserver of the domain allows zone tranfers (AXFR), an entire domain can be processed for all its A records.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p><strong>-s / --scan</strong> &lt;<em>hostname1</em>&gt; [hostname2 ...]</p><p>Scan hosts or domain for public SSH keys using ssh-keyscan</p><p><strong>-k / --knownhosts &lt;</strong><em>knownhosts_file</em><em>&gt; &lt;</em><em>hostname1</em><em>&gt; [hostname2 ...]</em></p><p>Obtain public SSH keys from a known_hosts file. Defaults to using ~/.ssh/known_hosts</p><p><strong>-a / --all</strong></p><p>Scan all hosts in the known_hosts file when used with -k. When used with -s, it will attempt an zone transfer (AXFR) to obtain all A records in the domain specified.</p><p><strong>-d / --trailing-dot</strong></p><p>Add a trailing dot to the hostname in the SSHFP records. It is not possible to determine whether a known_hosts or dns query is for a FQDN (eg www.xelerance.com) or not (eg www) or not (unless -d domainname -a is used, in which case a trailing dot is always appended). Non-FQDN get their domainname appended through /etc/resolv.conf These non-FQDN will happen when using a non-FQDN (eg sshfp -k www) or known_hosts entries obtained by running ssh www.sub where .domain.com is implied. When -d is used, all hostnames not ending with a dot, that at least contain two parts in their hostname (eg www.sub but not www get a trailing dot. Note that the output of sshfp can also just be manually editted for trailing dots.</p><p><strong>-o / --output</strong> &lt;<em>filename</em>&gt;</p><p>Write to filename instead of stdout</p><p><strong>-p / --port</strong> &lt;<em>portnumber</em>&gt;</p><p>Use portnumber for scanning. Note that portnumbers do NOT appear in SSHFP records.</p><p><strong>-h / --help</strong></p><p>Output help information and exit.</p><p><strong>-v / --version</strong></p><p>Output version information and exit.</p><p><strong>-q / --quiet</strong></p><p>Output less miscellany to stderr</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>~/.ssh/known_hosts</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REQUIREMENTS</h2>
        <div class="sectioncontent">
<p>sshfp requires python-dns (\m[blue]<strong>http://www.pythondns.org</strong>\m[])</p><p>Fedora: yum install python-dns</p><p>Debian: apt-get install python-dnspython</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>if a domain contains non-working glue A records, then ssh-keyscan aborts instead of skipping the single broken entry.</p><p>This program can look up hashed hostnames in a known_hosts file if a recent-enough ssh-keygen is present</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>typical usage:</p><p>sshfp (implies -k -a)</p><p>sshfp -a -d (implies -k)</p><p>sshfp -k bofh.xelerance.com (from known_hosts)</p><p>sshfp -s bofh.xelerance.com (from a scan to the host)</p><p>sshfp -k ~paul/.ssh/known_hosts bofh.xelerance.com www.openswan.org -o /tmp/mysshfp.txt</p><p>sshfp -a -d -d xelerance.com -n ns0.xelerance.net &gt;&gt; /var/named/primary/xelerance.com</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sshfp&hellip;</h2>
        <div class="sectioncontent">
<p><strong>ssh-keyscan</strong>(1) <strong>ssh</strong>(1) and RFC-4255</p><p>\m[blue]<strong>http://www.xelerance.com/software/sshfp/</strong>\m[]</p><p>\m[blue]<strong>http://lists.xelerance.com/mailman/listinfo/sshfp/</strong>\m[]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Paul Wouters &lt;paul@xelerance.com&gt;, Jacob Appelbaum &lt;jacob@appelbaum.net&gt;, James Brown &lt;jbrown@yelp.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright 2006-2010 Xelerance Corporation</p><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version. See &lt;\m[blue]<strong>http://www.fsf.org/copyleft/gpl.txt</strong>\m[]&gt;.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License (file COPYING in the distribution) for more details.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="hash-slinger-sshfp.1.html"><span aria-hidden="true">&larr;</span> sshfp.1: Generate sshfp dns records from knownhosts files or ssh-keyscan</a></li>
   <li class="next"><a href="sshfs.1.html">sshfs.1: Filesystem client based on ssh <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
