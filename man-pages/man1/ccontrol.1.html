<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ccontrol: Wrapper to control distcc, ccache and more</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Wrapper to control distcc, ccache and more">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ccontrol (1) manual">
  <meta name="twitter:description" content="Wrapper to control distcc, ccache and more">
  <meta name="twitter:image" content="https://www.carta.tech/images/ccontrol-ccontrol-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ccontrol.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ccontrol (1) manual" />
  <meta property="og:description" content="Wrapper to control distcc, ccache and more" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ccontrol-ccontrol-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ccontrol<small> (1)</small></h1>
        <p class="lead">Wrapper to control distcc, ccache and more</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ccontrol.1.html">
      <span itemprop="name">ccontrol: Wrapper to control distcc, ccache and more</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ccontrol/">
      <span itemprop="name">ccontrol</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ccontrol.1.html">
      <span itemprop="name">ccontrol: Wrapper to control distcc, ccache and more</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><em>gcc</em> ...</p><p><em>cc</em> ...</p><p><em>c++</em> ...</p><p><em>make</em> ...</p><p><em>ld</em> ...</p><p><em>ccontrol</em> [--section=&lt;section&gt;] &lt;name&gt; ...</p><p><em>ccontrol</em> [--section=&lt;section&gt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a> program takes over the roles of the compiler and linker, and reads a configuration file to decide what to do before invoking them. This is particularly useful for centralized control over commands and options, such as enabling <a href="../man1/distcc.1.html"><strong>distcc</strong>(1)</a> and <a href="../man1/ccache.1.html"><strong>ccache</strong>(1)</a>.</p><p>When <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a> is invoked under its own name with no arguments, it prints out the settings which apply in this directory (unless <em>--section</em> is specified).</p><p>Versions are named after the last person to report a bug.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Normally <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a> is invoked as a symboling link to cc, make, etc, so it can identify what is being invoked by examining its own name. It can also be invoked under its own name, in which case ccontrol-specific arguments can be supplied. The first non-option argument will be used to identify the invocation, eg. "ccontrol gcc ...".</p><p>The following options are supported, when invoked as <em>ccontrol</em>:</p><p>--section=&lt;section&gt;</p><p>This is treated as the "current directory" for the purposes of evaluating the configuration file. As all real directories must begin with a "/" using an argument which does not, is a good way of overriding configuration for this particular invocation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILE</h2>
        <div class="sectioncontent">
<p>ccontrol\(cqs configuration file is $HOME/.ccontrol/config. If this cannot be read (and written), your compilations will all fail. It is normal to have several different configuration files in this directory, and make default a symbolic link.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SYNTAX</h2>
        <div class="sectioncontent">
<p>A configuration file consists of sections, led by a "[path]" header and followed by indented "name = value" entries. The first section is usually labelled "[*]" to set up the defaults. At the very least, you must set the "cc", "c++", "make" and "ld" values.</p><p>ccontrol will read every section which matches the current directory, so you can override values on a per-directory basis. The "[path]" header of each section is a shell-style wildcard (see <a href="../man7/glob.7.html"><strong>glob</strong>(7)</a>) which indicates the directory or directories it applies to. Usually this will end in a "*" to include all subdirectories.</p><p>All paths beginning with "~" are relative to the user\(cqs home directory. A path may be specified as a directory, in which case ccontrol will append the program name to the directory.</p><p>The following settings are available:</p><p>cc</p><p>Followed by <em>=</em> specifies the path of the compiler to be invoked when ccontrol is invoked as "cc" or "gcc". ccontrol will fail to compile C programs if this is not set.</p><p>c++</p><p>Followed by <em>=</em> specifies the path of the compiler to be invoked when ccontrol is invoked as "c" or "g". ccontrol will fail to compile C++ programs if this is not set.</p><p>ld</p><p>Followed by <em>=</em> specifies the path of the linker to be invoked when ccontrol is invoked as "ld". ccontrol will fail to link programs if this is not set.</p><p>make</p><p>Followed by <em>=</em> specifies the path of the binary to be invoked when ccontrol is invoked as "make". ccontrol will fail to make if this is not set.</p><p>ccache</p><p>Followed by <em>=</em> specifies the path of "ccache", and indicates that ccache is to be used where appropriate. If followed by <em>disable</em>, or not set, ccache will not be used.</p><p>distcc</p><p>Followed by <em>=</em> specifies the path of "distcc", and indicates that distcc is to be used where appropriate. If followed by <em>disable</em>, or not set, or distcc-hosts is not set, distcc will not be used.</p><p>distcc-hosts</p><p>Followed by <em>=</em> specifies the distcc servers to use, as per the DISTCC_HOSTS environment variable in <a href="../man1/distcc.1.html"><strong>distcc</strong>(1)</a>. Followed by <em>disable</em> disables distcc.</p><p>distc++-hosts</p><p>The same as distcc-hosts, but only applies to Ccompilations. If not set, distcc-hosts is used. You can thus disable distcc for C compilations by setting "distc++-hosts disable".</p><p>cpus</p><p>Followed by <em>=</em> and a number of CPUs, set to the number of CPUs you have (the default is "1"). <em>ccontrol</em> uses this to tune the degree of parallelism.</p><p>no-parallel</p><p>Followed by <em>=</em> and a space-separated list of wildcards, suppresses parallel make for any make target matching one of those. This option is needed because <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a> usually forces <a href="../man1/make.1.html"><strong>make</strong>(1)</a> to perform all actions in parallel, but this can be confusing when an error occurs, and breaks poorly-written makefiles. Followed by <em>disable</em>, enables parallel make for all targets: this is useful to re-enable parallel make in a subdirectory.</p><p>nice</p><p>Followed by <em>=</em> and a priority level from -19 to 20, causes ccontrol to try to set its priority to this value. Default is 10.</p><p>include</p><p>Followed by <em>=</em> specifies a file to include at the current point. The effect is exactly as if the contents of the included file were literally inserted. Can be used at file level to include sections. Can also be used within sections to include section fragments.</p><p>add make</p><p>Followed by <em>=</em> specifies an argument to be added to each invocation of <em>make</em>. This can be specified multiple times to add multiple arguments. Followed by <em>disable</em> removes any arguments previously specified.</p><p>add env</p><p>Followed by <em>=</em> specifies an environment variable to be set, such as "add env = CCACHE_DIR=/tmp". This can be specified multiple times to set multiple environment variables. Followed by <em>disable</em> removes any arguments previously specified.</p><p>verbose</p><p>By itself, indicates that <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a> is to spit lots of crap out to standard error about what it\(cqs doing to your innocent command line.</p><p>lock-file</p><p>Specify a particular lock file to use.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>This is the minimal configuration file:</p>
<pre>
[*]
        cc = /usr/bin/gcc
        c++ = /usr/bin/g++
        ld = /usr/bin/ld
        make = /usr/bin/make
</pre>
<p>If you have multiple locations (such as a laptop) it is common to have a "global" file which is included from every configuration file, like so:</p>
<pre>
# Configuration file for when I&apos;m at work.  Lots of distcc hosts!
include = ~/.ccontrol/global

[*]
        distcc-hosts = snab swarm1 swarm3 swarm4 swarm5 fandango2 mingo
        distc++-hosts = snab mingo
</pre>
<p>Here is a complete configuration file with several common scenarios:</p>
<pre>
[*]
        cc = /usr/bin/gcc-4.0
        c++ = /usr/bin/g++-4.0
        ld = /usr/bin/ld
        make = /usr/bin/make
# Comment this back in for debugging
#       verbose
        distcc = /usr/bin/distcc
        distcc-hosts = snab swarm1 swarm3 swarm4 swarm5 fandango2 mingo
        distc++-hosts = snab mingo
        ccache = /usr/bin/ccache
        # make check should not generally be run in parallel
        no-parallel = check

# Wesnoth doesn&apos;t compile with g++ 4.0
[*wesnoth*]
        c++ = /usr/bin/g++-3.4

# Stupid third-party modules don&apos;t build in parallel.
[/usr/src/modules/*]
        no-parallel = *

# Using distcc when testing module-init-tools causes strange effects.
[*module-init-tools*/tests/*]
        distcc disable
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The ~/.ccontrol/config file must be writable: <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a> needs to get an exclusive write lock on it, which means it needs to open the file for writing. Use <em>include</em> to include read-only files.</p><p>ccontrol will not immediately notice a change in included files, only in the toplevel file (ccontrol re-reads the config file if it changed while ccontrol was trying to grab a lock).</p><p>The Linux (\(la 2.6.15) cpufreq <em>ondemand</em> governor (common on laptops) will not increase CPU speed when using <a href="../man1/ccontrol.1.html"><strong>ccontrol</strong>(1)</a>, because ccontrol re-nices compilations. This can make builds 2-3 times slower. Either use another governor, or tell <em>ondemand</em> to ignore nice values:</p>
<pre>
echo 1 &gt; /sys/devices/system/cpu/cpu0/cpufreq/ondemand/ignore_nice
</pre>
<p>If your code doesn\(cqt compile, ccontrol can only make it not compile faster.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Rusty Russell &lt;\m[blue]<strong>rusty@rustcorp.com.au</strong>\m[]\s-2\u[1]\d\s+2&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2005 Rusty Russell. Free use of this software is granted under the terms of the GNU General Public License (GPL).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ccontrol&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/make.1.html"><strong>make</strong>(1)</a>, cc(1), c++(1), ld(1), <a href="../man1/distcc.1.html"><strong>distcc</strong>(1)</a>, <a href="../man1/ccache.1.html"><strong>ccache</strong>(1)</a>, <a href="../man7/glob.7.html"><strong>glob</strong>(7)</a>, <a href="../man1/cpufreq-set.1.html"><strong>cpufreq-set</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Rusty Russell</strong> &lt;rusty@rustcorp.com.au&gt;</p><p>Author.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>rusty@rustcorp.com.au</p><p>mailto:rusty@rustcorp.com.au</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ccomps.1.html"><span aria-hidden="true">&larr;</span> ccomps.1: Connected components filter for graphs</a></li>
   <li class="next"><a href="ccontrol-init.1.html">ccontrol-init.1: Initialize ccontrol setup <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
