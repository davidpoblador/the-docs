<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>git-replace: Create, list, delete refs to replace objects</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create, list, delete refs to replace objects">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="git-replace (1) manual">
  <meta name="twitter:description" content="Create, list, delete refs to replace objects">
  <meta name="twitter:image" content="https://www.carta.tech/images/git-man-git-replace-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/git-replace.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="git-replace (1) manual" />
  <meta property="og:description" content="Create, list, delete refs to replace objects" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/git-man-git-replace-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">git-replace<small> (1)</small></h1>
        <p class="lead">Create, list, delete refs to replace objects</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/git-replace.1.html">
      <span itemprop="name">git-replace: Create, list, delete refs to replace objects</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/git-man/">
      <span itemprop="name">git-man</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/git-replace.1.html">
      <span itemprop="name">git-replace: Create, list, delete refs to replace objects</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
<em>git replace</em> [-f] &lt;object&gt; &lt;replacement&gt;
<em>git replace</em> [-f] --edit &lt;object&gt;
<em>git replace</em> [-f] --graft &lt;commit&gt; [&lt;parent&gt;...]
<em>git replace</em> -d &lt;object&gt;...
<em>git replace</em> [--format=&lt;format&gt;] [-l [&lt;pattern&gt;]]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Adds a <em>replace</em> reference in refs/replace/ namespace.</p><p>The name of the <em>replace</em> reference is the SHA-1 of the object that is replaced. The content of the <em>replace</em> reference is the SHA-1 of the replacement object.</p><p>The replaced object and the replacement object must be of the same type. This restriction can be bypassed using -f.</p><p>Unless -f is given, the <em>replace</em> reference must not yet exist.</p><p>There is no other restriction on the replaced and replacement objects. Merge commits can be replaced by non-merge commits and vice versa.</p><p>Replacement references will be used by default by all Git commands except those doing reachability traversal (prune, pack transfer and fsck).</p><p>It is possible to disable use of replacement references for any command using the --no-replace-objects option just after <em>git</em>.</p><p>For example if commit <em>foo</em> has been replaced by commit <em>bar</em>:</p>
<pre>
$ git --no-replace-objects cat-file commit foo
</pre>
<p>shows information about commit <em>foo</em>, while:</p>
<pre>
$ git cat-file commit foo
</pre>
<p>shows information about commit <em>bar</em>.</p><p>The <em>GIT_NO_REPLACE_OBJECTS</em> environment variable can be set to achieve the same effect as the --no-replace-objects option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-f, --force</p><p>If an existing replace ref for the same object exists, it will be overwritten (instead of failing).</p><p>-d, --delete</p><p>Delete existing replace refs for the given objects.</p><p>--edit &lt;object&gt;</p><p>Edit an object\(cqs content interactively. The existing content for &lt;object&gt; is pretty-printed into a temporary file, an editor is launched on the file, and the result is parsed to create a new object of the same type as &lt;object&gt;. A replacement ref is then created to replace &lt;object&gt; with the newly created object. See <a href="../man1/git-var.1.html"><strong>git-var</strong>(1)</a> for details about how the editor will be chosen.</p><p>--raw</p><p>When editing, provide the raw object contents rather than pretty-printed ones. Currently this only affects trees, which will be shown in their binary form. This is harder to work with, but can help when repairing a tree that is so corrupted it cannot be pretty-printed. Note that you may need to configure your editor to cleanly read and write binary data.</p><p>--graft &lt;commit&gt; [&lt;parent&gt;...]</p><p>Create a graft commit. A new commit is created with the same content as &lt;commit&gt; except that its parents will be [&lt;parent&gt;...] instead of &lt;commit&gt;&apos;s parents. A replacement ref is then created to replace &lt;commit&gt; with the newly created commit. See contrib/convert-grafts-to-replace-refs.sh for an example script based on this option that can convert grafts to replace refs.</p><p>-l &lt;pattern&gt;, --list &lt;pattern&gt;</p><p>List replace refs for objects that match the given pattern (or all if no pattern is given). Typing "git replace" without arguments, also lists all replace refs.</p><p>--format=&lt;format&gt;</p><p>When listing, use the specified &lt;format&gt;, which can be one of <em>short</em>, <em>medium</em> and <em>long</em>. When omitted, the format defaults to <em>short</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMATS</h2>
        <div class="sectioncontent">
<p>The following format are available:</p><p><em>short</em>: &lt;replaced sha1&gt;</p><p><em>medium</em>: &lt;replaced sha1&gt; \(-&gt; &lt;replacement sha1&gt;</p><p><em>long</em>: &lt;replaced sha1&gt; (&lt;replaced type&gt;) \(-&gt; &lt;replacement sha1&gt; (&lt;replacement type&gt;)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREATING REPLACEMENT OBJECTS</h2>
        <div class="sectioncontent">
<p><a href="../man1/git-filter-branch.1.html"><strong>git-filter-branch</strong>(1)</a>, <a href="../man1/git-hash-object.1.html"><strong>git-hash-object</strong>(1)</a> and <a href="../man1/git-rebase.1.html"><strong>git-rebase</strong>(1)</a>, among other git commands, can be used to create replacement objects from existing objects. The --edit option can also be used with <em>git replace</em> to create a replacement object by editing an existing object.</p><p>If you want to replace many blobs, trees or commits that are part of a string of commits, you may just want to create a replacement string of commits and then only replace the commit at the tip of the target string of commits with the commit at the tip of the replacement string of commits.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Comparing blobs or trees that have been replaced with those that replace them will not work properly. And using git reset --hard to go back to a replaced commit will move the branch to the replacement commit instead of the replaced commit.</p><p>There may be other problems when using <em>git rev-list</em> related to pending objects.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO git-replace&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/git-hash-object.1.html"><strong>git-hash-object</strong>(1)</a> <a href="../man1/git-filter-branch.1.html"><strong>git-filter-branch</strong>(1)</a> <a href="../man1/git-rebase.1.html"><strong>git-rebase</strong>(1)</a> <a href="../man1/git-tag.1.html"><strong>git-tag</strong>(1)</a> <a href="../man1/git-branch.1.html"><strong>git-branch</strong>(1)</a> <a href="../man1/git-commit.1.html"><strong>git-commit</strong>(1)</a> <a href="../man1/git-var.1.html"><strong>git-var</strong>(1)</a> <a href="../man1/git.1.html"><strong>git</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GIT</h2>
        <div class="sectioncontent">
<p>Part of the <a href="../man1/git.1.html"><strong>git</strong>(1)</a> suite</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="git-repl.1.html"><span aria-hidden="true">&larr;</span> git-repl.1: Git read-eval-print-loop</a></li>
   <li class="next"><a href="git-request-pull.1.html">git-request-pull.1: Generates a summary of pending changes <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
