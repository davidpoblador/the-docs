<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cvs-mailcommit: Send cvs commitments via mail</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Send cvs commitments via mail">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cvs-mailcommit (1) manual">
  <meta name="twitter:description" content="Send cvs commitments via mail">
  <meta name="twitter:image" content="https://www.carta.tech/images/cvs-mailcommit-cvs-mailcommit-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cvs-mailcommit.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cvs-mailcommit (1) manual" />
  <meta property="og:description" content="Send cvs commitments via mail" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cvs-mailcommit-cvs-mailcommit-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cvs-mailcommit<small> (1)</small></h1>
        <p class="lead">Send cvs commitments via mail</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cvs-mailcommit.1.html">
      <span itemprop="name">cvs-mailcommit: Send cvs commitments via mail</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cvs-mailcommit/">
      <span itemprop="name">cvs-mailcommit</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cvs-mailcommit.1.html">
      <span itemprop="name">cvs-mailcommit: Send cvs commitments via mail</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>cvs-mailcommit</strong> [options] [version*]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>cvs-mailcommit</strong> is a helper application to \s-1CVS\s0 to help people keep track of \s-1CVS\s0 repositories via mail.  It is hooked into the \s-1CVS\s0 system via the <strong>\s-1CVSROOT\s0</strong>/<em>loginfo</em> file.  It will read modification information from \s-1CVS\s0 via <strong>stdin</strong> and require version information via the commandline.</p><p><strong>cvs-mailcommit</strong> will send differences of modified files or entire new files via mail to the denoted address.</p><p>You'll have to hook it into \s-1CVS\s0 for each module in a repository that you want to monitor via mail.  See <strong>\s-1INSTALLATION\s0</strong> below</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>This program supports the following arguments.  When the arguments don't make sense the program won't do anything.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>-m</strong> <em>address</em>, <strong>--mailto</strong> <em>address</em>
  </dt>
  <dd>
    <p>Send the mail to the specified <em>address</em>.  This option can be specified on the commandline multiple times.</p>
  </dd>
  <dt>
    <strong>--diff</strong>
  </dt>
  <dd>
    <p>Generate unified diffs for all modified files.</p>
  </dd>
  <dt>
    <strong>--full</strong>
  </dt>
  <dd>
    <p>Include the entire fill for newly created files that were added to the repository.</p>
  </dd>
  <dt>
    <strong>--maxlines</strong> <em>nnn</em>
  </dt>
  <dd>
    <p>You can specify how many lines per file may be quoted in the resulting mail.  Limiting the number of quoted lines may be useful for repositories with excessive changes that are similar.  The default is to copy 400 lines.</p>
  </dd>
  <dt>
    <strong>--xloop</strong> <em>address</em>
  </dt>
  <dd>
    <p>Include a special <strong>X-Loop</strong> header in the generated mail.  This is intended for users to be able to filter \s-1CVS\s0 mails by a common header line.  The line will look like X-Loop: <em>address</em></p>
  </dd>
  <dt>
    <strong>--from</strong> <em>address</em>
  </dt>
  <dd>
    <p>Generate a <strong>From:</strong>-line of the form From: \s-1CVS\s0 User foo &lt;<em>address</em>&gt; Otherwise the local user the program runs under will be used instead of <em>address</em>.  With this parameter you can ensure that all such mails will be sent with the same from line, which may be useful for moderated lists or some where only subscribers may write.</p>
  </dd>
  <dt>
    <strong>--replyto</strong> <em>address</em>
  </dt>
  <dd>
    <p>Try to redirect replies to \s-1CVS\s0 mails to another address by setting proper header lines such as Reply-To: <em>address</em> Mail-Followup-To: <em>address</em></p>
  </dd>
  <dt>
    <strong>--approved</strong> <em>address</em>
  </dt>
  <dd>
    <p>Include a special <strong>Approved:</strong>-line in the mail.  This header is intended for moderated mailing-lists to pass the SmartList moderation mechanism.  The created header will look like Approved: <em>address</em></p>
  </dd>
  <dt>
    <strong>--cvs</strong> <em>version string</em>
  </dt>
  <dd>
    <p>This option carries the \s-1CVS\s0 version info from \s-1CVS\s0 into the program. It will be added automatically by \s-1CVS\s0.  When installing this program into the <strong>loginfo</strong> file of a \s-1CVS\s0 repository, you will need to add the following option: <strong>--cvs</strong> %{sVv} If you want to test this program manually you'll have to supply the module directory and the modified files including the old and new versions.  This will look like --cvs '\s-1CVSROOT\s0 loginfo,1.1,1.2' This option is only usful for old-style \s-1CVS\s0 format strings (i.e. prior to \s-1CVS\s0 1.12.6).  You can continue using old-style format strings with newer cvs if you write %1{sVv} and set <strong>UseNewInfoFmtStrings</strong>=<em>yes</em> in CVSROOT/config.  For more recent versions of \s-1CVS\s0 you should, however, use the new --root and --dir arguments and place %{sVv} at the end of the commandline.</p>
  </dd>
  <dt>
    <strong>--root</strong> <em>cvs repository</em>
  </dt>
  <dd>
    <p>Specify the \s-1CVS\s0 repository directory.  This is normally done by the \s-1CVS\s0 server.  Prior to version 1.12 the repository was transmitted to the log processor via the <strong>\s-1CVSROOT\s0</strong> environment variable.  The parameter to this option is normally filled in by \s-1CVS\s0 using the %r format string: <strong>--root</strong> %r</p>
  </dd>
  <dt>
    <strong>--dir</strong> <em>module directory</em>
  </dt>
  <dd>
    <p>Specify the directory within the \s-1CVS\s0 repository in which directories or file were added or modified.  The parameter to this option is normally filled in by \s-1CVS\s0 using the %p format string: <strong>--dir</strong> %p</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILE</h2>
        <div class="sectioncontent">
<p><strong>cvs-mailcommit</strong> supports an additional configuration file <em>/etc/cvs-mailcommit.pl</em> so that hard-coded default values can be overwritten.  The file is included via require and hence needs to contain valid Perl code, which evaluates to <em>true</em>.  I.e. place <strong>1;</strong> at the end of the file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INSTALLATION</h2>
        <div class="sectioncontent">
<p>The <strong>\s-1CVSROOT\s0</strong>/<em>loginfo</em> file controls where <strong>cvs commit</strong> log information is sent.  The first entry on a line is a regular expression which must match the directory (alias module) that the change is being made to, relative to the $<strong>\s-1CVSROOT\s0</strong>.  If a match is found, then the remainder of the line is a filter program that should expect log information on its standard input.</p><p>A <em>loginfo</em> line looks like</p><p>&lt;directory&gt;    &lt;command&gt; --&lt;option&gt; --&lt;option&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>The <strong>--cvs</strong> option is only valid for old-style \s-1CVS\s0 format strings prior to version 1.12.6 of \s-1CVS\s0 with <em>%{sVv}</em> or for new-style \s-1CVS\s0 format strings using the compatibility hack with <em>%1{sVv}</em>.</p><p>For new-style \s-1CVS\s0 format strings for \s-1CVS\s0 version 1.12.6 or higher <strong>--cvs</strong> must not be used anymore, but instead <strong>--root</strong> and <strong>--dir</strong> are required.  The version information <em>%{sVv}</em> must be added at the end of the command line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Assume you want to monitor changes in the <strong>\s-1CVSROOT\s0</strong> module, then you may want to use the following line.</p>
<pre>
    CVSROOT     cvs-mailcommit &#92;
      --mailto master@host.org &#92;
      --from cvs@cvshost.com &#92;
      --cvs %{sVv} --diff --full
</pre>
<p>If you want to distribute changes in a module via a mailing list where only these log messages should appear you may have to add an X-Loop: or Approved: header line.</p><p>    webwml      cvs-mailcommit &#92;       --mailto master@host.org &#92;       --from cvs@cvshost.com &#92;       --approved cvsmaster@cvshost.com &#92;       --cvs %{sVv} --diff --full</p><p>The above configuration lines are valid only for old-style format strings.  With a more recent version of \s-1CVS\s0 (1.12.6 or newer) you'll have to replace <em>%{sVv}</em> with <em>%1{sVv}</em> and set <strong>UseNewInfoFmtStrings</strong> to <em>yes</em> in <em>CVSROOT/config</em>.</p><p>For new-style \s-1CVS\s0 format strings other parameters need to be used since \s-1CVS\s0 changed the syntax and semantics.  You must not use the <strong>--cvs</strong> option anymore but need to use <strong>--root</strong> and <strong>--dir</strong> and place the version list at the end.  The last example converted for new-style format strings looks like the following:</p><p>    webwml      cvs-mailcommit &#92;       --mailto master@host.org &#92;       --from cvs@cvshost.com &#92;       --approved cvsmaster@cvshost.com &#92;       --diff --full --root %r --dir %p %{sVv}</p><p>To improve readability, the above lines were broken up into several lines using normal continuation lines.  This is not supported by \s-1CVS\s0. You will have to write it in one single line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARNING</h2>
        <div class="sectioncontent">
<p>\s-1CVS\s0 does not support continuation lines (multiple lines per command) in the <strong>\s-1CVSROOT\s0</strong>/<em>loginfo</em> file.  You'll have to write each filter in a single line of its own.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">
<p>http://www.infodrom.org/Infodrom/tools/cvs-mailcommit.html</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cvs-inject.1.html"><span aria-hidden="true">&larr;</span> cvs-inject.1: Inject a debian source package into a cvs repository</a></li>
   <li class="next"><a href="cvs-upgrade.1.html">cvs-upgrade.1: Upgrade a debian source package kept in a cvs repository <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
