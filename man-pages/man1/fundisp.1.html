<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fundisp: Display data in a funtools data file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Display data in a funtools data file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fundisp (1) manual">
  <meta name="twitter:description" content="Display data in a funtools data file">
  <meta name="twitter:image" content="https://www.carta.tech/images/funtools-fundisp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/fundisp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fundisp (1) manual" />
  <meta property="og:description" content="Display data in a funtools data file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/funtools-fundisp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fundisp<small> (1)</small></h1>
        <p class="lead">Display data in a funtools data file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fundisp.1.html">
      <span itemprop="name">fundisp: Display data in a funtools data file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/funtools/">
      <span itemprop="name">funtools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fundisp.1.html">
      <span itemprop="name">fundisp: Display data in a funtools data file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>fundisp  [\-f format] [\-l] [\-n] [\-T] &lt;iname&gt; [columns|bitpix=n]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<pre>
  -f      # format string for display
  -l      # display image as a list containing the columns X, Y, VAL
  -n      # don't output header
  -F [c]  # use specified character as column separator (def: space)
  -T      # output in rdb/starbase format (tab separators)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>fundisp</strong> displays the data in the specified \s-1FITS\s0 Extension and/or Image Section of a \s-1FITS\s0 file, or in a Section of a non-FITS array or raw event file.</p><p>The first argument to the program specifies the \s-1FITS\s0 input image, array, or raw event file to display.  If \*(L"stdin\*(R" is specified, data are read from the standard input. Use Funtools Bracket Notation to specify \s-1FITS\s0 extensions, image sections, and filters.</p><p>If the data being displayed are columns (either in a \s-1FITS\s0 binary table or a raw event file), the individual rows are listed. Filters can be added using bracket notation. Thus:</p><p>  [sh] fundisp "test.ev[time-(int)time&gt;.15]"          X       Y     PHA        PI             TIME         DX         DY    ------- ------- ------- --------- ---------------- ---------- ----------         10       8      10         8          17.1600       8.50      10.50          9       9       9         9          17.1600       9.50       9.50         10       9      10         9          18.1600       9.50      10.50         10       9      10         9          18.1700       9.50      10.50          8      10       8        10          17.1600      10.50       8.50          9      10       9        10          18.1600      10.50       9.50          9      10       9        10          18.1700      10.50       9.50         10      10      10        10          19.1600      10.50      10.50         10      10      10        10          19.1700      10.50      10.50         10      10      10        10          19.1800      10.50      10.50</p><p>[\s-1NB:\s0 The \s-1FITS\s0 binary table test file test.ev, as well as the \s-1FITS\s0 image test.fits, are contained in the funtools funtest directory.]</p><p>When a table is being displayed using <strong>fundisp</strong>, a second optional argument can be used to specify the columns to display.  For example:</p><p>  [sh] fundisp "test.ev[time-(int)time&gt;=.99]" "x y time"           X        Y                  TIME    -------- -------- ---------------------           5       -6           40.99000000           4       -5           59.99000000          -1        0          154.99000000          -2        1          168.99000000          -3        2          183.99000000          -4        3          199.99000000          -5        4          216.99000000          -6        5          234.99000000          -7        6          253.99000000</p><p>The special column <strong>$REGION</strong> can be specified to display the region id of each row:</p><p>  [sh $] fundisp "test.ev[time-(int)time&gt;=.99&&annulus(0 0 0 10 n=3)]" 'x y time $REGION'           X        Y                  TIME     REGION    -------- -------- --------------------- ----------           5       -6           40.99000000          3           4       -5           59.99000000          2          -1        0          154.99000000          1          -2        1          168.99000000          1          -3        2          183.99000000          2          -4        3          199.99000000          2          -5        4          216.99000000          2          -6        5          234.99000000          3          -7        6          253.99000000          3</p><p>Here only rows with the proper fractional time and whose position also is within one of the three annuli are displayed.</p><p>Columns can be excluded from display using a minus sign before the column:</p><p>  [sh $] fundisp "test.ev[time-(int)time&gt;=.99]" "-time"           X        Y      PHA         PI          DX          DY    -------- -------- -------- ---------- ----------- -----------           5       -6        5         -6        5.50       -6.50           4       -5        4         -5        4.50       -5.50          -1        0       -1          0       -1.50        0.50          -2        1       -2          1       -2.50        1.50          -3        2       -3          2       -3.50        2.50          -4        3       -4          3       -4.50        3.50          -5        4       -5          4       -5.50        4.50          -6        5       -6          5       -6.50        5.50          -7        6       -7          6       -7.50        6.50</p><p>All columns except the time column are displayed.</p><p>The special column <strong>$N</strong> can be specified to display the ordinal value of each row. Thus, continuing the previous example:</p><p>  fundisp "test.ev[time-(int)time&gt;=.99]" '-time $n'          X        Y      PHA         PI          DX          DY          N    ------- -------- -------- ---------- ----------- ----------- ----------          5       -6        5         -6        5.50       -6.50        337          4       -5        4         -5        4.50       -5.50        356         -1        0       -1          0       -1.50        0.50        451         -2        1       -2          1       -2.50        1.50        465         -3        2       -3          2       -3.50        2.50        480         -4        3       -4          3       -4.50        3.50        496         -5        4       -5          4       -5.50        4.50        513         -6        5       -6          5       -6.50        5.50        531         -7        6       -7          6       -7.50        6.50        550</p><p>Note that the column specification is enclosed in single quotes to protect '$n' from begin expanded by the shell.</p><p>In general, the rules for activating and de-activating columns are:</p><ul>
<li><p>If only exclude columns are specified, then all columns but the exclude columns will be activated.</p></li><li><p>If only include columns are specified, then only the specified columns are activated.</p></li><li><p>If a mixture of include and exclude columns are specified, then all but the exclude columns will be active; this last case is ambiguous and the rule is arbitrary.</p></li>
</ul><p>In addition to specifying columns names explicitly, the special symbols <strong>+</strong> and <strong>-</strong> can be used to activate and de-activate <strong>all</strong> columns. This is useful if you want to activate the $REGION column along with all other columns.  According to the rules, the syntax \*(L"$REGION\*(R" only activates the region column and de-activates the rest. Use \*(L"+ $REGION\*(R" to activate all columns as well as the region column.</p><p>If the data being displayed are image data (either in a \s-1FITS\s0 primary image, a \s-1FITS\s0 image extension, or an array file), an mxn pixel display is produced, where m and n are the dimensions of the image.  By default, pixel values are displayed using the same data type as in the file. However, for integer data where the \s-1BSCALE\s0 and \s-1BZERO\s0 header parameters are present, the data is displayed as floats.  In either case, the display data type can be overridden using an optional second argument of the form:</p><p>  bitpix=n</p><p>where n is 8,16,32,\-32,\-64, for unsigned char, short, int, float and double, respectively.</p><p>Of course, running <strong>fundisp</strong> on anything but the smallest image usually results in a display whose size makes it unreadable. Therefore, one can uses bracket notation (see below) to apply section and/or blocking to the image before generating a display. For example:</p><p>  [sh] fundisp "test.fits[2:6,2:7]" bitpix=-32                      2          3          4          5          6             ---------- ---------- ---------- ---------- ----------          2:       3.00       4.00       5.00       6.00       7.00          3:       4.00       5.00       6.00       7.00       8.00          4:       5.00       6.00       7.00       8.00       9.00          5:       6.00       7.00       8.00       9.00      10.00          6:       7.00       8.00       9.00      10.00      11.00          7:       8.00       9.00      10.00      11.00      12.00</p><p>Note that is is possible to display a \s-1FITS\s0 binary table as an image simply by passing the table through <strong>funimage</strong> first:</p><p>  [sh] ./funimage test.ev stdout | fundisp "stdin[2:6,2:7]" bitpix=8                   2       3       4       5       6             ------- ------- ------- ------- -------          2:       3       4       5       6       7          3:       4       5       6       7       8          4:       5       6       7       8       9          5:       6       7       8       9      10          6:       7       8       9      10      11          7:       8       9      10      11      12</p><p>If the <strong>\-l</strong> (list) switch is used, then an image is displayed as a list containing the columns: X, Y, \s-1VAL\s0. For example:</p><p>  fundisp -l "test1.fits[2:6,2:7]" bitpix=-32             X          Y         VAL    ---------- ---------- -----------             2          2        6.00             3          2        1.00             4          2        1.00             5          2        1.00             6          2        1.00             2          3        1.00             3          3        5.00             4          3        1.00             5          3        1.00             6          3        1.00             2          4        1.00             3          4        1.00             4          4        4.00             5          4        1.00             6          4        1.00             2          5        1.00             3          5        1.00             4          5        1.00             5          5        3.00             6          5        1.00             2          6        1.00             3          6        1.00             4          6        1.00             5          6        1.00             6          6        2.00             2          7        1.00             3          7        1.00             4          7        1.00             5          7        1.00             6          7        1.00</p><p>If the <strong>\-n</strong> (nohead) switch is used, then no header is output for tables. This is useful, for example, when fundisp output is being directed into gnuplot.</p><p>The <strong>fundisp</strong> program uses a default set of display formats:</p><p>  datatype      TFORM   format   --------      -----   --------   double        D       "%21.8f"   float         E       "%11.2f"   int           J       "%10d"   short         I       "%8d"   byte          B       "%6d"   string        A       "%12.12s"   bits          X       "%8x"   logical       L       "%1x"</p><p>Thus, the default display of 1 double and 2 shorts gives:</p><p>  [sh] fundisp snr.ev "time x y"</p><p>                    TIME        X        Y    --------------------- -------- --------        79494546.56818075      546      201        79488769.94469175      548      201        ...</p><p>You can change the display format for individual columns or for all columns of a given data types by means of the \-f switch.  The format string that accompanies \-f is a space-delimited list of keyword=format values.  The keyword values can either be column names (in which case the associated format pertains only to that column) or \s-1FITS\s0 table \s-1TFORM\s0 specifiers (in which case the format pertains to all columns having that data type). For example, you can change the double and short formats for all columns like this:</p><p>  [sh] fundisp -f "D=%22.11f I=%3d" snr.ev "time x y"</p><p>                    TIME   X   Y   ---------------------- --- ---     79494546.56818075478 546 201     79488769.94469174743 548 201     ...</p><p>Alternatively, you can change the format of the time and x columns like this:</p><p>  [sh] fundisp -f "time=%22.11f x=%3d" snr.ev "time x y"</p><p>                    TIME   X        Y   ---------------------- --- --------     79494546.56818075478 546      201     79488769.94469174743 548      201     ...</p><p>Note that there is a potential conflict if a column has the same name as one of the \s-1TFORM\s0 specifiers. In the examples above, the the \*(L"X\*(R" column in the table has the same name as the X (bit) datatype.  To resolve this conflict, the format string is processed such that \s-1TFORM\s0 datatype specifiers are checked for first, using a case-sensitive comparison. If the specified format value is not an upper case \s-1TFORM\s0 value, then a case-insensitive check is made on the column name.  This means that, in the examples above, \*(L"X=%3d\*(R" will refer to the X (bit) datatype, while \*(L"x=%3d\*(R" will refer to the X column:</p><p>  [sh] fundisp -f "X=%3d" snr.ev "x y"</p><p>         X        Y   -------- --------        546      201        548      201        ...</p><p>  [sh] fundisp -f "x=%3d" snr.ev "x y"</p><p>    X        Y   --- --------   546      201   548      201   ...</p><p>As a rule, therefore, it is best always to specify the column name in lower case and \s-1TFORM\s0 data types in upper case.</p><p>The <strong>\-f [format]</strong> will change the format for a single execution of fundisp. You also can use the <strong>\s-1FUN_FORMAT\s0</strong> envronment variable to change the format for all invocations of fundisp. The format of this environment variable's value is identical to that used with the <strong>\-f</strong> switch. This global value can be overridden in individual cases by use of the <strong>\-f [format]</strong> switch.</p><p>Caveats: Please also note that it is the user's responsibility to match the format specifier to the column data type correctly. Also note that, in order to maintain visual alignment between names and columns, the column name will be truncated (on the left) if the format width is less than the length of the name. However, truncation is not performed if the output is in \s-1RDB\s0 format (using the \-T switch).</p><p>[An older-style format string is supported but deprecated. It consists of space-delimited C format statements for all data types, specified in the following order:</p><p> double float int short byte string bit.</p><p>This order of the list is based on the assumption that people generally will want to change the float formats.</p><p>If \*(L"-\*(R" is entered instead of a format statement for a given data type, the default format is used. Also, the format string can be terminated without specifying all formats, and defaults will be used for the rest of the list. Note that you must supply a minimum field width, i.e., \*(L"%6d\*(R" and \*(L"%\-6d\*(R" are legal, \*(L"%d\*(R" is not legal.</p><p>By using \-f [format], you can change the double and short formats like this:</p><p>  [sh] fundisp -f "22.11f - - 3d" snr.ev "time x y"</p><p>                     TIME   X   Y    ---------------------- --- ---      79494546.56818075478 546 201      79488769.94469174743 548 201      ...</p><p>\s-1NB:\s0 This format is deprecated and will be removed in a future release.]</p><p>The <strong>\-F[c]</strong> switch can be used to specify a (single\-character) column separator (where the default is a space). Note that column formatting will almost certainly also add spaces to pad individual columns to the required width. These can be removed with a program such as sed, at the cost of generating unaligned columns. For example:</p><p>fundisp \-F',' snr.ev'[cir 512 512 .1]'</p>
<pre>
       X,       Y,     \s-1PHA\s0,      \s-1PI\s0,                 \s-1TIME\s0,      \s-1DX\s0,      \s-1DY\s0
     512,     512,       6,       7,    79493997.45854475,     578,     574
     512,     512,       8,       9,    79494575.58943175,     579,     573
     512,     512,       5,       6,    79493631.03866175,     578,     575
     512,     512,       5,       5,    79493290.86521725,     578,     575
     512,     512,       8,       9,    79493432.00990875,     579,     573
</pre>
<p>fundisp \-F',' snr.ev'[cir 512 512 .1]' | sed 's/ *, */,/g'</p>
<pre>
       X,Y,PHA,PI,TIME,DX,DY
     512,512,6,7,79493997.45854475,578,574
     512,512,8,9,79494575.58943175,579,573
     512,512,5,6,79493631.03866175,578,575
     512,512,5,5,79493290.86521725,578,575
     512,512,8,9,79493432.00990875,579,573
</pre>
<p>fundisp \-f \*(L"x=%3d y=%3d pi=%1d pha=%1d time=%20.11f dx=%3d dy=%3d\*(R" \-F',' snr.ev'[cir 512 512 .1]' | sed 's/ *, */,/g'</p>
<pre>
  X,Y,A,I,TIME,DX,DY
</pre>
<p>---,---,-,-,--------------------,---,--- 512,512,6,7,79493997.45854474604,578,574 512,512,8,9,79494575.58943174779,579,573 512,512,5,6,79493631.03866174817,578,575 512,512,5,5,79493290.86521725357,578,575 512,512,8,9,79493432.00990875065,579,573</p><p>If the <strong>\-T</strong> (rdb table) switch is used, the output will conform to starbase/rdb data base format: tabs will be inserted between columns rather than spaces. This format is not available when displaying image pixels (except in conjunction with the <strong>\-l</strong> switch).</p><p>Finally, note that <strong>fundisp</strong> can be used to create column filters from the auxiliary tables in a \s-1FITS\s0 file. For example, the following shell code will generate a good-time interval (\s-1GTI\s0) filter for X\-ray data files that contain a standard \s-1GTI\s0 extension:</p><p>  #!/bin/sh   sed '1,/---- .*/d   /^$/,$d' | awk 'tot&gt;0{printf "||"};{printf "time="$1":"$2; tot++}'</p><p>If this script is placed in a file called \*(L"mkgti\*(R", it can be used in a command such as:</p><p>  fundisp foo.fits"[GTI]" | mkgti &gt; gti.filter</p><p>The resulting filter file can then be used in various funtools programs:</p><p>  funcnts foo.fits"[@gti.filter]" ...</p><p>to process only the events in the good-time intervals.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fundisp&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="funcone.1.html"><span aria-hidden="true">&larr;</span> funcone.1: Cone search of a binary table containing ra, dec columns</a></li>
   <li class="next"><a href="funds9.1.html">funds9.1: Funtools and ds9 image display <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
