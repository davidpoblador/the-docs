<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dsh: Distributed shell, or dancer's shell</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed shell, or dancer's shell">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dsh (1) manual">
  <meta name="twitter:description" content="Distributed shell, or dancer's shell">
  <meta name="twitter:image" content="https://www.carta.tech/images/dsh-dsh-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dsh.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dsh (1) manual" />
  <meta property="og:description" content="Distributed shell, or dancer's shell" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dsh-dsh-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dsh<small> (1)</small></h1>
        <p class="lead">Distributed shell, or dancer's shell</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dsh.1.html">
      <span itemprop="name">dsh: Distributed shell, or dancer's shell</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dsh/">
      <span itemprop="name">dsh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dsh.1.html">
      <span itemprop="name">dsh: Distributed shell, or dancer's shell</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>dsh [-m </strong><em>machinename</em><strong> | -a | -g </strong><em>groupname</em><strong>] [-r </strong><em>remoteshellname</em><strong>] [-c | -w | -i | -F </strong><em>forklimit</em><strong> ] -- </strong><em>commandline</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>dsh</strong> executes command remotely on several different machines at the same time. An utility to effectively do a <strong>for a in $(seq 1 10); do rsh $a command; done</strong> in bourne shell.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The options available are as follows.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--verbose | -v</strong></p>
  </dt>
  <dd>
    <p>Give verbose output of the execution process.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--quiet | -q</strong></p>
  </dt>
  <dd>
    <p>Makes output quieter.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>--machine | -m </strong><em>[machinename[,machinename]*]</em></p>
  </dt>
  <dd>
    <p>Adds <em>machinename</em> to the list of machines that the command is exeuted. The syntax of <em>machinename</em> allows <em>username@machinename</em> where remote shell is invoked with the option to make it of <em>username.</em></p><p>From version 0.21.4, it is possible to specify in the format of <em>username@machinename,username@machinename,username@machinename</em> so that multiple hosts can be specified with comma-delimited values.</p>
  </dd>
  <dt>
    <p><strong>--all | -a </strong></p>
  </dt>
  <dd>
    <p>Add all machines found in <strong>/etc/dsh/machines.list</strong> to the list of machines that the specified command is executed.</p>
  </dd>
  <dt>
    <p><strong>--group </strong><em>groupname</em><strong> | -g </strong><em>groupname </em></p>
  </dt>
  <dd>
    <p>Add all machines found in <strong>/etc/dsh/group/</strong><em>groupname</em> to the list of machines that the specified command is executed.</p><p>If groupname is on the form <strong>@netgroup</strong> then the machines in the given netgroup is used to specify the list of machines to execute on.</p>
  </dd>
  <dt>
    <p><strong>--file </strong><em>machinefile</em><strong> | -f </strong><em>machinefile</em></p>
  </dt>
  <dd>
    <p>Add all machines found in the specified file to the list of machines that the specified command is executed.</p><p>The file should list one machine specification per line (with the same syntax as the <em>machinename</em> argument). Lines starting with "#" are ignored.</p><p>From version 0.21.4, Specifying the same machine several times using any of the machine specification options will result in multiple invocations merged into one.</p>
  </dd>
  <dt>
    <p><strong>--remoteshell </strong><em>shellname </em><strong>| -r </strong><em>shellname </em></p>
  </dt>
  <dd>
    <p>Execute remote shell <em>shellname</em> as the remote shell. Usually any of "rsh", "remsh" or "ssh" are available</p>
  </dd>
  <dt>
    <p><strong>--remoteshellopt </strong><em>rshoption </em><strong>| -o </strong><em>rshoption </em></p>
  </dt>
  <dd>
    <p>Add one option <em>rshoption</em> to the list of options passed on to the remote shell.</p>
  </dd>
  <dt>
    <p><strong>--help | -h </strong></p>
  </dt>
  <dd>
    <p>Output help message and exits.</p>
  </dd>
  <dt>
    <p><strong>--wait-shell | -w </strong></p>
  </dt>
  <dd>
    <p>Executes on each machine and waits for the execution finishing before moving on to the next machine.</p>
  </dd>
  <dt>
    <p><strong>--concurrent-shell | -c </strong></p>
  </dt>
  <dd>
    <p>Executes shell concurrently.</p>
  </dd>
  <dt>
    <p><strong>--show-machine-names | -M </strong></p>
  </dt>
  <dd>
    <p>Prepends machine names on the standard output. Useful to be used in conjunction with the <strong>--concurrent-shell</strong> option so that the output is slightly more parsable.</p>
  </dd>
  <dt>
    <p><strong>--hide-machine-names | -H </strong></p>
  </dt>
  <dd>
    <p>Do not prepend machine names on the standard output.</p>
  </dd>
  <dt>
    <p><strong>--duplicate-input | -i </strong></p>
  </dt>
  <dd>
    <p>Duplicates the input to dsh process to individual process that are remotely invoked. Needs to have <strong>--concurrent-shell</strong> set.</p><p>Due to limitations in current implementation, it is only useful for running shell. Terminate the shell session with ctrl-D.</p>
  </dd>
  <dt>
    <p><strong>--bufsize | -b [</strong><em>buffer-size in bytes</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Sets the buffer size used in replicating input for <strong>--duplicate-input</strong> option.</p>
  </dd>
  <dt>
    <p><strong>--version | -V </strong></p>
  </dt>
  <dd>
    <p>Outputs version information and exits.</p>
  </dd>
  <dt>
    <p><strong>--num-topology | -N </strong></p>
  </dt>
  <dd>
    <p>Changes the current topology from 1. 1 is the default behavior of spawning the shell from one node to every node. Changing the number to a value greater than 2 would result in dsh being spawned on other machines as well.</p>
  </dd>
  <dt>
    <p><strong>--forklimit | -F </strong><em>fork limit</em></p>
  </dt>
  <dd>
    <p>Similar to <strong>-c</strong> with a limit on the number of simultaneous connections. dsh will wait before creating new connection if the limit is reached. Useful when the number of nodes to be accessed is going somewhere above 200, and using <strong>-N</strong> option is not possible.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The first non-zero exit code of child processes is returned, or zero if none returned non-zero exit code.</p><p>1 if error is found in command-line specifications. 2 if signal is received from child processes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>dsh -a w </strong></p>
  </dt>
  <dd>
    <p>Shows list of users logged in on all workstations.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>dsh -r ssh -a -- w </strong></p>
  </dt>
  <dd>
    <p>Shows list of users logged in on all workstations, and use ssh command to connect. (It should be of note that when using ssh, ssh-agent is handy.)</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>dsh -r ssh -m node1 -m node2 -c -- 'echo $HOSTNAME $(cat/proc/loadavg )'</strong></p>
  </dt>
  <dd>
    <p>Shows the load average of machines node1 and node2.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/dsh/machines.list | $(HOME)/.dsh/machines.list</strong></p>
  </dt>
  <dd>
    <p>List of machine names to be used for when <strong>-a</strong> command-line option is specified.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/dsh/group/</strong><em>groupname</em><strong> | $(HOME)/.dsh/group/</strong><em>groupname</em></p>
  </dt>
  <dd>
    <p>List of machine names to be used for when <strong>-g </strong><em>groupname</em> command-line option is specified.</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p><strong>/etc/dsh/dsh.conf | $(HOME)/.dsh/dsh.conf </strong></p>
  </dt>
  <dd>
    <p>Configuration file containing the day-to-day default.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There should be a <strong>dcp</strong> for copying files to remote systems.</p><p>Configuration files should really be able to do something more than it does now.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Junichi Uekawa (dancer@debian.org)</p><p>Upstream page is available at <strong>http://www.netfort.gr.jp/~dancer/software/dsh.html</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dsh&hellip;</h2>
        <div class="sectioncontent">
<p><strong>rsh</strong>(1),  <strong>ssh</strong>(1),  <strong>remsh</strong>(1),  <a href="../man5/dsh.conf.5.html"><strong>dsh.conf</strong>(5)</a> </p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dselect.1.html"><span aria-hidden="true">&larr;</span> dselect.1: Debian package management frontend</a></li>
   <li class="next"><a href="dshbak.1.html">dshbak.1: Format output from pdsh command <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
