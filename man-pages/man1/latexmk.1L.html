<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>latexmk: Generate latex document</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate latex document">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="latexmk (1L) manual">
  <meta name="twitter:description" content="Generate latex document">
  <meta name="twitter:image" content="https://www.carta.tech/images/latexmk-latexmk-1L.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1L/latexmk.1L.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="latexmk (1L) manual" />
  <meta property="og:description" content="Generate latex document" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/latexmk-latexmk-1L.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">latexmk<small> (1L)</small></h1>
        <p class="lead">Generate latex document</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1L/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1L/latexmk.1L.html">
      <span itemprop="name">latexmk: Generate latex document</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/latexmk/">
      <span itemprop="name">latexmk</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1L/latexmk.1L.html">
      <span itemprop="name">latexmk: Generate latex document</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>latexmk [options] [file ...]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Latexmk</em> completely automates the process of compiling a LaTeX document. Essentially, it is like a specialized relative of the general <em>make</em> utility, but one which determines dependencies automatically and has some other very useful features.  In its basic mode of operation <em>latexmk</em> is given the name of the primary source file for a document, and it issues the appropriate sequence of commands to generate a .dvi, .ps, .pdf and/or hardcopy version of the document.</p><p>By default <em>latexmk</em> will run the commands necessary to generate a .dvi file.</p><p><em>Latexmk</em> can also be set to run continuously with a suitable previewer.  In that case the <em>latex</em> program (or one of its relatives), etc, are rerun whenever one of the source files is modified, and the previewer automatically updates the on-screen view of the compiled document.</p><p><em>Latexmk</em> determines which are the source files by examining the log file.  (Optionally, it also examines the list of input and output files generated by the <strong>-recorder</strong> option of modern versions of <em>latex</em> (and <em>pdflatex</em>, <em>xelatex</em>, <em>lualatex</em>, etc). See the documentation for the <strong>-recorder</strong> option of <em>latexmk</em> below.)  When <em>latexmk</em> is run, it examines properties of the source files, and if any have been changed since the last document generation, <em>latexmk</em> will run the various LaTeX processing programs as necessary.  In particular, it will repeat the run of <em>latex</em> (or a related program)) often enough to resolve all cross references; depending on the macro packages used.  With some macro packages and document classes, four, or even more, runs may be needed. If necessary, <em>latexmk</em> will also run <em>bibtex</em>, <em>biber</em>, and/or <em>makeindex</em>.  In addition, <em>latexmk</em> can be configured to generate other necessary files.  For example, from an updated figure file it can automatically generate a file in encapsulated postscript or another suitable format for reading by LaTeX.</p><p><em>Latexmk</em> has two different previewing options.  In the simple <strong>-pv</strong> option, a dvi, postscript or pdf previewer is automatically run after generating the dvi, postscript or pdf version of the document.  The type of file to view is selected according to configuration settings and command line options.</p><p>The second previewing option is the powerful <strong>-pvc</strong> option (mnemonic: "preview continuously").  In this case, <em>latexmk</em> runs continuously, regularly monitoring all the source files to see if any have changed.  Every time a change is detected, <em>latexmk</em> runs all the programs necessary to generate a new version of the document.  A good previewer (like <em>gv</em>) will then automatically update its display.  Thus the user can simply edit a file and, when the changes are written to disk, <em>latexmk</em> completely automates the cycle of updating the .dvi (and possibly the .ps and .pdf) file, and refreshing the previewer's display.  It's not quite WYSIWYG, but usefully close.</p><p>For other previewers, the user may have to manually make the previewer update its display, which can be (some versions of <em>xdvi</em> and <em>gsview</em>) as simple as forcing a redraw of its display.</p><p><em>Latexmk</em> has the ability to print a banner in gray diagonally across each page when making the postscript file.  It can also, if needed, call an external program to do other postprocessing on generated dvi and postscript files.  (See the options <strong>-dF</strong> and <strong>-pF</strong>, and the documentation for the <em>$dvi_filter</em> and <em>$ps_filter</em> configuration variables.)  These capabilities are leftover from older versions of <em>latexmk</em>.  More flexibility can be obtained in current versions, since the command strings for running latex, pdflatex, etc can now be configured to run multiple commands. This also extends the possibility of postprocessing generated files to pdf files. files.</p><p><em>Latexmk</em> is highly configurable, both from the command line and in configuration files, so that it can accommodate a wide variety of user needs and system configurations.  Default values are set according to the operating system, so <em>latexmk</em> often works without special configuration on MS-Windows, cygwin, Linux, OS-X, and other UNIX systems (notably Solaris).</p><p>A very annoying complication handled very reliably by <em>latexmk</em>, is that LaTeX is a multiple pass system.  On each run, LaTeX reads in information generated on a previous run, for things like cross referencing and indexing.  In the simplest cases, a second run of LaTeX suffices, and often the log file contains a message about the need for another pass.  However, there is a wide variety of add-on macro packages to LaTeX, with a variety of behaviors.  The result is to break simple-minded determinations of how many runs are needed and of which programs.  In its new version, <em>latexmk</em> has a highly general and efficient solution to these issues.  The solution involves retaining between runs information on the source files, and a symptom is that <em>latexmk</em> generates an extra file (with extension <em>.fdb_latexmk</em>, by default) that contains the source file information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LATEXMK OPTIONS AND ARGUMENTS ON COMMAND LINE</h2>
        <div class="sectioncontent">
<p>In general the command line to invoke <em>latexmk</em> has the form</p><p>	latexmk [options] [file]</p><p>All options can be introduced by single or double "-" characters, e.g., "latexmk -help" or "latexmk --help".</p><p><strong>Note 1</strong>: In addition to the options in the list below, <em>latexmk</em> recognizes almost all the options recognized by the <em>latex</em>, <em>pdflatex</em> programs (and their relatives) in their current TeXLive and MiKTeX implementations.  Some of the options for these programs also trigger special action or behavior by <em>latexmk</em>, in which case they have specific explanations in this document.  Otherwise, they are just passed through to a called <em>latex</em> or <em>pdflatex</em> program. Run <em>latexmk</em> with the <strong>-showextraoptions</strong> to get a list of the options that <em>latexmk</em> accepts and that are simply passed through to <em>latex</em> or <em>pdflatex</em> (etc).  See also the explanation of the <strong>-showextraoptions</strong> option for more information.</p><p><strong>Note 2</strong>: In this documentation, the program <em>pdflatex</em> is often referred to.  Users of programs like <em>lualatex</em> and <em>xelatex</em> should know that from <em>latexmk</em>'s point of view, these other programs behave like <em>pdflatex</em>, i.e., they make a pdf file from a tex file, etc.  So whenever <em>pdflatex</em> is mentioned without mention of the other programs, the statements apply equally to <em>lualatex</em>, <em>xelatex</em>, and any other similar programs. <em>Latexmk</em> can be easily configured to use whichever of these programs is needed.  See the documentation for the following options: <strong>-pdflatex="COMMAND"</strong>, <strong>-lualatex</strong>, and <strong>-xelatex</strong>, and also see the documentation for the <em>$pdflatex</em> configuration variable. At present <em>latexmk</em> cannot do automatic detection of which program is to be used.</p><p><strong>Definitions of options and arguments</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>file</strong></p>
  </dt>
  <dd>
    <p>One or more files can be specified.  If no files are specified, <em>latexmk</em> will, by default, run on all files in the current working directory with a ".tex" extension.  This behavior can be changed: see the description concerning the <em>@default_files</em> variable in the section "List of configuration variables usable in initialization files".</p>
  </dd>

</dl>
<p>If a file is specified without an extension, then the ".tex" extension is automatically added, just as LaTeX does.  Thus, if you specify:</p><p>	latexmk foo</p><p>then <em>latexmk</em> will operate on the file "foo.tex".</p>
<dl class='dl-vertical'>
  <dt>
    
  </dt>
  <dd>
    <p><strong>-auxdir=FOO or -aux-directory=FOO</strong></p><p>Sets the directory for auxiliary output files of (pdf)latex (.aux, .log etc).  This achieves its effect by the <strong>-aux-directory</strong> option of (pdf)latex, which currently is only implemented on the MiKTeX version of (pdf)latex.</p><p>See also the <strong>-outdir</strong>/<strong>-output-directory</strong> options, and the <em>$aux_dir</em>, <em>$out_dir</em>, and <em>$search_path_separator</em> configuration variables of <em>latexmk</em>.  In particular, see the documentation of <em>$out_dir</em> for some complications on what directory names are suitable.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>-bibtex</strong> When the source file uses bbl files for bibliography, run bibtex or biber as needed to regenerate the bbl files.</p><p>This property can also be configured by setting the <em>$bibtex_use</em> variable to 2 in a configuration file</p>
  </dd>
  <dt>
    <p><strong>-bibtex-</strong></p>
  </dt>
  <dd>
    <p>Never run bibtex or biber.</p><p>A common use for this option is when a document comes from an external source, complete with its bbl file(s), and the user does not have the corresponding bib files available.  In this situation use of the <strong>-bibtex-</strong> option will prevent <em>latexmk</em> from trying to run <em>bibtex</em> or <em>biber</em>, which would result in overwriting of the bbl files.</p>
  </dd>
  <dt>
    <p><strong>-bibtex-cond</strong></p>
  </dt>
  <dd>
    <p>When the source file uses bbl file(s) for the bibliography, run <em>bibtex</em> or <em>biber</em> as needed to regenerate the bbl files, but only if the relevant bib file(s) exist.  Thus when the bib files are not available, <em>bibtex</em> or <em>biber</em> is not run, thereby avoiding overwriting of the bbl file(s).  This is the default setting.</p><p>(Note that it is possible for <em>latexmk</em> to decide that the bib file does not exist, even though the bib file does exist and <em>bibtex</em> or <em>biber</em> finds it.  The problem is that the bib file may not be in the current directory but in some search path; the places <em>latexmk</em> and <em>bibtex</em> or <em>biber</em> cause to be searched need not be identical.  On modern installations of TeX and related programs this problem should not arise, since <em>latexmk</em> uses the <em>kpsewhich</em> program to do the search, and <em>kpsewhich</em> should use the same search path as <em>bibtex</em> and <em>biber</em>.  If this problem arises, use the <strong>-bibtex</strong> option when invoking <em>latexmk</em>.)</p>
  </dd>
  <dt>
    <p><strong>-bm &lt;message&gt;</strong></p>
  </dt>
  <dd>
    <p>A banner message to print diagonally across each page when converting the dvi file to postscript.  The message must be a single argument on the command line so be careful with quoting spaces and such.</p><p>Note that if the <strong>-bm</strong> option is specified, the <strong>-ps</strong> option is assumed.</p>
  </dd>
  <dt>
    <p><strong>-bi &lt;intensity&gt;</strong></p>
  </dt>
  <dd>
    <p>How dark to print the banner message.  A decimal number between 0 and 1. 0 is black and 1 is white.  The default is 0.95, which is OK unless your toner cartridge is getting low.</p>
  </dd>
  <dt>
    <p><strong>-bs &lt;scale&gt;</strong></p>
  </dt>
  <dd>
    <p>A decimal number that specifies how large the banner message will be printed.  Experimentation is necessary to get the right scale for your message, as a rule of thumb the scale should be about equal to 1100 divided by the number of characters in the message.  The default is 220.0 which is just right for 5 character messages.</p>
  </dd>
  <dt>
    <p><strong>-commands</strong></p>
  </dt>
  <dd>
    <p>List the commands used by <em>latexmk</em> for processing files, and then exit.</p>
  </dd>
  <dt>
    <p><strong>-c</strong></p>
  </dt>
  <dd>
    <p>Clean up (remove) all regeneratable files generated by <em>latex</em> and <em>bibtex</em> or <em>biber</em> except dvi, postscript and pdf.  These files are a combination of log files, aux files, <em>latexmk</em>'s database file of source file information, and those with extensions specified in the <em>@generated_exts</em> configuration variable.  In addition, files specified by the <em>$clean_ext</em> configuration variable are removed.</p><p>This cleanup is instead of a regular make.  See the <strong>-gg</strong> option if you want to do a cleanup then a make.</p><p>If <em>$bibtex_use</em> is set to 0 or 1, bbl files are counted as non-regeneratable.</p><p>If <em>$cleanup_includes_cusdep_generated</em> is nonzero, regeneratable files are considered as including those generated by custom dependencies and are also deleted.  Otherwise these files are not deleted.</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Clean up (remove) all regeneratable files generated by <em>latex</em> and <em>bibtex</em> or <em>biber</em>.  This is the same as the <strong>-c</strong> option with the addition of dvi, postscript and pdf files, and those specified in the <em>$clean_full_ext</em> configuration variable.</p><p>This cleanup is instead of a regular make.  See the <strong>-gg</strong> option if you want to do a cleanup than a make.</p><p>If <em>$bibtex_use</em> is set to 0 or 1, bbl files are counted as non-regeneratable.</p><p>If <em>$cleanup_includes_cusdep_generated</em> is nonzero, regeneratable files are considered as including those generated by custom dependencies and are also deleted.  Otherwise these files are not deleted.</p>
  </dd>
  <dt>
    <p><strong>-CA</strong></p>
  </dt>
  <dd>
    <p>(Obsolete).  Now equivalent to the <strong>-C</strong> option.  See that option for details.</p>
  </dd>
  <dt>
    <p><strong>-cd</strong></p>
  </dt>
  <dd>
    <p>Change to the directory containing the main source file before processing it.  Then all the generated files (aux, log, dvi, pdf, etc) will be relative to the source file.</p><p>This option is particularly useful when <em>latexmk</em> is invoked from a GUI configured to invoke <em>latexmk</em> with a full pathname for the source file.</p>
  </dd>
  <dt>
    <p><strong>-cd-</strong></p>
  </dt>
  <dd>
    <p>Do NOT change to the directory containing the main source file before processing it.  Then all the generated files (aux, log, dvi, pdf, etc) will be relative to the current directory rather than the source file.</p><p>This is the default behavior and corresponds to the behavior of the <em>latex</em> and <em>pdflatex</em> programs.  However, it is not desirable behavior when <em>latexmk</em> is invoked by a GUI configured to invoke <em>latexmk</em> with a full pathname for the source file.  See the <strong>-cd</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-CF</strong></p>
  </dt>
  <dd>
    <p>Remove the file containing the database of source file information, before doing the other actions requested.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>Set draft mode.  This prints the banner message "DRAFT" across your page when converting the dvi file to postscript.  Size and intensity can be modified with the <strong>-bs</strong> and <strong>-bi</strong> options.  The <strong>-bm</strong> option will override this option as this is really just a short way of specifying:</p><p>	latexmk -bm DRAFT</p><p>Note that if the <strong>-d</strong> option is specified, the <strong>-ps</strong> option is assumed.</p>
  </dd>
  <dt>
    <p><strong>-deps</strong></p>
  </dt>
  <dd>
    <p>Show a list of dependent files after processing.  This is in the form of a dependency list of the form used by the <em>make</em> program, and it is therefore suitable for use in a Makefile.  It gives an overall view of the files without listing intermediate files, as well as <em>latexmk</em> can determine them.</p><p>By default the list of dependent files is sent to stdout (i.e., normally to the screen unless you've redirected <em>latexmk</em>'s output). But you can set the filename where the list is sent by the <strong>-deps-out=</strong> option.</p><p>See the section "USING <em>latexmk</em> WITH <em>make</em>" for an example of how to use a dependency list with <em>make</em>.</p><p>Users familiar with GNU <em>automake</em> and <em>gcc</em> will find that the <strong>-deps</strong> option is very similar in its purpose and results to the <strong>-M</strong> option to <em>gcc</em>.  (In fact, <em>latexmk</em> also has options <strong>-M</strong>, <strong>-MF</strong>, and <strong>-MP</strong> options that behave like those of <em>gcc</em>.)</p>
  </dd>
  <dt>
    <p><strong>-dependents</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>-deps</strong>.</p>
  </dd>
  <dt>
    <p><strong>-deps-</strong></p>
  </dt>
  <dd>
    <p>Do not show a list of dependent files after processing.  (This is the default.)</p>
  </dd>
  <dt>
    <p><strong>-dependents-</strong></p>
  </dt>
  <dd>
    <p>Equivalent to <strong>-deps-</strong>.</p>
  </dd>
  <dt>
    <p><strong>-deps-out=FILENAME</strong></p>
  </dt>
  <dd>
    <p>Set the filename to which the list of dependent files is written.  If the FILENAME argument is omitted or set to "-", then the output is sent to stdout.</p><p>Use of this option also turns on the output of the list of dependent files after processing.</p>
  </dd>
  <dt>
    <p><strong>-dF</strong></p>
  </dt>
  <dd>
    <p>Dvi file filtering.  The argument to this option is a filter which will generate a filtered dvi file with the extension ".dviF".  All extra processing (e.g. conversion to postscript, preview, printing) will then be performed on this filtered dvi file.</p><p>Example usage: To use dviselect to select only the even pages of the dvi file:</p><p>	latexmk -dF "dviselect even" foo.tex</p>
  </dd>
  <dt>
    <p><strong>-diagnostics</strong></p>
  </dt>
  <dd>
    <p>Print detailed diagnostics during a run.  This may help for debugging problems or to understand <em>latexmk</em>'s behavior in difficult situations.</p>
  </dd>
  <dt>
    <p><strong>-dvi</strong></p>
  </dt>
  <dd>
    <p>Generate dvi version of document.</p>
  </dd>
  <dt>
    <p><strong>-dvi-</strong></p>
  </dt>
  <dd>
    <p>Turn off generation of dvi version of document.  (This may get overridden, if some other file is made (e.g., a .ps file) that is generated from the dvi file, or if no generated file at all is requested.)</p>
  </dd>
  <dt>
    <p><strong>-e &lt;code&gt;</strong></p>
  </dt>
  <dd>
    <p>Execute the specified initialization code before processing.  The code is <em>Perl</em> code of the same form as is used in <em>latexmk</em>'s initialization files -- for more details, see the information on the <strong>-r</strong> option, and the section about "Configuration/initialization (RC) files".  The code is typically a sequence of assignment statements separated by semicolons.</p><p>The code is executed when the <strong>-e</strong> option is encountered during <em>latexmk</em>'s parsing of its command line.  See the <strong>-r</strong> option for a way of executing initialization code from a file.  An error results in <em>latexmk</em> stopping.  Multiple instances of the <strong>-r</strong> and <strong>-e</strong> options can be used, and they are executed in the order they appear on the command line.</p><p>Some care is needed to deal with proper quoting of special characters in the code on the command line.  For example, suppose you want to set the latex command to use its -shell-escape option, then under UNIX/LINUX you could use the line</p><p>	latexmk -e '$latex=q/latex %O -shell-escape %S/' file.tex</p><p>Note that the single quotes block normal UNIX/LINUX command shells from treating the characters inside the quotes as special. (In this example, the q/.../ construct is a <em>Perl</em> idiom equivalent to using single quotes.  This avoids the complications of getting a quote character inside an already quoted string in a way that is independent of both the shell and the operating-system.)</p><p>The above command line will NOT work under MS-Windows with cmd.exe or command.com or 4nt.exe.  For MS-Windows with these command shells you could use</p><p>	latexmk -e "$latex=q/latex %O -shell-escape %S/" file.tex</p><p>or</p><p>	latexmk -e "$latex='latex %O -shell-escape %S'" file.tex</p><p>The last two examples will NOT work with UNIX/LINUX command shells.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Force <em>latexmk</em> to continue document processing despite errors. Normally, when <em>latexmk</em> detects that LaTeX or another program has found an error which will not be resolved by further processing, no further processing is carried out.</p><p>Note: "Further processing" means the running of other programs or the rerunning of <em>latex</em> (etc) that would be done if no errors had occurred.  If instead, or additionally, you want the <em>latex</em> (etc) program not to pause for user input after an error, you should arrange this by an option that is passed to the program, e.g., by <em>latexmk</em>'s option <strong>-interaction=nonstopmode</strong>.</p>
  </dd>
  <dt>
    <p><strong>-f-</strong></p>
  </dt>
  <dd>
    <p>Turn off the forced processing-past-errors such as is set by the <strong>-f</strong> option.  This could be used to override a setting in a configuration file.</p>
  </dd>
  <dt>
    <p><strong>-g</strong></p>
  </dt>
  <dd>
    <p>Force <em>latexmk</em> to process document fully, even under situations where <em>latexmk</em> would normally decide that no changes in the source files have occurred since the previous run. This option is useful, for example, if you change some options and wish to reprocess the files.</p>
  </dd>
  <dt>
    <p><strong>-g-</strong></p>
  </dt>
  <dd>
    <p>Turn off <strong>-g</strong>.</p>
  </dd>
  <dt>
    <p><strong>-gg</strong></p>
  </dt>
  <dd>
    <p>"Super go mode" or "clean make": clean out generated files as if <strong>-C</strong> had been given, and then do a regular make.</p>
  </dd>
  <dt>
    <p><strong>-h, -help</strong></p>
  </dt>
  <dd>
    <p>Print help information.</p>
  </dd>
  <dt>
    <p><strong>-jobname=STRING</strong></p>
  </dt>
  <dd>
    <p>Set the basename of output files(s) to STRING, instead of the default, which is the basename of the specified TeX file.</p><p>This is like the same option for current implementations of the <em>latex</em>, <em>pdflatex</em>, etc, and the passing of this option to these programs is part of <em>latexmk</em>'s implementation of <strong>-jobname</strong>.</p>
  </dd>
  <dt>
    <p><strong>-l</strong></p>
  </dt>
  <dd>
    <p>Run in landscape mode, using the landscape mode for the previewers and the dvi to postscript converters.  This option is not normally needed nowadays, since current previewers normally determine this information automatically.</p>
  </dd>
  <dt>
    <p><strong>-l-</strong></p>
  </dt>
  <dd>
    <p>Turn off <strong>-l</strong>.</p>
  </dd>
  <dt>
    <p><strong>-latex="COMMAND"</strong></p>
  </dt>
  <dd>
    <p>This sets the string specifying the command to run latex, and is typically used to add desired options.  Since the string normally contains spaces, it should be quoted, e.g.,</p>
<pre>
     latexmk -latex="latex --shell-escape %O %S"  foo.tex
</pre>
<p>The specification of the contents of the string are the same as for the <em>$latex</em> configuration variable.  Depending on your operating system and the command-line shell you are using, you may need to change the single quotes to double quotes (or something else).</p><p>To set the command for running pdflatex (rather than the command for latex) see the <strong>-pdflatex</strong> option.</p><p>Note that the effect of this option can also be achieved by using the <strong>-e</strong> option with a suitable line of Perl code to set the <em>$latex</em> variable.  See the explanation of the <strong>-e</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-lualatex</strong></p>
  </dt>
  <dd>
    <p>Use lualatex.  That is, use lualatex to process the source file(s) to pdf (in place of pdflatex).  This option is exactly equivalent to specifying the following sequence of options:</p>
<pre>
     -pdflatex="lualatex %O %S" -pdf -dvi- -ps-
</pre>

  </dd>
  <dt>
    <p><strong>-M</strong></p>
  </dt>
  <dd>
    <p>Show list of dependent files after processing.  This is equivalent to the <strong>-deps</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-MF file</strong></p>
  </dt>
  <dd>
    <p>If a list of dependents is made, the <strong>-MF</strong> specifies the file to write it to.</p>
  </dd>
  <dt>
    <p><strong>-MP</strong></p>
  </dt>
  <dd>
    <p>If a list of dependents is made, includes phony target for each source file.  If you use the dependents list in a Makefile, the dummy rules work around errors make gives if you remove header files without updating the Makefile to match.</p>
  </dd>
  <dt>
    <p><strong>-new-viewer</strong></p>
  </dt>
  <dd>
    <p>When in continuous-preview mode, always start a new viewer to view the generated file.  By default, <em>latexmk</em> will, in continuous-preview mode, test for a previously running previewer for the same file and not start a new one if a previous previewer is running.  However, its test sometimes fails (notably if there is an already-running previewer that is viewing a file of the same name as the current file, but in a different directory).  This option turns off the default behavior.</p>
  </dd>
  <dt>
    <p><strong>-new-viewer-</strong></p>
  </dt>
  <dd>
    <p>The inverse of the <strong>-new-viewer</strong> option.  It puts <em>latexmk</em> in its normal behavior that in preview-continuous mode it checks for an already-running previewer.</p>
  </dd>
  <dt>
    <p><strong>-nobibtex</strong></p>
  </dt>
  <dd>
    <p>Never run bibtex or biber.</p><p>A common use for this option is when a document comes from an external source, complete with its bbl file(s), and the user does not have the corresponding bib files available.  In this situation use of the <strong>-nobibtex</strong> option will prevent <em>latexmk</em> from trying to run <em>bibtex</em> or <em>biber</em>, which would result in overwriting of the bbl files.</p>
  </dd>
  <dt>
    <p><strong>-norc</strong></p>
  </dt>
  <dd>
    <p>Turn off the automatic reading of initialization (rc) files.</p><p>N.B. Normally the initialization files are read and obeyed, and then command line options are obeyed in the order they are encountered. Then <strong>-norc</strong> is an exception to this rule: it is acted on first, no matter where is occurs on the command line.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>-outdir=FOO or -output-directory=FOO</strong></p><p>Sets the directory for the output files of (pdf)latex.  This achieves its effect by the <strong>-output-directory</strong> option of (pdf)latex, which currently (Dec. 2011) is implemented on the common versions of (pdf)latex, i.e., MiKTeX and TeXLive.  It may not be present in other versions.</p><p>See also the <strong>-auxdir</strong>/<strong>-aux-directory</strong> options, and the <em>$aux_dir</em>, <em>$out_dir</em>, and <em>$search_path_separator</em> configuration variables of <em>latexmk</em>.  In particular, see the documentation of <em>$out_dir</em> for some complications on what directory names are suitable.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>-p</strong> Print out the document.  By default the file to be printed is the first in the list postscript, pdf, dvi that is being made. But you can use the <strong>-print=...</strong> option to change the type of file to be printed, and you can configure this in a start up file (by setting the <em>$print_type</em> variable).</p><p>However, printing is enabled by default only under UNIX/LINUX systems, where the default is to use the lpr command and only on postscript files.  In general, the correct behavior for printing very much depends on your system's software.  In particular, under MS-Windows you must have suitable program(s) available, and you must have configured the print commands used by <em>latexmk</em>.  This can be non-trivial.  See the documentation on the <em>$lpr</em>, <em>$lpr_dvi</em>, and <em>$lpr_pdf</em> configuration variables to see how to set the commands for printing.</p><p>This option is incompatible with the <strong>-pv</strong> and <strong>-pvc</strong> options, so it turns them off.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>-pdf</strong> Generate pdf version of document using <em>pdflatex</em>.  (If you wish to use <em>lualatex</em> or <em>xelatex</em>, you can use whichever of the options <strong>-lualatex</strong> or <strong>-xelatex</strong> applies.)  To configure <em>latexmk</em> to have such behavior by default, see the section on "Configuration/initialization (rc) files".</p>
  </dd>
  <dt>
    <p><strong>-pdfdvi</strong></p>
  </dt>
  <dd>
    <p>Generate pdf version of document from the dvi file, by default using dvipdf.</p>
  </dd>
  <dt>
    <p><strong>-pdfps</strong></p>
  </dt>
  <dd>
    <p>Generate pdf version of document from the ps file, by default using ps2pdf.</p>
  </dd>
  <dt>
    <p><strong>-pdf-</strong></p>
  </dt>
  <dd>
    <p>Turn off generation of pdf version of document. (This can be used to override a setting in a configuration file. It may get overridden if some other option requires the generation of a pdf file.)</p>
  </dd>
  <dt>
    <p><strong>-pdflatex="COMMAND"</strong></p>
  </dt>
  <dd>
    <p>This sets the string specifying the command to run pdflatex, and is typically used to add desired options.  Since the string normally contains spaces, it should be quoted, e.g.,</p>
<pre>
     latexmk -pdf -pdflatex="pdflatex --shell-escape %O %S"  foo.tex
</pre>
<p>The specification of the contents of the string are the same as for the <em>$pdflatex</em> configuration variable.  Depending on your operating system and the command-line shell you are using, you may need to change the single quotes to double quotes (or something else).</p><p>This option can also be used to set a program to be used instead of the standard <em>pdflatex</em> program, e.g.,</p>
<pre>
     latexmk -pdf -pdflatex="lualatex %O %S"  foo.tex
</pre>
<p>to use <em>lualatex</em> or</p>
<pre>
     latexmk -pdf -pdflatex="xelatex %O %S"  foo.tex
</pre>
<p>to use <em>xelatex</em>.</p><p>To set the command for running <em>latex</em> (rather than the command for <em>pdflatex</em>) see the <strong>-latex</strong> option.</p><p>Note that the effect of this option can also be achieved by using the <strong>-e</strong> option with a suitable line of Perl code to set the <em>$pdflatex</em> variable. See the explanation of the <strong>-e</strong> option.</p>
  </dd>
  <dt>
    <p><strong>-print=dvi, -print=ps, -print=pdf, -print=auto,</strong></p>
  </dt>
  <dd>
    <p>Define which kind of file is printed.  This option also ensures that the requisite file is made, and turns on printing.</p><p>The (default) case <strong>-print=auto</strong> determines the kind of print file automatically from the set of files that is being made.  The first in the list postscript, pdf, dvi that is among the files to be made is the one used for print out.</p>
  </dd>
  <dt>
    <p><strong>-ps</strong></p>
  </dt>
  <dd>
    <p>Generate postscript version of document.</p>
  </dd>
  <dt>
    <p><strong>-ps-</strong></p>
  </dt>
  <dd>
    <p>Turn off generation of postscript version of document. This can be used to override a setting in a configuration file. (It may get overridden by some other option that requires a postscript file, for example a request for printing.)</p>
  </dd>
  <dt>
    <p><strong>-pF</strong></p>
  </dt>
  <dd>
    <p>Postscript file filtering.  The argument to this option is a filter which will generate a filtered postscript file with the extension ".psF".  All extra processing (e.g. preview, printing) will then be performed on this filtered postscript file.</p><p>Example of usage: Use psnup to print two pages on the one page:</p><p>	latexmk -ps -pF 'psnup -2' foo.tex</p><p>or</p><p>	latexmk -ps -pF "psnup -2" foo.tex</p><p>Whether to use single or double quotes round the "psnup -2" will depend on your command interpreter, as used by the particular version of perl and the operating system on your computer.</p>
  </dd>
  <dt>
    <p><strong>-pv</strong></p>
  </dt>
  <dd>
    <p>Run file previewer.  If the <strong>-view</strong> option is used, this will select the kind of file to be previewed (dvi, ps or pdf). Otherwise the viewer views the "highest" kind of file selected, by the <strong>-dvi</strong>, <strong>-ps</strong>, <strong>-pdf</strong>, <strong>-pdfps</strong> options, in the order dvi, ps, pdf (low to high). If no file type has been selected, the dvi previewer will be used. This option is incompatible with the <strong>-p</strong> and <strong>-pvc</strong> options, so it turns them off.</p>
  </dd>
  <dt>
    <p><strong>-pv-</strong></p>
  </dt>
  <dd>
    <p>Turn off <strong>-pv</strong>.</p>
  </dd>
  <dt>
    <p><strong>-pvc</strong></p>
  </dt>
  <dd>
    <p>Run a file previewer and continually update the .dvi, .ps, and/or .pdf files whenever changes are made to source files (see the Description above).  Which of these files is generated and which is viewed is governed by the other options, and is the same as for the <strong>-pv</strong> option. The preview-continuous option <strong>-pvc</strong> can only work with one file. So in this case you will normally only specify one filename on the command line.  It is also incompatible with the <strong>-p</strong> and <strong>-pv</strong> options, so it turns these options off.</p><p>The <strong>-pvc</strong> option also turns off force mode (<strong>-f</strong>), as is normally best for continuous preview mode.  If you really want force mode, use the options in the order <strong>-pvc -f</strong>.</p><p>With a good previewer the display will be automatically updated. (Under <em>some but not all</em> versions of UNIX/Linux "gv -watch" does this for postscript files; this can be set by a configuration variable.  This would also work for pdf files except for an apparent bug in gv that causes an error when the newly updated pdf file is read.)  Many other previewers will need a manual update.</p><p><strong>Important note</strong>: the acroread program on MS-Windows locks the pdf file, and prevents new versions being written, so it is a bad idea to use acroread to view pdf files in preview-continuous mode. It is better to use a different viewer: SumatraPDF and gsview are good possibilities.</p><p>There are some other methods for arranging an update, notably useful for many versions of xdvi and xpdf.  These are best set in <em>latexmk</em>'s configuration; see below.</p><p>Note that if <em>latexmk</em> dies or is stopped by the user, the "forked" previewer will continue to run.  Successive invocations with the <strong>-pvc</strong> option will not fork new previewers, but <em>latexmk</em> will normally use the existing previewer.  (At least this will happen when <em>latexmk</em> is running under an operating system where it knows how to determine whether an existing previewer is running.)</p>
  </dd>
  <dt>
    <p><strong>-pvc-</strong></p>
  </dt>
  <dd>
    <p>Turn off <strong>-pvc</strong>.</p>
  </dd>
  <dt>
    <p><strong>-quiet</strong></p>
  </dt>
  <dd>
    <p>Same as -silent</p>
  </dd>
  <dt>
    <p><strong>-r &lt;rcfile&gt;</strong></p>
  </dt>
  <dd>
    <p>Read the specified initialization file ("RC file") before processing.</p><p>Be careful about the ordering: (1) Standard initialization files -- see the section below on "Configuration/initialization (RC) files" -- are read first.  (2) Then the options on the command line are acted on in the order they are given.  Therefore if an initialization file is specified by the <strong>-r</strong> option, it is read during this second step. Thus an initialization file specified with the <strong>-r</strong> option can override both the standard initialization files and <em>previously</em> specified options.  But all of these can be overridden by <em>later</em> options.</p><p>The contents of the RC file just comprise a piece of code in the <em>Perl</em> programming language (typically a sequence of assignment statements); they are executed when the <strong>-r</strong> option is encountered during <em>latexmk</em>'s parsing of its command line.  See the <strong>-e</strong> option for a way of giving initialization code directly on <em>latexmk</em>'s command line.  An error results in <em>latexmk</em> stopping.  Multiple instances of the <strong>-r</strong> and <strong>-e</strong> options can be used, and they are executed in the order they appear on the command line.</p>
  </dd>
  <dt>
    <p><strong>-recorder</strong></p>
  </dt>
  <dd>
    <p>Use the -recorder option with <em>latex</em> and <em>pdflatex</em>.  In (most) modern versions of these programs, this results in a file of extension <em>.fls</em> containing a list of the files that these programs have read and written.  <em>Latexmk</em> will then use this file to improve its detection of source files and generated files after a run of <em>latex</em> or <em>pdflatex</em>.</p><p>For further information, see the documentation for the <em>$recorder</em> configuration variable.</p>
  </dd>
  <dt>
    <p><strong>-recorder-</strong></p>
  </dt>
  <dd>
    <p>Do not use the -recorder option with <em>latex</em> and <em>pdflatex</em>.</p>
  </dd>
  <dt>
    <p><strong>-rules</strong></p>
  </dt>
  <dd>
    <p>Show a list of <em>latemk</em>'s rules and dependencies after processing.</p>
  </dd>
  <dt>
    <p><strong>-rules-</strong></p>
  </dt>
  <dd>
    <p>Do not show a list of <em>latexmk</em>'s rules and dependencies after processing.  (This is the default.)</p>
  </dd>
  <dt>
    <p><strong>-showextraoptions</strong></p>
  </dt>
  <dd>
    <p>Show the list of extra <em>latex</em> and <em>pdflatex</em> options that <em>latexmk</em> recognizes.  These are options for the <em>latex</em> and <em>pdflatex</em> that <em>latexmk</em> recognizes, but simply passes through to these programs when they are run.  These options are (currently) a combination of those allowed by the TeXLive and MiKTeX implementations.  (If a particular option is given to <em>latexmk</em> but is not handled by the particular implementation of <em>latex</em> or <em>pdflatex</em> that is being used, that program will probably give an error message.)  These options are very numerous, but are not listed in this documentation because they have no effect on <em>latexmk</em>'s actions.</p><p>There are a few options (<strong>-includedirectory=dir</strong>, <strong>-initialize</strong>, <strong>-ini</strong>) that are not recognized, either because they don't fit with <em>latexmk</em>'s intended operations, or because they need special processing by <em>latexmk</em> that isn't implemented (at least, not yet).</p><p>There are also options that are accepted by <em>latex</em> etc, but instead trigger actions by <em>latexmk</em>: <strong>-help</strong>, <strong>-version</strong>.</p><p>Finally, there are certain options for <em>latex</em> and <em>pdflatex</em> (e.g., <strong>-recorder</strong>) that trigger special actions or behavior by <em>latexmk</em> itself as well as being passed in some form to the called <em>latex</em> and <em>pdflatex</em> program, or that affect other programs as well.  These options do have entries in this documentation.  These options are: <strong>-jobname=STRING</strong>, <strong>-aux-directory=dir</strong>, <strong>-output-directory=DIR</strong>, <strong>-quiet</strong>, and <strong>-recorder</strong>.</p>
  </dd>
  <dt>
    <p><strong>-silent</strong></p>
  </dt>
  <dd>
    <p>Run commands silently, i.e., with options that reduce the amount of diagnostics generated.  For example, with the default settings, the command "latex -interaction=batchmode" is used for latex.</p><p>Also reduce the number of informational messages that <em>latexmk</em> generates.</p><p>To change the options used to make the commands run silently, you need to configure <em>latexmk</em> with changed values of its configuration variables, the relevant ones being <em>$bibtex_silent_switch</em>, <em>$biber_silent_switch</em>, <em>$dvipdf_silent_switch</em>, <em>$dvips_silent_switch</em>, <em>$latex_silent_switch</em>, <em>$makeindex_silent_switch</em>, and <em>$pdflatex_silent_switch</em>.</p>
  </dd>
  <dt>
    <p><strong>-use-make</strong></p>
  </dt>
  <dd>
    <p>When after a run of <em>latex</em> or <em>pdflatex</em>, there are warnings about missing files (e.g., as requested by the LaTeX &#92;input, &#92;include, and &#92;includgraphics), <em>latexmk</em> tries to make them by a custom dependency. If no relevant custom dependency with an appropriate source file is found, and if the -use-make option is set, then <em>latexmk</em> will try as a resort using the make program to try to make the missing files.</p><p>Note that the filename may be specified without an extension, e.g., by &#92;includegraphics{drawing} in a LaTeX file.  In that case, <em>latexmk</em> will try making drawing.ext with ext set in turn to the possible extensions that are relevant for <em>latex</em> (or as appropriate <em>pdflatex</em>).</p><p>See also the documentation for the <em>$use_make_for_missing_files</em> configuration variable.</p>
  </dd>
  <dt>
    <p><strong>-use-make-</strong></p>
  </dt>
  <dd>
    <p>Do not use the make program to try to make missing files.  (Default.)</p>
  </dd>
  <dt>
    <p><strong>-v, -version</strong></p>
  </dt>
  <dd>
    <p>Print version number of <em>latexmk</em>.</p>
  </dd>
  <dt>
    <p><strong>-verbose</strong></p>
  </dt>
  <dd>
    <p>Opposite of <strong>-silent</strong>.  This is the default setting.</p>
  </dd>
  <dt>
    <p><strong>-view=default, -view=dvi, -view=ps, -view=pdf</strong></p>
  </dt>
  <dd>
    <p>Set the kind of file used when previewing is requested (e.g., by the <strong>-pv</strong> or <strong>-pvc</strong> switches).  The default is to view the "highest" kind of requested file (in the order dvi, ps, pdf).</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>-xelatex</strong> Use xelatex.  That is, use xelatex to process the source file(s) to pdf (in place of pdflatex).  This option is exactly equivalent to specifying the following sequence of options:</p>
<pre>
     -pdflatex="xelatex %O %S" -pdf -dvi- -ps-
</pre>

  </dd>

</dl>
<p><strong>Compatibility between options</strong></p><p>The preview-continuous option <strong>-pvc</strong> can only work with one file. So in this case you will normally only specify one filename on the command line.</p><p>Options <strong>-p</strong>, <strong>-pv</strong> and <strong>-pvc</strong> are mutually exclusive.  So each of these options turns the others off.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
% <strong>latexmk thesis</strong>		<em># run latex enough times to resolve</em>
				cross-references

% <strong>latexmk -pvc -ps thesis</strong>	<em># run latex enough times to resolve</em>
					cross-references, make a postscript
					file, start a previewer.  Then
					watch for changes in the source
					file thesis.tex and any files it
					uses.  After any changes rerun latex
					the appropriate number of times and
					remake the postscript file.  If latex
					encounters an error, latexmk will
					keep running, watching for
					source file changes.

% <strong>latexmk -c</strong>		<em># remove .aux, .log, .bbl, .blg, .dvi,</em>
					.pdf, .ps & .bbl files


</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOW TO CHANGE THE WAY LATEXMK BEHAVES, DEALING WITH PROBLEMS, ETC</h2>
        <div class="sectioncontent">
<p>Some possibilities:</p><p>a. If you get a strange error, do look carefully at the output that is on the screen and in log files.  While there is much that is notoriously verbose in the output of <em>latex</em> (and that is added to by <em>latexmk</em>), the verbosity is there for a reason: to enable the user to diagnose problems.  <em>Latexmk</em> does repeat some messages at the end of a run that it thinks would otherwise be easy to miss in the middle of other output.</p><p>b. If <em>latexmk</em> doesn't do things the way you would like, the first step in finding out what to do is to look in this documentation at the list of command line options and then at the sections on configuration/initialization files.  A lot of <em>latexmk</em>'s behavior is configurable to deal with particular situations.  (But there is a lot of reading.)</p><p>c. Further tricks can involve replacing the standard commands that <em>latexmk</em> by other commands or scripts.</p><p>d. For possible examples of code for use in an RC file, see the directory example_rcfiles in the distribution of <em>latexmk</em> (e.g., at http://www.ctan.org/tex-archive/support/latexmk/example_rcfiles). Even if these examples don't do what you want, they may provide suitable inspiration.</p><p>e. There's a useful trick that can be used when you are <em>lualatex</em> instead of <em>pdflatex</em> (and in some related situations).  The problem is that <em>latexmk</em> won't notice a dependency on a file, bar.baz say, that is input by the lua code in your document instead of by the LaTeX part.  (Thus if you change bar.baz and rerun <em>latexmk</em>, then <em>latexmk</em> will think no files have changed and not rerun <em>lualatex</em>, whereas if you had '&#92;input{bar.baz}' in the LaTeX part of the document, <em>latexmk</em> would notice the change.) One solution is just to put the following somewhere in the LaTeX part of the document:</p>
<pre>
              &#92;typeout{(bar.baz)}
</pre>
<p>This puts a line in the log file that <em>latexmk</em> will treat as implying that the file bar.baz was read.  (At present I don't know a way of doing this automatically.)  Of course, if the file has a different name, change bar.baz to the name of your file.</p><p>f. Look on tex.stackexchange, i.e., at http://tex.stackexchange.com/questions/tagged/latexmk  Someone may have already solved your problem.</p><p>g. Ask a question at tex.stackexchange.com.</p><p>h. Or ask me (the author of <em>latexmk</em>).  My e-mail is at the end of this documentation.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION/INITIALIZATION (RC) FILES</h2>
        <div class="sectioncontent">
<p><em>Latexmk</em> can be customized using initialization files, which are read at startup in the following order:</p><p>1) The system RC file, if it exists.</p>
<pre>
   On a UNIX system, <em>latexmk</em> searches for following places for its
</pre>
<p>system RC file, in the following order, and reads the first it finds:</p>
<pre>
   "/opt/local/share/latexmk/LatexMk",
   "/usr/local/share/latexmk/LatexMk",
   "/usr/local/lib/latexmk/LatexMk".
   On a MS-WINDOWS system it looks for "C:&#92;latexmk&#92;LatexMk".
   On a cygwin system (i.e., a MS-Windows system in which Perl is
</pre>
<p>that of cygwin), <em>latexmk</em> reads for the first it finds of</p>
<pre>
   "/cygdrive/c/latexmk/LatexMk",
   "/opt/local/share/latexmk/LatexMk",
   "/usr/local/share/latexmk/LatexMk",
   "/usr/local/lib/latexmk/LatexMk".
</pre>
<p>2) The user's RC file, "$HOME/.latexmkrc", if it exists.  Here $HOME is the user's home directory.  [<em>Latexmk</em> determines the user's home directory as follows:  It is the value of the environment variable HOME, if this variable exists, which normally is the case on UNIX-like systems (including LINUX and OS-X).  Otherwise the environment variable USERPROFILE is used, if it exists, which normally is the case on MS-Windows systems. Otherwise a blank string is used instead of $HOME.]</p><p>3) The RC file in the current working directory.  This file can be named either "latexmkrc" or ".latexmkrc", and the first of these to be found is used, if any.</p><p>4) Any RC file(s) specified on the command line with the <strong>-r</strong> option.</p><p>Each RC file is a sequence of <em>Perl</em> commands.  Naturally, a user can use this in creative ways.  But for most purposes, one simply uses a sequence of assignment statements that override some of the built-in settings of <em>Latexmk</em>.  Straightforward cases can be handled without knowledge of the <em>Perl</em> language by using the examples in this document as templates.  Comment lines are introduced by the "#" character.</p><p>Note that command line options are obeyed in the order in which they are written; thus any RC file specified on the command line with the <strong>-r</strong> option can override previous options but can be itself overridden by later options on the command line.  There is also the <strong>-e</strong> option, which allows initialization code to be specified in <em>latexmk</em>'s command line.</p><p><em></em> For possible examples of code for in an RC file, see the directory example_rcfiles in the distribution of latexmk (e.g., at http://www.ctan.org/tex-archive/support/latexmk/example_rcfiles).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOW TO SET VARIABLES IN INITIALIZATION FILES</h2>
        <div class="sectioncontent">
<p>The important variables that can be configured are described in the section "List of configuration variables usable in initialization files".  Syntax for setting these variables is of the following forms:</p><p>	$bibtex = 'bibtex %O %B';</p><p>for the setting of a string variable,</p><p>	$preview_mode = 1;</p><p>for the setting of a numeric variable, and</p><p>	@default_files = ('paper', 'paper1');</p><p>for the setting of an array of strings.  It is possible to append an item to an array variable as follows:</p><p>	push @default_files, 'paper2';</p><p>Note that simple "scalar" variables have names that begin with a $ character and array variables have names that begin with a @ character. Each statement ends with a semicolon.</p><p>Strings should be enclosed in single quotes.  (You could use double quotes, as in many programming languages.  But then the <em>Perl</em> programming language brings into play some special rules for interpolating variables into strings.  People not fluent in <em>Perl</em> will want to avoid these complications.)</p><p>You can do much more complicated things, but for this you will need to consult a manual for the <em>Perl</em> programming language.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMAT OF COMMAND SPECIFICATIONS</h2>
        <div class="sectioncontent">
<p>Some of the variables set the commands that <em>latexmk</em> uses for carrying out its work, for example to generate a dvi file from a tex file or to view a postscript file.  This section describes some important features of how the commands are specified.</p><p><strong>Placeholders</strong>:  Supposed you wanted <em>latexmk</em> to use the command elatex in place of the regular latex command, and suppose moreover that you wanted to give it the option "--shell-escape".  You could do this by the following setting:</p>
<pre>
     $latex = 'elatex --shell-escape %O %S';
</pre>
<p>The two items starting with the % character are placeholders.  These are substituted by appropriate values before the command is run.  Thus %S will be replaced by the source file that elatex will be applied to, and %O will be replaced by any options that <em>latexmk</em> has decided to use for this command.  (E.g., if you used the -silent option it would replace %O by "-interaction=batchmode".)</p><p>The available placeholders are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>%B</strong></p>
  </dt>
  <dd>
    <p>base of filename for current command.  E.g., if a postscript file document.ps is being made from the dvi file document.dvi, then the basename is document.</p>
  </dd>
  <dt>
    <p><strong>%D</strong></p>
  </dt>
  <dd>
    <p>destination file (e.g., the name of the postscript file when converting a dvi file to postscript).</p>
  </dd>
  <dt>
    <p><strong>%O</strong></p>
  </dt>
  <dd>
    <p>options</p>
  </dd>
  <dt>
    <p><strong>%R</strong></p>
  </dt>
  <dd>
    <p>root filename.  This is the base name for the main tex file.</p>
  </dd>
  <dt>
    <p><strong>%S</strong></p>
  </dt>
  <dd>
    <p>source file (e.g., the name of the dvi file when converting a dvi file to ps).</p>
  </dd>
  <dt>
    <p><strong>%T</strong></p>
  </dt>
  <dd>
    <p>The name of the primary tex file.</p>
  </dd>
  <dt>
    <p><strong>%Y</strong></p>
  </dt>
  <dd>
    <p>Name of directory for auxiliary output files (see the configuration variable <em>$aux_dir</em>).  A directory separation character ('/') is appended if <em>$aux_dir</em> is non-empty and does not end in a suitable character, with suitable characters being those appropriate to UNIX and MS-Windows, i.e., ':', '/' and '&#92;'.</p>
  </dd>
  <dt>
    <p><strong>%Z</strong></p>
  </dt>
  <dd>
    <p>Name of directory for output files (see the configuration variable <em>$out_dir</em>).  A directory separation character ('/') is appended if <em>$out_dir</em> is non-empty and does not end in a suitable character, with suitable characters being those appropriate to UNIX and MS-Windows, i.e., ':', '/' and '&#92;'.</p>
  </dd>

</dl>
<p>If for some reason you need a literal % character in your string not subject to the above rules, use a pair of these characters.  Thus with the command specification $ps_previewer = 'latex -ad=%%Sfile.ad %S', the %%S will become %S when the command is executed, but the %S will be replaced by the source filename, which in this case would be the name of a postscript file to be viewed.</p><p>Appropriate quoting will be applied to the filename substitutions, so you mustn't supply them yourself even if the names of your files have spaces in them.  (But if your TeX filenames have spaces in them, beware that many versions of the TeX program cannot correctly handle filenames containing spaces.)  In case latexmk's quoting does not work correctly on your system, you can turn it off -- see the documentation for the variable <em>$quote_filenames</em>.</p><p>The distinction between %B and %R needs a bit of care, since they are often the same, but not always.  For example on a simple document, the basename of a bibtex run is the same as for the texfile.  But in a document with several bibliographies, the bibliography files will have a variety of names.  Since bibtex is invoked with the basename of the bibliography file, the setting for the bibtex command should therefore be</p>
<pre>
     $bibtex = 'bibtex %O %B';
</pre>
<p>Generally, you should use %B rather than %R.  Similarly for most purposes, the name %T of the primary texfile is not a useful placeholder.</p><p>See the default values in the section "List of configuration variables usable in initialization files" for what is normally the most appropriate usage.</p><p>If you omit to supply any placeholders whatever in the specification of a command, <em>latexmk</em> will supply what its author thinks are appropriate defaults.  This gives compatibility with configuration files for previous versions of <em>latexmk</em>, which didn't use placeholders.</p><p><strong>"Detaching" a command</strong>: Normally when <em>latexmk</em> runs a command, it waits for the command to run to completion.  This is appropriate for commands like latex, of course.  But for previewers, the command should normally run detached, so that <em>latexmk</em> gets the previewer running and then returns to its next task (or exits if there is nothing else to do).  To achieve this effect of detaching a command, you need to precede the command name with "start ", as in</p>
<pre>
     $dvi_previewer = 'start xdvi %O %S';
</pre>
<p>This will be translated to whatever is appropriate for your operating system.</p><p>Notes: (1) In some circumstances, <em>latex</em> will always run a command detached.  This is the case for a previewer in preview continuous mode, since otherwise previewing continuously makes no sense.  (2) This precludes the possibility of running a command named start.  (3) If the word start occurs more than once at the beginning of the command string, that is equivalent to having just one.  (4) Under cygwin, some complications happen, since cygwin amounts to a complicated merging of UNIX and MS-Windows.  See the source code for how I've handled the problem.</p><p><strong>Command names containing spaces</strong>: Under MS-Windows it is common that the name of a command includes spaces, since software is often installed in a subdirectory of "C:&#92;Program Files".  Such command names should be enclosed in double quotes, as in</p>
<pre>
     $lpr_pdf = '"c:/Program Files/Ghostgum/gsview/gsview32.exe" /p %S';
     $pdf_previewer = 'start "c:/Program Files/SumatraPDF/SumatraPDF.exe" %O %S';
     $pdf_previewer = 'start "c:/Program Files/SumatraPDF (x86)/SumatraPDF.exe" %O %S';
</pre>
<p>(Note about the above example: Forward slashes are equivalent to backslashes in filenames under MS-Windows, provided that the filename is inside double quotes.  It is easier to use forward slashes in examples like the one above, since then one does not have to worry about the rules for dealing with forward slashes in strings in the Perl language.)</p><p><strong>Command names under Cygwin</strong>: If latexmk is executed by Cygwin's Perl, <em> be particularly certain that pathnames in commands have</em> <strong>forward</strong><em> slashes</em> not the usual backslashes for the separator of pathname components.  See the above examples.  Backslashes often get misinterpreted by the Unix shell used by Cygwin's Perl to execute external commands.  Forward slashes don't suffer from this problem, and (when quoted, as above) are equally acceptable to MS-Windows.</p><p><strong>Using MS-Windows file associations</strong>: A useful trick under modern versions of MS-Windows (e.g., WinXP) is to use just the command 'start' by itself:</p>
<pre>
     $dvi_previewer = 'start %S';
</pre>
<p>Under recent versions of MS-Windows, this will cause to be run whatever program the system has associated with dvi files.  (The same applies for a postscript viewer and a pdf viewer.)  But note that this trick is not always suitable for the pdf previwer, if your system has acroread for the default pdf viewer.  As explained elsewhere, acroread under MS-Windows does not work well with <em>latex</em> and <em>latexmk</em>, because acroread locks the pdf file.</p><p><strong>Not using a certain command</strong>: If a command is not to be run, the command name NONE is used, as in</p>
<pre>
     $lpr  = 'NONE lpr';
</pre>
<p>This typically is used when an appropriate command does not exist on your system.  The string after the "NONE" is effectively a comment.</p><p><strong>Options to commands</strong>: Setting the name of a command can be used not only for changing the name of the command called, but also to add options to command. Suppose you want <em>latexmk</em> to use latex with source specials enabled.  Then you might use the following line in an initialization file:</p>
<pre>
     $latex = 'latex --src-specials %O %S';
</pre>
<p><strong>Running a subroutine instead of an external command</strong>: Use a specification starting with "internal", as in</p>
<pre>
     $latex = 'internal mylatex %O %S';
     sub mylatex {
         my @args = @_;
         # Possible preprocessing here
         return system 'latex', @args;
     }
</pre>
<p><strong>Advanced tricks</strong>: Normally one specifies a single command for the commands invoked by <em>latexmk</em>.  Naturally, if there is some complicated additional processing you need to do in your special situation, you can write a script (or batch file) to do the processing, and then configure <em>latexmk</em> to use your script in place of the standard program.</p><p>It is also possible to configure <em>latexmk</em> to run multiple commands.  For example, if when running pdflatex to generate a pdf file from a tex file you need to run another program after pdflatex to perform some extra processing, you could do something like:</p>
<pre>
     $pdflatex = 'pdflatex --shell-escape %O %S; pst2pdf_for_latexmk %B';
</pre>
<p>This definition assumes you are using a UNIX-like system (which includes Linux and OS-X), so that the two commands to be run are separated by the semicolon in the middle of the string.</p><p>If you are using MS-Windows, you would replace the above line by</p>
<pre>
   $pdflatex = 'cmd /c pdflatex --shell-escape %O %S'
               . '&& pst2pdf_for_latexmk %B';
</pre>
<p>Here, the UNIX command separator ; is replaced by &&.  In addition, there is a problem that some versions of <em>Perl</em> on MS-Windows do not obey the command separator; this problem is overcome by explicitly invoking the MS-Windows command-line processor <em>cmd.exe</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIST OF CONFIGURATION VARIABLES USABLE IN INITIALIZATION FILES</h2>
        <div class="sectioncontent">
<p>Default values are indicated in brackets.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>$always_view_file_via_temporary [0]</strong></p>
  </dt>
  <dd>
    <p>Whether ps and pdf files are initially to be made in a temporary directory and then moved to the final location.  (This applies to dvips, dvipdf, and ps2pdf operations, and the filtering operators on dvi and ps files.  It does not apply to pdflatex, unfortunately.)</p><p>This use of a temporary file solves a problem that the making of these files can occupy a substantial time.  If a viewer sees that the file has changed, it reads the new file, and this can cause havoc if the program writing the file has not yet finished its work.</p><p>See the <em>$pvc_view_file_via_temporary</em> variable for a setting that applies only if preview-continuous mode (-pvc option) is used.  See <em>$tmpdir</em> for the setting of the directory where the temporary file is created.</p>
  </dd>
  <dt>
    <p><strong>$auto_rc_use [1]</strong></p>
  </dt>
  <dd>
    <p>Whether to automatically read the standard initialization (rc) files, which are the system RC file, the user's RC file, and the RC file in the current directory.  The command line option <strong>-norc</strong> can be used to turn this setting off.  Each RC file could also turn this setting off, i.e., it could set <em>$auto_rc_use</em> to zero to prevent automatic reading of the later RC files.</p><p>This variable does not affect the reading of RC files specified on the command line by the <strong>-r</strong> option.</p>
  </dd>
  <dt>
    <p><strong>$aux_dir [""]</strong></p>
  </dt>
  <dd>
    <p>The directory in which auxiliary files (aux, log, etc) are to be written by a run of (pdf)latex.  If this variable is not set, but <em>$out_dir</em> is set, then <em>$aux_dir</em> is set to <em>$out_dir</em>, which is the directory to which general output files are to be written.</p><p><strong>Important note</strong>:  The effect of <em>$aux_dir</em>, if different from <em>$out_dir</em>, is achieved by giving (pdf)latex the <strong>-aux-directory</strong>.  Currently (Dec. 2011) this only works on the MiKTeX version of (pdf)latex.</p><p>See also the documentation of <em>$out_dir</em> for some complications on what directory names are suitable.</p>
  </dd>
  <dt>
    <p><strong>$banner [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, the banner message is printed across each page when converting the dvi file to postscript.  Without modifying the variable <em>$banner_message</em>, this is equivalent to specifying the <strong>-d</strong> option.</p><p>Note that if <strong>$banner</strong> is nonzero, the <strong>$postscript_mode</strong> is assumed and the postscript file is always generated, even if it is newer than the dvi file.</p>
  </dd>
  <dt>
    <p><strong>$banner_intensity [0.95]</strong></p>
  </dt>
  <dd>
    <p>Equivalent to the <strong>-bi</strong> option, this is a decimal number between 0 and 1 that specifies how dark to print the banner message. 0 is black, 1 is white.  The default is just right if your toner cartridge isn't running too low.</p>
  </dd>
  <dt>
    <p><strong>$banner_message ["DRAFT"]</strong></p>
  </dt>
  <dd>
    <p>The banner message to print across each page when converting the dvi file to postscript.  This is equivalent to the <strong>-bm</strong> option.</p>
  </dd>
  <dt>
    <p><strong>$banner_scale [220.0]</strong></p>
  </dt>
  <dd>
    <p>A decimal number that specifies how large the banner message will be printed.  Experimentation is necessary to get the right scale for your message, as a rule of thumb the scale should be about equal to 1100 divided by the number of characters in the message.  The Default is just right for 5 character messages.  This is equivalent to the <strong>-bs</strong> option.</p>
  </dd>
  <dt>
    <p><strong>@BIBINPUTS</strong></p>
  </dt>
  <dd>
    <p>This is an array variable, now mostly obsolete, that specifies directories where <em>latexmk</em> should look for .bib files.  By default it is set from the BIBINPUTS environment variable of the operating system.  If that environment variable is not set, a single element list consisting of the current directory is set.  The format of the directory names depends on your operating system, of course.  Examples for setting this variable are:</p>
<pre>
        @BIBINPUTS = ( ".", "C:&#92;bibfiles" );
        @BIBINPUTS = ( ".", "&#92;&#92;server&#92;bibfiles" );
        @BIBINPUTS = ( ".", "C:/bibfiles" );
        @BIBINPUTS = ( ".", "//server/bibfiles" );
        @BIBINPUTS = ( ".", "/usr/local/texmf/bibtex/bib" );
</pre>
<p>Note that under MS Windows, either a forward slash "/" or a backward slash "\(rs" can be used to separate pathname components, so the first two and the second two examples are equivalent.  Each backward slash should be doubled to avoid running afoul of <em>Perl</em>'s rules for writing strings.</p><p><em>Important note:</em> This variable is now mostly obsolete in the current version of <em>latexmk</em>, since it has a better method of searching for files using the kpsewhich command.  However, if your system is an unusual one without the kpsewhich command, you may need to set the variable <em>@BIBINPUTS</em>.</p>
  </dd>
  <dt>
    <p><strong>$biber ["biber %O %S"]</strong></p>
  </dt>
  <dd>
    <p>The biber processing program.</p>
  </dd>
  <dt>
    <p><strong>$biber_silent_switch ["--onlylog"]</strong></p>
  </dt>
  <dd>
    <p><strong>Switch(es)</strong> for the biber processing program when silent mode is on.</p>
  </dd>
  <dt>
    <p><strong>$bibtex ["bibtex %O %S"]</strong></p>
  </dt>
  <dd>
    <p>The BibTeX processing program.</p>
  </dd>
  <dt>
    <p><strong>$bibtex_silent_switch ["-terse"]</strong></p>
  </dt>
  <dd>
    <p><strong>Switch(es)</strong> for the BibTeX processing program when silent mode is on.</p>
  </dd>
  <dt>
    <p><strong>$bibtex_use [1]</strong></p>
  </dt>
  <dd>
    <p>Under what conditions to run BibTeX or biber.  When <em>latexmk</em> discovers from the log file that one (or more) BibTeX/biber-generated bibliographies are used, it can run BibTeX or biber whenever it appears necessary to regenerate the bbl file(s) from their source bib database file(s).</p><p>But sometimes, the bib file(s) are not available (e.g., for a document obtained from an external archive), but the bbl files are provided. In that case use of BibTeX or biber will result in incorrect overwriting of the precious bbl files.  The variable <em>$bibtex_use</em> controls whether this happens.  Its possible values are: 0: never use BibTeX or biber.  1: only use BibTeX or biber if the bib files exist. 2: run BibTeX or biber whenever it appears necessary to update the bbl files, without testing for the existence of the bib files.</p>
  </dd>
  <dt>
    <p><strong>$cleanup_includes_cusdep_generated [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, specifies that cleanup also deletes files that are generated by custom dependencies. (When doing a clean up, e.g., by use of the <strong>-C</strong> option, custom dependencies are those listed in the <em>.fdb_latexmk</em> file from a previous run.)</p>
  </dd>
  <dt>
    <p><strong>$cleanup_includes_generated [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, specifies that cleanup also deletes files that are detected in log file as being generated (see the &#92;openout lines in the log file).  It will also include files made from these first generation generated files.</p>
  </dd>
  <dt>
    <p><strong>$cleanup_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, specifies cleanup mode: 1 for full cleanup, 2 for cleanup except for dvi, ps and pdf files, 3 for cleanup except for dep and aux files.  (There is also extra cleaning as specified by the <em>$clean_ext</em>, <em>$clean_full_ext</em> and <em>@generated_exts</em> variables.)</p><p>This variable is equivalent to specifying one of the <strong>-c</strong> or <strong>-C</strong> options.  But there should be no need to set this variable from an RC file.</p>
  </dd>
  <dt>
    <p><strong>$clean_ext [""]</strong></p>
  </dt>
  <dd>
    <p>Extra extensions of files for <em>latexmk</em> to remove when any of the clean-up options (<strong>-c</strong> or <strong>-C</strong>) is selected. The value of this variable is a string containing the extensions separated by spaces.</p><p>It is also possible to specify a more general pattern of file to be deleted, by using the place holder %R, as in commands, and it is also possible to use wildcards.  Thus setting</p>
<pre>
   $clean_ext = "out %R-blx.bib %R-figures*.log";
</pre>
<p>in an initialization file will imply that when a clean-up operation is specified, not only is the standard set of files deleted, but also files of the form FOO.out, FOO-blx.bib, and %R-figures*.log, where FOO stands for the basename of the file being processed (as in FOO.tex).</p>
  </dd>
  <dt>
    <p><strong>$clean_full_ext [""]</strong></p>
  </dt>
  <dd>
    <p>Extra extensions of files for <em>latexmk</em> to remove when the <strong>-C</strong> option is selected, i.e., extensions of files to remove when the .dvi, etc files are to be cleaned-up.</p><p>More general patterns are allowed, as for <em>$clean_ext</em>.</p>
  </dd>
  <dt>
    <p><strong>$compiling_cmd [undefined], $failure_cmd [undefined], $success_cmd [undefined]</strong></p>
  </dt>
  <dd>
    <p>These variables specify commands that are executed at certain points of compilations during preview-continuous mode.  One motivation for their existance is to allow convenient visual indications of compilation status even when the window receiving the screen output of the compilation is hidden.</p><p>The commands are executed at the following points: $compiling_cmd at the start of compilation, $success_cmd at the end of a successful compilation, and $failure_cmd at the end of an unsuccessful compilation.  If any of above variables is undefined (the default situation) or blank, then the corresponding command is not executed.</p><p>An example of a typical setting of these variables is as follows</p>
<pre>
    $compiling_cmd = "xdotool search --name      $success_cmd   = "xdotool search --name      $failure_cmd   = "xdotool search --name  
</pre>
<p>These assume that the program <em>xdotool</em> is installed, that the previewer is using an X-Window system for display, and that the title of the window contains the name of the displayed file, as it normally does.  When the commands are executed, the placeholder string %D is replaced by the name of the destination file, which is the previewed file.  The above commands result in an appropriate string being appended to the filename in the window title: " compiling", " OK", or " FAILURE".</p><p>Other placeholders that can be used are %S, %T, and %R, with %S and %T normally being identical. These can be useful for a command changing the title of the edit window. The visual indication in a window title can useful, since the user does not have to keep shifting attention to the (possibly hidden) compilation window to know the status of the compilation.</p>
  </dd>
  <dt>
    <p><strong>@cus_dep_list [()]</strong></p>
  </dt>
  <dd>
    <p>Custom dependency list -- see section on "Custom Dependencies".</p>
  </dd>
  <dt>
    <p><strong>@default_files [("*.tex")]</strong></p>
  </dt>
  <dd>
    <p>Default list of files to be processed.</p><p>Normally, if no filenames are specified on the command line, <em>latexmk</em> processes all tex files specified in the <em>@default_files</em> variable, which by default is set to all tex files ("*.tex") in the current directory.  This is a convenience: just run <em>latexmk</em> and it will process an appropriate set of files.  But sometimes you want only some of these files to be processed.  In this case you set the <em>@default_files</em> in an initialization file (e.g., the file "latexmkrc" in the current directory).  Then if no files are specified on the command line then the files you specify by setting <em>@default_files</em> are processed.</p><p>Three examples:</p>
<pre>
     @default_files = ("paper_current");
</pre>

<pre>
     @default_files = ("paper1", "paper2.tex");
</pre>

<pre>
     @default_files = ("*.tex", "*.dtx");
</pre>
<p>Note that more than file may be given, and that the default extension is ".tex".  Wild cards are allowed.  The parentheses are because <em>@default_files</em> is an array variable, i.e., a sequence of filename specifications is possible.</p>
  </dd>
  <dt>
    <p><strong>$dependents_phony [0]</strong></p>
  </dt>
  <dd>
    <p>If a list of dependencies is output, this variable determines whether to include a phony target for each source file.  If you use the dependents list in a Makefile, the dummy rules work around errors make gives if you remove header files without updating the Makefile to match.</p>
  </dd>
  <dt>
    <p><strong>$dependents_list [0]</strong></p>
  </dt>
  <dd>
    <p>Whether to display a list(s) of dependencies at the end of a run.</p>
  </dd>
  <dt>
    <p><strong>$do_cd [0]</strong></p>
  </dt>
  <dd>
    <p>Whether to change working directory to the directory specified for the main source file before processing it.  The default behavior is not to do this, which is the same as the behavior of <em>latex</em> and <em>pdflatex</em> programs.  This variable is set by the <strong>-cd</strong> and <strong>-cd-</strong> options on <em>latexmk</em>'s command line.</p>
  </dd>
  <dt>
    <p><strong>$dvi_filter [empty]</strong></p>
  </dt>
  <dd>
    <p>The dvi file filter to be run on the newly produced dvi file before other processing.  Equivalent to specifying the <strong>-dF</strong> option.</p>
  </dd>
  <dt>
    <p><strong>$dvi_mode [See below for default]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, generate a dvi version of the document. Equivalent to the <strong>-dvi</strong> option.</p><p>The variable $dvi_mode defaults to 0, but if no explicit requests are made for other types of file (postscript, pdf), then $dvi_mode will be set to 1.  In addition, if a request for a file for which a .dvi file is a prerequisite, then $dvi_mode will be set to 1.</p>
  </dd>
  <dt>
    <p><strong>$dvi_previewer ["start xdvi %O %S" under UNIX]</strong></p>
  </dt>
  <dd>
    <p>The command to invoke a dvi-previewer. [Default is "start" under MS-WINDOWS; under more recent versions of Windows, this will cause to be run whatever command the system has associated with .dvi files.]</p><p><strong>Important note</strong>: Normally you will want to have a previewer run detached, so that <em>latexmk</em> doesn't wait for the previewer to terminate before continuing its work.  So normally you should prefix the command by "start ", which flags to <em>latexmk</em> that it should do the detaching of the previewer itself (by whatever method is appropriate to the operating system).  But sometimes letting <em>latexmk</em> do the detaching is not appropriate (for a variety of non-trivial reasons), so you should put the "start " bit in yourself, whenever it is needed.</p>
  </dd>
  <dt>
    <p><strong>$dvi_previewer_landscape ["start xdvi %O %S"]</strong></p>
  </dt>
  <dd>
    <p>The command to invoke a dvi-previewer in landscape mode. [Default is "start" under MS-WINDOWS; under more recent versions of Windows, this will cause to be run whatever command the system has associated with .dvi files.]</p>
  </dd>
  <dt>
    <p><strong>$dvipdf ["dvipdf %O %S %D"]</strong></p>
  </dt>
  <dd>
    <p>Command to convert dvi to pdf file.  A common reconfiguration is to use the dvipdfm command, which needs its arguments in a different order:</p>
<pre>
     $dvipdf = "dvipdfm %O -o %D %S";
</pre>
<p>WARNING: The default dvipdf script generates pdf files with bitmapped fonts, which do not look good when viewed by acroread.  That script should be modified to give dvips the options "-P pdf" to ensure that type 1 fonts are used in the pdf file.</p>
  </dd>
  <dt>
    <p><strong>$dvipdf_silent_switch ["-q"]</strong></p>
  </dt>
  <dd>
    <p>Switch(es) for dvipdf program when silent mode is on.</p><p>N.B. The standard dvipdf program runs silently, so adding the silent switch has no effect, but is actually innocuous.  But if an alternative program is used, e.g., dvipdfmx, then the silent switch has an effect.  The default setting is correct for dvipdfm and dvipdfmx.</p>
  </dd>
  <dt>
    <p><strong>$dvips ["dvips %O -o %D %S"]</strong></p>
  </dt>
  <dd>
    <p>The program to used as a filter to convert a .dvi file to a .ps file. If pdf is going to be generated from pdf, then the value of the $dvips_pdf_switch -- see below -- will be included in the options substituted for "%O".</p>
  </dd>
  <dt>
    <p><strong>$dvips_landscape ["dvips -tlandscape %O -o %D %S"]</strong></p>
  </dt>
  <dd>
    <p>The program to used as a filter to convert a .dvi file to a .ps file in landscape mode.</p>
  </dd>
  <dt>
    <p><strong>$dvips_pdf_switch ["-P pdf"]</strong></p>
  </dt>
  <dd>
    <p>Switch(es) for dvips program when pdf file is to be generated from ps file.</p>
  </dd>
  <dt>
    <p><strong>$dvips_silent_switch ["-q"]</strong></p>
  </dt>
  <dd>
    <p>Switch(es) for dvips program when silent mode is on.</p>
  </dd>
  <dt>
    <p><strong>$dvi_update_command [""]</strong></p>
  </dt>
  <dd>
    <p>When the dvi previewer is set to be updated by running a command, this is the command that is run.  See the information for the variable <em>$dvi_update_method</em> for further information, and see information on the variable <em>$pdf_update_method</em> for an example for the analogous case of a pdf previewer.</p>
  </dd>
  <dt>
    <p><strong>$dvi_update_method [2 under UNIX, 1 under MS-Windows]</strong></p>
  </dt>
  <dd>
    <p>How the dvi viewer updates its display when the dvi file has changed. The values here apply equally to the <em>$pdf_update_method</em> and to the <em>$ps_update_method</em> variables.</p>
<pre>
    0 =&gt; update is automatic,
    1=&gt; manual update by user, which may only mean a mouse click on the
</pre>
<p>viewer's window or may mean a more serious action.</p>
<pre>
    2 =&gt; Send the signal, whose number is in the variable
</pre>
<p><em>$dvi_update_signal</em>.  The default value under UNIX is suitable for xdvi.</p>
<pre>
    3 =&gt; Viewer cannot do an update, because it locks the file. (As with
</pre>
<p>acroread under MS-Windows.)</p>
<pre>
    4 =&gt; run a command to do the update.  The command is specified by
</pre>
<p>the variable <em>$dvi_update_command</em>.</p><p>See information on the variable <em>$pdf_update_method</em> for an example of updating by command.</p>
  </dd>
  <dt>
    <p><strong>$dvi_update_signal [Under UNIX: SIGUSR1, which is a system-dependent value]</strong></p>
  </dt>
  <dd>
    <p>The number of the signal that is sent to the dvi viewer when it is updated by sending a signal -- see the information on the variable <em>$dvi_update_method</em>.  The default value is the one appropriate for xdvi on a UNIX system.</p>
  </dd>
  <dt>
    <p><strong>$failure_cmd [undefined]</strong></p>
  </dt>
  <dd>
    <p>See the documentation for $compiling_cmd.</p>
  </dd>
  <dt>
    <p><strong>$fdb_ext ["fdb_latexmk"]</strong></p>
  </dt>
  <dd>
    <p>The extension of the file which <em>latexmk</em> generates to contain a database of information on source files.  You will not normally need to change this.</p>
  </dd>
  <dt>
    <p><strong>$force_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, continue processing past minor <em>latex</em> errors including unrecognized cross references.  Equivalent to specifying the <strong>-f</strong> option.</p>
  </dd>
  <dt>
    <p><strong>@generated_exts [( aux , bbl , idx , ind , lof , lot , out , toc , $fdb_ext )]</strong></p>
  </dt>
  <dd>
    <p>This contains a list of extensions for files that are generated during a LaTeX run and that are read in by LaTeX in later runs, either directly or indirectly.</p><p>This list has two uses: (a) to set the kinds of file to be deleted in a cleanup operation (with the <strong>-c</strong>, <strong>-C</strong>, <strong>-CA</strong>, <strong>-g</strong> and <strong>-gg</strong> options), and (b) in the determination of whether a rerun of (pdf)LaTeX is needed after a run that gives an error.</p><p>(Normally, a change of a source file during a run should provoke a rerun.  This includes a file generated by LaTeX, e.g., an aux file, that is read in on subsequent runs.  But after a run that results in an error, a new run should occur until the user has made a change in the files.  But the user may have corrected an error in a source .tex file during the run.  So <em>latexmk</em> needs to distinguish user-generated and automatically generated files; it determines the automatically generated files as those with extensions in the list in @generated_exts.)</p><p>A convenient way to add an extra extension to the list, without losing the already defined ones is to use a push command in the line in an RC file.  E.g.,</p>
<pre>
                push @generated_exts, "end";
</pre>
<p>adds the extension "end" to the list of predefined generated extensions.  (This extension is used by the RevTeX package, for example.)</p>
  </dd>
  <dt>
    <p><strong>$go_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, process files regardless of timestamps, and is then equivalent to the <strong>-g</strong> option.</p>
  </dd>
  <dt>
    <p><strong>%hash_calc_ignore_pattern</strong></p>
  </dt>
  <dd>
    <p><strong>!!!This variable is for experts only!!!</strong></p><p>The general rule <em>latexmk</em> uses for determining when an extra run of some program is needed is that one of the source files has changed. But consider for example a latex package that causes an encapsulated postscript file (an "eps" file) to be made that is to be read in on the next run.  The file contains a comment line giving its creation date and time.  On the next run the time changes, <em>latex</em> sees that the eps file has changed, and therefore reruns latex.  This causes an infinite loop, that is only terminated because <em>latexmk</em> has a limit on the number of runs to guard against pathological situations.</p><p>But the changing line has no real effect, since it is a comment.  You can instruct <em>latex</em> to ignore the offending line as follows:</p>
<pre>
   $hash_calc_ignore_pattern{'eps'} = '^%%CreationDate: ';
</pre>
<p>This creates a rule for files with extension <em>.eps</em> about lines to ignore.  The left-hand side is a <em>Perl</em> idiom for setting an item in a hash.  Note that the file extension is specified without a period.  The value, on the right-hand side, is a string containing a regular expresssion.  (See documentation on <em>Perl</em> for how they are to be specified in general.)  This particular regular expression specifies that lines beginning with "%%CreationDate: " are to be ignored in deciding whether a file of the given extension <em>.eps</em> has changed.</p><p>There is only one regular expression available for each extension.  If you need more one pattern to specify lines to ignore, then you need to combine the patterns into a single regular expression.  The simplest method is separate the different simple patterns by a vertical bar character (indicating "alternation" in the jargon of regular expressions).  For example,</p>
<pre>
   $hash_calc_ignore_pattern{'eps'} = '^%%CreationDate: |^%%Title: ';
</pre>
<p>causes lines starting with either "^%%CreationDate: " or "^%%Title: " to be ignored.</p><p>It may happen that a pattern to be ignored is specified in, for example, in a system or user initialization file, and you wish to remove this in a file read later.  To do this, you use Perl's delete function, e.g.,</p>
<pre>
    delete $hash_calc_ignore_pattern{'eps'};
</pre>

  </dd>
  <dt>
    <p><strong>$kpsewhich ["kpsewhich %S"]</strong></p>
  </dt>
  <dd>
    <p>The program called to locate a source file when the name alone is not sufficient.  Most filenames used by <em>latexmk</em> have sufficient path information to be found directly.  But sometimes, notably when .bib files are found from the log file of a bibtex or biber run, the name of the file, but not its path is known.  The program specified by $kpsewhich is used to find it.</p><p>See also the <em>@BIBINPUTS</em> variable for another way that <em>latexmk</em> also uses to try to locate files; it applies only in the case of .bib files.</p>
  </dd>
  <dt>
    <p><strong>$landscape_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, run in landscape mode, using the landscape mode previewers and dvi to postscript converters.  Equivalent to the <strong>-l</strong> option. Normally not needed with current previewers.</p>
  </dd>
  <dt>
    <p><strong>$latex ["latex %O %S"]</strong></p>
  </dt>
  <dd>
    <p>The LaTeX processing program.  Note that as with other programs, you can use this variable not just to change the name of the program used, but also specify options to the program.  E.g.,</p><p>	$latex = "latex --src-specials";</p>
  </dd>
  <dt>
    <p><strong>%latex_input_extensions</strong></p>
  </dt>
  <dd>
    <p>This variable specifies the extensions tried by latexmk when it finds that a LaTeX run resulted in an error that a file has not been found, and the file is given without an extension.  This typically happens when LaTeX commands of the form &#92;input{file} or &#92;includegraphics{figure}, when the relevant source file does not exist.</p><p>In this situation, latexmk searches for custom dependencies to make the missing file(s), but restricts it to the extensions specified by the variable %latex_input_extensions.  The default extensions are 'tex' and 'eps'.</p><p>(For Perl experts: %latex_input_extensions is a hash whose keys are the extensions.  The values are irrelevant.)  Two subroutines are provided for manipulating this and the related variable %pdflatex_input_extensions, add_input_ext and remove_input_ext.  They are used as in the following examples are possible lines in an initialization file:</p>
<pre>
    remove_input_ext( 'latex', 'tex' );
</pre>
<p>removes the extension 'tex' from latex_input_extensions</p>
<pre>
    add_input_ext( 'latex', 'asdf' );
</pre>
<p>add the extension 'asdf to latex_input_extensions.  (Naturally with such an extension, you should have made an appropriate custom dependency for latexmk, and should also have done the appropriate programming in the LaTeX source file to enable the file to be read. The standard extensions are handled by LaTeX and its graphics/graphicx packages.</p>
  </dd>
  <dt>
    <p><strong>$latex_silent_switch ["-interaction=batchmode"]</strong></p>
  </dt>
  <dd>
    <p>Switch(es) for the LaTeX processing program when silent mode is on.</p><p>If you use MikTeX, you may prefer the results if you configure the options to include -c-style-errors, e.g., by the following line in an initialization file</p>
<pre>
  $latex_silent_switch = "-interaction=batchmode -c-style-errors";
</pre>

  </dd>
  <dt>
    <p><strong>$lpr ["lpr %O %S" under UNIX/LINUX, &quot;NONE lpr&quot; under MS-WINDOWS]</strong></p>
  </dt>
  <dd>
    <p>The command to print postscript files.</p><p>Under MS-Windows (unlike UNIX/LINUX), there is no standard program for printing files.  But there are ways you can do it.  For example, if you have gsview installed, you could use it with the option "/p":</p>
<pre>
    $lpr = '"c:/Program Files/Ghostgum/gsview/gsview32.exe" /p';
</pre>
<p>If gsview is installed in a different directory, you will need to make the appropriate change.  Note the combination of single and double quotes around the name.  The single quotes specify that this is a string to be assigned to the configuration variable <em>$lpr</em>.  The double quotes are part of the string passed to the operating system to get the command obeyed; this is necessary because one part of the command name ("Program Files") contains a space which would otherwise be misinterpreted.</p>
  </dd>
  <dt>
    <p><strong>$lpr_dvi ["NONE lpr_dvi"]</strong></p>
  </dt>
  <dd>
    <p>The printing program to print dvi files.</p>
  </dd>
  <dt>
    <p><strong>$lpr_pdf ["NONE lpr_pdf"]</strong></p>
  </dt>
  <dd>
    <p>The printing program to print pdf files.</p><p>Under MS-Windows you could set this to use gsview, if it is installed, e.g.,</p>
<pre>
    $lpr = '"c:/Program Files/Ghostgum/gsview/gsview32.exe" /p';
</pre>
<p>If gsview is installed in a different directory, you will need to make the appropriate change.  Note the double quotes around the name: this is necessary because one part of the command name ("Program Files") contains a space which would otherwise be misinterpreted.</p>
  </dd>
  <dt>
    <p><strong>$make ["make"]</strong></p>
  </dt>
  <dd>
    <p>The make processing program.</p>
  </dd>
  <dt>
    <p><strong>$makeindex ["makeindex %O -o %D %S"]</strong></p>
  </dt>
  <dd>
    <p>The index processing program.</p>
  </dd>
  <dt>
    <p><strong>$makeindex_silent_switch ["-q"]</strong></p>
  </dt>
  <dd>
    <p><strong>Switch(es)</strong> for the index processing program when silent mode is on.</p>
  </dd>
  <dt>
    <p><strong>$max_repeat [5]</strong></p>
  </dt>
  <dd>
    <p>The maximum number of times <em>latexmk</em> will run latex/pdflatex before deciding that there may be an infinite loop and that it needs to bail out, rather than rerunning latex/pdflatex again to resolve cross-references, etc.  The default value covers all normal cases.</p><p>(Note that the "etc" covers a lot of cases where one run of latex/pdflatex generates files to be read in on a later run.)</p>
  </dd>
  <dt>
    <p><strong>$MSWin_back_slash [1]</strong></p>
  </dt>
  <dd>
    <p>This configuration variable only has an effect when <em>latexmk</em> is running under MS-Windows.  It determines whether, when a command is executed under MS-Windows, there should be substituted " separator character between components of a directory name. Internally, <em>latexmk</em> uses "/" for the directory separator character, which is the character used by Unix-like systems.</p><p>For many programs under MS-Windows, both " as the directory separator character.  But some programs only accept " It is conceivable that under certain situations this is undesirable, so the configuration can be changed.  (A possible example might be when some of the software is implemented using Cygwin, which provides an Unix-like environment inside MS-Windows.)</p>
  </dd>
  <dt>
    <p><strong>$new_viewer_always [0]</strong></p>
  </dt>
  <dd>
    <p>This variable applies to <em>latexmk</em> <strong>only</strong> in continuous-preview mode.  If <em>$new_viewer_always</em> is 0, <em>latexmk</em> will check for a previously running previewer on the same file, and if one is running will not start a new one.  If <em>$new_viewer_always</em> is non-zero, this check will be skipped, and <em>latexmk</em> will behave as if no viewer is running.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>$out_dir [""]</strong> The directory in which output files are to be written by a run of (pdf)latex.  See also the variable <em>$aux_dir</em>.</p><p>The effect of this variable (when non-blank) is achieved by using the <strong>-output-directory</strong> option of (pdf)latex.  This exists in the usual current (Dec. 2011) implementations of TeX, i.e., MiKTeX and TeXLive. But it may not be present in other versions.</p><p>Commonly, the directory specified for output files is a subdirectory of the current working directory.  However, if you specify some other directory, e.g., "/tmp/foo" or "../output", be aware that this could cause problems, e.g., with <em>makeindex</em> or <em>bibtex</em>.  This is because modern versions of these programs, by default, will refuse to work when they find that they are asked to write to a file in a directory that appears not to be the current working directory or one of its subdirectories.  This is part of security measures by the whole TeX system that try to prevent malicious or errant TeX documents from incorrectly messing with a user's files.  If for <em>$out_dir</em> or <em>$aux_dir</em> you really do need to specify an absolute pathname (e.g., "/tmp/foo") or a path (e.g., "../output") that includes a higher-level directory, then you need to disable the security measures (and assume any risks).  This can be done by temporarily setting the operating system's environment variable openout_any to "a" (as in "all"), to override the default "paranoid" setting.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>$pdf_mode [0]</strong> If zero, do NOT generate a pdf version of the document. If equal to 1, generate a pdf version of the document using pdflatex. If equal to 2, generate a pdf version of the document from the ps file, by using the command specified by the <em>$ps2pdf</em> variable. If equal to 3, generate a pdf version of the document from the dvi file, by using the command specified by the <em>$dvipdf</em> variable.</p><p>Equivalent to the <strong>-pdf-</strong>, <strong>-pdf</strong>, <strong>-pdfdvi</strong>, <strong>-pdfps</strong> options.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    <p><strong>$pdflatex ["pdflatex %O %S"]</strong> The LaTeX processing program in a version that makes a pdf file instead of a dvi file.</p><p>An example of the use of this variable is to arrange for <em>lualatex</em>, <em>xelatex</em> or some similar program to be used instead of <em>pdflatex</em>. Note that <em>lualatex</em> and <em>xelatex</em> only produce .pdf files (and not .dvi), so to use them you will also need to turn on production of .pdf files, and to turn off the production of .dvi (and .ps) files, either by command line options or by suitable settings in a configuration file. Thus to use <em>lualatex</em>, the following settings are appropriate:</p>
<pre>
     $pdflatex = "lualatex %O %S";
     $pdf_mode = 1; $postscript_mode = $dvi_mode = 0;
</pre>
<p>To use <em>xelatex</em>, the corresponding settings are:</p>
<pre>
     $pdflatex = "xelatex %O %S";
     $pdf_mode = 1; $postscript_mode = $dvi_mode = 0;
</pre>
<p>Another use of the same variable is to add certain options to the command line for the program, e.g.,</p>
<pre>
     $pdflatex = "pdflatex --shell-escape %O %S";
</pre>

  </dd>
  <dt>
    <p><strong>%pdflatex_input_extensions</strong></p>
  </dt>
  <dd>
    <p>This variable specifies the extensions tried by latexmk when it finds that a pdflatex run resulted in an error that a file has not been found, and the file is given without an extension.  This typically happens when LaTeX commands of the form &#92;input{file} or &#92;includegraphics{figure}, when the relevant source file does not exist.</p><p>In this situation, latexmk searches for custom dependencies to make the missing file(s), but restricts it to the extensions specified by the variable %pdflatex_input_extensions.  The default extensions are 'tex', 'pdf', 'jpg, and 'png'.</p><p>(For Perl experts: %pdflatex_input_extensions is a hash whose keys are the extensions.  The values are irrelevant.)  Two subroutines are provided for manipulating this and the related variable %latex_input_extensions, add_input_ext and remove_input_ext.  They are used as in the following examples are possible lines in an initialization file:</p>
<pre>
    remove_input_ext( 'pdflatex', 'tex' );
</pre>
<p>removes the extension 'tex' from pdflatex_input_extensions</p>
<pre>
    add_input_ext( 'pdflatex', 'asdf' );
</pre>
<p>add the extension 'asdf to pdflatex_input_extensions.  (Naturally with such an extension, you should have made an appropriate custom dependency for latexmk, and should also have done the appropriate programming in the LaTeX source file to enable the file to be read. The standard extensions are handled by pdflatex and its graphics/graphicx packages.)</p>
  </dd>
  <dt>
    <p><strong>$pdflatex_silent_switch ["-interaction=batchmode"]</strong></p>
  </dt>
  <dd>
    <p>Switch(es) for the pdflatex program (specified in the variable <em>$pdflatex</em> when silent mode is on.</p><p>If you use MikTeX, you may prefer the results if you configure the options to include -c-style-errors, e.g., by the following line in an initialization file</p>
<pre>
  $latex_silent_switch = "-interaction=batchmode -c-style-errors";
</pre>

  </dd>
  <dt>
    <p><strong>$pdf_previewer ["start acroread %O %S"]</strong></p>
  </dt>
  <dd>
    <p>The command to invoke a pdf-previewer.</p><p>On MS-WINDOWS, the default is changed to "cmd /c start """; under more recent versions of Windows, this will cause to be run whatever command the system has associated with .pdf files.  But this may be undesirable if this association is to <em>acroread</em> -- see the notes in the explanation of the <strong>-pvc</strong> option.]</p><p>On OS-X the default is changed to "open %S", which results in OS-X starting up (and detaching) the viewer associated with the file.  By default, for pdf files this association is to OS-X's preview, which is quite satisfactory.</p><p><strong>WARNING</strong>:  Problem under MS-Windows: if acroread is used as the pdf previewer, and it is actually viewing a pdf file, the pdf file cannot be updated.  Thus makes acroread a bad choice of previewer if you use <em>latexmk</em>'s previous-continuous mode (option <strong>-pvc</strong>) under MS-windows. This problem does not occur if, for example, SumatraPDF or gsview is used to view pdf files.</p><p><strong>Important note</strong>: Normally you will want to have a previewer run detached, so that <em>latexmk</em> doesn't wait for the previewer to terminate before continuing its work.  So normally you should prefix the command by "start ", which flags to <em>latexmk</em> that it should do the detaching of the previewer itself (by whatever method is appropriate to the operating system).  But sometimes letting <em>latexmk</em> do the detaching is not appropriate (for a variety of non-trivial reasons), so you should put the "start " bit in yourself, whenever it is needed.</p>
  </dd>
  <dt>
    <p><strong>$pdf_update_command [""]</strong></p>
  </dt>
  <dd>
    <p>When the pdf previewer is set to be updated by running a command, this is the command that is run.  See the information for the variable <em>$pdf_update_method</em>.</p>
  </dd>
  <dt>
    <p><strong>$pdf_update_method [1 under UNIX, 3 under MS-Windows]</strong></p>
  </dt>
  <dd>
    <p>How the pdf viewer updates its display when the pdf file has changed. See the information on the variable <em>$dvi_update_method</em> for the codes.  (Note that information needs be changed slightly so that for the value 4, to run a command to do the update, the command is specified by the variable <em>$pdf_update_command</em>, and for the value 2, to specify update by signal, the signal is specified by <em>$pdf_update_signal</em>.)</p><p>Note that acroread under MS-Windows (but not UNIX) locks the pdf file, so the default value is then 3.</p><p>Arranging to use a command to get a previewer explicitly updated requires three variables to be set.  For example:</p>
<pre>
    $pdf_previewer = "start xpdf -remote %R %O %S";
    $pdf_update_method = 4;
    $pdf_update_command = "xpdf -remote %R -reload";
</pre>
<p>The first setting arranges for the xpdf program to be used in its "remote server mode", with the server name specified as the rootname of the TeX file.  The second setting arranges for updating to be done in response to a command, and the third setting sets the update command.</p>
  </dd>
  <dt>
    <p><strong>$pdf_update_signal [Under UNIX: SIGHUP, which is a system-dependent value]</strong></p>
  </dt>
  <dd>
    <p>The number of the signal that is sent to the pdf viewer when it is updated by sending a signal -- see the information on the variable <em>$pdf_update_method</em>.  The default value is the one appropriate for gv on a UNIX system.</p>
  </dd>
  <dt>
    <p><strong>$pid_position[1 under UNIX, -1 under MS-Windows]</strong></p>
  </dt>
  <dd>
    <p>The variable <em>$pid_position</em> is used to specify which word in lines of the output from <em>$pscmd</em> corresponds to the process ID.  The first word in the line is numbered 0.  The default value of 1 (2nd word in line) is correct for Solaris 2.6 and Linux.  Setting the variable to -1 is used to indicate that <em>$pscmd</em> is not to be used.</p>
  </dd>
  <dt>
    <p><strong>$postscript_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, generate a postscript version of the document. Equivalent to the <strong>-ps</strong> option.</p><p>If some other request is made for which a postscript file is needed, then $postscript_mode will be set to 1.</p>
  </dd>
  <dt>
    <p><strong>$preview_continuous_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, run a previewer to view the document, and continue running <em>latexmk</em> to keep .dvi up-to-date.  Equivalent to the <strong>-pvc</strong> option. Which previewer is run depends on the other settings, see the command line options <strong>-view=</strong>, and the variable <em>$view</em>.</p>
  </dd>
  <dt>
    <p><strong>$preview_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, run a previewer to preview the document. Equivalent to the <strong>-pv</strong> option. Which previewer is run depends on the other settings, see the command line options <strong>-view=</strong>, and the variable <em>$view</em>.</p>
  </dd>
  <dt>
    <p><strong>$printout_mode [0]</strong></p>
  </dt>
  <dd>
    <p>If nonzero, print the document using <em>lpr</em>.  Equivalent to the <strong>-p</strong> option.  This is recommended <strong>not</strong> to be set from an RC file, otherwise you could waste lots of paper.</p>
  </dd>
  <dt>
    <p><strong>$print_type = ["auto"]</strong></p>
  </dt>
  <dd>
    <p>Type of file to printout: possibilities are "auto", "dvi", "none", "pdf", or "ps".   See the option <strong>-print=</strong> for the meaning of the "auto" value.</p>
  </dd>
  <dt>
    <p><strong>$pscmd</strong></p>
  </dt>
  <dd>
    <p>Command used to get all the processes currently run by the user.  The -pvc option uses the command specified by the variable <em>$pscmd</em> to determine if there is an already running previewer, and to find the process ID (needed if <em>latexmk</em> needs to signal the previewer about file changes).</p><p>Each line of the output of this command is assumed to correspond to one process.  See the <em>$pid_position</em> variable for how the process number is determined.</p><p>The default for <em>pscmd</em> is "NONE" under MS-Windows and cygwin (i.e., the command is not used), "ps --width 200 -f -u $ENV{USER}" under linux, "ps -ww -u $ENV{USER}" under darwin (Macintosh OS-X), and "ps -f -u $ENV{USER}" under other operating systems (including other flavors of UNIX).  In these specifications "$ENV{USER}" is substituted by the username.</p>
  </dd>
  <dt>
    <p><strong>$ps2pdf ["ps2pdf %O %S %D"]</strong></p>
  </dt>
  <dd>
    <p>Command to convert ps to pdf file.</p>
  </dd>
  <dt>
    <p><strong>$ps_filter [empty]</strong></p>
  </dt>
  <dd>
    <p>The postscript file filter to be run on the newly produced postscript file before other processing.  Equivalent to specifying the <strong>-pF</strong> option.</p>
  </dd>
  <dt>
    <p><strong>$ps_previewer ["start gv %O %S", but start %O %S under MS-WINDOWS]</strong></p>
  </dt>
  <dd>
    <p>The command to invoke a ps-previewer.  (The default under MS-WINDOWS will cause to be run whatever command the system has associated with .ps files.)</p><p>Note that gv could be used with the -watch option updates its display whenever the postscript file changes, whereas ghostview does not. However, different versions of gv have slightly different ways of writing this option.  You can configure this variable appropriately.</p><p><strong>WARNING</strong>: Linux systems may have installed one (or more) versions of gv under different names, e.g., ggv, kghostview, etc, but perhaps not one called gv.</p><p><strong>Important note</strong>: Normally you will want to have a previewer run detached, so that <em>latexmk</em> doesn't wait for the previewer to terminate before continuing its work.  So normally you should prefix the command by "start ", which flags to <em>latexmk</em> that it should do the detaching of the previewer itself (by whatever method is appropriate to the operating system).  But sometimes letting <em>latexmk</em> do the detaching is not appropriate (for a variety of non-trivial reasons), so you should put the "start " bit in yourself, whenever it is needed.</p>
  </dd>
  <dt>
    <p><strong>$ps_previewer_landscape ["start gv -swap %O %S", but start %O %S under MS-WINDOWS]</strong></p>
  </dt>
  <dd>
    <p>The command to invoke a ps-previewer in landscape mode.</p>
  </dd>
  <dt>
    <p><strong>$ps_update_command [""]</strong></p>
  </dt>
  <dd>
    <p>When the postscript previewer is set to be updated by running a command, this is the command that is run.  See the information for the variable <em>$ps_update_method</em>.</p>
  </dd>
  <dt>
    <p><strong>$ps_update_method [0 under UNIX, 1 under MS-Windows]</strong></p>
  </dt>
  <dd>
    <p>How the postscript viewer updates its display when the ps file has changed. See the information on the variable <em>$dvi_update_method</em> for the codes.  (Note that information needs be changed slightly so that for the value 4, to run a command to do the update, the command is specified by the variable <em>$ps_update_command</em>, and for the value 2, to specify update by signal, the signal is specified by <em>$ps_update_signal</em>.)</p>
  </dd>
  <dt>
    <p><strong>$ps_update_signal [Under UNIX: SIGHUP, which is a system-dependent value]</strong></p>
  </dt>
  <dd>
    <p>The number of the signal that is sent to the pdf viewer when it is updated by sending a signal -- see <em>$ps_update_method</em>.  The default value is the one appropriate for gv on a UNIX system.</p>
  </dd>
  <dt>
    <p><strong>$pvc_view_file_via_temporary [1]</strong></p>
  </dt>
  <dd>
    <p>The same as <em>$always_view_file_via_temporary</em>, except that it only applies in preview-continuous mode (-pvc option).</p>
  </dd>
  <dt>
    <p><strong>$quote_filenames [1]</strong></p>
  </dt>
  <dd>
    <p>This specifies whether substitutions for placeholders in command specifications (as in <em>$pdflatex</em>) are surrounded by double quotes.  If this variable is 1 (or any other value Perl regards as true), then quoting is done.  Otherwise quoting is omitted.</p><p>The quoting method used by latexmk is tested to work correctly under UNIX systems (including Linux and Mac OS-X) and under MS-Windows.  It allows the use of filenames containing special characters, notably spaces.  (But note that many versions of LaTeX and PdfLaTeX cannot correctly deal with TeX files whose names contain spaces.  Latexmk's quoting only ensures that such filenames are correctly treated by the operating system in passing arguments to programs.)</p>
  </dd>
  <dt>
    <p><strong>$recorder [0]</strong></p>
  </dt>
  <dd>
    <p>Whether to use the <strong>-recorder</strong> option to <em>latex</em> and <em>pdflatex</em>. Use of this option results in a file of extension <em>.fls</em> containing a list of the files that these programs have read and written.  <em>Latexmk</em> will then use this file to improve its detection of source files and generated files after a run of <em>latex</em> or <em>pdflatex</em>.</p><p>It is generally recommended to use this option (or to configure the <em>$recorder</em> variable to be on.)  But it only works if <em>(pdf)latex</em> supports the -recorder option, which is true for most current implementations</p><p><em>Note about the name of the .fls file:</em> Most implementations of <em>(pdf)latex</em> produce an .fls file with the same basename as the main document's LaTeX, e.g., for Document.tex, the .fls file is Document.fls.  However, some implementations instead produce files named for the program, i.e., latex.fls or pdflatex.fls.  In this second case, <em>latexmk</em> copies the latex.fls or pdflatex.fls to a file with the basename of the main LaTeX document, e.g., Document.fls.</p>
  </dd>
  <dt>
    <p><strong>$search_path_separator [See below for default]</strong></p>
  </dt>
  <dd>
    <p>The character separating paths in the environment variables TEXINPUTS, BIBINPUTS, and BSTINPUTS.  This variable is mainly used by <em>latexmk</em> when the <strong>-outdir</strong>, <strong>-output-directory</strong>, <strong>-auxdir</strong>, and/or <strong>-aux-directory</strong> options are used.  In that case <em>latexmk</em> needs to communicate appropriately modified search paths to $<em>bibtex</em>, <em>dvipdf</em>, <em>dvips</em>, and <em>(pdf)latex</em>.</p><p>[Comment to technically savvy readers: <em>(pdf)latex</em> doesn't actually need the modified search path, because it corrects it internally.  But, surprisingly, <em>dvipdf</em> and <em>dvips</em> do, because sometimes graphics files get generated in the output or aux directories.]</p><p>The default under MSWin and Cygwin is ';' and under UNIX-like operating systems (including Linux and OS-X) is ':'.  Normally the defaults give correct behavior.  But there can be difficulties if your operating system is of one kind, but some of your software is running under an emulator for the other kind of operating system; in that case you'll need to find out what is needed, and set <em>$search_path_separator</em> explicitly.  (The same goes, of course, for unusual operating systems that are not in the MSWin, Linux, OS-X, Unix collection.)</p>
  </dd>
  <dt>
    <p><strong>$sleep_time [2]</strong></p>
  </dt>
  <dd>
    <p>The time to sleep (in seconds) between checking for source file changes when running with the <strong>-pvc</strong> option.  This is subject to a minimum of one second delay, except that zero delay is also allowed.</p><p>A value of exactly 0 gives no delay, and typically results in 100% CPU usage, which may not be desirable.</p>
  </dd>
  <dt>
    <p><strong>$texfile_search [""]</strong></p>
  </dt>
  <dd>
    <p>This is an obsolete variable, replaced by the <em>@default_files</em> variable.</p><p>For backward compatibility, if you choose to set <em>$texfile_search</em>, it is a string of space-separated filenames, and then <em>latexmk</em> replaces <em>@default_files</em> with the filenames in <em>$texfile_search</em> to which is added "*.tex".</p>
  </dd>
  <dt>
    <p><strong>$success_cmd [undefined]</strong></p>
  </dt>
  <dd>
    <p>See the documentation for $compiling_cmd.</p>
  </dd>
  <dt>
    <p><strong>$tmpdir [See below for default]</strong></p>
  </dt>
  <dd>
    <p>Directory to store temporary files that <em>latexmk</em> may generate while running.</p><p>The default under MSWindows (including cygwin), is to set <em>$tmpdir</em> to the value of the first of whichever of the system environment variables TMPDIR or TEMP exists, otherwise to the current directory.  Under other operating systems (expected to be UNIX/Linux, including OS-X), the default is the value of the system environment variable TMPDIR if it exists, otherwise "/tmp".</p>
  </dd>
  <dt>
    <p><strong>$use_make_for_missing_files [0]</strong></p>
  </dt>
  <dd>
    <p>Whether to use <em>make</em> to try and make files that are missing after a run of <em>latex</em> or <em>pdflatex</em>, and for which a custom dependency has not been found.  This is generally useful only when <em>latexmk</em> is used as part of a bigger project which is built by using the <em>make</em> program.</p><p>Note that once a missing file has been made, no further calls to <em>make</em> will be made on a subsequent run of <em>latexmk</em> to update the file.  Handling this problem is the job of a suitably defined Makefile.  See the section "USING <em>latexmk</em> WITH <em>make</em>" for how to do this.  The intent of calling <em>make</em> from <em>latexmk</em> is merely to detect dependencies.</p>
  </dd>
  <dt>
    <p><strong>$view ["default"]</strong></p>
  </dt>
  <dd>
    <p>Which kind of file is to be previewed if a previewer is used.  The possible values are "default", "dvi", "ps", "pdf".  The value of "default" means that the "highest" of the kinds of file generated is to be used (among dvi, ps and pdf).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CUSTOM DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>In any RC file a set of custom dependencies can be set up to convert a file with one extension to a file with another.  An example use of this would be to allow <em>latexmk</em> to convert a <em>.fig</em> file to <em>.eps</em> to be included in the <em>.tex</em> file.</p><p>The old method of configuring <em>latexmk</em> was to directly manipulate the <strong>@cus_dep_list</strong> array that contains information defining the custom dependencies.  This method still works.  But now there are subroutines that allow convenient manipulations of the custom dependency list.  These are</p>
<pre>
    add_cus_dep( fromextension, toextension, must, subroutine )
    remove_cus_dep( fromextension, toextension )
    show_cus_dep()
</pre>
<p>The custom dependency is a list of rules, each of which is specified as follow:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>from extension:</strong></p>
  </dt>
  <dd>
    <p>The extension of the file we are converting from (e.g. "fig"). It is specified without a period.</p>
  </dd>
  <dt>
    <p><strong>to extension:</strong></p>
  </dt>
  <dd>
    <p>The extension of the file we are converting to (e.g. "eps"). It is specified without a period.</p>
  </dd>
  <dt>
    <p><strong>must:</strong></p>
  </dt>
  <dd>
    <p>If non-zero, the file from which we are converting <strong>must</strong> exist, if it doesn't exist <em>latexmk</em> will give an error message and exit unless the <strong>-f</strong> option is specified.  If <em>must</em> is zero and the file we are converting from doesn't exist, then no action is taken.</p>
  </dd>
  <dt>
    <p><strong>function:</strong></p>
  </dt>
  <dd>
    <p>The name of the subroutine that <em>latexmk</em> should call to perform the file conversion.  The first argument to the subroutine is the base name of the file to be converted without any extension.  The subroutines are declared in the syntax of <em>Perl</em>.  The function should return 0 if it was successful and a nonzero number if it failed.</p>
  </dd>

</dl>
<p>It is invoked whenever <em>latexmk</em> detects that a run of latex/pdflatex needs to read a file, like a graphics file, whose extension is the to-extension of a custom dependency.  Then <em>latexmk</em> examines whether a file exists with the same name, but with the corresponding from-extension, as specified in the custom-dependency rule.  If it does, then whenever the destination file (the one with the to-extension) is out-of-date with respect to the corresponding source file.</p><p>To make the new destination file, the <em>Perl</em> subroutine specified in the rule is invoked, with an argument that is the base name of the files in question.  Simple cases just involve a subroutine invoking an external program; this can be done by following the templates below, even by those without knowledge of the <em>Perl</em> programming language.  Of course, experts could do something much more elaborate.</p><p>One other item in each custom-dependency rule labeled "must" above specifies how the rule should be applied when the source file fails to exist.</p><p>A simple and typical example of code in an initialization rcfile is</p>
<pre>
    add_cus_dep( 'fig', 'eps', 0, 'fig2eps' );
    sub fig2eps {
        system( "fig2dev -Leps      }
</pre>
<p>The first line adds a custom dependency that converts a file with extension "fig", as created by the xfig program, to an encapsulated postscript file, with extension "eps".  The remaining lines define a subroutine that carries out the conversion.  If a rule for converting "fig" to "eps" files already exists (e.g., from a previously read-in initialization file), the <em>latexmk</em> will delete this rule before making the new one.</p><p>Suppose <em>latexmk</em> is using this rule to convert a file "figure.fig" to "figure.eps".  Then it will invoke the fig2eps subroutine defined in the above code with a single argument "figure", which is the basename of each of the files (possibly with a path component).  This argument is referred to by <em>Perl</em> as $_[0].  In the example above, the subroutine uses the <em>Perl</em> command system to invoke the program fig2dev.  The double quotes around the string are a <em>Perl</em> idiom that signify that each string of the form of a variable name, $_[0] in this case, is to be substituted by its value.</p><p>If the return value of the subroutine is non-zero, then <em>latexmk</em> will assume an error occurred during the execution of the subroutine. In the above example, no explicit return value is given, and instead the return value is the value returned by the last (and only) statement, i.e., the invocation of system, which returns the value 0 on success.</p><p>If you use pdflatex instead of latex, then you will probably prefer to convert your graphics files to pdf format, in which case you would replace the above code in an initialization file by</p>
<pre>
    add_cus_dep( 'fig', 'pdf, 0, 'fig2pdf' );
    sub fig2pdf {
        system( "fig2dev -Lpdf      }
</pre>
<p><strong>Note 1:</strong> In the command lines given in the system commands in the above examples, double quotes have been inserted around the file names (implemented by ' of the program against special characters in filenames.  Very often these quotes are not necessary, i.e., they can be omitted.  But it is normally safer to keep them in.  Even though the rules for quoting vary between operating systems, command shells and individual pieces of software, the quotes in the above examples do not cause problems in the cases I have tested.</p><p><strong>Note 2:</strong> One case in which the quotes are important is when the files are in a subdirectory and your operating system is Microsoft Windows.  Then the separator character for directory components can be either a forward slash '/' or Microsoft's more usual backward slash \'&#92;'.  Forward slashes are generated by latexmk, to maintain its sanity from software like MiKTeX that mixes both directory separators; but their correct use normally requires quoted filenames. (See a log file from a run of MiKTeX (at least in v. 2.9) for an example of the use of both directory separators.)</p><p>If you have some general custom dependencies defined in the system or user initialization file, you may find that for a particular project they are undesirable.  So you might want to delete the unneeded ones. For example, you remove any "fig" to "eps" rule by the line</p>
<pre>
    remove_cus_dep( 'fig', 'eps' );
</pre>
<p>If you have complicated sets of custom dependencies, you may want to get a listing of the custom dependencies.  This is done by using the line</p>
<pre>
    show_cus_dep();
</pre>
<p>in an initialization file.</p><p>Another example of a custom dependency overcomes a limitation of <em>latexmk</em> concerning index files.  The only index-file conversion built-in to <em>latexmk</em> is from an ".idx" file written on one run of latex/pdflatex to an ".ind" file to be read in on a subsequent run. But with the index.sty package you can create extra indexes with extensions that you configure.  <em>Latexmk</em> does not know how to deduce the extensions from the information it has.  But you can easily write a custom dependency.  For example if your latex file uses the command "&#92;newindex{special}{ndx}{nnd}{Special index}" you will need to convert files with the extension <em>.ndx</em> to <em>.nnd</em>.  The following lines in an initialization RC file will cause this to happen:</p>
<pre>
    add_cus_dep('ndx', 'nnd', 0, 'makendx2nnd');
    sub makendx2nnd {
        system( "makeindex -o      }
</pre>
<p>(You will need to modify this code if you use filenames with spaces in them, to provide correct quoting of the filenames.)</p><p>Those of you with experience with Makefiles, will undoubtedly be concerned that the <em>.ndx</em> file is written during a run of latex/pdflatex and is always later than the <em>.nnd</em> last read in. Thus the <em>.nnd</em> appears to be perpetually out-of-date.  This situation, of circular dependencies, is endemic to latex, and <em>latexmk</em> in its current version works correctly with circular dependencies.  It examines the contents of the files (by use of an md5 checksum), and only does a remake when the file contents have actually changed.</p><p>Of course if you choose to write random data to the <em>.nnd</em> (or and <em>.aux</em> file, etc) that changes on each new run, then you will have a problem.  For real experts: See the <em>%hash_cal_ignore_pattern</em> if you have to deal with such problems.</p><p>Glossaries can be dealt with similarly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OLD METHOD OF DEFINING CUSTOM DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>In previous versions of <em>latexmk</em>, the only method of defining custom dependencies was to directly manipulate the table of custom dependencies.  This is contained in the <strong>@cus_dep_list</strong> array.  It is an array of strings, and each string in the array has four items in it, each separated by a space, the from-extension, the to-extension, the "must" item, and the name of the subroutine for the custom dependency.  These were all defined above.</p><p>An example of the old method of defining custom dependencies is as follows. It is the code in an RC file to ensure automatic conversion of <em>.fig</em> files to <em>.eps</em> files:</p>
<pre>
    push @cus_dep_list, "fig eps 0 fig2eps";
    sub fig2eps {
        system( "fig2dev -Lps      }
</pre>
<p>This method still works, and is equivalent to the earlier code using the add_cus_dep subroutine, except that it doesn't delete any previous custom-dependency for the same conversion.  So the new method is preferable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING \fIlatexmk\fR WITH \fImake\fR</h2>
        <div class="sectioncontent">
<p>This section is targeted only at advanced users who use the <em>make</em> program for complex projects, as for software development, with the dependencies specified by a Makefile.</p><p>Now the basic task of <em>latexmk</em> is to run the appropriate programs to make a viewable version of a LaTeX document.  However, the usual <em>make</em> program is not suited to this purpose for at least two reasons.  First is that the use of LaTeX involves circular dependencies (e.g., via .aux files), and these cannot be handled by the standard <em>make</em> program.  Second is that in a large document the set of source files can change quite frequently, particularly with included graphics files; in this situation keeping a Makefile manually updated is inappropriate and error-prone, especially when the dependencies can be determined automatically.  <em>Latexmk</em> solves both of these problems robustly.</p><p>Thus for many standard LaTeX documents <em>latexmk</em> can be used by itself without the <em>make</em> program.  In a complex project it simply needs to be suitably configured.  A standard configuration would be to define custom dependencies to make graphics files from their source files (e.g., as created by the <em>xfig</em> program).  Custom dependencies are <em>latexmk</em>'s equivalent of pattern rules in Makefiles.</p><p>Nevertheless there are projects for which a Makefile is appropriate, and it is useful to know how to use <em>latexmk</em> from a Makefile.  A typical example would be to generate documentation for a software project.  Potentially the interaction with the rest of the rules in the Makefile could be quite complicated, for example if some of the source files for a LaTeX document are generated by the project's software.</p><p>In this section, I give a couple of examples of how <em>latexmk</em> can be usefully invoked from a Makefile.  The examples use specific features of current versions of GNU <em>make</em>, which is the default on both linux and OS-X systems.  They may need modifications for other versions of <em>make</em>.</p><p>The simplest method is simply to delegate all the relevant tasks to <em>latexmk</em>, as is suitable for a straightforward LaTeX document. For this a suitable Makefile is like</p>
<pre>
    .PHONY : FORCE_MAKE
    all : try.pdf
    %.pdf : %.tex FORCE_MAKE
        latexmk -pdf -dvi- -ps- $&lt;
</pre>
<p>(Note: the last line must be introduced by a tab for the Makefile to function correctly!)  Naturally, if making try.pdf from its associated LaTeX file try.tex were the only task to be performed, a direct use of <em>latexmk</em> without a Makefile would normally be better.  The benefit of using a Makefile for a LaTeX document would be in a larger project, where lines such as the above would be only be a small part of a larger Makefile.</p><p>The above example has a pattern rule for making a .pdf file from a .tex file, and it is defined to use latexmk in the obvious way. There is a conventional default target named "all", with a prerequisite of try.pdf.  So when <em>make</em> is invoked, by default it makes try.pdf.  The only complication is that there may be many source files beyond try.tex, but these aren't specified in the Makefile, so changes in them will not by themselves cause <em>latexmk</em> to be invoked.  Instead, the pattern rule is equipped with a "phony" prerequisite FORCE_MAKE; this has the effect of causing the rule to be always out-of-date, so that <em>latexmk</em> is always run.  It is <em>latexmk</em> that decides whether any action is needed, e.g., a rerun of <em>pdflatex</em>.  Effectively the Makefile delegates all decisions to <em>latexmk</em>, while <em>make</em> has no knowledge of the list of source files except for primary LaTeX file for the  document.  If there are, for example, graphics files to be made, these must be made by custom dependencies configured in <em>latexmk</em>.</p><p>But something better is needed in more complicated situations, for example, when the making of graphics files needs to be specified by rules in the Makefile.  To do this, one can use a Makefile like the following:</p>
<pre>
     TARGETS = document1.pdf document2.pdf
     DEPS_DIR = .deps
     LATEXMK = latexmk -recorder -use-make -deps &#92;
           -e 'warn qq(In Makefile, turn off custom dependencies&#92;n);' &#92;
           -e '@cus_dep_list = ();' &#92;
           -e 'show_cus_dep();'
     all : $(TARGETS)
     $(foreach file,$(TARGETS),$(eval -include $(DEPS_DIR)/$(file)P))
     $(DEPS_DIR) :
            mkdir $@
     %.pdf : %.tex
            if [ ! -e $(DEPS_DIR) ]; then mkdir $(DEPS_DIR); fi
            $(LATEXMK) -pdf -dvi- -ps- -deps-out=$(DEPS_DIR)/$@P $&lt;
     %.pdf : %.fig
            fig2dev -Lpdf $&lt; $@
</pre>
<p>(Again, the lines containing the commands for the rules should be started with tabs.)  This example was inspired by how GNU <em>automake</em> handles automatic dependency tracking of C source files.</p><p>After each run of latexmk, dependency information is put in a file in the .deps subdirectory.  The Makefile causes these dependency files to be read by <em>make</em>, which now has the full dependency information for each target .pdf file.  To make things less trivial it is specificed that two files document1.pdf and document2.pdf are the targets.  The dependency files are .deps/document1.pdfP and .deps/document2.pdfP.</p><p>There is now no need for the phony prerequisite for the rule to make .pdf files from .tex files.  But I have added a rule to make .pdf files from .fig files produced by the <em>xfig</em> program; these are commonly used for graphics insertions in LaTeX documents. <em>Latexmk</em> is arranged to output a dependency file after each run. It is given the <strong>-recorder</strong> option, which improves its detection of files generated during a run of <em>pdflatex</em>; such files should not be in the dependency list.  The <strong>-e</strong> options are used to turn off all custom dependencies, and to document this.  Instead the <strong>-use-make</strong> is used to delegate the making of missing files to <em>make</em> itself.</p><p>Suppose in the LaTeX file there is a command &#92;includegraphics{graph}, and an <em>xfig</em> file "graph.fig" exists.  On a first run, <em>pdflatex</em> reports a missing file, named "graph". <em>Latexmk</em> succeeds in making "graph.pdf" by calling "make graph.pdf", and after completion of its work, it lists "fig.pdf" among the dependents of the file <em>latexmk</em> is making.  Then let "fig.fig" be updated, and then let <em>make</em> be run.  <em>Make</em> first remakes "fig.pdf", and only then reruns <em>latexmk</em>.</p><p>Thus we now have a method by which all the subsidiary processing is delegated to <em>make</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO latexmk&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/latex.1.html"><strong>latex</strong>(1)</a>, <strong>bibtex</strong>(1).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Sometimes a viewer (gv) tries to read an updated .ps or .pdf file after its creation is started but before the file is complete.  Work around: manually refresh (or reopen) display.  Or use one of the other previewers and update methods.</p><p>(The following isn't really a bug, but concerns features of previewers.) Preview continuous mode only works perfectly with certain previewers: Xdvi on UNIX/LINUX works for dvi files. Gv on UNIX/LINUX works for both postscript and pdf. Ghostview on UNIX/LINUX needs a manual update (reopen); it views postscript and pdf. Gsview under MS-Windows works for both postscript and pdf, but only reads the updated file when its screen is refreshed. Acroread under UNIX/LINUX views pdf, but the file needs to be closed and reopened to view an updated version. Under MS-Windows, acroread locks its input file and so the pdf file cannot be updated.  (Remedy: configure <em>latexmk</em> to use <em>sumatrapdf</em> instead.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKS TO</h2>
        <div class="sectioncontent">
<p>Authors of previous versions.  Many users with their feedback, and especially David Coppit (username david at node coppit.org) who made many useful suggestions that contributed to version 3, and Herbert Schulz. (Please note that the e-mail addresses are not written in their standard form to avoid being harvested by worms and viruses.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Current version, by John Collins (username collins at node phys.psu.edu). (Version 4.39).</p><p>Released version can be obtained from CTAN: &lt;http://www.ctan.org/tex-archive/support/latexmk/&gt;, and from the author's website &lt;http://www.phys.psu.edu/~collins/software/latexmk/&gt;.</p><p>Modifications and enhancements by Evan McLean (Version 2.0)</p><p>Original script called "go" by David J. Musliner (RCS Version 3.2)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gcl.1L.html"><span aria-hidden="true">&larr;</span> gcl.1L: Gcl common lisp interpreter/compiler, cvs snapshot</a></li>
   <li class="next"><a href="maxima.1L.html">maxima.1L: Common lisp version of macsyma symbolic mathematics package released under the gnu public license  xmaxima - a graphical version of maxima <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
