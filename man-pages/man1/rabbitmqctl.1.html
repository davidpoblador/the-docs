<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rabbitmqctl: Command line tool for managing a rabbitmq broker</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Command line tool for managing a rabbitmq broker">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rabbitmqctl (1) manual">
  <meta name="twitter:description" content="Command line tool for managing a rabbitmq broker">
  <meta name="twitter:image" content="https://www.carta.tech/images/rabbitmq-server-rabbitmqctl-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rabbitmqctl.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rabbitmqctl (1) manual" />
  <meta property="og:description" content="Command line tool for managing a rabbitmq broker" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/rabbitmq-server-rabbitmqctl-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rabbitmqctl<small> (1)</small></h1>
        <p class="lead">Command line tool for managing a rabbitmq broker</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rabbitmqctl.1.html">
      <span itemprop="name">rabbitmqctl: Command line tool for managing a rabbitmq broker</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/rabbitmq-server/">
      <span itemprop="name">rabbitmq-server</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rabbitmqctl.1.html">
      <span itemprop="name">rabbitmqctl: Command line tool for managing a rabbitmq broker</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>rabbitmqctl</strong> [-n&nbsp;<em>node</em>] [-q] {<em>command</em>} [<em>command&nbsp;options</em>...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>RabbitMQ is an implementation of AMQP, the emerging standard for high performance enterprise messaging. The RabbitMQ server is a robust and scalable implementation of an AMQP broker.</p><p><strong>rabbitmqctl</strong> is a command line tool for managing a RabbitMQ broker. It performs all actions by connecting to one of the broker&apos;s nodes.</p><p>Diagnostic information is displayed if the broker was not running, could not be reached, or rejected the connection due to mismatching Erlang cookies.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>[-n <em>node</em>]</p><p>Default node is "rabbit@server", where server is the local host. On a host named "server.example.com", the node name of the RabbitMQ Erlang node will usually be rabbit@server (unless RABBITMQ_NODENAME has been set to some non-default value at broker startup time). The output of <strong>hostname -s</strong> is usually the correct suffix to use after the "@" sign. See <a href="../man1/rabbitmq-server.1.html"><strong>rabbitmq-server</strong>(1)</a> for details of configuring the RabbitMQ broker.</p><p>[-q]</p><p>Quiet output mode is selected with the "-q" flag. Informational messages are suppressed when quiet mode is in effect.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<h3>Application and Cluster Management</h3>
<p><strong>stop</strong> [<em>pid_file</em>]</p><p>Stops the Erlang node on which RabbitMQ is running. To restart the node follow the instructions for Running the Server in the \m[blue]<strong>installation guide</strong>\m[]\s-2\u[1]\d\s+2.</p><p>If a <strong>pid_file</strong> is specified, also waits for the process specified there to terminate. See the description of the <strong>wait</strong> command below for details on this file.</p><p><strong>stop_app</strong></p><p>Stops the RabbitMQ application, leaving the Erlang node running.</p><p>This command is typically run prior to performing other management actions that require the RabbitMQ application to be stopped, e.g. <strong>reset</strong>.</p><p><strong>start_app</strong></p><p>Starts the RabbitMQ application.</p><p>This command is typically run after performing other management actions that required the RabbitMQ application to be stopped, e.g. <strong>reset</strong>.</p><p><strong>wait</strong> {<em>pid_file</em>}</p><p>Wait for the RabbitMQ application to start.</p><p>This command will wait for the RabbitMQ application to start at the node. It will wait for the pid file to be created, then for a process with a pid specified in the pid file to start, and then for the RabbitMQ application to start in that process. It will fail if the process terminates without starting the RabbitMQ application.</p><p>A suitable pid file is created by the <strong>rabbitmq-server</strong> script. By default this is located in the Mnesia directory. Modify the <strong>RABBITMQ_PID_FILE</strong> environment variable to change the location.</p><p><strong>reset</strong></p><p>Return a RabbitMQ node to its virgin state.</p><p>Removes the node from any cluster it belongs to, removes all data from the management database, such as configured users and vhosts, and deletes all persistent messages.</p><p>For <strong>reset</strong> and <strong>force_reset</strong> to succeed the RabbitMQ application must have been stopped, e.g. with <strong>stop_app</strong>.</p><p><strong>force_reset</strong></p><p>Forcefully return a RabbitMQ node to its virgin state.</p><p>The <strong>force_reset</strong> command differs from <strong>reset</strong> in that it resets the node unconditionally, regardless of the current management database state and cluster configuration. It should only be used as a last resort if the database or cluster configuration has been corrupted.</p><p>For <strong>reset</strong> and <strong>force_reset</strong> to succeed the RabbitMQ application must have been stopped, e.g. with <strong>stop_app</strong>.</p><p><strong>rotate_logs</strong> {<em>suffix</em>}</p><p>Instruct the RabbitMQ node to rotate the log files.</p><p>The RabbitMQ broker appends the contents of its log files to files with names composed of the original name and the suffix, and then resumes logging to freshly created files at the original location. I.e. effectively the current log contents are moved to the end of the suffixed files.</p><p>When the target files do not exist they are created. When no <strong>suffix</strong> is specified, the empty log files are simply created at the original location; no rotation takes place.</p>
<h3>Cluster management</h3>
<p><strong>join_cluster</strong> {<em>clusternode</em>} [--ram]</p><p>clusternode</p><p>Node to cluster with.</p><p>[--ram]</p><p>If provided, the node will join the cluster as a RAM node.</p><p>Instruct the node to become a member of the cluster that the specified node is in. Before clustering, the node is reset, so be careful when using this command. For this command to succeed the RabbitMQ application must have been stopped, e.g. with <strong>stop_app</strong>.</p><p>Cluster nodes can be of two types: disc or RAM. Disc nodes replicate data in RAM and on disc, thus providing redundancy in the event of node failure and recovery from global events such as power failure across all nodes. RAM nodes replicate data in RAM only (with the exception of queue contents, which can reside on disc if the queue is persistent or too big to fit in memory) and are mainly used for scalability. RAM nodes are more performant only when managing resources (e.g. adding/removing queues, exchanges, or bindings). A cluster must always have at least one disc node, and usually should have more than one.</p><p>The node will be a disc node by default. If you wish to create a RAM node, provide the <strong>--ram</strong> flag.</p><p>After executing the <strong>cluster</strong> command, whenever the RabbitMQ application is started on the current node it will attempt to connect to the nodes that were in the cluster when the node went down.</p><p>To leave a cluster, <strong>reset</strong> the node. You can also remove nodes remotely with the <strong>forget_cluster_node</strong> command.</p><p>For more details see the \m[blue]<strong>clustering guide</strong>\m[]\s-2\u[2]\d\s+2.</p><p><strong>cluster_status</strong></p><p>Displays all the nodes in the cluster grouped by node type, together with the currently running nodes.</p><p><strong>change_cluster_node_type</strong> {disc | ram}</p><p>Changes the type of the cluster node. The node must be stopped for this operation to succeed, and when turning a node into a RAM node the node must not be the only disc node in the cluster.</p><p><strong>forget_cluster_node</strong> [--offline]</p><p>[--offline]</p><p>Enables node removal from an offline node. This is only useful in the situation where all the nodes are offline and the last node to go down cannot be brought online, thus preventing the whole cluster from starting. It should not be used in any other circumstances since it can lead to inconsistencies.</p><p>Removes a cluster node remotely. The node that is being removed must be offline, while the node we are removing from must be online, except when using the <strong>--offline</strong> flag.</p><p>When using the <strong>--offline</strong> flag the node you connect to will become the canonical source for cluster metadata (e.g. which queues exist), even if it was not before. Therefore you should use this command on the latest node to shut down if at all possible.</p><p><strong>update_cluster_nodes</strong> {clusternode}</p><p>clusternode</p><p>The node to consult for up to date information.</p><p>Instructs an already clustered node to contact <strong>clusternode</strong> to cluster when waking up. This is different from <strong>join_cluster</strong> since it does not join any cluster - it checks that the node is already in a cluster with <strong>clusternode</strong>.</p><p>The need for this command is motivated by the fact that clusters can change while a node is offline. Consider the situation in which node A and B are clustered. A goes down, C clusters with B, and then B leaves the cluster. When A wakes up, it&apos;ll try to contact B, but this will fail since B is not in the cluster anymore. <strong>update_cluster_nodes -n A C</strong> will solve this situation.</p><p><strong>sync_queue</strong> {queue}</p><p>queue</p><p>The name of the queue to synchronise.</p><p>Instructs a mirrored queue with unsynchronised slaves to synchronise itself. The queue will block while synchronisation takes place (all publishers to and consumers from the queue will block). The queue must be mirrored for this command to succeed.</p><p>Note that unsynchronised queues from which messages are being drained will become synchronised eventually. This command is primarily useful for queues which are not being drained.</p><p><strong>cancel_sync_queue</strong> {queue}</p><p>queue</p><p>The name of the queue to cancel synchronisation for.</p><p>Instructs a synchronising mirrored queue to stop synchronising itself.</p><p><strong>set_cluster_name</strong> {name}</p><p>Sets the cluster name. The cluster name is announced to clients on connection, and used by the federation and shovel plugins to record where a message has been. The cluster name is by default derived from the hostname of the first node in the cluster, but can be changed.</p>
<h3>User management</h3>
<p>Note that <strong>rabbitmqctl</strong> manages the RabbitMQ internal user database. Users from any alternative authentication backend will not be visible to <strong>rabbitmqctl</strong>.</p><p><strong>add_user</strong> {<em>username</em>} {<em>password</em>}</p><p>username</p><p>The name of the user to create.</p><p>password</p><p>The password the created user will use to log in to the broker.</p><p><strong>delete_user</strong> {<em>username</em>}</p><p>username</p><p>The name of the user to delete.</p><p><strong>change_password</strong> {<em>username</em>} {<em>newpassword</em>}</p><p>username</p><p>The name of the user whose password is to be changed.</p><p>newpassword</p><p>The new password for the user.</p><p><strong>clear_password</strong> {<em>username</em>}</p><p>username</p><p>The name of the user whose password is to be cleared.</p><p><strong>set_user_tags</strong> {<em>username</em>} {<em>tag</em> ...}</p><p>username</p><p>The name of the user whose tags are to be set.</p><p>tag</p><p>Zero, one or more tags to set. Any existing tags will be removed.</p><p><strong>list_users</strong></p><p>Lists users. Each result row will contain the user name followed by a list of the tags set for that user.</p>
<h3>Access control</h3>
<p>Note that <strong>rabbitmqctl</strong> manages the RabbitMQ internal user database. Permissions for users from any alternative authorisation backend will not be visible to <strong>rabbitmqctl</strong>.</p><p><strong>add_vhost</strong> {<em>vhostpath</em>}</p><p>vhostpath</p><p>The name of the virtual host entry to create.</p><p>Creates a virtual host.</p><p><strong>delete_vhost</strong> {<em>vhostpath</em>}</p><p>vhostpath</p><p>The name of the virtual host entry to delete.</p><p>Deletes a virtual host.</p><p>Deleting a virtual host deletes all its exchanges, queues, bindings, user permissions, parameters and policies.</p><p><strong>list_vhosts</strong> [<em>vhostinfoitem</em> ...]</p><p>Lists virtual hosts.</p><p>The <strong>vhostinfoitem</strong> parameter is used to indicate which virtual host information items to include in the results. The column order in the results will match the order of the parameters. <strong>vhostinfoitem</strong> can take any value from the list that follows:</p><p>name</p><p>The name of the virtual host with non-ASCII characters escaped as in C.</p><p>tracing</p><p>Whether tracing is enabled for this virtual host.</p><p>If no <strong>vhostinfoitem</strong>s are specified then the vhost name is displayed.</p><p><strong>set_permissions</strong> [-p <em>vhostpath</em>] {<em>user</em>} {<em>conf</em>} {<em>write</em>} {<em>read</em>}</p><p>vhostpath</p><p>The name of the virtual host to which to grant the user access, defaulting to <strong>/</strong>.</p><p>user</p><p>The name of the user to grant access to the specified virtual host.</p><p>conf</p><p>A regular expression matching resource names for which the user is granted configure permissions.</p><p>write</p><p>A regular expression matching resource names for which the user is granted write permissions.</p><p>read</p><p>A regular expression matching resource names for which the user is granted read permissions.</p><p>Sets user permissions.</p><p><strong>clear_permissions</strong> [-p <em>vhostpath</em>] {<em>username</em>}</p><p>vhostpath</p><p>The name of the virtual host to which to deny the user access, defaulting to <strong>/</strong>.</p><p>username</p><p>The name of the user to deny access to the specified virtual host.</p><p>Sets user permissions.</p><p><strong>list_permissions</strong> [-p <em>vhostpath</em>]</p><p>vhostpath</p><p>The name of the virtual host for which to list the users that have been granted access to it, and their permissions. Defaults to <strong>/</strong>.</p><p>Lists permissions in a virtual host.</p><p><strong>list_user_permissions</strong> {<em>username</em>}</p><p>username</p><p>The name of the user for which to list the permissions.</p><p>Lists user permissions.</p>
<h3>Parameter Management</h3>
<p>Certain features of RabbitMQ (such as the federation plugin) are controlled by dynamic, cluster-wide <em>parameters</em>. Each parameter consists of a component name, a name and a value, and is associated with a virtual host. The component name and name are strings, and the value is an Erlang term. Parameters can be set, cleared and listed. In general you should refer to the documentation for the feature in question to see how to set parameters.</p><p><strong>set_parameter</strong> [-p <em>vhostpath</em>] {<em>component_name</em>} {<em>name</em>} {<em>value</em>}</p><p>Sets a parameter.</p><p>component_name</p><p>The name of the component for which the parameter is being set.</p><p>name</p><p>The name of the parameter being set.</p><p>value</p><p>The value for the parameter, as a JSON term. In most shells you are very likely to need to quote this.</p><p><strong>clear_parameter</strong> [-p <em>vhostpath</em>] {<em>component_name</em>} {<em>key</em>}</p><p>Clears a parameter.</p><p>component_name</p><p>The name of the component for which the parameter is being cleared.</p><p>name</p><p>The name of the parameter being cleared.</p><p><strong>list_parameters</strong> [-p <em>vhostpath</em>]</p><p>Lists all parameters for a virtual host.</p>
<h3>Policy Management</h3>
<p>Policies are used to control and modify the behaviour of queues and exchanges on a cluster-wide basis. Policies apply within a given vhost, and consist of a name, pattern, definition and an optional priority. Policies can be set, cleared and listed.</p><p><strong>set_policy</strong> [-p <em>vhostpath</em>] [--priority <em>priority</em>] [--apply-to <em>apply-to</em>] {<em>name</em>} {<em>pattern</em>} {<em>definition</em>}</p><p>Sets a policy.</p><p>name</p><p>The name of the policy.</p><p>pattern</p><p>The regular expression, which when matches on a given resources causes the policy to apply.</p><p>definition</p><p>The definition of the policy, as a JSON term. In most shells you are very likely to need to quote this.</p><p>priority</p><p>The priority of the policy as an integer. Higher numbers indicate greater precedence. The default is 0.</p><p>apply-to</p><p>Which types of object this policy should apply to - "queues", "exchanges" or "all". The default is "all".</p><p><strong>clear_policy</strong> [-p <em>vhostpath</em>] {<em>name</em>}</p><p>Clears a policy.</p><p>name</p><p>The name of the policy being cleared.</p><p><strong>list_policies</strong> [-p <em>vhostpath</em>]</p><p>Lists all policies for a virtual host.</p>
<h3>Server Status</h3>
<p>The server status queries interrogate the server and return a list of results with tab-delimited columns. Some queries (<strong>list_queues</strong>, <strong>list_exchanges</strong>, <strong>list_bindings</strong>, and <strong>list_consumers</strong>) accept an optional <strong>vhost</strong> parameter. This parameter, if present, must be specified immediately after the query.</p><p>The list_queues, list_exchanges and list_bindings commands accept an optional virtual host parameter for which to display results. The default value is "/".</p><p><strong>list_queues</strong> [-p <em>vhostpath</em>] [<em>queueinfoitem</em> ...]</p><p>Returns queue details. Queue details of the <strong>/</strong> virtual host are returned if the "-p" flag is absent. The "-p" flag can be used to override this default.</p><p>The <strong>queueinfoitem</strong> parameter is used to indicate which queue information items to include in the results. The column order in the results will match the order of the parameters. <strong>queueinfoitem</strong> can take any value from the list that follows:</p><p>name</p><p>The name of the queue with non-ASCII characters escaped as in C.</p><p>durable</p><p>Whether or not the queue survives server restarts.</p><p>auto_delete</p><p>Whether the queue will be deleted automatically when no longer used.</p><p>arguments</p><p>Queue arguments.</p><p>policy</p><p>Policy name applying to the queue.</p><p>pid</p><p>Id of the Erlang process associated with the queue.</p><p>owner_pid</p><p>Id of the Erlang process representing the connection which is the exclusive owner of the queue. Empty if the queue is non-exclusive.</p><p>exclusive_consumer_pid</p><p>Id of the Erlang process representing the channel of the exclusive consumer subscribed to this queue. Empty if there is no exclusive consumer.</p><p>exclusive_consumer_tag</p><p>Consumer tag of the exclusive consumer subscribed to this queue. Empty if there is no exclusive consumer.</p><p>messages_ready</p><p>Number of messages ready to be delivered to clients.</p><p>messages_unacknowledged</p><p>Number of messages delivered to clients but not yet acknowledged.</p><p>messages</p><p>Sum of ready and unacknowledged messages (queue depth).</p><p>consumers</p><p>Number of consumers.</p><p>consumer_utilisation</p><p>Fraction of the time (between 0.0 and 1.0) that the queue is able to immediately deliver messages to consumers. This can be less than 1.0 if consumers are limited by network congestion or prefetch count.</p><p>memory</p><p>Bytes of memory consumed by the Erlang process associated with the queue, including stack, heap and internal structures.</p><p>slave_pids</p><p>If the queue is mirrored, this gives the IDs of the current slaves.</p><p>synchronised_slave_pids</p><p>If the queue is mirrored, this gives the IDs of the current slaves which are synchronised with the master - i.e. those which could take over from the master without message loss.</p><p>status</p><p>The status of the queue. Normally &apos;running&apos;, but may be "{syncing, MsgCount}" if the queue is synchronising.</p><p>If no <strong>queueinfoitem</strong>s are specified then queue name and depth are displayed.</p><p><strong>list_exchanges</strong> [-p <em>vhostpath</em>] [<em>exchangeinfoitem</em> ...]</p><p>Returns exchange details. Exchange details of the <strong>/</strong> virtual host are returned if the "-p" flag is absent. The "-p" flag can be used to override this default.</p><p>The <strong>exchangeinfoitem</strong> parameter is used to indicate which exchange information items to include in the results. The column order in the results will match the order of the parameters. <strong>exchangeinfoitem</strong> can take any value from the list that follows:</p><p>name</p><p>The name of the exchange with non-ASCII characters escaped as in C.</p><p>type</p><p>The exchange type (such as [<strong>direct</strong>, <strong>topic</strong>, <strong>headers</strong>, <strong>fanout</strong>]).</p><p>durable</p><p>Whether or not the exchange survives server restarts.</p><p>auto_delete</p><p>Whether the exchange will be deleted automatically when no longer used.</p><p>internal</p><p>Whether the exchange is internal, i.e. cannot be directly published to by a client.</p><p>arguments</p><p>Exchange arguments.</p><p>policy</p><p>Policy name for applying to the exchange.</p><p>If no <strong>exchangeinfoitem</strong>s are specified then exchange name and type are displayed.</p><p><strong>list_bindings</strong> [-p <em>vhostpath</em>] [<em>bindinginfoitem</em> ...]</p><p>Returns binding details. By default the bindings for the <strong>/</strong> virtual host are returned. The "-p" flag can be used to override this default.</p><p>The <strong>bindinginfoitem</strong> parameter is used to indicate which binding information items to include in the results. The column order in the results will match the order of the parameters. <strong>bindinginfoitem</strong> can take any value from the list that follows:</p><p>source_name</p><p>The name of the source of messages to which the binding is attached. With non-ASCII characters escaped as in C.</p><p>source_kind</p><p>The kind of the source of messages to which the binding is attached. Currently always exchange. With non-ASCII characters escaped as in C.</p><p>destination_name</p><p>The name of the destination of messages to which the binding is attached. With non-ASCII characters escaped as in C.</p><p>destination_kind</p><p>The kind of the destination of messages to which the binding is attached. With non-ASCII characters escaped as in C.</p><p>routing_key</p><p>The binding&apos;s routing key, with non-ASCII characters escaped as in C.</p><p>arguments</p><p>The binding&apos;s arguments.</p><p>If no <strong>bindinginfoitem</strong>s are specified then all above items are displayed.</p><p><strong>list_connections</strong> [<em>connectioninfoitem</em> ...]</p><p>Returns TCP/IP connection statistics.</p><p>The <strong>connectioninfoitem</strong> parameter is used to indicate which connection information items to include in the results. The column order in the results will match the order of the parameters. <strong>connectioninfoitem</strong> can take any value from the list that follows:</p><p>pid</p><p>Id of the Erlang process associated with the connection.</p><p>name</p><p>Readable name for the connection.</p><p>port</p><p>Server port.</p><p>host</p><p>Server hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was not enabled.</p><p>peer_port</p><p>Peer port.</p><p>peer_host</p><p>Peer hostname obtained via reverse DNS, or its IP address if reverse DNS failed or was not enabled.</p><p>ssl</p><p>Boolean indicating whether the connection is secured with SSL.</p><p>ssl_protocol</p><p>SSL protocol (e.g. tlsv1)</p><p>ssl_key_exchange</p><p>SSL key exchange algorithm (e.g. rsa)</p><p>ssl_cipher</p><p>SSL cipher algorithm (e.g. aes_256_cbc)</p><p>ssl_hash</p><p>SSL hash function (e.g. sha)</p><p>peer_cert_subject</p><p>The subject of the peer&apos;s SSL certificate, in RFC4514 form.</p><p>peer_cert_issuer</p><p>The issuer of the peer&apos;s SSL certificate, in RFC4514 form.</p><p>peer_cert_validity</p><p>The period for which the peer&apos;s SSL certificate is valid.</p><p>state</p><p>Connection state (one of [<strong>starting</strong>, <strong>tuning</strong>, <strong>opening</strong>, <strong>running</strong>, <strong>flow</strong>, <strong>blocking</strong>, <strong>blocked</strong>, <strong>closing</strong>, <strong>closed</strong>]).</p><p>channels</p><p>Number of channels using the connection.</p><p>protocol</p><p>Version of the AMQP protocol in use (currently one of <strong>{0,9,1}</strong> or <strong>{0,8,0}</strong>). Note that if a client requests an AMQP 0-9 connection, we treat it as AMQP 0-9-1.</p><p>auth_mechanism</p><p>SASL authentication mechanism used, such as <strong>PLAIN</strong>.</p><p>user</p><p>Username associated with the connection.</p><p>vhost</p><p>Virtual host name with non-ASCII characters escaped as in C.</p><p>timeout</p><p>Connection timeout / negotiated heartbeat interval, in seconds.</p><p>frame_max</p><p>Maximum frame size (bytes).</p><p>channel_max</p><p>Maximum number of channels on this connection.</p><p>client_properties</p><p>Informational properties transmitted by the client during connection establishment.</p><p>recv_oct</p><p>Octets received.</p><p>recv_cnt</p><p>Packets received.</p><p>send_oct</p><p>Octets send.</p><p>send_cnt</p><p>Packets sent.</p><p>send_pend</p><p>Send queue size.</p><p>If no <strong>connectioninfoitem</strong>s are specified then user, peer host, peer port, time since flow control and memory block state are displayed.</p><p><strong>list_channels</strong> [<em>channelinfoitem</em> ...]</p><p>Returns information on all current channels, the logical containers executing most AMQP commands. This includes channels that are part of ordinary AMQP connections, and channels created by various plug-ins and other extensions.</p><p>The <strong>channelinfoitem</strong> parameter is used to indicate which channel information items to include in the results. The column order in the results will match the order of the parameters. <strong>channelinfoitem</strong> can take any value from the list that follows:</p><p>pid</p><p>Id of the Erlang process associated with the connection.</p><p>connection</p><p>Id of the Erlang process associated with the connection to which the channel belongs.</p><p>name</p><p>Readable name for the channel.</p><p>number</p><p>The number of the channel, which uniquely identifies it within a connection.</p><p>user</p><p>Username associated with the channel.</p><p>vhost</p><p>Virtual host in which the channel operates.</p><p>transactional</p><p>True if the channel is in transactional mode, false otherwise.</p><p>confirm</p><p>True if the channel is in confirm mode, false otherwise.</p><p>consumer_count</p><p>Number of logical AMQP consumers retrieving messages via the channel.</p><p>messages_unacknowledged</p><p>Number of messages delivered via this channel but not yet acknowledged.</p><p>messages_uncommitted</p><p>Number of messages received in an as yet uncommitted transaction.</p><p>acks_uncommitted</p><p>Number of acknowledgements received in an as yet uncommitted transaction.</p><p>messages_unconfirmed</p><p>Number of published messages not yet confirmed. On channels not in confirm mode, this remains 0.</p><p>prefetch_count</p><p>QoS prefetch limit for new consumers, 0 if unlimited.</p><p>global_prefetch_count</p><p>QoS prefetch limit for the entire channel, 0 if unlimited.</p><p>If no <strong>channelinfoitem</strong>s are specified then pid, user, consumer_count, and messages_unacknowledged are assumed.</p><p><strong>list_consumers</strong> [-p <em>vhostpath</em>]</p><p>List consumers, i.e. subscriptions to a queue&apos;s message stream. Each line printed shows, separated by tab characters, the name of the queue subscribed to, the id of the channel process via which the subscription was created and is managed, the consumer tag which uniquely identifies the subscription within a channel, a boolean indicating whether acknowledgements are expected for messages delivered to this consumer, an integer indicating the prefetch limit (with 0 meaning &apos;none&apos;), and any arguments for this consumer.</p><p><strong>status</strong></p><p>Displays broker status information such as the running applications on the current Erlang node, RabbitMQ and Erlang versions, OS name, memory and file descriptor statistics. (See the <strong>cluster_status</strong> command to find out which nodes are clustered and running.)</p><p><strong>environment</strong></p><p>Display the name and value of each variable in the application environment.</p><p><strong>report</strong></p><p>Generate a server status report containing a concatenation of all server status information for support purposes. The output should be redirected to a file when accompanying a support request.</p><p><strong>eval</strong> {<em>expr</em>}</p><p>Evaluate an arbitrary Erlang expression.</p>
<h3>Miscellaneous</h3>
<p><strong>close_connection</strong> {<em>connectionpid</em>} {<em>explanation</em>}</p><p>connectionpid</p><p>Id of the Erlang process associated with the connection to close.</p><p>explanation</p><p>Explanation string.</p><p>Instruct the broker to close the connection associated with the Erlang process id <strong>connectionpid</strong> (see also the <strong>list_connections</strong> command), passing the <strong>explanation</strong> string to the connected client as part of the AMQP connection shutdown protocol.</p><p><strong>trace_on</strong> [-p <em>vhost</em>]</p><p>vhost</p><p>The name of the virtual host for which to start tracing.</p><p>Starts tracing.</p><p><strong>trace_off</strong> [-p <em>vhost</em>]</p><p>vhost</p><p>The name of the virtual host for which to stop tracing.</p><p>Stops tracing.</p><p><strong>set_vm_memory_high_watermark</strong> {<em>fraction</em>}</p><p>fraction</p><p>The new memory threshold fraction at which flow control is triggered, as a floating point number greater than or equal to 0.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p><strong>rabbitmqctl stop</strong></p><p>This command instructs the RabbitMQ node to terminate.</p><p><strong>rabbitmqctl stop_app</strong></p><p>This command instructs the RabbitMQ node to stop the RabbitMQ application.</p><p><strong>rabbitmqctl start_app</strong></p><p>This command instructs the RabbitMQ node to start the RabbitMQ application.</p><p><strong>rabbitmqctl wait /var/run/rabbitmq/pid</strong></p><p>This command will return when the RabbitMQ node has started up.</p><p><strong>rabbitmqctl reset</strong></p><p>This command resets the RabbitMQ node.</p><p><strong>rabbitmqctl force_reset</strong></p><p>This command resets the RabbitMQ node.</p><p><strong>rabbitmqctl rotate_logs .1</strong></p><p>This command instructs the RabbitMQ node to append the contents of the log files to files with names consisting of the original logs&apos; names and ".1" suffix, e.g. rabbit@mymachine.log.1 and rabbit@mymachine-sasl.log.1. Finally, logging resumes to fresh files at the old locations.</p><p><strong>rabbitmqctl join_cluster hare@elena --ram</strong></p><p>This command instructs the RabbitMQ node to join the cluster that <strong>hare@elena</strong> is part of, as a ram node.</p><p><strong>rabbitmqctl cluster_status</strong></p><p>This command displays the nodes in the cluster.</p><p><strong>rabbitmqctl change_cluster_node_type disc</strong></p><p>This command will turn a RAM node into a disc node.</p><p><strong>rabbitmqctl -n hare@mcnulty forget_cluster_node rabbit@stringer</strong></p><p>This command will remove the node <strong>rabbit@stringer</strong> from the node <strong>hare@mcnulty</strong>.</p><p><strong>rabbitmqctl set_cluster_name london</strong></p><p>This sets the cluster name to "london".</p><p><strong>rabbitmqctl add_user tonyg changeit</strong></p><p>This command instructs the RabbitMQ broker to create a (non-administrative) user named <strong>tonyg</strong> with (initial) password <strong>changeit</strong>.</p><p><strong>rabbitmqctl delete_user tonyg</strong></p><p>This command instructs the RabbitMQ broker to delete the user named <strong>tonyg</strong>.</p><p><strong>rabbitmqctl change_password tonyg newpass</strong></p><p>This command instructs the RabbitMQ broker to change the password for the user named <strong>tonyg</strong> to <strong>newpass</strong>.</p><p><strong>rabbitmqctl clear_password tonyg</strong></p><p>This command instructs the RabbitMQ broker to clear the password for the user named <strong>tonyg</strong>. This user now cannot log in with a password (but may be able to through e.g. SASL EXTERNAL if configured).</p><p><strong>rabbitmqctl set_user_tags tonyg administrator</strong></p><p>This command instructs the RabbitMQ broker to ensure the user named <strong>tonyg</strong> is an administrator. This has no effect when the user logs in via AMQP, but can be used to permit the user to manage users, virtual hosts and permissions when the user logs in via some other means (for example with the management plugin).</p><p><strong>rabbitmqctl set_user_tags tonyg</strong></p><p>This command instructs the RabbitMQ broker to remove any tags from the user named <strong>tonyg</strong>.</p><p><strong>rabbitmqctl list_users</strong></p><p>This command instructs the RabbitMQ broker to list all users.</p><p><strong>rabbitmqctl add_vhost test</strong></p><p>This command instructs the RabbitMQ broker to create a new virtual host called <strong>test</strong>.</p><p><strong>rabbitmqctl delete_vhost test</strong></p><p>This command instructs the RabbitMQ broker to delete the virtual host called <strong>test</strong>.</p><p><strong>rabbitmqctl list_vhosts name tracing</strong></p><p>This command instructs the RabbitMQ broker to list all virtual hosts.</p><p><strong>rabbitmqctl set_permissions -p /myvhost tonyg "^tonyg-.*" ".*" ".*"</strong></p><p>This command instructs the RabbitMQ broker to grant the user named <strong>tonyg</strong> access to the virtual host called <strong>/myvhost</strong>, with configure permissions on all resources whose names starts with "tonyg-", and write and read permissions on all resources.</p><p><strong>rabbitmqctl clear_permissions -p /myvhost tonyg</strong></p><p>This command instructs the RabbitMQ broker to deny the user named <strong>tonyg</strong> access to the virtual host called <strong>/myvhost</strong>.</p><p><strong>rabbitmqctl list_permissions -p /myvhost</strong></p><p>This command instructs the RabbitMQ broker to list all the users which have been granted access to the virtual host called <strong>/myvhost</strong>, and the permissions they have for operations on resources in that virtual host. Note that an empty string means no permissions granted.</p><p><strong>rabbitmqctl list_user_permissions tonyg</strong></p><p>This command instructs the RabbitMQ broker to list all the virtual hosts to which the user named <strong>tonyg</strong> has been granted access, and the permissions the user has for operations on resources in these virtual hosts.</p><p><strong>rabbitmqctl set_parameter federation local_username &apos;"guest"&apos;</strong></p><p>This command sets the parameter <strong>local_username</strong> for the <strong>federation</strong> component in the default virtual host to the JSON term <strong>"guest"</strong>.</p><p><strong>rabbitmqctl clear_parameter federation local_username</strong></p><p>This command clears the parameter <strong>local_username</strong> for the <strong>federation</strong> component in the default virtual host.</p><p><strong>rabbitmqctl list_parameters</strong></p><p>This command lists all parameters in the default virtual host.</p><p><strong>rabbitmqctl set_policy federate-me "^amq." &apos;{"federation-upstream-set":"all"}&apos;</strong></p><p>This command sets the policy <strong>federate-me</strong> in the default virtual host so that built-in exchanges are federated.</p><p><strong>rabbitmqctl clear_policy federate-me</strong></p><p>This command clears the <strong>federate-me</strong> policy in the default virtual host.</p><p><strong>rabbitmqctl list_policies</strong></p><p>This command lists all policies in the default virtual host.</p><p><strong>rabbitmqctl list_queues -p /myvhost messages consumers</strong></p><p>This command displays the depth and number of consumers for each queue of the virtual host named <strong>/myvhost</strong>.</p><p><strong>rabbitmqctl list_exchanges -p /myvhost name type</strong></p><p>This command displays the name and type for each exchange of the virtual host named <strong>/myvhost</strong>.</p><p><strong>rabbitmqctl list_bindings -p /myvhost exchange_name queue_name</strong></p><p>This command displays the exchange name and queue name of the bindings in the virtual host named <strong>/myvhost</strong>.</p><p><strong>rabbitmqctl list_connections send_pend port</strong></p><p>This command displays the send queue size and server port for each connection.</p><p><strong>rabbitmqctl list_channels connection messages_unacknowledged</strong></p><p>This command displays the connection process and count of unacknowledged messages for each channel.</p><p><strong>rabbitmqctl status</strong></p><p>This command displays information about the RabbitMQ broker.</p><p><strong>rabbitmqctl report &gt; server_report.txt</strong></p><p>This command creates a server report which may be attached to a support request email.</p><p><strong>rabbitmqctl eval &apos;node().&apos;</strong></p><p>This command returns the name of the node to which rabbitmqctl has connected.</p><p><strong>rabbitmqctl close_connection "&lt;rabbit@tanto.4262.0&gt;" "go away"</strong></p><p>This command instructs the RabbitMQ broker to close the connection associated with the Erlang process id <strong>&lt;rabbit@tanto.4262.0&gt;</strong>, passing the explanation <strong>go away</strong> to the connected client.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>The RabbitMQ Team &lt;</strong><strong>\m[blue]</strong><strong>&lt;info@rabbitmq.com&gt;</strong>\m[]<strong>&gt;</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>installation guide</p><p>http://www.rabbitmq.com/install.html</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>clustering guide</p><p>http://www.rabbitmq.com/clustering.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rabbitmq-server.1.html"><span aria-hidden="true">&larr;</span> rabbitmq-server.1: Start rabbitmq amqp server</a></li>
   <li class="next"><a href="rabbitsign.1.html">rabbitsign.1: Sign applications for ti graphing calculators <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
