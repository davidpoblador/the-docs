<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cgiemail: Cgi form-to-mail conversion tools</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cgi form-to-mail conversion tools">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cgiemail (1) manual">
  <meta name="twitter:description" content="Cgi form-to-mail conversion tools">
  <meta name="twitter:image" content="https://www.carta.tech/images/cgiemail-cgiemail-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cgiemail.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cgiemail (1) manual" />
  <meta property="og:description" content="Cgi form-to-mail conversion tools" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cgiemail-cgiemail-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cgiemail<small> (1)</small></h1>
        <p class="lead">Cgi form-to-mail conversion tools</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cgiemail.1.html">
      <span itemprop="name">cgiemail: Cgi form-to-mail conversion tools</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cgiemail/">
      <span itemprop="name">cgiemail</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cgiemail.1.html">
      <span itemprop="name">cgiemail: Cgi form-to-mail conversion tools</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">The cgiemail user guide</h2>
        <div class="sectioncontent">
<p>This guide will help you write a \s-1WWW\s0 form that sends an e-mail message to you. The following steps are required:</p><ul>
<li><p>Create an e-mail template.</p></li><li><p>Put a link to the template on your page.</p></li><li><p>Decide if a mailto: link will do.</p></li><li><p>Create the \s-1HTML\s0 form.</p></li><li><p>Create more advanced \s-1HTML\s0 forms.</p></li><li><p>Make sure the \s-1ACTION\s0 is correct.</p></li><li><p>Try out your form with cgiecho.</p></li><li><p>Go live with cgiemail.</p></li><li><p>Debug if you don't get mail</p></li>
</ul><p>The following steps are optional.</p><ul>
<li><p>Add text to the success page.</p></li><li><p>Use an alternate success page.</p></li><li><p>Make some inputs required.</p></li><li><p>Specify formatting for some inputs.</p></li><li><p>Use \s-1CGI\s0 environment variables.</p></li>
</ul><h3>Create an e-mail template.</h3>
<p>Before you start receiving e-mail messages through the web, you should decide what these messages should look like. Create an \s-1ASCII\s0 file, called an e-mail template, that looks something like this:</p>
<pre>
    To: strangeman@chasm.big                          HEADER LINES
    Subject: questions three
                                                      blank line
    What is your name?              [yourname]
    What is your quest?             [quest]           BODY
    What is your favourite colour?  [colour]
</pre>
<p>In one sense, this template is free-form. People who want to send you e-mail can download this template, fill it out, and mail it to you. However, the template will also be used by the cgiemail program, so before you upload the file to your \s-1WWW\s0 server, be careful to follow these guidelines:</p><ul>
<li><p>Wherever you want the user of your form to supply information, use a single word inside square brackets with no spaces, e.g. Your name: [yourname]. Not [Put your name here].</p></li><li><p>Make sure the address in the To: field is correct.</p></li><li><p>If there are blank lines among the header lines, remove them.</p></li><li><p>If there are blank lines before the header lines, remove them.</p></li><li><p>Make sure all your header lines are valid. The first character on the line must be a letter. Most information should go in the message body; don't make up your own headers.</p></li><li><p>Make sure there is a blank line between the header lines and the body.</p></li><li><p>Make sure you save it as \s-1ASCII\s0 text. For example, if you are using Microsoft Word, use \*(L"Save As\*(R" and choose \*(L"Text Only with Line Breaks.\*(R"</p></li><li><p>If you created the file on a Mac, be sure to upload it as text, i.e. \s-1CR\s0's translated. (Unix computers have different codes denoting the end of a line than Mac's do, so your file might look like one long line to the Unix computer.)</p></li>
</ul><p>Within these guidelines there is a lot of flexibility. You can put Bcc:, X-Face:, or any other header in the headers. You can put things like Cc: [yourname] in the headers. Be creative. Just don't put anything in there you wouldn't want your webmaster to see, because that's where bounced messages go.</p><p>Now go ahead and upload your e-mail template to the \s-1WWW\s0 server and look at it with your \s-1WWW\s0 browser.</p>
<h3>Put a link to the template on your page.</h3>
<p>Here's an example:</p><p>Would you like to cross the bridge? Download my \*(L"questions three\*(R" form and send it to &lt;strangeman@chasm.big&gt;.</p><p>Even after you create your \s-1WWW\s0 form, you will want to leave this link in to increase accessibility to users with disabilities.</p>
<h3>Decide if a mailto: link will do.</h3>
<p>Already, without any complicated \s-1HTML\s0, you have a way for people on the \s-1WWW\s0 to send you the information you want. Before you go to the effort of making an \s-1HTML\s0 form, decide if it's really worth it. Forms on the \s-1WWW\s0 have two particular disadvantages:</p><ul>
<li><p>You will get a lot of frivolous e-mail from people who are merely ``surfing the web.''</p></li><li><p>The user's e-mail address is typed manually, and is often mistyped, so that you have no way to reply. This is less of a problem with mailto: links.</p></li>
</ul>
<h3>Create the \s-1HTML\s0 form.</h3>
<p>If you've decided to create an \s-1HTML\s0 form, you need to give people a way to supply an e-mail address. With the mailto: link, their mailer would supply the From: address for them. But now you need to add a line to the top of your e-mail template like this:</p><p>    From: [email]</p><p>Here is an example \s-1HTML\s0 form.</p><p>    Your e-mail address: _\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_</p><p>    Your name: _\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_</p><p>    Your quest: _\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_</p><p>    Your favourite colour: _\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_\|_</p><p>    Send e-mail (This example doesn&apos;t actually send e-mail.)</p><p>This is the \s-1HTML\s0 source:</p><p>    &lt;FORM METHOD="POST"      ACTION="http://web.mit.edu/bin/cgiecho/wwwdev/cgiemail/questions3.txt"&gt;</p><p>    Your e-mail address: &lt;INPUT NAME="email"&gt;&lt;p&gt;     Your name: &lt;INPUT NAME="yourname"&gt;&lt;p&gt;     Your quest: &lt;INPUT NAME="quest"&gt;&lt;p&gt;     Your favourite colour: &lt;INPUT NAME="colour"&gt;&lt;p&gt;     &lt;INPUT TYPE="submit" value="Send e-mail"&gt;     &lt;/FORM&gt;</p><p>This is a very simple example. Note that the \s-1NAME\s0 of each input corresponds to what you previously put in the e-mail template. In this example they are email, yourname, quest, and colour. This is the key concept in using cgiemail. Be careful to make them exactly the same; if you put NAME=\*(L"colour\*(R" in your \s-1HTML\s0 form and [color] (note the spelling difference) in your e-mail template, the input will not show up in the e-mail.</p>
<h3>Create more advanced \s-1HTML\s0 forms.</h3>
<p>To learn to create more complicated forms, read \s-1NCSA\s0's guide. All of their example forms can be converted to cgiemail forms merely by changing the \s-1ACTION\s0. Unlike other forms-to-email programs, you are not required to use hidden inputs with special names.</p><p>All types of inputs (radio buttons, etc.) work the same way. Each input needs a \s-1NAME\s0, and that name must appear within square brackets in your e-mail template. It's that simple. To get more ideas, see the cgiemail example page.</p>
<h3>Make sure the \s-1ACTION\s0 is correct.</h3>
<p>The trickiest part of the \s-1HTML\s0 form is getting the \s-1ACTION\s0 set correctly. Start with the \s-1URL\s0 of your e-mail template, then split it into two parts, e.g.</p><p>    http://web.mit.edu/wwwdev/cgiemail/questions3.txt     &#92;                /&#92;                             /      &#96;--- Part 1 ---&apos;  &#96; -------- Part 2 ----------&apos;</p><p>Then you put the script name in the middle. Usually this is ``/cgi-bin/cgiecho'', but it depends on how your server is configured. On web.mit.edu it happens to be ``/bin/cgiecho'', thus my \s-1ACTION\s0 looks like this:</p><p>    http://web.mit.edu/bin/cgiecho/wwwdev/cgiemail/questions3.txt     &#92;                /&#92;          /&#92;                             /      &#96;--- Part 1 ---&apos;  script name &#96; -------- Part 2 ----------&apos;</p><p>For simplicity, you may leave out part 1, but you must include it if you want to test your form as a local file. If you don't know what that means, just feel free to omit part 1.</p>
<h3>Try out your form with cgiecho.</h3>
<p>Pop your form into your favorite \s-1WWW\s0 browser, fill in the inputs, and submit it. You should see what the processed form looks like. If instead you see an error with a number near 500, your \s-1ACTION\s0 is probably set wrong. Go back to the previous step.</p><p>If some of your inputs don't seem to be showing up in the processed form, make sure that the inputs have the exact same names in the \s-1HTML\s0 form as in the \s-1ASCII\s0 template. E.g. NAME=\*(L"yourname\*(R" in the \s-1HTML\s0 form and [yourname] in the e-mail template.</p>
<h3>Go live with cgiemail.</h3>
<p>Now change cgiecho to cgiemail in the \s-1ACTION\s0 of your \s-1HTML\s0 form. Try it out. You should receive an e-mail message with the processed form. If you get a success page but don't receive mail, there is some problem with your template file. Go back and make sure you correctly followed the guidelines in step 1.</p><p>If it works, congratulations!</p><p>9. Debug if you don't get mail</p><p>Normally, mail gets sent asynchronously, meaning it goes into a queue to be sent at at a convenient time. Asynchronous mail is sent more efficiently and reliably, but has the disadvantage that problems can only be reported by mailing an error message back to the sender. To the mail system, it appears that the sender of the mail is the web server, so the error message won't get to you.</p><p>If you aren't getting mail, you can temporarily use synchronous mail delivery by creating a hidden input named cgiemail-mailopt and giving it a value containing \*(L"sync\*(R", e.g.</p><p>    &lt;INPUT TYPE="hidden" NAME="cgiemail-mailopt" VALUE="sync"&gt;</p><p>Note: For release 1.1, this won't work. Ask your webmaster to install a newer release. Some mailers have a nonstandard extension that sends bounces to an address in an Errors-To: header in addition to the web server. However, some errors make this header line unreadable, so there's no way to make absolutely sure the bounce will go to you.</p>
<h3>Optional: Add text to the success page.</h3>
<p>When mail is sent, a page titled ``Success'' appears with the text of the e-mail message. You may use a hidden variable called ``addendum'' to add your own text. Here is a simple example:</p><p>    &lt;INPUT TYPE="hidden" NAME="addendum" VALUE="Thank you!"&gt;</p><p>If you are willing to assume that readers of your form are using recent browser software like Lynx 2.6 or Netscape 3.0, then you may put \s-1HTML\s0 markup into this variable using the appropriate character entities. For example, if you wanted to add</p><p>    Thank you!</p><p>then the \s-1HTML\s0 markup would be</p><p>    &lt;em&gt;Thank you!&lt;/em&gt;</p><p>meaning you would need the following in your form:</p><p>    &lt;INPUT TYPE="hidden" NAME="addendum"      VALUE="&lt;em&gt;Thank you!&lt;/em&gt;"&gt;</p><p>Note that besides being difficult to write, this feature won't work for people using older browser software.</p>
<h3>Optional: Use an alternate success page.</h3>
<p>If you don't like the default page that comes up when email is successfully sent, you can specify an alternate \s-1URL\s0 using a hidden variable called ``success'' in your \s-1HTML\s0 form, e.g.</p><p>    &lt;INPUT TYPE="hidden" NAME="success" VALUE="http://web.mit.edu/"&gt;</p><p>Note: Start your \s-1URL\s0 with / or with http://. Otherwise cgiemail will direct your browser to a second invocation of cgiemail, resulting in the error No variable substitutions.</p><p>As of release 1.3, there is no way to make this alternate success page contain information the user submitted in the form. This feature is likely to be added in a future release.</p>
<h3>Optional: Make some inputs required.</h3>
<p>If you would like to automatically reject forms with certain inputs left blank, add the prefix ``required-'' to the name of the input in both your \s-1HTML\s0 form and your e-mail template. Here is an example:</p><p>In the \s-1HTML\s0 form:</p><p>    Your name: &lt;INPUT NAME="required-yourname"&gt;</p><p>In the e-mail template</p><p>    Your name:      [required-yourname]</p>
<h3>Optional: Specify formatting for some inputs.</h3>
<p>If, in your e-mail template, the text inside square brackets begins with %, cgiemail will use the <em>printf()</em> function in C on the field name after the comma. If you're not familiar with this function, look in a book on C. If you are familiar with it, please note these two differences:</p><ul>
<li><p>The first character in the format string must be %.</p></li><li><p>Characters like &#92;n and &#92;t must be literal. If you want a newline, you have to put a newline just before the comma, even though this looks strange. For example, if Godzilla's Pizza wanted toppings listed one per line, they would put the following in their e-mail template:      [%s     ,topping]</p></li>
</ul>
<h3>Optional: Use \s-1CGI\s0 environment variables.</h3>
<p>This feature may or may not work, depending on whether or not your webmaster enabled it when configuring cgiemail.</p><p>In addition to form inputs, your e-mail template can include \s-1CGI\s0 environment variables simply by preceding the variable's name with a dollar sign. For example,</p><p>    [$HTTP_USER_AGENT]</p><p>will put the name of the user's browser and/or gateway in your e-mail message. In order to be respectful of privacy, your \s-1HTML\s0 form should warn users about any information about them that will be included in the e-mail, e.g. \s-1HTTP_USER_AGENT\s0, \s-1REMOTE_ADDR\s0.</p>
<h3>Administrivia</h3>
<p>Upstream contact: cgiemail &lt;cgiemail@mit.edu&gt;</p><p>Debian maintainer: Anibal Monsalve Salazar &lt;A.Monsalve.Salazar@IEEE.org&gt;</p><p>Complete information on building, installing and using cgiemail is available on the \s-1WWW:\s0</p><p>    http://web.mit.edu/wwwdev/cgiemail/</p>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cgiecho.1.html"><span aria-hidden="true">&larr;</span> cgiecho.1: Cgi form-to-mail conversion tools</a></li>
   <li class="next"><a href="cgifile.1.html">cgifile.1: Cgi form-to-mail conversion tools <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
