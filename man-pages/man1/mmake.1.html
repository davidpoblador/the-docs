<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mmake: </title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mmake (1) manual">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="https://www.carta.tech/images/mmake-mmake-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mmake.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mmake (1) manual" />
  <meta property="og:description" content="" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mmake-mmake-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mmake<small> (1)</small></h1>
        <p class="lead"></p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mmake.1.html">
      <span itemprop="name">mmake: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mmake/">
      <span itemprop="name">mmake</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mmake.1.html">
      <span itemprop="name">mmake: </span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p> mmake [ -d | -v ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program will generate a Makefile for Java source files. Use the <em>-d</em> option to accept all defaults.</p><p>After running mmake, you will obtain a Makefile in the directory from where you started the program. The Makefile will handle java files in the current directory and in any sub-directories.</p><p>Use the generated Makefile with mmake as follows:</p><p>To compile Java files just type <strong>make</strong>. It's also possible to run make with one of the following targets: <em>doc, clean, help, jar,</em> srcjar, bundle, install, uninstall, tags and depend Where 'make doc' runs javadoc on the source files, it will only work for files in a package. The command 'make clean' removes class files and other temporary files. The command 'make jar' creates a jar file with all class files (and other files of your choice, see the \s-1JAR_OBJS\s0 variable in the Makefile). The command 'make srcjar' creates a jar file with all java files. The command 'make bundle' creates a Mac \s-1OS\s0 X Application Bundle with all the jar file. The command 'make install' will install a jar file, app bundle, class files and any shell wrappers you have made. (A shell script must have the extension .sh to be installed). Use 'make uninstall' to remove installed files. The command 'make help', shows a help text with available targets. The command 'make tags' will generate a tag file for Emacs. And finally the command 'make depend' creates a dependency graph for the class files. (The dependency graph will be put in a file called <em>makefile.dep</em>, which is included in the Makefile)</p><p>You don't have to run mmake each time you add a new java file to your project. You can add as many new java files as you like, the Makefile will find them. This is the case as long as you don't add a new package. In that case, you must either run mmake again or update the \s-1PACKAGE\s0 variable in the Makefile. This is because the Makefile uses this variable to find directories with java files.</p><p>The program mmake is able to create a dependency graph for your java files. To do this, it needs the <em>jikes</em> compiler from \s-1IBM\s0. Get jikes from <strong>http://www.ibm.com/developerworks/oss/jikes/</strong>.You would probably be more content with jikes anyhow, since it is much faster than javac. To create a dependencies graph, do a <em>make clean</em> before running <em>make depend</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">A NOTE ON INSTALLATION</h2>
        <div class="sectioncontent">
<p>The Makefile created with mmake will do a fair job installing the different files that makes up your system. It uses the following Makefile variables when it conducts the install routine:</p><ul>
<li><p>\s-1PREFIX\s0</p></li><li><p>\s-1CLASS_DIR\s0</p></li><li><p>\s-1JAR_DIR\s0</p></li><li><p>\s-1BUNDLE_DIR\s0</p></li><li><p>\s-1DOC_DIR\s0</p></li><li><p>\s-1SCRIPT_DIR\s0</p></li>
</ul><p><strong>&#92;$1</strong></p><p>This variable will be prepended to all other directory variables above. It is used for grouping the other directories into one root directory. If you don't want that, you may simply set the variable to an empty string in the Makefile. If the variable is empty you could still use it on the command line when you run make, for instance for a one-shoot installation like: <strong>make PREFIX=/local/myproject/ install</strong> This variable denotes the top directory from where all class files will be installed. Its default value is <strong>classes</strong>, which I believe is a good value. <strong>Note:</strong> If you <em>don't</em> want to install any class files (because you are, for example, only going to use a jar file), set this variable to an empty string and no class files will be installed.</p><p>Resource files will also be installed below this directory if such files are present in a package structure. This is useful if you are using e.g. ResourceBundles to Localize your application and have your property files in it's own directory in the package structure. This variable tells the Makefile where to install the jar file. The default value is <strong>lib</strong>, which is also a good default value. This variable tells the Makefile where to install the app bundle. The default value is <strong>lib</strong>, which is also a good default value. When you run javadoc, all the html files will be put into this directory. Its default value is <strong>doc/api-docs</strong>. You should probably keep that name, but then again, you may change it as you like. The Makefile uses this variable to install any shell wrapper-scripts that you have created. If you write an application, it is always nice for the user that you provide a wrapper script to start the application. Its default value is <strong>bin</strong>. (The Makefile will only install shell-scripts that has the extension .sh. The mmake script will tell the Makefile where to look for shell-scripts) If you keep the default values you will get an installation tree that looks like this:</p><p> `-- PREFIX      |-- bin      |-- classes      |   `-- package &lt;--- Example of a sub-directory      |       |-- sub-package1      |       |-- sub-package2      |       `-- sub-package3      |-- doc      |   `-- api-docs      `-- lib</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING THE C-PREPROCESSOR</h2>
        <div class="sectioncontent">
<p>This is a excellent tool for managing projects with several different versions. The idea behind using the C preprocessor with Java is to better manage different versions more easily. This is done by using \s-1CPP\s0 conditional statements in the source files. I would strongly advise you not to use \s-1CPP\s0 to redefine the Java language itself.</p><p>To use the C preprocessor together with Java, you can change the name of the source files that you want to preprocess \*(-- from &lt;filename&gt;.java to &lt;filename&gt;.xjava. The Makefile has a rule to build .class files from .xjava files.</p><p>It is <strong>not</strong> necesarry to change every file from .java to .xjava. The Makefile will work well and consistently in an environment of both .java and .xjava files. (E.g. 'make clean' will only remove .java files that were created from a .xjava file. Other java files will, of course, <em>not</em> be removed.)</p><p>You can now use cpp Conditionals in Your Java-code, for example, as follows:</p><p>    #ifdef JAVA1_1        [code1]     #else        [code2]     #endif</p><p>The \s-1JAVA1_1\s0 label in the above example is tested against the \s-1VERSION\s0 variable in the Makefile. That is, if the \s-1VERSION\s0 variable is \s-1JAVA1_1\s0, then [code1] would be compiled and [code2] left out. Likewise, if \s-1VERSION\s0 is something else than \s-1JAVA1_1\s0, then [code2] would be compiled and [code1] left out of the resulting .class file.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>mmake will give you <em>one</em> Makefile for managing your Java files. Although it's easy to setup and use mmake in a recursive makefile context, you don't want to do that. To see why, read the excellent article: <strong>Recursive Make Considered Harmful</strong> at <em>http://www.canb.auug.org.au/~millerp/rmch/recu-make-cons-harm.html</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEPENDENCIES</h2>
        <div class="sectioncontent">
<p>mmake will need the following:</p><ul>
<li><p>Perl 5.x</p></li><li><p>Gnu make</p></li><li><p>Gnu xargs (recommended)</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jan-Henrik Haukeland &lt;hauk@tildeslash.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mmafm.1.html"><span aria-hidden="true">&larr;</span> mmafm.1: Creates afm font metrics for multiple master fonts</a></li>
   <li class="next"><a href="mmass.1.html">mmass.1: A free mass spectrometry tool for proteomics <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
