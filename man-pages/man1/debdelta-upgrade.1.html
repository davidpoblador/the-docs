<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debdelta-upgrade: Downloads all deltas that may be used to 'apt-get upgrade', and apply them.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Downloads all deltas that may be used to 'apt-get upgrade', and apply them.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debdelta-upgrade (1) manual">
  <meta name="twitter:description" content="Downloads all deltas that may be used to 'apt-get upgrade', and apply them.">
  <meta name="twitter:image" content="https://www.carta.tech/images/debdelta-debdelta-upgrade-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/debdelta-upgrade.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debdelta-upgrade (1) manual" />
  <meta property="og:description" content="Downloads all deltas that may be used to 'apt-get upgrade', and apply them." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/debdelta-debdelta-upgrade-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debdelta-upgrade<small> (1)</small></h1>
        <p class="lead">Downloads all deltas that may be used to 'apt-get upgrade', and apply them.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debdelta-upgrade.1.html">
      <span itemprop="name">debdelta-upgrade: Downloads all deltas that may be used to 'apt-get upgrade', and apply them.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/debdelta/">
      <span itemprop="name">debdelta</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debdelta-upgrade.1.html">
      <span itemprop="name">debdelta-upgrade: Downloads all deltas that may be used to 'apt-get upgrade', and apply them.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>debdelta-upgrade</strong> [<em>OPTION</em>]... [<em>PACKAGE</em>] ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program is designed to download changes (deltas) that may be used to <strong>apt-get upgrade</strong> all listed packages, and apply them. If no package is listed in the command line, then it will apply to all upgradable packages. See <a href="../man1/debdelta.1.html"><strong>debdelta</strong>(1)</a> for more details on the delta files.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--dir </strong><em>DIR</em></p>
  </dt>
  <dd>
    <p>directory where to save results. (default: /var/cache/apt/archives for root, /tmp/archive for non-root users)</p>
  </dd>
  <dt>
    <p><strong>--format </strong><em>FORMAT</em></p>
  </dt>
  <dd>
    <p>format of recreated debs. FORMAT=deb is the usual, FORMAT=unzipped means that the data.tar part is not compressed, (and this may save some time)</p>
  </dd>
  <dt>
    <p><strong>--deb-policy </strong><em>POLICY</em></p>
  </dt>
  <dd>
    <p>policy to decide which debs to download, it is a comma separated list of (abbreviations of)</p>
<pre>
    source =  there is no /etc/debdelta/sources.conf line
    big =  the delta is too big
    error =  the delta fails to apply
    unavailable = all other cases
    after = continue downloading debs after patching has ended
  default is s,b,e
</pre>

  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>verbose (can be added multiple times).</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>print full traceback on Python errors; save useful info in temporary files in case that a delta fails.</p>
  </dd>
  <dt>
    <p><strong>-k</strong></p>
  </dt>
  <dd>
    <p>keep temporary files (use for debugging).</p>
  </dd>
  <dt>
    <p><strong> -A --accept-unsigned</strong></p>
  </dt>
  <dd>
    <p>accept unsigned deltas.</p>
  </dd>
  <dt>
    <p><strong> --gpg-home</strong></p>
  </dt>
  <dd>
    <p>specify a different home for GnuPG, default for root is <em>/etc/debdelta/gnupg</em> while for other users is unset. See <em>--homedir</em> in <a href="../man1/gpg.1.html"><strong>gpg</strong>(1)</a></strong> for details.</p>
  </dd>
  <dt>
    <p><strong> --forensic </strong><em>METHOD</em></p>
  </dt>
  <dd>
    <p>if a delta fails, report logs so that the problem may be addressed. Method may be</p>
<pre>
  do
      just prepare logs and say where they are
  mutt
      send logs by email using mutt
  icedove
      send logs by email using icedove (as root!)
  http
      send by http (the easiest and most recommended method!)
</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>When invoked as root, <em>apt-get update && debdelta-upgrade && apt-get upgrade</em> will download delta files, recreate the needed Debian packages, and then upgrade your Debian host. When only slow Internet connection is available, the above procedure may be significantly faster than "apt-get update && apt-get upgrade". (Use -v to see how much faster.)</p><p>The package manager <em>cupt</em> uses deltas as well when upgrading.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SECURITY</h2>
        <div class="sectioncontent">
<p>A Debian package that is recreated using <em>debdelta-upgrade</em> is byte-by-byte identical to the original one; when  "apt-get upgrade" is subsequently invoked, the cryptographic archive authentication support (see <em>apt-secure (8)</em> ) will guarantee that it can be trusted to be installed.  Moreover, the delta files themselves are cryptographically protected using GnuPG, MD5 and SHA1 (using the same method as <strong>dpkg-sig</strong>(1) ), and <em>debdelta-upgrade</em> will refuse to apply corrupted or unsigned deltas (but, see option <strong>-A</strong> ).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DOWNLOAD AND PROXIES</h2>
        <div class="sectioncontent">
<p><em>debdelta-upgrade</em> downloads deltas in two passes: in the first pass, it downloads the first kB of each delta, to extract the delta parameters and to examine them. If the delta does not exist, it checks if the <em>debdelta-too-big</em> timestamp file exists, and then it examines the <em>--deb-policy</em> to decide if to download the deb instead. In the second pass, it downloads (the rest of) the deltas and queues them in a patching queue.</p><p>For plain direct http downloads, <em>debdelta-upgrade</em> uses the Python library 'httplib' directly; in particular, it uses keep-alive features, and this speeds up a lot the first pass.</p><p>If  variables such as <em>http_proxy</em> are set in the environment,  then instead <em>debdelta-upgrade</em> will use the 'urllib2' module: this though slows down sensibly the first pass above (since 'urllib2' opens a different connection for each download); moreover 'urllib2' seems to be buggy in some places (for example, it transforms http response "401"  into "404" , and "302" into "200") so the output explanation printed by <em>debdelta-upgrade</em> in case of download error may be wrong; and the <em>--deb-policy</em> <em>big</em> is currently disabled (until the author understands 'urllib2' better).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>See <a href="../man1/debdelta.1.html"><strong>debdelta</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to &lt;mennucc1@debian.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIZES</h2>
        <div class="sectioncontent">
<p>In the program printout  kB = 1024 bytes and MB = 1024^2 bytes .</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Debdelta was written and is copyright &copy; 2006-09 Andrea Mennucci.</p><p>This man page was written by Jegou Pierre-yves  &lt;pierreyves.jeg@voila.fr&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>This is free software.  You may redistribute copies of it under the terms of the GNU Library General Public License &lt;http://www.gnu.org/licenses/lgpl-2.0.html&gt;. There is NO WARRANTY, to the extent permitted by law.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO debdelta-upgrade&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/debdelta.1.html"><strong>debdelta</strong>(1)</a>, <a href="../man8/apt-get.8.html"><strong>apt-get</strong>(8)</a>, <strong>/usr/share/doc/debdelta/README.upgrade</strong>, <strong>/usr/share/doc/debdelta/README</strong>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="debdelta.1.html"><span aria-hidden="true">&larr;</span> debdelta.1: Compute changes between debian packages</a></li>
   <li class="next"><a href="debdeltas.1.html">debdeltas.1: Compute deltas between debian packages <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
