<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mailbot: A mime-aware autoresponder utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A mime-aware autoresponder utility">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mailbot (1) manual">
  <meta name="twitter:description" content="A mime-aware autoresponder utility">
  <meta name="twitter:image" content="https://www.carta.tech/images/courier-maildrop-mailbot-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/courier-maildrop-mailbot.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mailbot (1) manual" />
  <meta property="og:description" content="A mime-aware autoresponder utility" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/courier-maildrop-mailbot-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mailbot<small> (1)</small></h1>
        <p class="lead">A mime-aware autoresponder utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mailbot.1.html">
      <span itemprop="name">mailbot: A mime-aware autoresponder utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/courier-maildrop/">
      <span itemprop="name">courier-maildrop</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mailbot.1.html">
      <span itemprop="name">mailbot: A mime-aware autoresponder utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mailbot</strong> [options] {<em>program</em>} [arg...]</p><p>In .mailfilter:</p>
<pre>
if (/^Subject: *info/)
{
     cc "| mailbot -t /usr/share/autoresponse/info -d autoresponsedb &#92;
            -A &apos;From: info@domain.com&apos; /usr/bin/sendmail -f &apos;&apos;"
}
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mailbot</strong> reads an E-mail message on standard input and creates an E-mail message replying to the original message&apos;s sender. A <strong>program</strong> is specified as an argument to <strong>mailbot</strong> after all of <strong>mailbot</strong> options. <strong>program</strong> is expected to read the created autoreply on its standard input, and mail it. If <strong>program</strong> is not specified, <strong>mailbot</strong> runs &apos;sendmail -f ""&apos;.</p><p><strong>mailbot</strong> has several options for suppressing duplicate autoresponse messages. If <strong>mailbot</strong> chooses not to send an autoresponse, it quietly terminates without running <strong>program</strong>. The autoresponse is optionally formatted as a MIME delivery status notification.</p><p>The text of the autoresponse is specified by the <strong>-t</strong> or the <strong>-m</strong> argument. Either one is required. Everything else is optional. The default behavior is to send an autoresponse unless the original message has the "Precedence: junk" or the "Precedence: bulk" header, or the "Precedence: list" header, or the "List-ID:" header, or if its MIME content type is "multipart/report" (this is the MIME content type for delivery status notifications). The <strong>-M</strong> option formats the the autoresponse itself as a MIME delivery status notification.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-A "<em>header: value</em>"</p><p>Add a header to the autoresponse. Multiple <strong>-A</strong> options are allowed. In most situations, the <strong>-A</strong> option must be used to set the &ldquo;From:&rdquo; header in the autogenerated response.</p><p>-f<em>address</em></p><p>Address the autoresponse to <em>address</em>, which must be an \m[blue]<strong>RFC 2822</strong>\m[]\s-2\u[1]\d\s+2 address. By default <strong>mailbot</strong> takes the autoresponse address from the From: (or the Reply-To:) header in the original message. <strong>-f</strong>, if present, overrides and explicitly sets the autoresponse address. "<em>address</em>" must immediately follow the <strong>-f</strong> option without an intervening space (it&apos;s a single command line argument). An <strong>-f</strong> option without an <em>address</em> takes the address from the <strong>SENDER</strong> environment variable.</p><p>-t <em>filename</em></p><p>Read text autoresponse from <em>filename</em>, which must contain a plain text message in &ldquo;flowed-text&rdquo; format. In a &ldquo;flowed-text&rdquo;-formatted message, each line that ends with a space character indicates that the line logically flows into the next line. This allows the message to be reformatted for any shown display width.</p><p><strong>Note</strong></p><p>Messages in languages (see the <strong>-c</strong> option) which use spaces as word delimiters must have <em>two</em> spaces at the end of a flowed line. The last space on a flowed line is logically removed, and the first space separates the last word on the previous line from the first word on the next line. Otherwise, the two words will not have a logical space between them if they get repositioned as part of adjusting the message&apos;s width for display.</p><p>Messages in ideographic languages that do not use spaces as word delimiters need only one space trailing a flowed line.</p><p><strong>Note</strong></p><p>The trailing whitespace has no visual impact when shown by software that does not implemented flowed text format, and always displays messages using their original width.</p><p>-c <em>charset</em></p><p>Set the autoresponse&apos;s MIME character set to <em>charset</em>. Run <strong>mailbot</strong> without any arguments to see the default character set.</p><p>-m <em>filename</em></p><p>Read a MIME autoresponse from filename. This is similar to the <strong>-t</strong> option, except that <em>filename</em> contains MIME headers, followed by a blank line, and the corresponding MIME content. The contents of <em>filename</em> are inserted in the autoresponse without further processing.</p><p>The specified file must contain the &ldquo;Content-Type&rdquo; header specifying the &ldquo;text/plain&rdquo; MIME type, with the &ldquo;format=flowed&rdquo;, &ldquo;delsp=yes&rdquo;, and the &ldquo;charset&rdquo; attributes, which override the <strong>-c</strong> parameter. If the specified file has a &ldquo;Content-Transfer-Encoding&rdquo; header it must be either &ldquo;7bit&rdquo; or &ldquo;8bit&rdquo;, it may not be &ldquo;quoted-printable&rdquo;. <strong>mailbot</strong> always drops any existing &ldquo;Content-Transfer-Encoding&rdquo; header and always adds the &ldquo;Content-Transfer-Encoding: 8bit&rdquo; header, even with the <strong>-m</strong>, since the salutation inserted into the message includes the sender&apos;s name, which may contain 8-bit characters. Example:</p>
<pre>
Content-Type: text/plain; format=flowed; delsp=yes; charset="iso-8859-1"

Mary had a little lamb,
Its fleece was white as snow.
And everywhere Mary went,
The lamb was sure to go.
</pre>
<p><strong>Note</strong></p><p>When the <strong>-m</strong> option is specified <strong>mailbot</strong> ignores the locale&apos;s character set and formats the autoreply according to the character set read from the &ldquo;Content-Type&rdquo; header.</p><p>-M <em>address</em></p><p>Format the autoresponse as a delivery status notification (\m[blue]<strong>RFC 1894</strong>\m[]\s-2\u[2]\d\s+2). <em>address</em> is an \m[blue]<strong>RFC 2822</strong>\m[]\s-2\u[1]\d\s+2 E-mail address that generates the DSN. Note that the <strong>-A</strong> option should still be used in addition to <strong>-M</strong> in order to set the From: header on the autoresponse. <strong>-M</strong> sets the DSN address only. The <strong>-M</strong> option automatically sets <strong>-T </strong><strong>replydsn</strong></p><p>-R <em>type</em></p><p>Specify the feedback report type, with <em>type</em> set to abuse, fraud, other, or virus. Must be used together with &ldquo;-T feedback&rdquo; or &ldquo;-T replyfeedback&rdquo;.</p><p>-T <em>format</em></p><p>Set the reply format. <em>format</em> must be one of the following values:</p><p>&ldquo;reply&rdquo; - the default reply format.</p><p>&ldquo;replyall&rdquo; - like &ldquo;reply&rdquo;, except also puts the recipients in the original message&apos;s &ldquo;To:&rdquo; and &ldquo;Cc:&rdquo; headers into the &ldquo;Cc:&rdquo; header of the generated reply.</p><p>&ldquo;replydsn&rdquo; - like &ldquo;reply&rdquo;, except the message is formatted as a delivery status notification.</p><p>&ldquo;forward&rdquo; - attach the original message as forwarded text.</p><p>&ldquo;forwardatt&rdquo; - attach the original message as a forwarded message attachment.</p><p>&ldquo;feedback&rdquo; - generate an Email Feedback Report message (see \m[blue]<strong>RFC 5965</strong>\m[]\s-2\u[3]\d\s+2). The &ldquo;-R&rdquo; option is required when this is specified.</p><p>&ldquo;replyfeedback&rdquo; - like &ldquo;feedback&rdquo;, but also adds a &ldquo;To:&rdquo; header, addressed to the original message&apos;s sender.</p><p>-N</p><p>Do not quote the contents of the original message in the message created by &ldquo;reply&rdquo;, &ldquo;replyall&rdquo;, &ldquo;replydsn&rdquo;, &ldquo;feedback&rdquo;, and &ldquo;replyfeedback&rdquo; options.</p><p><strong>Note</strong></p><p>The original message gets quoted, in the absence of this option, only if the original message was formatted as plain text. <strong>mailbot</strong> is unable to quote an original message which was formatted as HTML, or any other non-plaintext format.</p><p><strong>Note</strong></p><p>For &ldquo;replydsn&rdquo;, &ldquo;feedback&rdquo;, and &ldquo;replyfeedback&rdquo; options, the convention is to attach the original message, or only its headers, separately; so this option should always be specified for these three reply formats.</p><p>-a</p><p>Attach the entire message, for &ldquo;replydsn&rdquo;, &ldquo;feedback&rdquo;, and &ldquo;replyfeedback&rdquo;, instead of only its headers.</p><p>-e</p><p>Generate a reply (&ldquo;reply&rdquo;-formats) to the address listed in any &ldquo;Errors-To&rdquo; or &ldquo;Return-Path&rdquo; header, if present, instead of the &ldquo;From&rdquo; header.</p><p>-S &ldquo;salutation&rdquo;</p><p>Use the given <em>salutation</em> in the &ldquo;reply&rdquo;. The default value is &ldquo;%F writes:&rdquo;. The following substitutions are recognized in the salutation string:</p><p>%% - an explicit % character.</p><p>%n - a newline character.</p><p>%C - the &ldquo;X-Newsgroup:&rdquo; header from the original message.</p><p>%N - the &ldquo;Newsgroups:&rdquo; header from the original message.</p><p>%i - the &ldquo;Message-ID:&rdquo; header from the original message.</p><p>%f - the original message&apos;s sender&apos;s address.</p><p>%F - the original message&apos;s sender&apos;s name.</p><p>%S - the &ldquo;Subject:&rdquo; header from the original message</p><p>%d - the original message&apos;s date, in the local timezone.</p><p>%{<em>...</em>}d - use <strong>strftime</strong>() to format the original message&apos;s date. A plain %d is equivalent to %{%a, %d %b %Y %H:%M:%S %z}d.</p><p>All other characters in the salutation string are left as is.</p><p>-F &ldquo;marker&rdquo;</p><p>When generating a forward, use the <em>marker</em> to separate the forwarded message from the autoreply text, instead of the default &ldquo;--- Forwarded message ---&rdquo;</p><p>-r <em>addrlist</em></p><p><em>addrlist</em> is a comma-separated list of \m[blue]<strong>RFC 2822</strong>\m[]\s-2\u[1]\d\s+2 E-mail addresses. <strong>mailbot</strong> sends an autoresponse only if the original message has at least one of the specified addresses in any To: or Cc: header.</p><p>-d <em>filename</em></p><p>Create a small database, <em>filename</em>, that keeps track of senders&apos; E-mail addresses, and prevent duplicate autoresponses going to the same address (suppress autoresponses going back to the same senders, for subsequent received messages). The <strong>-d</strong> option is only available if <strong>maildrop</strong> has GDBM/DB extensions enabled.</p><p>-D <em>x</em></p><p>Do not send duplicate autoresponses (see the <strong>-d</strong> option) for at least <em>x</em> days (default: 1 day). The <strong>-d</strong> option creates a database of E-mail addresses and the times an autoresponse was last mailed to them. Another autoresponse to the same address will not be mailed until at least the amount of time specified by the <strong>-D</strong> option has elapsed.</p><p>-s "<em>subject</em>"</p><p>Set the Subject: header on the autoresponse to <em>subject</em>.</p><p>-n</p><p>Show the resulting message, do not send it. Used for debugging purposes.</p><p>--feedback-original-envelope-id&nbsp;<em>"&lt;envelopeid&gt;"</em>, --feedback-original-mail-from&nbsp;<em>"&lt;mailfrom&gt;"</em>, --feedback-reporting-mta&nbsp;"<em>dns;&nbsp;hostname"</em>, --feedback-source-ip&nbsp;<em>aaa.bbb.ccc.ddd</em>, --feedback-incidents&nbsp;<em>n</em>, --feedback-authentication-results&nbsp;<em>"results"</em>, --feedback-original-rcpt-to&nbsp;<em>"&lt;rcptto&gt;"</em>, --feedback-reported-domain&nbsp;<em>example.com</em></p><p>Optional parameters to include in the feedback report generated by &ldquo;feedback&rdquo; and &ldquo;replyfeedback&rdquo;. <strong>mailbot</strong> always adds &ldquo;Arrival-Date&rdquo; with the current time, as well as &ldquo;Version&rdquo; and &ldquo;User-Agent&rdquo;.</p><p>&ldquo;--feedback-authentication-results&rdquo;, &ldquo;--feedback-original-rcpt-to&rdquo; and &ldquo;--feedback-reported-domain&rdquo; may be specified more than once.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mailbot&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong></strong><a href="../man1/maildrop.1.html"><strong>maildrop</strong>(1)</a>\m[]\s-2\u[4]\d\s+2, \m[blue]<strong></strong><a href="../man1/reformail.1.html"><strong>reformail</strong>(1)</a>\m[]\s-2\u[5]\d\s+2, \m[blue]<strong></strong><a href="../man1/reformime.1.html"><strong>reformime</strong>(1)</a>\m[]\s-2\u[6]\d\s+2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Sam Varshavchik</strong></p><p>Author</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p>RFC 2822</p><p>http://tools.ietf.org/html/rfc2822</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p>RFC 1894</p><p>http://tools.ietf.org/html/rfc1894</p>
  </dd>
  <dt>
     3.
  </dt>
  <dd>
    <p>RFC 5965</p><p>http://tools.ietf.org/html/rfc5965</p>
  </dd>
  <dt>
     4.
  </dt>
  <dd>
    <p><a href="../man1/maildrop.1.html"><strong>maildrop</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/maildrop.html</p>
  </dd>
  <dt>
     5.
  </dt>
  <dd>
    <p><a href="../man1/reformail.1.html"><strong>reformail</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/reformail.html</p>
  </dd>
  <dt>
     6.
  </dt>
  <dd>
    <p><a href="../man1/reformime.1.html"><strong>reformime</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/reformime.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mailagent.1.html"><span aria-hidden="true">&larr;</span> mailagent.1: An automatic mail-processing tool</a></li>
   <li class="next"><a href="maildrop-mailbot.1.html">mailbot.1: A mime-aware autoresponder utility <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
