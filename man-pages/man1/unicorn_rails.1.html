<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>unicorn_rails: A script/server-like command to launch the unicorn http server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A script/server-like command to launch the unicorn http server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="unicorn_rails (1) manual">
  <meta name="twitter:description" content="A script/server-like command to launch the unicorn http server">
  <meta name="twitter:image" content="https://www.carta.tech/images/unicorn-unicorn_rails-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/unicorn_rails.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="unicorn_rails (1) manual" />
  <meta property="og:description" content="A script/server-like command to launch the unicorn http server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/unicorn-unicorn_rails-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">unicorn_rails<small> (1)</small></h1>
        <p class="lead">A script/server-like command to launch the unicorn http server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/unicorn_rails.1.html">
      <span itemprop="name">unicorn_rails: A script/server-like command to launch the unicorn http server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/unicorn/">
      <span itemprop="name">unicorn</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/unicorn_rails.1.html">
      <span itemprop="name">unicorn_rails: A script/server-like command to launch the unicorn http server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>unicorn_rails [-c CONFIG_FILE] [-E RAILS_ENV] [-D] [RACKUP_FILE]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>A <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a>-like command to launch Rails applications using Unicorn. It is expected to be started in your Rails application root (RAILS_ROOT), but the "working_directory" directive may be used in the CONFIG_FILE.</p><p>It is designed to help Rails 1.x and 2.y users transition to Rack, but it is NOT needed for Rails 3 applications. Rails 3 users are encouraged to use <a href="../man1/unicorn.1.html"><strong>unicorn</strong>(1)</a> instead of <a href="../man1/unicorn_rails.1.html"><strong>unicorn_rails</strong>(1)</a>. Users of Rails 1.x/2.y may also use <a href="../man1/unicorn.1.html"><strong>unicorn</strong>(1)</a> instead of <a href="../man1/unicorn_rails.1.html"><strong>unicorn_rails</strong>(1)</a>.</p><p>The outward interface resembles <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a>, the internals and default middleware loading is designed like the script/server command distributed with Rails.</p><p>While Unicorn takes a myriad of command-line options for compatibility with <strong>ruby</strong>(1) and <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a>, it is recommended to stick to the few command-line options specified in the SYNOPSIS and use the CONFIG_FILE as much as possible.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">UNICORN OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-c, --config-file CONFIG_FILE</strong></p>
  </dt>
  <dd>
    <p>Path to the Unicorn-specific config file. The config file is implemented as a Ruby DSL, so Ruby code may executed. See the RDoc/ri for the <em>Unicorn::Configurator</em> class for the full list of directives available from the DSL. Using an absolute path for for CONFIG_FILE is recommended as it makes multiple instances of Unicorn easily distinguishable when viewing ps(1) output.</p>
  </dd>
  <dt>
    <p><strong>-D, --daemonize</strong></p>
  </dt>
  <dd>
    <p>Run daemonized in the background. The process is detached from the controlling terminal and stdin is redirected to "/dev/null". Unlike many common UNIX daemons, we do not chdir to "/" upon daemonization to allow more control over the startup/upgrade process. Unless specified in the CONFIG_FILE, stderr and stdout will also be redirected to "/dev/null". Daemonization will <em>skip</em> loading of the <em>Rails::Rack::LogTailer</em> middleware under Rails &gt;= 2.3.x. By default, <a href="../man1/unicorn_rails.1.html"><strong>unicorn_rails</strong>(1)</a> will create a PID file in <em>"RAILS_ROOT/tmp/pids/unicorn.pid"</em>. You may override this by specifying the "pid" directive to override this Unicorn config file.</p>
  </dd>
  <dt>
    <p><strong>-E, --env RAILS_ENV</strong></p>
  </dt>
  <dd>
    <p>Run under the given RAILS_ENV. This sets the RAILS_ENV environment variable. Acceptable values are exactly those you expect in your Rails application, typically "development" or "production".</p>
  </dd>
  <dt>
    <p><strong>-l, --listen ADDRESS</strong></p>
  </dt>
  <dd>
    <p>Listens on a given ADDRESS. ADDRESS may be in the form of HOST:PORT or PATH, HOST:PORT is taken to mean a TCP socket and PATH is meant to be a path to a UNIX domain socket. Defaults to "0.0.0.0:8080" (all addresses on TCP port 8080). For production deployments, specifying the "listen" directive in CONFIG_FILE is recommended as it allows fine-tuning of socket options.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RACKUP COMPATIBILITY OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-o, --host HOST</strong></p>
  </dt>
  <dd>
    <p>Listen on a TCP socket belonging to HOST, default is "0.0.0.0" (all addresses). If specified multiple times on the command-line, only the last-specified value takes effect. This option only exists for compatibility with the <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a> command, use of "-l"/"--listen" switch is recommended instead.</p>
  </dd>
  <dt>
    <p><strong>-p, --port PORT</strong></p>
  </dt>
  <dd>
    <p>Listen on the specified TCP PORT, default is 8080. If specified multiple times on the command-line, only the last-specified value takes effect. This option only exists for compatibility with the <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a> command, use of "-l"/"--listen" switch is recommended instead.</p>
  </dd>
  <dt>
    <p><strong>--path PATH</strong></p>
  </dt>
  <dd>
    <p>Mounts the Rails application at the given PATH (instead of "/"). This is equivalent to setting the RAILS_RELATIVE_URL_ROOT environment variable. This is only supported under Rails 2.3 or later at the moment.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RUBY OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-e, --eval LINE</strong></p>
  </dt>
  <dd>
    <p>Evaluate a LINE of Ruby code. This evaluation happens immediately as the command-line is being parsed.</p>
  </dd>
  <dt>
    <p><strong>-d, --debug</strong></p>
  </dt>
  <dd>
    <p>Turn on debug mode, the $DEBUG variable is set to true. For Rails &gt;= 2.3.x, this loads the <em>Rails::Rack::Debugger</em> middleware.</p>
  </dd>
  <dt>
    <p><strong>-w, --warn</strong></p>
  </dt>
  <dd>
    <p>Turn on verbose warnings, the $VERBOSE variable is set to true.</p>
  </dd>
  <dt>
    <p><strong>-I, --include PATH</strong></p>
  </dt>
  <dd>
    <p>specify $LOAD_PATH. PATH will be prepended to $LOAD_PATH. The \[aq]:\[aq] character may be used to delimit multiple directories. This directive may be used more than once. Modifications to $LOAD_PATH take place immediately and in the order they were specified on the command-line.</p>
  </dd>
  <dt>
    <p><strong>-r, --require LIBRARY</strong></p>
  </dt>
  <dd>
    <p>require a specified LIBRARY before executing the application. The "require" statement will be executed immediately and in the order they were specified on the command-line.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RACKUP FILE</h2>
        <div class="sectioncontent">
<p>This defaults to "config.ru" in RAILS_ROOT. It should be the same file used by <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a> and other Rack launchers, it uses the <em>Rack::Builder</em> DSL. Unlike many other Rack applications, RACKUP_FILE is completely <em>optional</em> for Rails, but may be used to disable some of the default middleware for performance.</p><p>Embedded command-line options are mostly parsed for compatibility with <a href="../man1/rackup.1.html"><strong>rackup</strong>(1)</a> but strongly discouraged.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>The RAILS_ENV variable is set by the aforementioned -E switch. The RAILS_RELATIVE_URL_ROOT is set by the aforementioned --path switch. Either of these variables may also be set in the shell or the Unicorn CONFIG_FILE. All application or library-specific environment variables (e.g. TMPDIR, RAILS_ASSET_ID) may always be set in the Unicorn CONFIG_FILE in addition to the spawning shell. When transparently upgrading Unicorn, all environment variables set in the old master process are inherited by the new master process. Unicorn only uses (and will overwrite) the UNICORN_FD environment variable internally when doing transparent upgrades.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SIGNALS</h2>
        <div class="sectioncontent">
<p>The following UNIX signals may be sent to the master process:</p>
<dl class='dl-vertical'>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>HUP - reload config file, app, and gracefully restart all workers</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>INT/TERM - quick shutdown, kills all workers immediately</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>QUIT - graceful shutdown, waits for workers to finish their current request before finishing.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>USR1 - reopen all logs owned by the master and all workers See Unicorn::Util.reopen_logs for what is considered a log.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>USR2 - reexecute the running binary. A separate QUIT should be sent to the original process once the child is verified to be up and running.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>WINCH - gracefully stops workers but keep the master running. This will only work for daemonized processes.</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>TTIN - increment the number of worker processes by one</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>TTOU - decrement the number of worker processes by one</p>
  </dd>

</dl>
<p>See the SIGNALS (http://unicorn.bogomips.org/SIGNALS.html) document for full description of all signals used by Unicorn.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO unicorn_rails&hellip;</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p><a href="../man1/unicorn.1.html"><strong>unicorn</strong>(1)</a></p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p><em>Rack::Builder</em> ri/RDoc</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p><em>Unicorn::Configurator</em> ri/RDoc</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>Unicorn RDoc (http://unicorn.bogomips.org/)</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>Rack RDoc (http://rdoc.info/gems/r#/gems/rack/frames)</p>
  </dd>
  <dt>
    \[bu]
  </dt>
  <dd>
    <p>Rackup HowTo (http://wiki.github.com/rack/rack/tutorial-rackup-howto)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>The Unicorn Community &lt;unicorn-public@bogomips.org&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="unicorn.1.html"><span aria-hidden="true">&larr;</span> unicorn.1: A rackup-like command to launch the unicorn http server</a></li>
   <li class="next"><a href="unicoverage.1.html">unicoverage.1: Print coverage of each unicode bmp script <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
