<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mgd77magref: Evaluate the igrf or cm4 magnetic field models</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Evaluate the igrf or cm4 magnetic field models">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mgd77magref (1gmt) manual">
  <meta name="twitter:description" content="Evaluate the igrf or cm4 magnetic field models">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-mgd77magref-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/mgd77magref.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mgd77magref (1gmt) manual" />
  <meta property="og:description" content="Evaluate the igrf or cm4 magnetic field models" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-mgd77magref-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mgd77magref<small> (1gmt)</small></h1>
        <p class="lead">Evaluate the igrf or cm4 magnetic field models</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/mgd77magref.1gmt.html">
      <span itemprop="name">mgd77magref: Evaluate the igrf or cm4 magnetic field models</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/mgd77magref.1gmt.html">
      <span itemprop="name">mgd77magref: Evaluate the igrf or cm4 magnetic field models</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mgd77magref</strong> [ <em>inputfile</em> ] [ <strong>-A</strong>[<strong>+a</strong><em>alt</em><strong>+t</strong><em>date</em><strong>+y</strong>] ] [ <strong>-C</strong><em>cm4file</em> ] [ <strong>-D</strong><em>Dstfile</em> ] [ <strong>-E</strong><em>f107file</em> ] [ <strong>-F</strong><em>flags</em> ] [ <strong>-G</strong> ] [ <strong>-H</strong>[<strong>i</strong>][<em>nrec</em>] ] [ <strong>-Sc</strong>|<strong>l</strong><em>low/high</em> ] [ <strong>-V</strong> ] [ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ] [ <strong>-b</strong>[<strong>i</strong>|<strong>o</strong>][<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ] [ <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> ] [ <strong>-m</strong>[<strong>i</strong>|<strong>o</strong>][<em>flag</em>] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mgd77magref</strong> will evaluate the IGRF or the CM4 geomagnetic models at the specified locations and times.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>No space between the option flag and the associated arguments.</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>inputfile</em></p>
  </dt>
  <dd>
    <p>Contains the moments in space-time where we want to evaluate the magnetic reference field.  The first two columns must contain longitude and latitude (however, see <strong>-:</strong> for latitude and longitude instead).  Normally, the third and fourth columns must contain altitude (in km) and time, respectively, but if one or both of these are constant for all records they can be supplied via the <strong>-A</strong> option instead and are thus not expected in the input file. If no input file is given we read <em>stdin</em>. A note about the CM4 validity domain. The core field of CM4 is valid from 1960-2002.5 but the ionospheric and magnetospheric fields are computed after the <em>Dst</em> and <em>F10.7</em> coefficient files. We extended here those coefficient files up to 2007, which means that one can compute external contributions up until 2007 but the Secular Variation will be biased (non reliable). New indices files may be retrieved from:ftp://ftp.ngdc.noaa.gov/STP/GEOMAGNETIC_DATA/INDICES/DST/ (the <em>Dst</em> coefficients) and ftp://ftp.ngdc.noaa.gov/STP/SOLAR_DATA/SOLAR_RADIO/FLUX/ (The <em>F10.7</em> index file is a MONTHPLT.ABS). NOTE: since the <em>Dst</em> files in the .../DST/ directory are still only up to 2007, for GMT4.5.3 we extended the <em>Dst</em> until April 2010 by reformatting the data in the preliminary file Est_Ist_index_0_mean.pli, which is at ftp://ftp.ngdc.noaa.gov/STP/GEOMAGNETIC_DATA/INDICES/EST_IST/</p>
  </dd>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>Adjusts how the input record is interpreted.  Append <strong>+a</strong> to set a fixed <em>altitude</em> (in km) that should apply to all data records [Default expects <em>altitude</em> to be in the 3rd column of all records]. Append <strong>+t</strong> to set a fixed <em>time</em> that should apply to all data records [Default expects <em>time</em> to be in the 4th column of all records]. Finally, append <strong>+y</strong> to indicate that all times are specified as decimal years [Default is ISO <em>date</em>T<em>colck</em> format].</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate CM4 coefficient file [umdl.CM4].</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate file with hourly means of the Dst index for CM4 [Dst_all.wdc].  Alternatively, simply specify a single index to apply for all records.</p>
  </dd>
  <dt>
    <p><strong>-E</strong></p>
  </dt>
  <dd>
    <p>Specify an alternate file with monthly means of absolute F10.7 solar radio flux for CM4 [F107_mon.plt].  Alternatively, simply specify a single flux to apply for all records.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Selects output items; <em>flags</em> is a string made up of one or more of these characters:</p><p><strong>r</strong> means output all input columns before adding the items below</p><p><strong>t</strong> means list total field (nT).</p><p><strong>h</strong> means list horizontal field (nT).</p><p><strong>x</strong> means list X component (nT, positive north).</p><p><strong>y</strong> means list Y component (nT, positive east).</p><p><strong>z</strong> means list Z component (nT, positive down).</p><p><strong>d</strong> means list declination (deg, clockwise from north).</p><p><strong>i</strong> means list inclination (deg, positive down).</p><p>Append one or more number to indicate the requested field contribution(s):</p><p><strong>0</strong> means IGRF field (no combinations allowed)</p><p><strong>1</strong> means CM4 Core field</p><p><strong>2</strong> means CM4 Lithospheric field</p><p><strong>3</strong> means CM4 Primary Magnetospheric field</p><p><strong>4</strong> means CM4 Induced Magnetospheric field</p><p><strong>5</strong> means CM4 Primary ionospheric field</p><p><strong>6</strong> means CM4 Induced ionospheric field</p><p><strong>7</strong> means CM4 Toroidal field</p><p><strong>9</strong> means Core field from IGRF and other contributions from CM4. DO NOT USE BOTH 1 AND 9.</p><p>Appending several numbers (1-7) will add up the different contributions. For example <strong>-Ft</strong>/<strong>12</strong> computes the total field due to Core and Lithospheric sources. Two special cases are allowed, which mix which Core field from IGRF and other sources from CM4. <strong>-Ft</strong>/<strong>934</strong> computes Core field due to IGRF plus terms 3 and 4 from CM4 (but you can add others). <strong>-Ft</strong>/<strong>934</strong> the same as above but output the field components. The data is written out in the order they appear in <em>flags</em> [Default is <strong>-Frthxyzdi</strong>/<strong>1</strong>].</p>
  </dd>
  <dt>
    <p><strong>-G</strong></p>
  </dt>
  <dd>
    <p>Specifies that coordinates are geocentric [geodetic].</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Input file(s) has header record(s).  If used, the default number of header records is <strong>N_HEADER_RECS</strong>. Use <strong>-Hi</strong> if only input data should have header records [Default will write out header records if the input data have them]. Blank lines and lines starting with # are always skipped.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Computes J field vectors from certain external sources.</p><p><strong>r</strong> means output all input columns before adding the items below (all in Ampers/m).</p><p><strong>t</strong> means list magnitude field.</p><p><strong>x</strong> means list X component.</p><p><strong>y</strong> means list Y component.</p><p><strong>z</strong> means list Z or current function Psi.</p><p>Append a number to indicate the requested J contribution:</p><p><strong>1</strong> means Induced Magnetospheric field.</p><p><strong>2</strong> means Primary ionospheric field.</p><p><strong>3</strong> means Induced ionospheric field.</p><p><strong>4</strong> means Poloidal field.</p>
  </dd>
  <dt>
    <p><strong>-Sc</strong></p>
  </dt>
  <dd>
    <p>Limits the wavelengths of the core field contribution to the band indicated by the low and high spherical harmonic order [1/13].</p>
  </dd>
  <dt>
    <p><strong>-Sl</strong></p>
  </dt>
  <dd>
    <p>Limits the wavelengths of the lithosphere field contribution to the band indicated by the low and high spherical harmonic order [14/65].</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-:</strong></p>
  </dt>
  <dd>
    <p>Toggles between (longitude,latitude) and (latitude,longitude) input and/or output.  [Default is (longitude,latitude)]. Append <strong>i</strong> to select input only or <strong>o</strong> to select output only.  [Default affects both].</p>
  </dd>
  <dt>
    <p><strong>-bi</strong></p>
  </dt>
  <dd>
    <p>Selects binary input. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of columns in your binary input file if it exceeds the columns needed by the program. Or append <strong>c</strong> if the input file is netCDF. Optionally, append <em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>...</em> to specify the variables to be read. [Default is 4 input columns unless <strong>-A</strong> is used].</p>
  </dd>
  <dt>
    <p><strong>-bo</strong></p>
  </dt>
  <dd>
    <p>Selects binary output. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of desired columns in your binary output file. [Default is reflected by <strong>-F</strong>].</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Multiple segment file(s).  Segments are separated by a special record. For ASCII files the first character must be <em>flag</em> [Default is '&gt;']. For binary files all fields must be NaN and <strong>-b</strong> must set the number of output columns explicitly.  By default the <strong>-m</strong> setting applies to both input and output.  Use <strong>-mi</strong> and <strong>-mo</strong> to give separate settings to input and output.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TIME SETTINGS</h2>
        <div class="sectioncontent">
<p>If binary input files are used then absolute time are stored as time relative to the selected epoch. However, since the epoch used is not stored in the data files there can be problems decoding the correct time.  The mgd77 supplement uses the Unix time system as its default; thus you should make sure that binary data files with time uses the same system (see the GMT default TIME_SYSTEM).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To get the CM4 Total field, Declination and Inclination due to all but lithospheric and toroidal field at a one point location and decimal time 2000.0, try</p><p>echo -28 38 0 2000.0 | <strong>mgd77magref</strong> <strong>-A</strong>+y <strong>-F</strong> tdi/13456</p><p>To do the same as above but at noon (Universal Time) of first May 2001, try</p><p>echo -28 38 0 2001-05-01T12:00:00 | <strong>mgd77magref</strong> <strong>-F</strong> tdi/13456</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mgd77magref&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/gmt.1.html"><strong>GMT</strong>(1)</a> <strong>mgd77info</strong>(1) <strong>mgd77list</strong>(1) <strong>mgd77manage</strong>(1) <strong>mgd77track</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>Wessel, P., and W. H. F. Smith, 2014, The Generic Mapping Tools (GMT) version 4.5.12 Technical Reference & Cookbook, SOEST/NOAA.</p><p>Wessel, P., and W. H. F. Smith, 1998, New, Improved Version of Generic Mapping Tools Released, EOS Trans., AGU, 79 (47), p. 579.</p><p>Wessel, P., and W. H. F. Smith, 1995, New Version of the Generic Mapping Tools Released, EOS Trans., AGU, 76 (33), p. 329.</p><p>Wessel, P., and W. H. F. Smith, 1995, New Version of the Generic Mapping Tools Released, http://www.agu.org/eos_elec/95154e.html, Copyright 1995 by the American Geophysical Union.</p><p>Wessel, P., and W. H. F. Smith, 1991, Free Software Helps Map and Display Data, EOS Trans., AGU, 72 (41), p. 441.</p><p>"Comprehensive Modeling of the Geomagnetic Field", see <em>http://denali.gsfc.nasa.gov/cm/</em>.</p><p>"The International Geomagnetic Reference Field (IGRF)", see <em>http://www.iugg.org/IAGA/iaga_pages/pubs_prods/igrf.htm</em>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mgd77list.1gmt.html"><span aria-hidden="true">&larr;</span> mgd77list.1gmt: A data-extractor for mgd77[+] files</a></li>
   <li class="next"><a href="mgd77manage.1gmt.html">mgd77manage.1gmt: Manage extra columns in mgd77+ files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
