<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pcp2graphite - pcp-to-graphite metrics exporter</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pcp-to-graphite metrics exporter">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pcp2graphite<small> (1)</small></h1>
        <p class="lead">Pcp-to-graphite metrics exporter</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pcp2graphite.1.html">
      <span itemprop="name">pcp2graphite</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pcp/">
      <span itemprop="name">pcp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pcp2graphite.1.html">
      <span itemprop="name">pcp2graphite</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>pcp2graphite</strong> [\f3-h\f1 \f2hostspec\f1] [\f3-a\f1 \f2archive\f1] [\f3-L\f1] [\f3-O\f1 \f2origin\f1] [\f3-T\f1 \f2finish\f1] [\f3-s\f1 \f2samples\f1] [\f3-t\f1 \f2delta\f1] [\f3-g\f1 \f2graphitehost\f1] [\f3-p\f1 \f2pickleport\f1] [\f3-P\f1 \f2textport\f1] [\f3-r\f1 \f2pickleprotocol\f1] [\f3-u\f1 \f2units\f1] [\f3-m\f1 \f2prefix\f1] \f2metricname\f1 ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>pcp2graphite</strong> is a PCP metric exporter. It relays hierarchies of the <strong>pmns</strong>(5) to a designated Graphite (Carbon/Whisper) database by periodically polling, then copying/converting relevant numerical metrics across the Graphite "text" or "pickled" TCP protocols.  Metric values are optionally scaled to a given unit/scale, but are not rate-converted.  Metric names may be prefixed and are somewhat canonicalized to fit the Graphite namespace rules.</p>
<p class='spacer'>

<p>The data transfer will continue on a best-effort basis until the program is interrupted.  Temporary errors are ignored.  Multiple copies of this program may be run in parallel, to populate different Graphite databases or subtrees, with different scaling or sampling intervals.</p>
<p class='spacer'>

<p>The <a href="../man1/pmmgr.1.html"><strong>pmmgr</strong>(1)</a> daemon can be used to ensure one or more <strong>pcp2grapite</strong> instances start at system boot time.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>-h f2hostspecf1</strong></dt>
    <dd>
  <p>Extract metrics from the specified <strong>pmcd</strong>(1) daemon, using a host specification as described on <strong>PCPIntro</strong>(1). The default is \f3local:\f1.</p>
    </dd>
    <dt><strong>-a f2archivef1</strong></dt>
    <dd>
  <p>Extract metrics from the given set of archives, which is a comma-separated list of names, each of which may be the base name of an archive or the name of a directory containing one or more archives.</p>
    </dd>
    <dt><strong>-L</strong></dt>
    <dd>
  <p>Extract metrics from the local context PCP PMDAs.</p>
    </dd>
    <dt><strong>-t f2deltaf1</strong></dt>
    <dd>
  <p>Specify the polling interval in seconds.  If live, polling is aligned to natural multiples of this interval.  The default is \f360\f1 seconds.</p>
    </dd>
    <dt><strong>-O f2originf1</strong></dt>
    <dd>
  <p>Set the time origin for archive scanning.  The default is the start of the set of archives.</p>
    </dd>
    <dt><strong>-T f2finishf1</strong></dt>
    <dd>
  <p>Set the time finish for archive scanning.  The default is the end of the set of archives.</p>
    </dd>
    <dt><strong>-s f2samplesf1</strong></dt>
    <dd>
  <p>Set the maximum number of samples to relay.  The default is unlimited.</p>
    </dd>
    <dt><strong>-g f2graphitehostf1</strong></dt>
    <dd>
  <p>Specify the graphite carbon-cache server where the relayed data is to be relayed.  The default is \f3localhost\f1.</p>
    </dd>
    <dt><strong>-p f2pickleportf1</strong></dt>
    <dd>
  <p>Select the more efficient "pickled" encoding for carbon-cache communication, and use the given TCP port.  This is the default, using port \f32004\f1.</p>
    </dd>
    <dt><strong>-P f2textportf1</strong></dt>
    <dd>
  <p>Alternately, select the less efficient "text" encoding for carbon-cache communication, and use the given TCP port.  This protocol is not default, because it requires a separate TCP connection for each metric.  The typical port is \f32003\f1.</p>
    </dd>
    <dt><strong>-r f2pickleprotocolf1</strong></dt>
    <dd>
      <p>Select the protocol for the "pickled" encoding. The possible values are:</p>
      <dl class='dl-horizontal'>
        <dt>[bu]</dt>
        <dd>
      <p>0 - ASCII protocol (the slowest),</p>
        </dd>
        <dt>[bu]</dt>
        <dd>
      <p>1 - old binary protocol - pre Python 2.3,</p>
        </dd>
        <dt>[bu]</dt>
        <dd>
      <p>2 - new binary protocol introduced in Python 2.3.</p>
        </dd>
      </dl>
      <dl class='dl-vertical'>
        <dt>The default is \f30\f1.</dt>
        <dd>
        </dd>
      </dl>
    </dd>
    <dt><strong>-u f2unitsf1</strong></dt>
    <dd>
  <p>Rescale the metrics to the given UNITS string, as parsed by the <strong>pmParseUnitsStr</strong>(3) function.  This must be dimensionally consistent with the underlying PCP metric.  The default is to perform no scaling.</p>
    </dd>
    <dt><strong>-m f2prefixf1</strong></dt>
    <dd>
  <p>Use the given string as a prefix for all PMNS metrics relayed to Graphite. The default is \f3pcp.\f1 (note the period at the end).</p>
    </dd>
    <dt><em>metricname</em></dt>
    <dd>
  <p>Relay all numeric metrics nested at or below the given name in the PMNS. This option may be repeated.  This is a compulsory option, having no default.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>PCPIntro</strong>(1), <strong>pmcd</strong>(1), <strong>pmParseUnitsStr</strong>(3), <strong>http://graphite.wikidot.com/</strong>, <a href="../man1/pmmgr.1.html"><strong>pmmgr</strong>(1)</a>, <strong>pmval</strong>(1), <strong>PMAPI</strong>(3), <strong>pcp.conf</strong>(5) and <strong>pmns</strong>(5).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pcp.1.html"><span aria-hidden="true">&larr;</span> pcp.1: run a command or summarize an installation</a></li>
   <li class="next"><a href="pcp2influxdb.1.html">pcp2influxdb.1: pcp-to-influxdb metrics exporter <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
