<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nodeattr: Query genders file</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Query genders file">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nodeattr (1) manual">
  <meta name="twitter:description" content="Query genders file">
  <meta name="twitter:image" content="https://www.carta.tech/images/genders-nodeattr-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nodeattr.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nodeattr (1) manual" />
  <meta property="og:description" content="Query genders file" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/genders-nodeattr-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nodeattr<small> (1)</small></h1>
        <p class="lead">Query genders file</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nodeattr.1.html">
      <span itemprop="name">nodeattr: Query genders file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/genders/">
      <span itemprop="name">genders</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nodeattr.1.html">
      <span itemprop="name">nodeattr: Query genders file</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nodeattr</strong> <em>[-f genders] [-q | -c | -n | -s] [-X exclude_query] query</em></p><p><strong>nodeattr</strong> <em>[-f genders] [-q | -c | -n | -s] -A</em></p><p><strong>nodeattr</strong> <em>[-f genders] [-v] [node] attr[=val]</em></p><p><strong>nodeattr</strong> <em>[-f genders] -Q [node] query</em></p><p><strong>nodeattr</strong> <em>[-f genders] -V [-U] attr</em></p><p><strong>nodeattr</strong> <em>[-f genders] -l [node]</em></p><p><strong>nodeattr</strong> <em>[-f genders] -k</em></p><p><strong>nodeattr</strong> <em>[-f genders] -d genders</em></p><p><strong>nodeattr</strong> <em>[-f genders] --expand</em></p><p><strong>nodeattr</strong> <em>[-f genders] --compress</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>When invoked with the <em>-q</em> , <em>-c</em> , <em>-n</em> , or <em>-s</em> arguments, <strong>nodeattr</strong> reads the genders file and outputs a list of nodes that match the specified query.  The nodes are listed in hostlist format, comma separated lists, newline separated lists, or space separated lists respectively.  Genders queries will query the genders database for a set of nodes based on the union, intersection, difference, or complement of genders attributes and values.  The set operation union is represented by two pipe symbols ('||'), intersection by two ampersand symbols ('&&'), difference by two minus symbols ('--'), and complement by a tilde ('~').  Parentheses may be used to change the order of operations. The <em>-X</em> argument and query can be used to exclude nodes from the resulting output.  A query can be replaced with the <em>-A</em> option to cause <strong>nodeattr</strong> to print all the nodes listed in the genders database.</p><p>When called with a node name (optional) and attribute name, <strong>nodeattr</strong> returns <em>0</em> to the environment if the node has the attribute; else <em>1</em>.  If <em>-v</em> is present, the attribute name and any value (see below) is printed on the standard output.  If a node name is not specified, the local host is assumed.</p><p>When called with the <em>-Q</em> argument, <strong>nodeattr</strong> will check if the node name (optional) is met by the attribute and value conditions specified in the query.  If the conditions are met, <strong>nodeattr</strong> returns <em>0</em> to the environment; else <em>1</em>.  The query format is identical to the format listed above.  If a node name is not specified, the local host is assumed.</p><p>The <em>-V</em> option causes <strong>nodeattr</strong> to print all of the values that exist for a particular attribute. Also specifing <em>-U</em> with <em>-V</em> causes <strong>nodeattr</strong> to print out only unique values for the particular attribute.</p><p>The <em>-l</em> option causes <strong>nodeattr</strong> to print the attributes of the specified node.  If no node is listed, all attributes in the genders file are listed.</p><p>The <em>-k</em> option checks the genders file for parse errors and proper formatting. If errors are found, information about the error will be output to standard error.</p><p><strong>Nodeattr</strong> will always check the default genders file, but a different genders file can be specified with the <em>-f</em> option.</p><p>The <em>-d</em> option allows the specified genders database to be compared to the filename indicated by the <em>-f</em> option or the default genders database.  The differences contained in the specified database will be output to standard error.</p><p>The <em>--expand</em> option will take a genders database, expand all hostranges, and output a new genders database.  The subsequent database will be identical to the first, but every node will be listed on a separate line.  This option may be useful for debugging or determining the difference between databases.</p><p>The <em>--compress</em> is opposite of the <em>--expand</em> option.  It will output a new identical genders database with hostranges of nodes with identical attributes.  Depending on the setup of your genders database, the resulting database may be longer or shorter.  This option may be useful as a beginning step to compressing an existing genders database.</p><p>Attribute names may optionally appear in the genders file with an equal sign followed by a value. <strong>Nodeattr</strong> ignores these values except when the <em>-v</em> option requests that the value, if any, be displayed; and when an attribute is specified on the command line with a value, in which case only an attribute with the specified value in the genders file will match.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Retrieve a comma separated list of all login nodes:</p><ul>
<li><p>nodeattr -c login</p></li>
</ul><p>Retrieve a hostlist formatted list of all login nodes:</p><ul>
<li><p>nodeattr -q login</p></li>
</ul><p>Retrieve a comma separated list of nodes with 4 cpus:</p><ul>
<li><p>nodeattr -c cpus=4</p></li>
</ul><p>Retrieve a comma separated list of all login and management nodes:</p><ul>
<li><p>nodeattr -c "login||mgmt"</p></li>
</ul><p>Retrieve a comma separated list of all login nodes with 4 cpus:</p><ul>
<li><p>nodeattr -c "login&&cpus=4"</p></li>
</ul><p>Retrieve a comma separated list of all nodes that are not login or management nodes:</p><ul>
<li><p>nodeattr -c "~(login||mgmt)"</p></li>
</ul><p>To use nodeattr with pdsh to run a command on all fddi nodes:</p><ul>
<li><p>pdsh -w&#96;nodeattr -c fddi&#96; command</p></li>
</ul><p>To use nodeattr in a ksh script to collect a list of users on login nodes:</p><ul>
<li><p>for i in &#96;nodeattr -n login&#96;; do rsh $i who; done</p></li>
</ul><p>To verify whether or not this node is a head node:</p><ul>
<li><p>nodeattr head && echo yes</p></li>
</ul><p>To verify whether or not this node is a head node and ntpserver:</p><ul>
<li><p>nodeattr -Q "head&&ntpserver" && echo yes</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>/etc/genders</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nodeattr&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man3/libgenders.3.html"><strong>libgenders</strong>(3)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="node-static.1.html"><span aria-hidden="true">&larr;</span> node-static.1: Rfc 2616 compliant streaming file server</a></li>
   <li class="next"><a href="nodecachefilereader.1.html">nodecachefilereader.1: Utility to inspect osm2pgsql's node cache. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
