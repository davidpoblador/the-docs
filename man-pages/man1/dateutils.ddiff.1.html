<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>dateutils.ddiff: Compute duration from date/time (the reference date/time) to the other</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Compute duration from date/time (the reference date/time) to the other">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="dateutils.ddiff (1) manual">
  <meta name="twitter:description" content="Compute duration from date/time (the reference date/time) to the other">
  <meta name="twitter:image" content="https://www.carta.tech/images/dateutils-dateutils.ddiff-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/dateutils.ddiff.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="dateutils.ddiff (1) manual" />
  <meta property="og:description" content="Compute duration from date/time (the reference date/time) to the other" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dateutils-dateutils.ddiff-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">dateutils.ddiff<small> (1)</small></h1>
        <p class="lead">Compute duration from date/time (the reference date/time) to the other</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dateutils.ddiff.1.html">
      <span itemprop="name">dateutils.ddiff: Compute duration from date/time (the reference date/time) to the other</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dateutils/">
      <span itemprop="name">dateutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/dateutils.ddiff.1.html">
      <span itemprop="name">dateutils.ddiff: Compute duration from date/time (the reference date/time) to the other</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ddiff</strong> [<em>OPTION</em>]... DATE/TIME <em></em>[<em>DATE/TIME</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Compute duration from DATE/TIME (the reference date/time) to the other DATE/TIMEs given and print the result as duration. If the other DATE/TIMEs are omitted read them from stdin.</p><p>DATE/TIME can also be one of the following specials</p>
<pre>
  - `now'           interpreted as the current (UTC) time stamp
  - `time'          the time part of the current (UTC) time stamp
  - `today'         the current date (according to UTC)
  - `tomo[rrow]'    tomorrow's date (according to UTC)
  - `y[ester]day'   yesterday's date (according to UTC)
</pre>
<p>Note: The output format of durations (specified via -f) takes all format specifiers into account, i.e. specifying %M and %S for example prints the duration in minutes and seconds, whereas specifying %S only prints the duration in seconds.</p><p>See section `The refinement rule' in <strong>ddiff</strong>(1).</p><p>Recognized <em>OPTION</em>s:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong></strong><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Print help and exit</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print version and exit</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-q</strong>, <strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>Suppress message about date/time and duration parser errors and fix-ups. The default is to print a warning or the fixed up value and return error code 2.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-f</strong>, <strong>--format</strong>=<em>STRING</em></p>
  </dt>
  <dd>
    <p>Output format.  This can either be a specifier string (similar to strftime()'s FMT) or the name of a calendar.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-i</strong>, <strong>--input-format</strong>=<em>STRING</em>...</p>
  </dt>
  <dd>
    <p>Input format, can be used multiple times. Each date/time will be passed to the input format parsers in the order they are given, if a date/time can be read successfully with a given input format specifier string, that value will be used.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>-e</strong>, <strong>--backslash-escapes</strong></p>
  </dt>
  <dd>
    <p>Enable interpretation of backslash escapes in the output and input format specifier strings.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>--from-zone</strong>=<em>ZONE</em></p>
  </dt>
  <dd>
    <p>Interpret dates on stdin or the command line as coming from the time zone ZONE.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMAT SPECS FOR DURATIONS</h2>
        <div class="sectioncontent">
<p>Unlike time or absolute instants, durations are reference-free, i.e. the reference instant is not part of the duration.  As a result durations cannot be named, i.e. there is no naming scheme that applies to all durations and all references unambiguously.</p><p>Consequently, none of the format specifiers for date/times makes sense for durations in the literal sense.  However, to aid intuitive usage we reused format specifiers when they represent integral values and a valid unit for duration, as follows:</p><p>Date specs:</p>
<pre>
  %c  Equivalent to %w
  %d  Durations in days
  %F  Equivalent to %dd with no resorting to bigger units
  %m  Durations in months
  %w  Durations in weeks
  %y  Equivalent to %Y
  %Y  Durations in years
</pre>

<pre>
  %db Duration in business days
  %dB Equivalent to %db
</pre>
<p>Time specs:</p>
<pre>
  %H  Durations in hours
  %I  Equivalent to %H
  %M  Durations in minutes
  %S  Durations in seconds
  %T  Equivalent to %Ss without resorting to bigger units
</pre>

<pre>
  %rS Durations in real-life seconds, as in including leap seconds
  %rT Equivalent to %rSs without resoring to bigger units
</pre>
<p>General specs:</p>
<pre>
  %n  A newline character
  %t  A tab character
  %%  A literal % character
</pre>
<p>Modifiers:</p>
<pre>
  %r    Modifier to turn units into real units
  %0    Modifier to pad refined values with zeroes
  %SPC  Modifier to pad refined values with spaces
  b     Suffix, treat days as business days
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THE REFINEMENT RULE</h2>
        <div class="sectioncontent">
<p>Durations are somewhat ambiguous when it comes to representing them through format specifiers.  Unlike format specifiers in point-in-time representations duration specifiers can have an intra-line relationship.</p><p>So for instance a duration of 128 seconds might be presented through "%S" as "128" but similarly through "%M:%S" as "02:08" (read two minutes and 8 seconds).</p><p>There are several approaches to deal with this ambiguity.  The ddiff tool will follow, what we call, the refinement rule.  That is, regardless of the position of a format specifier, if it is a valid @emph{refinement} of another specifier in the format string, then it will only show the fractional value, i.e. the value in its natural range with respect to the @emph{refined} specifier.</p>
<pre>
  %Y  possible refinements: %m, %w, %d
  %m  possible refinements: %w, %d
  %w  possible refinements: %d
  %d  possible refinements: %H, %M, %S
  %H  possible refinements: %M, %S
  %M  possible refinements: %S
</pre>
<p>The refinement alternatives are listed in order of precedence and they are mutually exclusive.  I.e. it is not possible to express a duration in months and hours without having a "%d" specifier as well.  On the other hand in a chain of refinements inner elements are optional, i.e. you can express a duration in weeks and hours because every day has 24 hours and hence there are 168 hours in a week.</p><p>In case of negative durations (the minuend is in the future relative to the subtrahend) @emph{only} the largest unit will carry the minus sign.</p><p>Using the refinement rule keeps the format string dead simple, there's no need for operators or a full-blown language to distinguish the range ambiguity, which then would have to be escaped because they could also in theory be part of the literal characters of the format string, resulting more often than not in command lines that are hard to craft and even harder to understand later on (e.g. if used in shell scripts).</p><p>The refinement rule ingeniously covers the 99% case but, unlike other approaches, there's @emph{no} way to display two unrefined values in the same format string, e.g. "'%w weeks (which is %d days)'".</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
  $ ddiff 2012-03-02 2012-03-02
  0
  $
</pre>

<pre>
  $ ddiff 2012-03-02 2012-03-12
  10
  $
</pre>

<pre>
  $ ddiff 2012-03-02 2012-04-12
  41
  $
</pre>

<pre>
  $ ddiff 2012-03-12 2012-04-02
  21
  $
</pre>

<pre>
  $ ddiff 2012-04-02 2012-03-12
  -21
  $
</pre>

<pre>
  $ ddiff 2012-01-02 2012-02-29 -f '%dd'
  58d
  $
</pre>

<pre>
  $ ddiff 2012-01-02 2012-02-29 -f '%ww %dd'
  8w 2d
  $
</pre>

<pre>
  $ ddiff 10:00:00 10:00:00
  0s
  $
</pre>

<pre>
  $ ddiff 10:01:00 10:06:00
  300s
  $
</pre>

<pre>
  $ ddiff 10:06:00 10:01:00
  -300s
  $
</pre>

<pre>
  $ ddiff 10:01:00 11:03:10 -f '%S sec'
  3730 sec
  $
</pre>

<pre>
  $ ddiff 10:01:00 11:03:10 -f '%Mm %Ss'
  62m 10s
  $
</pre>

<pre>
  $ ddiff 10:01:00 11:03:10 -f '%H:%M:%S'
  1:2:10
  $
</pre>

<pre>
  $ ddiff 2012-03-02T10:04:00 2012-03-02T10:14:00
  600s
  $
</pre>

<pre>
  $ ddiff 2012-03-02T10:04:00 2012-03-02T10:14:00 -f '%M min'
  10 min
  $
</pre>

<pre>
  $ ddiff 2012-03-01T12:17:00 2012-03-02T14:00:00
  92580s
  $
</pre>

<pre>
  $ ddiff 2012-03-01T12:17:00 2012-03-02T14:00:00 -f '%d days and %S seconds'
  1 days and 6180 seconds
  $
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by Sebastian Freundt &lt;freundt@fresse.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REPORTING BUGS</h2>
        <div class="sectioncontent">
<p>Report bugs to: https://github.com/hroptatyr/dateutils/issues</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO dateutils.ddiff&hellip;</h2>
        <div class="sectioncontent">
<p>The full documentation for <strong>ddiff</strong> is maintained as a Texinfo manual.  If the <strong>info</strong> and <strong>ddiff</strong> programs are properly installed at your site, the command</p><ul>
<li><p><strong>info (dateutils)ddiff</strong></p></li>
</ul><p>should give you access to the complete manual.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="dateutils.dconv.1.html"><span aria-hidden="true">&larr;</span> dateutils.dconv.1: Convert date/times between calendrical systems.</a></li>
   <li class="next"><a href="dateutils.dround.1.html">dateutils.dround.1: Round date/time to the next occurrence of rndspec. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
