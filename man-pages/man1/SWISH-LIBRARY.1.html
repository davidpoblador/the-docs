<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SWISH-LIBRARY: Interface to the swish-e c library</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Interface to the swish-e c library">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="SWISH-LIBRARY (1) manual">
  <meta name="twitter:description" content="Interface to the swish-e c library">
  <meta name="twitter:image" content="https://www.carta.tech/images/swish-e-SWISH-LIBRARY-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/SWISH-LIBRARY.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SWISH-LIBRARY (1) manual" />
  <meta property="og:description" content="Interface to the swish-e c library" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/swish-e-SWISH-LIBRARY-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">SWISH-LIBRARY<small> (1)</small></h1>
        <p class="lead">Interface to the swish-e c library</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/SWISH-LIBRARY.1.html">
      <span itemprop="name">SWISH-LIBRARY: Interface to the swish-e c library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/swish-e/">
      <span itemprop="name">swish-e</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/SWISH-LIBRARY.1.html">
      <span itemprop="name">SWISH-LIBRARY: Interface to the swish-e c library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">OVERVIEW</h2>
        <div class="sectioncontent">
<p>The C library in an interface to the Swish-e search code.  It provides a way to embed Swish-e into your applications. This \s-1API\s0 is based on Swish-e version 2.3.</p><p><strong>Note:</strong> This is a \s-1NEW\s0 \s-1API\s0 as of Swish-e version 2.3. The C language interface has changed as has the perl interface to Swish-e. The new Perl interface is the \s-1SWISH::API\s0 module and is included with the Swish-e distribution. The old \s-1SWISHE\s0 perl module has been rewritten to work with the new \s-1API\s0.  The \s-1SWISHE\s0 perl module is no longer included with the Swish-e distribution, but can be downloaded from the Swish-e web site.</p><p>The advantage of the library is that the index files or files can be opened one time and many queries made on the open index.  This saves the startup time required to fork and run the swish-e binary, and the expensive time of opening up the index file.  Some benchmarks have shown a three fold increase in speed.</p><p>The downside is that your program now has more code and data in it (the index tables can use quite a bit of memory), and if a fatal error happens in swish it will bring down your program.  These are things to think about, especially if embedding swish into a web server such as Apache where there are many processes serving requests.</p><p>The best way to learn about the library is to look at two files included with the Swish-e distribution that make use of the library.</p>
<dl class='dl-vertical'>
  <dt>
    src/libtest.c
  </dt>
  <dd>
    <p>This file gives a basic overview of linking a C program with the Swish-e library. Not all available functions are used in that example, but it should give you a good overview of building a C program with swish-e. To build and run libtest chdir to the src directory and run the commands:</p>
<pre>
    $ make libtest
    $ ./libtest [optional name of index file]
</pre>
<p>You will be prompted for the search words.  The default index used is <em>index.swish-e</em>. This can be overridden by placing a list of index files in a quote-protected string.     $ ./libtest 'index1 index2 index3'</p>
  </dd>
  <dt>
    perl/API.xs
  </dt>
  <dd>
    <p>The <em>\s-1API\s0.xs</em> file is a Perl \*(L"xsub\*(R" interface to the C library and is part of the \s-1SWISH::API\s0 Perl module.  This is an object-oriented interface to the Swish-e library and demonstrates how the various search \*(L"objects\*(R" are created by C calls and how they are destroyed when no longer needed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Installing the Swish-e library</h2>
        <div class="sectioncontent">
<p>The Swish-e library is installed when you run \*(L"make install\*(R" when building Swish-e.  No extra installation steps are required.</p><p>The library consists of a header file \*(L"swish-e.h\*(R" and a library \*(L"libswish-e.*\*(R" that can either be a static or shared library depending on your platform.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Library Overview</h2>
        <div class="sectioncontent">
<p>When you first attach to an index file (or index files) you are returned a \*(L"swish handle\*(R". From the handle you create one or more \*(L"search objects\*(R" which holds the parameters to query the index, such as the query string, sort order, search phrase delimiter, limit parameters and \s-1HTML\s0 structure bits.  The \*(L"object\*(R" is really just a pointer to a C structure, but it's helpful to think of it as an object that data and functionality associated with it.</p><p>The search object is used to query the index.  A query returns a \*(L"results object\*(R". The results object holds the number of hits, the parsed query per index, and the result set. The results object keeps track of the current position in the result set. You may \*(L"seek\*(R" to a specific record within the result set (useful for displaying a page of results).</p><p>Finally, a result object represents a single result from the result list.  A result object provides access to the result's properties (such as file name, rank, etc.).</p><p>In addition to results, there are functions available to access the header values stored in the index file, functions to check and report errors, and a few utility functions.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Available Functions</h2>
        <div class="sectioncontent">
<p>Below is the list of available function included in the Swish-e C language \s-1API\s0.</p><p>These functions (and typedefs) are defined in the <em>swish-e.h</em> header file. The common objects (e.g. structures) used are:</p><p>    SW_HANDLE  - swish handle that associates with an index file     SW_SEARCH  - search "object" that holds search parameters     SW_RESULTS - results "object" that holds a result set     SW_RESULT  - a single result used for accessing the result's properties     SW_FUZZYWORD - used for fuzzy (stemming) word conversion</p><p><strong>&#92;$1</strong></p>
<dl class='dl-vertical'>
  <dt>
    \s-1SW_HANDLE\s0 SwishInit(char *IndexFiles);
  </dt>
  <dd>
    <p>This functions opens and reads the header info of the index files included in IndexFiles string.  The string should contain a space-separated list of index files.     SW_HANDLE myhandle;     myhandle = SwishInit("file1.idx"); Typically you will open a handle at the beginning of your program and use it to make multiple queries on an index. This function will always return a swish handle.  You must check for errors, and on error free the memory used by the handle, or abort. Here's an example of aborting:     SW_HANDLE swish_handle;     swish_handle = SwishInit("file1.idx file2.idx");     if ( SwishError( swish_handle ) )         SwishAbortLastError( swish_handle ); And here's an example of catching the error:     SW_HANDLE swish_handle;     swish_handle = SwishInit("file1.idx file2.idx");     if ( SwishError( swish_handle ) )     {         printf("Failed to connect to swish. %s&#92;n", SwishErrorString( swish_handle ) );         SwishClose( swish_handle );  /* free the memory used */         return 0;     } You may have more than one handle active at a time. Swish-e will not tell you if the index file changes on disk (such as after reindexing). In a persistent environment (e.g. mod_perl) the calling program should check to see if the index file has changed on disk.  A common way to do this is to store the inode number before opening the index file(s), and then stat the file name every so often and reopen the index files if the inode number changes.</p>
  </dd>
  <dt>
    void SwishClose(\s-1SW_HANDLE\s0 handle);
  </dt>
  <dd>
    <p>This function closes and frees the memory of a Swish handle. Every swish handle should be freed when done searching the index. Failing to close the handle will result in a memory leak.</p>
  </dd>
  <dt>
    \s-1SW_SEARCH\s0 New_Search_Object(\s-1SW_HANDLE\s0 handle, const char *query);
  </dt>
  <dd>
    <p>Returns a new search \*(L"object\*(R".  The search object holds the parameters used for searching an index.  A single search object can be used to query the index multiple times. The available settings listed below are \*(L"sticky\*(R" in that they remain set on the search object until change.</p>
  </dd>
  <dt>
    int SwishGetStructure( \s-1SW_SEARCH\s0 srch );
  </dt>
  <dd>
    <p>Returns the \*(L"structure\*(R" flag of the search object passed or 0 if the search object is \s-1NULL\s0.</p>
  </dd>
  <dt>
    void SwishPhraseDelimiter( \s-1SW_SEARCH\s0 srch, char delimiter );
  </dt>
  <dd>
    <p>Sets the phrase delimiter character.  The default is double-quotes.</p>
  </dd>
  <dt>
    char SwishGetPhraseDelimiter( \s-1SW_SEARCH\s0 srch );
  </dt>
  <dd>
    <p>Returns the phrase delimiter character used in the search object or 0 if the search object is \s-1NULL\s0.</p>
  </dd>
  <dt>
    void SwishSetStructure( \s-1SW_SEARCH\s0 srch, int structure );
  </dt>
  <dd>
    <p>Sets the \*(L"structure\*(R" flag in the search object.  The structure flag is used to limit searches to parts of \s-1HTML\s0 files (such as to the title or headers).  The default is to not limit.  This provides the functionality of the -H command line switch.</p>
  </dd>
  <dt>
    void SwishPhraseDelimiter( \s-1SW_SEARCH\s0 srch, char delimiter );
  </dt>
  <dd>
    <p>Sets the phrase delimiter character.  The default is double-quotes.</p>
  </dd>
  <dt>
    void SwishSetSort( \s-1SW_SEARCH\s0 srch, char *sort );
  </dt>
  <dd>
    <p>Sets the sort order of the results.  This is the same as the -s switch used with the swish-e binary.</p>
  </dd>
  <dt>
    void SwishSetQuery( \s-1SW_SEARCH\s0 srch, char *query );
  </dt>
  <dd>
    <p>Sets the query string in the search object.  This typically is not needed since it can be set when creating the search object or when executing a query.</p>
  </dd>
  <dt>
    void SwishSetSearchLimit( \s-1SW_SEARCH\s0 srch, char *propertyname, char *low, char *hi);
  </dt>
  <dd>
    <p>Sets the limit parameters for a search.  Provides the same functionality as the -L command line switch. You may specify a range of property values that search results must be within. You may call <em>SwishSetSearchLimit()</em> only one time for each property (but can set limits on more than one property at a time). Unlike the other settings on the search object, once you run a query on the search object you must call <em>SwishResetSearchLimit()</em> to change or clear the limit parameters.</p>
  </dd>
  <dt>
    void SwishResetSearchLimit( \s-1SW_SEARCH\s0 srch );
  </dt>
  <dd>
    <p>Resets the limits set on a search object set by <em>SwishSetSearchLimit()</em>.</p>
  </dd>
  <dt>
    void Free_Search_Object( \s-1SW_SEARCH\s0 srch );
  </dt>
  <dd>
    <p>Frees the search object.  This must be called when done with the search object.  Generally, you can reuse a search object for multiple queries so typically you would call this right before calling <em>SwishClose()</em>. You may free the search object before freeing and generated results objects.</p>
  </dd>
  <dt>
    \s-1SW_RESULTS\s0 SwishExecute( \s-1SW_SEARCH\s0 search, const char *query);
  </dt>
  <dd>
    <p>Searches the index or indexes based on the parameters in the search object. Returns a results object.  See below for functions to access the data stored in the results object. You should always check for errors after calling <em>SwishExecute()</em>.</p>
  </dd>
  <dt>
    \s-1SW_RESULTS\s0 SwishQuery(\s-1SW_HANDLE\s0, const char *words );
  </dt>
  <dd>
    <p>This is a short-cut function that bypasses the creation of a search object (actually, bypasses the need to create and free a search object). This only allows passing in a query string; other search parameters cannot be set. The results are sorted by rank. You should always check for errors after calling <em>SwishQuery()</em>.</p>
  </dd>
  <dt>
    int SwishHits( \s-1SW_RESULTS\s0 results );
  </dt>
  <dd>
    <p>Returns the number of results in the results object.</p>
  </dd>
  <dt>
    \s-1SWISH_HEADER_VALUE\s0 SwishParsedWords( \s-1SW_RESULTS\s0, const char *index_name );
  </dt>
  <dd>
    <p>Returns the tokenized query.  Words are split by WordCharacters and stopwords are removed.  The parsed words are useful for highlighting search terms in your program. The \*(L"index_name\*(R" is the name of the index supplied in the <em>SwishInit()</em> function call. Returns a \s-1SWISH_HEADER_VALUE\s0 union of type \s-1SWISH_LIST\s0 which is a char **. See src/libtest.c for an example of accessing the strings in this list, but in general you may cast this to a (char **).</p>
  </dd>
  <dt>
    \s-1SWISH_HEADER_VALUE\s0 SwishRemovedStopwords( \s-1SW_RESULTS\s0, const char *index_name );
  </dt>
  <dd>
    <p>Returns a list of stopwords removed from the input query. Returns a \s-1SWISH_HEADER_VALUE\s0 union of type \s-1SWISH_LIST\s0 which is a char **. See src/libtest.c for an example of accessing the strings in this list, but in general you may cast this to a (char **).</p>
  </dd>
  <dt>
    int SwishSeekResult( \s-1SW_RESULTS\s0, int position );
  </dt>
  <dd>
    <p>Sets the current seek position in the list of results, with position zero being the first record (unlike -b where one is the first result). Returns the position or a negative number on error.</p>
  </dd>
  <dt>
    \s-1SW_RESULT\s0 SwishNextResult( \s-1SW_RESULTS\s0 );
  </dt>
  <dd>
    <p>Returns the next result, or \s-1NULL\s0 if not more results are available. The result object returned does not need to be freed after use (unlike the swish handle, search object, and results object).</p>
  </dd>
  <dt>
    const char *SwishResultPropertyStr(\s-1SW_RESULT\s0, char *propertyname);
  </dt>
  <dd>
    <p>This function is mostly useful for testing as it returns odd results on errors. Aborts if called with a \s-1NULL\s0 \s-1SW_RESULT\s0 object Returns a string value of the specified property. Returns the empty string "" if the current result does not have the specified property assigned. Returns the string \*(L"(null)\*(R" on invalid property name (i.e. property name is not defined in the index) and sets an error (see below) indicating the invalid property name. The string returned does not need to be freed, but is only valid for the current result.  If you wish to save the string you must copy it locally. Dates are formatted using the hard-coded format string: \*(L"%Y-%m-%d %H:%M:%S\*(R" in localtime.</p>
  </dd>
  <dt>
    unsigned long SwishResultPropertyULong(\s-1SW_RESULT\s0 r, char *propertyname);
  </dt>
  <dd>
    <p>Returns a numeric property as an unsigned long. Numeric properties are used for both PropertyNamesNumeric and PropertyNamesDate type of properties.  Dates are returned as a unix timestamp as reported by the system when the index was created. Swish-e will abort if called with a \s-1NULL\s0 \s-1SW_RESULT\s0 object.  Without the \s-1SW_RESULT\s0 object swish-e cannot set any error codes. On error returns \s-1UMAX_LONG\s0.  This is commonly defined in limits.h. Check <em>SwishError()</em> (see below) for the type of error. If <em>SwishError()</em> returns false (zero) then it simply means that this result does not have any data for the specified property. If <em>SwishError()</em> returns true (non-zero) then either the propertyname specified is invalid, or the property requested is not a numeric (or date) property (e.g. it's a string property). See below on how to fetch the specific error message when <em>SwishError()</em> is true.</p>
  </dd>
  <dt>
    PropValue *getResultPropValue (\s-1SW_RESULT\s0 r, char *propertyname, int \s-1ID\s0 );
  </dt>
  <dd>
    <p>This is a low-level function to fetch a property regardless of type. This is likely the best function for accessing properties. Swish-e will abort if called with a \s-1NULL\s0 \s-1SW_RESULT\s0 object.  Propertyname is the name of the property.  \s-1ID\s0 is the id number of the property, if known.  \s-1ID\s0 is not normally used in the \s-1API\s0, but it's purpose is to avoid looking up the property \s-1ID\s0 for every result displayed. The return PropValue is a structure that contains a flag to indicate the type, and a union that holds the property value.  They flags and structure are defined in swish-e.h. The property must be copied locally and the returned \*(L"PropValue\*(R" value must be freed by calling <em>freeResultPropValue()</em> to avoid a memory leak. On error returns \s-1NULL\s0. Check <em>SwishError()</em> (see below) for the type of error. If returns \s-1NULL\s0 but <em>SwishError()</em> returns false (zero) then it simply means that this result does not have any data for the specified property. If <em>SwishError()</em> returns true (non-zero) then the property name specified is invalid (i.e. not defined for the index). See below on how to fetch the specific error message when <em>SwishError()</em> is true. See perl/API.xs for an example on using this function.</p>
  </dd>
  <dt>
    void freeResultPropValue(void)
  </dt>
  <dd>
    <p>Frees the \*(L"PropValue\*(R" returned after calling <em>getResultPropValue()</em>.</p>
  </dd>
  <dt>
    void Free_Results_Object( \s-1SW_RESULTS\s0 results );
  </dt>
  <dd>
    <p>Frees the results object (frees the result set).  This must be called when done reading the results and before calling <em>SwishClose()</em>. Each index file has associated header values that describe the index.  These functions provide access to this data.  The header data is returned as a union \s-1SWISH_HEADER_VALUE\s0, and a pointer to a \s-1SWISH_HEADER_TYPE\s0 is passed in and the returned value indicates the type of data that is returned.  See src/libtest.c and perl/API.xs for examples.</p>
  </dd>
  <dt>
    const char **SwishHeaderNames( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>Returns the list of possible header names.  This list is the same for all index files of a given version of Swish-e.  It provides a way to gain access to all headers without having to list them in your program.</p>
  </dd>
  <dt>
    const char **SwishIndexNames( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>Returns a list of index files opened.  This is just the list of index files specified in the <em>SwishInit()</em> call.  You need the name of the index file to access a specific index's header values.</p>
  </dd>
  <dt>
    \s-1SWISH_HEADER_VALUE\s0 SwishHeaderValue( \s-1SW_HANDLE\s0, const char *index_name, const  char *cur_header, \s-1SWISH_HEADER_TYPE\s0 *type );
  </dt>
  <dd>
    <p>Fetches the header value for the given index file, and the header name.  The call sets the \*(L"type\*(R" passed in to the type of value returned. See src/libtest.c and perl/API.xs for examples.</p>
  </dd>
  <dt>
    \s-1SWISH_HEADER_VALUE\s0 SwishResultIndexValue( \s-1SW_RESULT\s0, const char *name, \s-1SWISH_HEADER_TYPE\s0 *type );
  </dt>
  <dd>
    <p>This is like <em>SwishHeaderValue()</em> above, but instead of supplying an index file name and a swish handle, supply a result object and the header value is fetched from the result's related index file. In addition to the pre-defined standard properties, you have the option of adding additional \*(L"meta\*(R" properties to be indexed and/or added to the list of properties returned with each result.  Consult the sections on the MetaNames and PropteryNames directives in the \s-1CONFIGURATION\s0 \s-1FILE\s0 for an explanation of how to do this.</p>
  </dd>

</dl>
<p>These functions provide access to the meta data stored in an index.  You can use them to determine what meta/property information is available for an index including all the pre-defined standard properties.  See libtest.c for an example.</p>
<dl class='dl-vertical'>
  <dt>
    \s-1SWISH_META_LIST\s0 SwishMetaList( \s-1SW_HANDLE\s0, const char *index_name );
  </dt>
  <dd>
    <p>Returns the list of meta entries for the given index file  as a null-terminated array of \s-1SW_META\s0 objects.  Use the functions below to extract specific fields from the \s-1SW_META\s0 structure.  Meta's are distinct from properties.</p>
  </dd>
  <dt>
    \s-1SWISH_META_LIST\s0 SwishPropertyList( \s-1SW_HANDLE\s0, const char *index_name );
  </dt>
  <dd>
    <p>This function is the same as <em>SwishMetaList()</em> but it returns an array of properties as opposed to meta objects.  Property attributes can be extracted in the same was as meta objects using the functions below.</p>
  </dd>
  <dt>
    \s-1SWISH_META_LIST\s0 SwishResultMetaList( \s-1SW_RESULT\s0 );
  </dt>
  <dd>
    <p>This is like <em>SwishMetaList()</em> above but determines the index to use from a result object.</p>
  </dd>
  <dt>
    \s-1SWISH_META_LIST\s0 SwishResultPropertyList( \s-1SW_RESULT\s0 );
  </dt>
  <dd>
    <p>This is like <em>SwishPropertyList()</em> above but like <em>SwishResultMetaList()</em> uses a result object instead of an index name.</p>
  </dd>
  <dt>
    const char *SwishMetaName( \s-1SW_META\s0 );
  </dt>
  <dd>
    <p>Given a \s-1SW_META\s0 object returned by one of the above, this function will return the meta/property's name.  You can use this name to access a property's value for a given as described above.</p>
  </dd>
  <dt>
    int SwishMetaType( \s-1SW_META\s0 );
  </dt>
  <dd>
    <p>Get the data type for the given meta/property. Known types are listed in swish-e.h</p>
  </dd>
  <dt>
    SwishMetaID( \s-1SW_META\s0 );
  </dt>
  <dd>
    <p>Get the internal \s-1ID\s0 number for the given meta/property.  These id's are unique per index file but are not unique per results. You should check for errors after all calls.  The last error is stored in the swish handle object, and is only valid until the next operation (which resets the error flags).</p>
  </dd>

</dl>
<p>Currently, some errors are flagged as \*(L"critical\*(R" errors.  In these cases you should destroy (by calling the <em>SwishClose()</em> function ) the current swish handle.  If you have other objects in scope (e.g. a search object or results object) destroy those first.</p><p>The types of errors that are critical can be seen in src/error.c. Currently the list includes:</p><p>    Could not open index file     Unknown index file format     Index file(s) is empty     Index file error     Invalid swish handle     Invalid results object</p>
<dl class='dl-vertical'>
  <dt>
    int  SwishError( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>This returns true if an error condition exists.  It returns the error number, which is a integer less than zero on error.  This should be checked before calling any of the other error functions below.</p>
  </dd>
  <dt>
    const char *SwishErrorString( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>This returns a general text description of the current error.</p>
  </dd>
  <dt>
    const char *SwishLastErrorMsg( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>In some cases this will return a string with specifics about the current error. For example, <em>SwishErrorString()</em> may return \*(L"Unknown metaname\*(R", but <em>SwishLastErrorMsg()</em> will return a string with the name of the unknown metaname.</p>
  </dd>
  <dt>
    int  SwishCriticalError( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>Returns true if the current error condition is a critical error. On critical errors you should free up any current objects and call <em>SwishClose()</em> as swish may be in an unstable state.</p>
  </dd>
  <dt>
    void SwishAbortLastError( \s-1SW_HANDLE\s0 );
  </dt>
  <dd>
    <p>This is a convenience  function that will format and print the last error message, and then abort the program.</p>
  </dd>
  <dt>
    void set_error_handle( \s-1FILE\s0 *where );
  </dt>
  <dd>
    <p>Sets where errors and warnings are printed (when printed by swish). For historical reasons, when swish-e first starts up errors and warnings are sent to stdout.</p>
  </dd>
  <dt>
    void SwishErrorsToStderr( void );
  </dt>
  <dd>
    <p>A convenience method to send errors to stderr instead of stdout.</p>
  </dd>
  <dt>
    const char *SwishWordsByLetter(\s-1SWISH\s0 * sw, char *indexname, char c);
  </dt>
  <dd>
    <p>Returns all the words in the index \*(L"indexname\*(R" that begin with the letter passed in. Returns \s-1NULL\s0 if the name of the index file is invalid. This fuction may change in the future since only 8-bit chars can currently be used.</p>
  </dd>
  <dt>
    char * SwsishStemWord( \s-1SW_HANDLE\s0 sw, char *in_word );
  </dt>
  <dd>
    <p>Deprecated This can be used to convert a word to its stem.  It uses only the original Porter Stemmer.</p>
  </dd>
  <dt>
    \s-1SW_FUZZYWORD\s0 SwishFuzzyWord( \s-1SW_RESULT\s0 r, char *word );
  </dt>
  <dd>
    <p>Stems \*(L"word\*(R" based on the fuzzy mode selected during indexing. The fuzzy mode used during indexing is stored in the index file. Since each result is linked to a given index file this method allows stemming a word based on it's index file. One possible use for this is to highlight search terms in a document summary, which would be based on a given result. The methods below can be used to access the data returned.  The \s-1SW_FUZZYWORD\s0 object must be freed when done to avoid a memory leak.</p>
  </dd>
  <dt>
    const char **SwishFuzzyWordList( \s-1SW_FUZZYWORD\s0 fw );
  </dt>
  <dd>
    <p>Returns a null terminated list of strings returned by the stemmer.  In most cases this will be a single string. Here's an example:     SW_FYZZYWORD fuzzy_word = SwishFuzzyWord( result );     const char **word_list = SwishFuzzyWordList( fuzzy_word );     while ( *word_list )     {         printf("%s&#92;n", *word_list );         word_list++;     }     SwishFuzzyWordFree( fuzzy_word ); If the stemmer does not convert the string (for example attempting to stem numeric data) the word_list will contain the original word. To tell if the stemmer actually stemmed the word check the return value with <em>SwishFuzzyWordError()</em>.</p>
  </dd>
  <dt>
    int SwishFuzzyWordError( \s-1SW_FUZZYWORD\s0 fw );
  </dt>
  <dd>
    <p>This returns zero if the stemming operation was sucessfull, otherwise it returns a value indicating the reason the word was not stemmed.  The return values are defined in the swish-e src/stemmer.h file. Not all stemmers set this value correctly.  But since <em>SwishFuzzyWordList()</em> will return a valid string regardless of the return value, you can often just ignore this setting.  That's what I do.</p>
  </dd>
  <dt>
    int SwishFuzzyWordCount( \s-1SW_FUZZYWORD\s0 fw );
  </dt>
  <dd>
    <p>Returns the count of string in the word list available by calling <em>SwishFuzzyWordList()</em>. This is normally just one, but in the case of DoubleMetaphone it can be one or two (i.e. DoubleMetaphone can return one or two strings).</p>
  </dd>
  <dt>
    const char *SwishFuzzyMode( \s-1SW_RESULT\s0 r );
  </dt>
  <dd>
    <p>Returns the name of the stemmer used for the given result (which is related to an index).</p>
  </dd>
  <dt>
    void SwishFuzzyWordFree( \s-1SW_FUZZYWORD\s0 fw );
  </dt>
  <dd>
    <p>Frees the memory used by  the \s-1SW_FUZZYWORD\s0.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Bug-Reports</h2>
        <div class="sectioncontent">
<p>Please report bug reports to the Swish-e discussion group. Feel also free to improve or enhance this feature.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Author</h2>
        <div class="sectioncontent">
<p>Original interface: Aug 2000 Jose Ruiz jmruiz@boe.es</p><p>Updated: Aug 22, 2002 - Bill Moseley</p><p>Interface redesigned for Swish-e version 2.3 Oct 17, 2002 - Bill Moseley</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Document Info</h2>
        <div class="sectioncontent">
<p>$Id: \s-1SWISH-LIBRARY\s0.pod 1906 2007-02-07 19:25:16Z moseley $</p><p>.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="SWISH-FAQ.1.html"><span aria-hidden="true">&larr;</span> SWISH-FAQ.1: The swish-e faq. answers to common questions</a></li>
   <li class="next"><a href="SWISH-RUN.1.html">SWISH-RUN.1: Running swish-e and command line switches <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
