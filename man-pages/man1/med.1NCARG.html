<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>med: Ncar cgm metafile frame editor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Ncar cgm metafile frame editor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="med (1NCARG) manual">
  <meta name="twitter:description" content="Ncar cgm metafile frame editor">
  <meta name="twitter:image" content="https://www.carta.tech/images/ncl-ncarg-med-1NCARG.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1NCARG/med.1NCARG.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="med (1NCARG) manual" />
  <meta property="og:description" content="Ncar cgm metafile frame editor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ncl-ncarg-med-1NCARG.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">med<small> (1NCARG)</small></h1>
        <p class="lead">Ncar cgm metafile frame editor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1NCARG/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1NCARG/med.1NCARG.html">
      <span itemprop="name">med: Ncar cgm metafile frame editor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ncl-ncarg/">
      <span itemprop="name">ncl-ncarg</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1NCARG/med.1NCARG.html">
      <span itemprop="name">med: Ncar cgm metafile frame editor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>med</strong> [ <strong>-e</strong><em> command</em> ]* [ <strong>-f</strong><em> sfilename</em> ] [ <strong>-l</strong><em> local_dir</em> ] [ <strong>-V</strong> ] [ <em>filename</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>med</strong> is a frame-level, metafile editor designed to resemble syntactically <small>UNIX's</small> <a href="../man1/sed.1.html"><strong>sed</strong>(1)</a> and <strong>ed(1).</strong> <strong>med</strong> operates on a copy of <em>filename</em>, called  a  buffer,  and overwrites a file only when you issue the <strong>w</strong> (write) command. <strong>med</strong> provides line oriented editing commands to display or delete frames from the buffer, to move, copy or merge frames within the buffer, or to write frames from and read frames into the buffer. By default <strong>med</strong> reads in commands from standard input.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-e</strong><em> command</em></p>
  </dt>
  <dd>
    <p><em>command</em> is a single <strong>med</strong> command. The valid <strong>med</strong> commands are discussed in the <strong>Commands</strong> section below. Multiple <strong>-e</strong> options may appear on a single command line. Be careful to use quotes if your command contains spaces or metacharacters that might be interpreted by the shell. When this option is used <strong>med</strong> does not enter interactive mode. It simply performs the given commands and then exits.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em> sfilename</em></p>
  </dt>
  <dd>
    <p>Execute the <strong>med</strong> line-separated list of commands in the file <em>sfilename</em>. After the commands are exhausted <strong>med</strong> will exit.</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em> local_dir</em></p>
  </dt>
  <dd>
    <p>Use <em>local_dir</em> as the tmp directory for scratch disk space. If this option is not specified <strong>med</strong> will use the value of the <em>$NCARG_TMP</em> or the <em>$TMPDIR</em> environment variable. See ncargintro(1ncarg) for a discussion on NCAR Graphics environment variables.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print the version number and then exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<h3>Command Structure</h3>
<p><strong>med</strong> commands attempt to have a syntactically identical form to those of <strong>ed</strong>(1) or <a href="../man1/sed.1.html"><strong>sed</strong>(1)</a><strong>.</strong> Commands consist of an optional <em>address</em> or two optional, comma separated, <em>addresses</em>, followed by a <em>command</em>, which may be abbreviated, possibly followed by a third <em>address</em> or a <em>command</em> specific <em>argument</em> list :</p><ul>
<li><p>[ <em>address</em> [<strong>,</strong> <em>address</em> ] ] <em>command</em> [ <em>address | args</em> ]</p></li>
</ul><p>If only one <em>address</em> is specified, operations are performed on that frame.  If two <em>address</em>es are specified, <strong>med</strong> performs the operation on the inclusive range of frames. If no address is specified then the <em>current</em> frame is used as a default. The exception to this are the <strong>w</strong> (write) and the <strong>a</strong> (append) commands. The default address for <strong>w</strong> is the entire buffer.</p><p>For example, <strong>1,10p</strong> means &ldquo;print (display) frame 1 through 10&rdquo; (two addresses), <strong>d</strong> means &ldquo;delete the current frame&rdquo; (no address implies the current frame used as default), and <strong>1,5c5</strong> means &ldquo;append a copy of frames 1 through 5 at frame 5&rdquo; (three addresses).  The meaning of <em>argument</em> varies for each operation. In <strong>med's</strong> current state the only valid argument is a filename &ndash; for the write, <strong>w ,</strong> command for instance, <em>argument</em> is the name of the file to write to.</p><p>Unlike its friends <strong>ed</strong>(1) and <a href="../man1/sed.1.html"><strong>sed</strong>(1)</a> <strong>med</strong> attempts to be fairly user friendly. If an invalid or ambiguous command is given <strong>med</strong> will tell you so. If <strong>med</strong> thinks it recognizes a command with invalid arguments a usage statement for the offending command is given. If a particular command fails and <strong>med</strong> is smart enough to figure out why it will tell you. <strong>med</strong> will almost ALWAYS immediately terminate when an error occurs while processing commands from a file or the command line. Help is available by using the <strong>h</strong> command. Usage statements for a particular command may be obtained with: <strong>h</strong> <em>command name .</em></p>
<h3>Addresses</h3>
<p>Frames can be addressed in several ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>nnn</em></p>
  </dt>
  <dd>
    <p>By frame number. Frames in the buffer are numbered relative to the start of the buffer.  The first frame is frame 1.</p>
  </dd>
  <dt>
    <p><strong>$</strong></p>
  </dt>
  <dd>
    <p>The last frame of the buffer.</p>
  </dd>
  <dt>
    <p><strong>.</strong></p>
  </dt>
  <dd>
    <p>The current frame. <strong>med</strong> keeps track of the frame on which you last performed an operation. This frame is called the <em>current frame</em>. You can address this frame by typing a &ldquo;dot&rdquo; character.</p>
  </dd>
  <dt>
    <p><strong>&plusmn;</strong><em>n</em></p>
  </dt>
  <dd>
    <p>By relative frame number. Address the frame number that is <em>n</em> frames higher, or <em>n</em> frames lower than the current frame.</p>
  </dd>
  <dt>
    <p><em>address</em><strong>&plusmn;</strong><em>n</em></p>
  </dt>
  <dd>
    <p>An address followed by a plus sign (\^<strong>+</strong>\^) or a minus sign (<strong>-</strong>), followed by a decimal number, specifies that address plus or minus the indicated number of frames. If the address is omitted, the current frame is used as the base.  For example, `<strong>31-3</strong>' addresses frame 28 in the buffer.</p>
  </dd>

</dl>
<p>If you do not specify an address for a command to operate on, a command that requires an address supplies one by default, usually the current frame.</p><p>A pair of addresses separated by a comma signifies an inclusive range of frames, and the current frame is not changed unless the command changes it.</p>
<h3>Commands</h3>
<p>Only one command may appear per line. Commands may accept zero, one or two addresses, followed by possibly a third address or an argument. Commands that accept up to two addresses regard a third as an error. Likewise, commands that do not accept an argument regard one as an error. Commands may be abbreviated.</p><p>In the absence of a second address for a two or three address command the command will regard the second address as the same as the first. For example, <strong>2d</strong> is equivalent to <strong>2,2d .</strong> The absence of a first address, where required, will result in the current frame being used as the default. The same is true in the absence of a required third address. For example, <strong>c</strong> is equivalent to <strong>.,.c.</strong>.</p><p>The commands <strong>q</strong> (quit) and <strong>e</strong> (edit) may be followed by a '!' to override <strong>med's</strong> user protection.</p><p>In the following list of <strong>med</strong> commands, the default addresses/arguments appear in parentheses; the parenthesized addresses are not part of the command. Unless otherwise noted a command does not change the current frame number. (<strong>\|1</strong>\|,<strong>\|$</strong>\|)<strong>append</strong> <em>metafile</em></p><p>Append buffer to a file. Append the addressed frames in the buffer to <em>metafile.</em> If no address is specified the entire buffer is written. If the file does not exist create it.</p>
<dl class='dl-vertical'>
  <dt>
    <p>(\|.\|,\|.\|) copy (\|.\|)</p>
  </dt>
  <dd>
    <p>Copy frames. Duplicate the addressed frames in the buffer and append them after the third address. The current frame becomes the destination of the last frame copied.</p>
  </dd>
  <dt>
    <p>(<strong>\|.</strong>\|,<strong>\|.\|</strong>)<strong>delete</strong></p>
  </dt>
  <dd>
    <p>Delete the addressed lines from the buffer. <strong>delete</strong> accepts one or two addresses; the default is the current frame.  The current frame is set to the first frame after the deleted frame(s).</p>
  </dd>
  <dt>
    <p><strong>edit</strong><em> metafile</em></p>
  </dt>
  <dd>
    <p>Edit a metafile. The current contents of the buffer, if any, are erased. The named metafile is read in to the buffer. The resulting current frame is the last frame in the buffer. If changes have been made to the buffer since the last write <strong>med</strong> will refuse the request unless the command is appended with a '!'. <strong>edit</strong> prints the number of frames in the metafile. If no <em>metafile</em> is given, the current metafile, if any is used. The current frame becomes the last frame in the file.</p>
  </dd>
  <dt>
    <p><strong>help</strong><em> command</em></p>
  </dt>
  <dd>
    <p>help. Give a usage message for <em>command .</em> If no command is given, print list of command names with a short description of each. (<strong>\|.</strong>\|,<strong>\|.</strong>\|)<strong>label</strong> <em>string</em></p><p>Label the addressed frames with <em>string .</em> The <strong>CGM</strong> <em>Begin Picture</em> element contained in each metafile frame allows for the encoding of character data. <strong>label</strong> provides a means for accessing this data.</p>
  </dd>
  <dt>
    <p>(<strong>\|.</strong>\|,<strong>\|.\|</strong>)<strong>merge</strong></p>
  </dt>
  <dd>
    <p>Merge the contents of the second addressed frame on top of the first addressed frame. The first addressed frame is thus changed. The second frame remains the same. The current frame is set to the first addressed frame.</p>
  </dd>
  <dt>
    <p>(\|.\|,\|.\|) move (\|.\|)</p>
  </dt>
  <dd>
    <p>Move the addressed frames to the first frame following the third address.</p>
  </dd>
  <dt>
    <p>(<strong>\|.</strong>\|,<strong>\|.\|</strong>)<strong>print</strong></p>
  </dt>
  <dd>
    <p>Show the contents of the buffer at the given address. What is actually displayed is information regarding the addressed frames. This information includes: relative frame number within the buffer, the number of records contained in the frame, the starting record for the frame and the contents of the <strong>CGM element</strong> <em>BEGIN PICTURE .</em> If no address is specified the current frame does not change. Otherwise it becomes the last frame printed. <strong>quit</strong></p><p>Quit. Terminate the editing session without saving the buffer contents. In order to save the buffer an explicit write must be performed. If changes to the buffer have been made since the last write <strong>med</strong> will refuse to terminate unless <strong>quit</strong> is appended with a '!'. (<strong>\|.\|</strong>)<strong>read</strong> <em>metafile</em></p><p>Read in a metafile. Read the contents of <em>metafile</em> into the buffer and append it at the given address. <em>metafile</em> must be a valid NCAR CGM. The resulting current frame is the last frame read in. (\|1\|,\|$\|)<strong>split</strong>&lt;\|number\|&gt; <em>outfile</em></p><p>Split the current metafile into <em>number</em> files. The <strong>split</strong> command attempts to create <em>number</em> metafiles from the addressed frames, each containing approximately n / number frames where 'n' is the total number of addressed frames. The first file is named <em>outfile</em>001.ncgm, the second file is named <em>outfile</em>002.ncgm, and so on lexicographically. If no <em>outfile</em> is given, <strong>med</strong> is used as the default (output files will be called med001.ncgm, med002.ncgm, etc.). (\|1<strong>\|,</strong>\|$<strong>\|)</strong>write <em>metafile</em></p><p>Write buffer. Write the addressed frames in the buffer to <em>metafile.</em> If no address is specified the entire buffer is written. If the file does not exist create it. If no file name is specified <strong>med</strong> uses the last currently remembered file name, if any. The currently remembered file name is the file name from the most recent <strong>edit</strong> command, or the file name <strong>med</strong> was invoked with if no <strong>edit</strong> commands have been issued.</p>
  </dd>
  <dt>
    <p><strong>!</strong><em> command</em></p>
  </dt>
  <dd>
    <p>Escape to the shell and execute <em>command.</em> <em>command</em> is a valid UNIX command.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>NCARG_TMP</strong></p>
  </dt>
  <dd>
    <p>If set, this environment variable contains a directory path to be used for temporary files. On most systems the default is <strong>/tmp</strong>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>/tmp/cgm_tools.#</strong></p>
  </dt>
  <dd>
    <p>temporary; <em>#</em> is the process id.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To concatenate the files <strong>ncgm1</strong>, <strong>ncgm2</strong>, and <strong>ncgm3</strong> into a single file <strong>ncgm123</strong> one might use the following:</p><ul>
<li><p><strong>% med -e 'r ncgm1' -e 'r ncgm2' -e 'r ncgm3' -e 'w ncgm123'</strong></p></li>
</ul><p>Or one could pass the following script to <strong>med</strong> as a <strong>-f</strong><em>scriptfile</em> option or enter the commands interactively.</p><ul>
<li><p>r ncgm1</p><p>r ncgm2</p><p>r ncgm3</p><p>w ncgm123</p></li>
</ul><p>To Overlay the contents of frame <strong>5</strong> on top of frame <strong>4</strong> from a file <strong>ncgm1</strong> one could execute:</p><ul>
<li><p><strong>% med -e '4,5 me' -e 'w!' ncgm1</strong></p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO med&hellip;</h2>
        <div class="sectioncontent">
<p><strong>cgm(5NCARG),</strong> <em>ed(1),</em> <strong>sed(1V)</strong></p><p>Hardcopy: NCAR Graphics Fundamentals, UNIX Version</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>med</strong>  does not understand filenames that begin with a digit or a period.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>The <strong>append, read</strong> and <strong>merge</strong> commands may produce surprising results. A CGM may contain a set of global graphical primitive attributes that are applied to every frame in a file. Thus reading frames in from a file with different global attributes than the current working file may not produce the desired effect. The same is true when appending frames to a previously existing file. Similarly, the CGM standard specifies that graphical attributes specified within a metafile frame affect all succeeding primitives. Thus a frame which is the product of the <strong>merge</strong> command may appear differently than expected.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1987-2009</p><p>University Corporation for Atmospheric Research</p><p>The use of this Software is governed by a License Agreement.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="idt.1NCARG.html"><span aria-hidden="true">&larr;</span> idt.1NCARG: X window interactive image display tool</a></li>
   <li class="next"><a href="ncargcc.1NCARG.html">ncargcc.1NCARG: Command for compiling c code that uses the ncar graphics low-level utilities <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
