<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ucfr: Update configuration file registry:  associate packages with configuration files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Update configuration file registry:  associate packages with configuration files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ucfr (1) manual">
  <meta name="twitter:description" content="Update configuration file registry:  associate packages with configuration files">
  <meta name="twitter:image" content="https://www.carta.tech/images/ucf-ucfr-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ucfr.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ucfr (1) manual" />
  <meta property="og:description" content="Update configuration file registry:  associate packages with configuration files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ucf-ucfr-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ucfr<small> (1)</small></h1>
        <p class="lead">Update configuration file registry:  associate packages with configuration files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ucfr.1.html">
      <span itemprop="name">ucfr: Update configuration file registry:  associate packages with configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ucf/">
      <span itemprop="name">ucf</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ucfr.1.html">
      <span itemprop="name">ucfr: Update configuration file registry:  associate packages with configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ucfr</strong> [<em>options</em>]  <em>&lt;Package&gt;</em> <em>&lt;Path to configuration file&gt;</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Where <em>Package</em> is the package associated with the configuration file (and, in some sense, its owner), and <em>Path to configuration file</em> is the full path to the location (usually under /etc) where the configuration file lives, and is potentially modified by the end user. Please note that usually this means that we register actual files, and not symbolic links to files. <strong>ucfr</strong> will follow symbolic links and register the real file,  and not the symbolic link.</p><p>This script maintains an association between configuration files and packages, and is meant to help provide facilities that <em>dpkg</em> provides conffiles for configuration files and not shipped in a <strong>Debian</strong> package, but handled by the postinst by <em>ucf</em> instead. This script is idempotent, associating a package to a file multiple times is not an error.  It is normally an error to try to associate a file which is already associated with another package, but this can be over ridden by using the <em>--force</em> option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Print a short usage message</p>
  </dd>
  <dt>
    <p><strong>-n, --no-action</strong></p>
  </dt>
  <dd>
    <p>Dry run. Print the actions that would be taken if the script is invoked, but take no action.</p>
  </dd>
  <dt>
    <p><strong>-d [n], --debug [n]</strong></p>
  </dt>
  <dd>
    <p>Set the debug level to the (optional) level <em>n</em> (n defaults to 1). This turns on copious debugging information.</p>
  </dd>
  <dt>
    <p><strong>-p, --purge</strong></p>
  </dt>
  <dd>
    <p>Removes all vestiges of the association between the named package and the configuration file from the registry. The association must already exist; if the configuration file is associated with some other package, an error happens, unless the option <em>--force</em> is also given. In that case, the any associations for the configuration file are removed from the registry, whether or not the package name matches. This action is idempotent, asking for an association to be purged multiple times does not result in an error, since attempting to remove an non-existent association is silently ignored unless the <em>--verbose</em> option is used (in which case it just issues a diagnostic).</p>
  </dd>
  <dt>
    <p><strong>-v, --verbose</strong></p>
  </dt>
  <dd>
    <p>Make the script be very verbose about setting internal variables.</p>
  </dd>
  <dt>
    <p><strong>-f, --force</strong></p>
  </dt>
  <dd>
    <p>This option forces operations requested even if the configuration file in consideration is owned by another package. This allows a package to <em>hijack</em> a configuration file from another package, or to purge the association between the file and some other package in the registry.</p>
  </dd>
  <dt>
    <p><strong>--state-dir /path/to/dir</strong></p>
  </dt>
  <dd>
    <p>Set the state directory to /path/to/dir instead of the default <em>/var/lib/ucf.</em> Used mostly for testing.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>The most common case usage is pretty simple: a single line invocation in the postinst on configure, and another single line in the postrm to tell <strong>ucfr</strong> to forget about the association with the configuration file on purge (using the  --purge option) is all that is needed (assuming ucfr is still on the system).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/var/lib/ucf/registry,</em> and <em>/var/lib/ucf/registry.X,</em> where <em>X</em> is a small integer, where previous versions of the registry are stored.</p><p><em>/etc/ucf.conf</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>If the package <em>foo</em> wants to use ucfr to associate itself with a configuration file <em>foo.conf,</em> a simple invocation of ucfr in the postinst file is all that is needed:</p><p><strong>ucfr</strong> <em>foo</em> <em>/etc/foo.conf</em></p><p>On purge, one should tell ucf to forget about the file (see detailed examples in /usr/share/doc/examples):</p><p><strong>ucfr</strong> <em>--purge</em> <em>foo</em> <em>/etc/foo.conf</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ucfr&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ucf.1.html"><strong>ucf</strong>(1)</a>, <a href="../man5/ucf.conf.5.html"><strong>ucf.conf</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written Manoj Srivastava &lt;srivasta@debian.org&gt;, for the Debian GNU/Linux system.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ucfq.1.html"><span aria-hidden="true">&larr;</span> ucfq.1: Query the ucf database</a></li>
   <li class="next"><a href="uchardet.1.html">uchardet.1: Universalchardet (universal charset detector) <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
