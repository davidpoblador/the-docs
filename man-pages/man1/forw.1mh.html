<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>forw: Forward messages</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Forward messages">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="forw (1mh) manual">
  <meta name="twitter:description" content="Forward messages">
  <meta name="twitter:image" content="https://www.carta.tech/images/nmh-forw-1mh.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1mh/forw.1mh.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="forw (1mh) manual" />
  <meta property="og:description" content="Forward messages" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nmh-forw-1mh.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">forw<small> (1mh)</small></h1>
        <p class="lead">Forward messages</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1mh/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1mh/forw.1mh.html">
      <span itemprop="name">forw: Forward messages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nmh/">
      <span itemprop="name">nmh</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1mh/forw.1mh.html">
      <span itemprop="name">forw: Forward messages</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>forw</strong> [<em>+folder</em>] [<em>msgs</em>] [<strong>-annotate</strong> | <strong>-noannotate</strong>] [<strong>-form</strong> <em>formfile</em>] [<strong>-format</strong> | <strong>-noformat</strong>] [<strong>-filter</strong> <em>filterfile</em>] [<strong>-inplace</strong> | <strong>-noinplace</strong>] [<strong>-mime</strong> | <strong>-nomime</strong>] [<strong>-draftfolder</strong> <em>+folder</em>] [<strong>-draftmessage</strong> <em>msg</em>] [<strong>-nodraftfolder</strong>] [<strong>-editor</strong> <em>editor</em>] [<strong>-noedit</strong>] [<strong>-width</strong> <em>colums</em>] [<strong>-from</strong> <em>address</em>] [<strong>-to</strong> <em>address</em>] [<strong>-cc</strong> <em>address</em>] [<strong>-fcc</strong> <em>+folder</em>] [<strong>-subject</strong> <em>text</em>] [<strong>-whatnowproc</strong> <em>program</em>] [<strong>-nowhatnowproc</strong>] [<strong>-dashstuffing</strong> | <strong>-nodashstuffing</strong>] [<strong>-build</strong>] [<strong>-file</strong> <em>msgfile</em>] [<strong>-version</strong>] [<strong>-help</strong>]</p><p><strong>forw</strong> [<em>+folder</em>] [<em>msgs</em>] [<strong>-digest</strong> <em>list</em>] [<strong>-issue</strong> <em>number</em>] [<strong>-volume</strong> <em>number</em>] [other&nbsp;switches&nbsp;for .BR forw ] [<strong>-version</strong>] [<strong>-help</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>Forw</strong> may be used to prepare a message containing other messages.</p><p>It constructs the new message from a forms (components) file, with a body composed of the message(s) to be forwarded.  An editor is invoked as in <strong>comp</strong>, and after editing is complete, the user is prompted before the message is sent.</p><p>The default message template will direct <strong>forw</strong> to construct the draft as follows:</p>
<pre>
From: {from switch} or &lt;Local-Mailbox&gt; or &lt;username@hostname&gt;
To: {to switch} or blank
Fcc: {fcc switch} or +outbox
Subject: {subject switch} or "{original subject} (fwd)"
--------
</pre>
<p>If a file named &ldquo;<em>forwcomps</em>&rdquo; exists in the user's nmh directory, it will be used instead of this default form.  You may also specify an alternate forms file with the switch <strong>-form</strong> <em>formfile</em>. Forms are processed via the <strong>nmh</strong> template system; see <strong>mh-format</strong>(5) for details.  Components from the first forwarded message are available as standard component escapes in the forms file.</p><p>In addition to the standard <strong>mh-format</strong>(5) escapes, the following <em>component</em> escapes are also supported:</p>
<pre>
<em>Escape	Returns	Description</em>
fcc	string	Any folders specified with `-fcc&nbsp;folder'
nmh-from	string	Addresses specified with `-from&nbsp;address'
nmh-to	string	Addresses specified with `-to&nbsp;address'
nmh-cc	string	Addresses specified with `-cc&nbsp;address'
nmh-subject	string	Any text specified with `-subject&nbsp;text'
</pre>
<p>By default the &ldquo;To:&rdquo; and &ldquo;cc:&rdquo; fields are empty.  You may add addresses to these fields with the <strong>-to</strong> <em>address</em> and <strong>-cc</strong> <em>address</em> switches.  You may give these switches multiple times to add multiple addresses.</p><p>By default the &ldquo;From:&rdquo; field has either the value of the <strong>Local-Mailbox</strong> profile entry a system default email address.  This default can be overridden by using the <strong>-from</strong> <em>address</em> switch.  The default mailbox in the &ldquo;Fcc:&rdquo; field is <em>+outbox</em>. This can be overridden by the <strong>-fcc</strong> switch.</p><p>Any text you give to the <strong>-subject</strong> switch will be placed in the &ldquo;Subject:&rdquo; field in the draft.</p><p>If the draft already exists, <strong>forw</strong> will ask you as to the disposition of the draft.  A reply of <strong>quit</strong> will abort <strong>forw</strong>, leaving the draft intact; <strong>replace</strong> will replace the existing draft with a blank skeleton; and <strong>list</strong> will display the draft.</p><p>If the <strong>-annotate</strong> switch is given, each message being forwarded will be annotated with the lines:</p>
<pre>
Forwarded:&nbsp;date
Forwarded:&nbsp;addrs
</pre>
<p>where each address list contains as many lines as required.  This annotation will be done only if the message is sent directly from <strong>forw</strong>. If the message is not sent immediately from <strong>forw</strong>, &ldquo;<strong>comp</strong> <strong>-use</strong>&rdquo; may be used to re-edit and send the constructed message, but the annotations won't take place.  Normally annotations are done inplace in order to preserve any links to the message.  You may change this by using the <strong>-noinplace</strong> switch.</p><p>See <strong>comp</strong>(1) for a description of the <strong>-editor</strong> and <strong>-noedit</strong> switches.</p><p>Although <strong>forw</strong> uses a forms (components) file to direct it how to construct the beginning of the draft, it uses a message filter file to direct it as to how each forwarded message should be formatted in the body of the draft.  The filter file for <em>forw</em> should be a standard form file for <strong>mhl</strong>, as <strong>forw</strong> will invoke <strong>mhl</strong> to filter (re-format) the forwarded messages prior to being output to the body of the draft.</p><p>The switches <strong>-noformat</strong>, <strong>-format</strong>, and <strong>-filter</strong> <em>filterfile</em> specify which message filter file to use.</p><p>If <strong>-noformat</strong> is specified (this is the default), then each forwarded message is output into the draft exactly as it appears with no <strong>mhl</strong> filtering.</p><p>If <strong>-format</strong> is specified, then a default message filter file is used. This default message filter should be adequate for most users. This default filter &ldquo;<em>mhl.forward</em>&rdquo; is:</p>
<pre>
; mhl.forward
;
; default message filter for `forw' (forw -format)
;
width=80,overflowtext=,overflowoffset=10
leftadjust,compress,compwidth=9
Date:formatfield="%&lt;(nodate{text})%{text}%|%(tws{text})%&gt;"
From:
To:
cc:
Subject:
:
body:nocomponent,overflowoffset=0,noleftadjust,nocompress
</pre>
<p>If a file named &ldquo;<em>mhl.forward</em>&rdquo; exists in the user's nmh directory, it will be used instead of this form.  You may specify an alternate message filter file with the switch <strong>-filter</strong> <em>filterfile</em>.</p><p>Each forwarded message is separated with an encapsulation delimiter. By default, any dashes in the first column of the forwarded messages will be prepended with `-&nbsp;' so that when received, the message is suitable for bursting by <strong>burst</strong>. This follows the Internet RFC 934 guidelines.  You may use the flag <strong>-nodashstuffing</strong> in order to suppress this form of quoting to the forwarded messages.</p><p>For users of <strong>prompter</strong>, by specifying <strong>prompter</strong>'s <strong>-prepend</strong> switch in the <em>.mh\(ruprofile</em> file, any commentary text is entered before the forwarded messages.  (A major win!)</p><p>To use the MIME rules for encapsulation, specify the <strong>-mime</strong> switch. This directs <strong>forw</strong> to generate an <strong>mhbuild</strong> composition file. Note that <strong>nmh</strong> will not invoke <strong>mhbuild</strong> automatically; you must specifically give the command</p>
<pre>
What now? mime
</pre>
<p>prior to sending the draft.</p><p>The <strong>-draftfolder</strong> <em>+folder</em> and <strong>-draftmessage</strong> <em>msg</em> switches invoke the <strong>nmh</strong> draft folder facility.  This is an advanced (and highly useful) feature.  Consult the <strong>mh-draft</strong>(5) man page for more information.</p><p>The <strong>-editor</strong> <em>editor</em> switch indicates the editor to use for the initial edit.  Upon exiting from the editor, <strong>comp</strong> will invoke the <strong>whatnow</strong> program.  See <strong>whatnow</strong>(1) for a discussion of available options.  The invocation of this program can be inhibited by using the <strong>-nowhatnowproc</strong> switch.  (In truth of fact, it is the <em>whatnow</em> program which starts the initial edit.  Hence, <strong>-nowhatnowproc</strong> will prevent any edit from occurring.)</p><p>The <strong>-build</strong> switch is intended to be used by the Emacs mh-e interface to <strong>nmh</strong>. It implies <strong>-nowhatnowproc</strong>. It causes a file &lt;mh-dir&gt;/draft to be created, containing the draft message that would normally be presented to the user for editing. No mail is actually sent.</p><p>The <strong>-file</strong> <em>msgfile</em> switch specifies the message to be forwarded as an exact filename rather than as an <strong>nmh</strong> folder and message number. It is intended to be used by the <strong>msh</strong> interface to <strong>nmh</strong>. This switch implies <strong>-noannotate</strong>. The forwarded message is simply copied verbatim into the draft; the processing implied by the <strong>-filter</strong>, <strong>-mime</strong>, and <strong>-digest</strong> switches is bypassed, and the usual leading and trailing 'Forwarded Message' delimiters are not added. The same caveats apply to this option as to the <strong>-build</strong> switch.</p><p>The <strong>-digest</strong> <em>list</em>, <strong>-issue</strong> <em>number</em>, and <strong>-volume</strong> <em>number</em> switches implement a digest facility for <strong>nmh</strong>. Specifying these switches enables and/or overloads the following escapes:</p>
<pre>
<em>Type	Escape	Returns	Description</em>
component	digest	string	Argument to `-digest'
function	cur	integer	Argument to `-volume'
function	msg	integer	Argument to `-issue'
</pre>
<p>Consult the <em>Advanced Features</em> section of the <strong>nmh</strong> User's Manual for more information on making digests.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>forw</strong> looks for format and filter files in multiple locations: absolute pathnames are accessed directly, tilde expansion is done on usernames, and files are searched for in the user's <em>Mail</em> directory as specified in their profile.  If not found there, the directory &ldquo;<em>/etc/nmh</em>&rdquo; is checked.</p>
<dl class='dl-vertical'>
  <dt>
    <p>/etc/nmh/forwcomps</p>
  </dt>
  <dd>
    <p>The standard message skeleton.</p>
  </dd>
  <dt>
    <p>&lt;mh-dir&gt;/forwcomps</p>
  </dt>
  <dd>
    <p>Rather than the standard skeleton.</p>
  </dd>
  <dt>
    <p>/etc/nmh/digestcomps</p>
  </dt>
  <dd>
    <p>The message skeleton if <strong>-digest</strong> is given.</p>
  </dd>
  <dt>
    <p>&lt;mh-dir&gt;/digestcomps</p>
  </dt>
  <dd>
    <p>Rather than the standard skeleton.</p>
  </dd>
  <dt>
    <p>^/etc/nmh/mhl.forward</p>
  </dt>
  <dd>
    <p>The standard message filter.</p>
  </dd>
  <dt>
    <p>&lt;mh-dir&gt;/mhl.forward</p>
  </dt>
  <dd>
    <p>Rather than the standard filter.</p>
  </dd>
  <dt>
    <p>^$HOME/.mh_profile</p>
  </dt>
  <dd>
    <p>The user's profile.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PROFILE COMPONENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Path:</p>
  </dt>
  <dd>
    <p>To determine the user's nmh directory.</p>
  </dd>
  <dt>
    <p>Current-Folder:</p>
  </dt>
  <dd>
    <p>To find the default current folder.</p>
  </dd>
  <dt>
    <p>Draft-Folder:</p>
  </dt>
  <dd>
    <p>To find the default draft-folder.</p>
  </dd>
  <dt>
    <p>Editor:</p>
  </dt>
  <dd>
    <p>To override the default editor.</p>
  </dd>
  <dt>
    <p>Msg-Protect:</p>
  </dt>
  <dd>
    <p>To set mode when creating a new message (draft).</p>
  </dd>
  <dt>
    <p>fileproc:</p>
  </dt>
  <dd>
    <p>Program to refile the message.</p>
  </dd>
  <dt>
    <p>mhlproc:</p>
  </dt>
  <dd>
    <p>Program to filter messages being forwarded.</p>
  </dd>
  <dt>
    <p>whatnowproc:</p>
  </dt>
  <dd>
    <p>Program to ask the &ldquo;What now?&rdquo; questions.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO forw&hellip;</h2>
        <div class="sectioncontent">
<p><strong>comp</strong>(1), <strong>mhbuild</strong>(1), <strong>repl</strong>(1), <strong>send</strong>(1), <strong>whatnow</strong>(1), <strong>mh-format</strong>(5)</p><p><em></em> Proposed Standard for Message Encapsulation (RFC 934)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DEFAULTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>+folder</p>
  </dt>
  <dd>
    <p>The current folder.</p>
  </dd>
  <dt>
    <p>msgs</p>
  </dt>
  <dd>
    <p>The current message.</p>
  </dd>
  <dt>
    <p>-noannotate</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>-nodraftfolder</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>-noformat</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>-inplace</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>-dashstuffing</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p>-nomime</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTEXT</h2>
        <div class="sectioncontent">
<p>If a folder is given, it will become the current folder. The first message forwarded will become the current message.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If <em>whatnowproc</em> is <strong>whatnow</strong>, then <strong>forw</strong> uses a built-in <strong>whatnow</strong>, it does not actually run the <strong>whatnow</strong> program. Hence, if you define your own <em>whatnowproc</em>, don't call it <strong>whatnow</strong> since <strong>forw</strong> won't run it.</p><p>When <strong>forw</strong> is told to annotate the messages it forwards, it doesn't actually annotate them until the draft is successfully sent. If from the <em>whatnowproc</em>, you <strong>push</strong> instead of <strong>send</strong>, it's possible to confuse <strong>forw</strong> by re-ordering the file (e.g. by using &ldquo;<strong>folder</strong> <strong>-pack</strong>&rdquo;) before the message is successfully sent. <strong>Dist</strong> and <strong>repl</strong> don't have this problem.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="folder.1mh.html"><span aria-hidden="true">&larr;</span> folder.1mh: Set/list current folder/message</a></li>
   <li class="next"><a href="inc.1mh.html">inc.1mh: Incorporate new mail <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
