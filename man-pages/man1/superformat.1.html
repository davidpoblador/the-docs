<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>superformat: None</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="None">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="superformat (1) manual">
  <meta name="twitter:description" content="None">
  <meta name="twitter:image" content="https://www.carta.tech/images/fdutils-superformat-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/superformat.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="superformat (1) manual" />
  <meta property="og:description" content="None" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fdutils-superformat-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">superformat<small> (1)</small></h1>
        <p class="lead">None</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/superformat.1.html">
      <span itemprop="name">superformat: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fdutils/">
      <span itemprop="name">fdutils</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/superformat.1.html">
      <span itemprop="name">superformat: None</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">Name</h2>
        <div class="sectioncontent">
<p>superformat - format floppies</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Note</h2>
        <div class="sectioncontent">
<p>This manpage has been automatically generated from fdutils's texinfo documentation.  However, this process is only approximative, and some items, such as cross-references, footnotes and indices are lost in this translation process.  Indeed, these items have no appropriate representation in the manpage format.  Moreover, only the items specific to each command have been translated, and the general information about fdutils has been dropped in the manpage version.  Thus I strongly advise you to use the original texinfo doc.</p>
<dl class='dl-vertical'>
  <dt>
    <p>* &nbsp; To generate a printable copy from the texinfo doc, run the following</p>
  </dt>
  <dd>
    <p>commands:</p>
<pre>
    ./configure; make dvi; dvips fdutils.dvi
</pre>

  </dd>
  <dt>
    <p>* &nbsp; To generate a HTML copy,  run:</p>
  </dt>
  <dd>
    
<pre>
    ./configure; make html
</pre>
<p>A pre-made HTML can be found at: \(ifhttp://www.tux.org/pub/knaff/fdutils\(is</p>
  </dd>
  <dt>
    <p>* &nbsp; To generate an info copy (browsable using emacs' info mode), run:</p>
  </dt>
  <dd>
    
<pre>
    ./configure; make info
</pre>

  </dd>

</dl>
<p>The texinfo doc looks most pretty when printed or as HTML.  Indeed, in the info version certain examples are difficult to read due to the quoting conventions used in info.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Description</h2>
        <div class="sectioncontent">

<pre>
superformat [-D <em>dos-drive</em>] [-v <em>verbosity-level</em>] [-b <em>begin-track</em>]
[-e <em>end-track</em>] [--superverify] [--dosverify]
[--noverify] [--verify_later] [--zero-based]
[-G <em>format-gap</em>] [-F <em>final-gap</em>] [-i <em>interleave</em>] [-c <em>chunksize</em>]
[-g <em>gap</em>] [--absolute-skew <em>absolute-skew</em>] [--head-skew <em>head-skew</em>]
[--track-skew <em>track-skew</em>] [--biggest-last] <em>drive</em> [<em>media-description</em>]
</pre>
<p>superformat is used to format disks with a capacity of up to 1992K HD or 3984K ED.  See section Extended formats, for a detailed description of these formats. See section Media description, for a detailed description of the syntax for the media description.  If no media description is given, superformat formats a disk in the highest available density for that drive, using standard parameters (i.e. no extra capacity formats).</p><p>When the disk is formatted, superformat automatically invokes mformat in order to put an MS-DOS filesystem on it. You may ignore this filesystem, if you don't need it.</p><p>Superformat allows one to format 2m formats.  Be aware, however, that these 2m formats were specifically designed to hold an MS-DOS filesystem, and that they take advantage of the fact that the MS-DOS filesystem uses redundant sectors on the first track (the FAT, which is represented twice). The second copy of the FAT is <em>not</em> represented on the disk.</p><p>High capacity formats are sensitive to the exact rotation speed of the drive and the resulting difference in raw capacity.  That's why superformat performs a measurement of the disks raw capacity before proceeding with the formatting.  This measurement is rather time consuming, and can be avoided by storing the relative deviation of the drive capacity into the drive definition file file. See section Drive descriptions, for more details on this file. The line to be inserted into the drive definition file is printed by superformat after performing its measurement.  However, this line depends on the drive and the controller.  Do not copy it to other computers.  Remove it before installing another drive or upgrade your floppy controller.  Swap the drive numbers if you swap the drives in your computer.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Common&nbsp;Options</h2>
        <div class="sectioncontent">
<p>Many options have a long and a short form.</p>
<dl class='dl-vertical'>
  <dt>
    <p>-h .TQ</p>
  </dt>
  <dd>
    <p>--help Print the help.</p>
  </dd>
  <dt>
    <p>-D&nbsp;<em>drive</em> .TQ</p>
  </dt>
  <dd>
    <p>--dosdrive&nbsp;<em>dos-drive</em> Selects DOS drive letter for mformat (for example a: or b:).  The colon may be omitted.  The default is derived from the minor device number.  If the drive letter cannot be guessed, and is not given on the command line, mformat is skipped.</p>
  </dd>
  <dt>
    <p>-v&nbsp;<em>verbosity-level</em> .TQ</p>
  </dt>
  <dd>
    <p>--verbosity&nbsp;<em>verbosity-level</em> Sets the verbosity level. 1 prints a dot for each formatted track. 2 prints a changing sign for each formatted track (- for formatting the first head, = for formatting the second head, x for verifying the first head, and + for verifying the second head). 3 prints a complete line listing head and track. 6 and 9 print debugging information.</p>
  </dd>
  <dt>
    <p>--superverify Verifies the disk by first reading the track, than writing a pattern of</p>
  </dt>
  <dd>
    <p>U's, and then reading it again.  This is useful as some errors only show up after the disk has once been written.  However, this is also slower.</p>
  </dd>
  <dt>
    <p>-B .TQ</p>
  </dt>
  <dd>
    <p>--dosverify Verifies the disk using the mbadblocks program. mbadblocks marks the bad sectors as bad in the FAT.  The advantage of this is that disks which are only partially bad can still be used for MS-DOS filesystems.</p>
  </dd>
  <dt>
    <p>-V .TQ</p>
  </dt>
  <dd>
    <p>--verify_later Verifies the whole disk at the end of the formatting process instead of at each track. Verifying the disk at each track has the advantage of detecting errors early on.</p>
  </dd>
  <dt>
    <p>-f .TQ</p>
  </dt>
  <dd>
    <p>--noverify Skips the verification altogether.</p>
  </dd>
  <dt>
    <p>--print-drive-deviation Does not format, but prints the drive deviation. If file /etc/driveprm</p>
  </dt>
  <dd>
    <p>exists and provides a deviation for the drive, nothing is printed and the disk is not formatted.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Advanced&nbsp;Options</h2>
        <div class="sectioncontent">
<p>Usually, superformat uses sensible default values for these options, which you normally don't need to override.  They are intended for expert users.  Most of them should only be needed in cases where the hardware or superformat itself has bugs.</p><ul>
<li></li>
</ul>
<dl class='dl-vertical'>
  <dt>
    <p>-b&nbsp;<em>begin-track</em> .TQ</p>
  </dt>
  <dd>
    <p>--begin_track&nbsp;&nbsp;<em>begin-track</em> Describes the track where to begin formatting.  This is useful if the previous formatting failed halfway through.  The default is 0.</p>
  </dd>
  <dt>
    <p>-e&nbsp;<em>end-track</em> .TQ</p>
  </dt>
  <dd>
    <p>--end_track&nbsp;<em>end-track</em> Describes where to stop formatting. <em>end_track</em> is the last track to be formatted plus one. This is mainly useful for testing purposes. By default, this is the same as the total number of tracks.  When the formatting stops, the final skew is displayed (to be used as absolute skew when you'll continue).</p>
  </dd>
  <dt>
    <p>-S&nbsp;<em>sizecode</em> .TQ</p>
  </dt>
  <dd>
    <p>--sizecode&nbsp;<em>sizecode</em> Set the sector size to be used. The sector size is 128 * (2 ^ <em>sizecode</em>).  Sector sizes below 512 bytes are not supported, thus sizecode must be at least 2. By default 512 is assumed, unless you ask for more sectors than would fit with 512 bytes.</p>
  </dd>
  <dt>
    <p>--stretch&nbsp;<em>stretch</em> Set the stretch factor. The stretch factor describes how many physical</p>
  </dt>
  <dd>
    <p>tracks to skip to get to the next logical track (2 ^ <em>stretch</em>).  On double density 5 1/4 disks, the tracks are further apart from each other.</p>
  </dd>
  <dt>
    <p>-G&nbsp;<em>fmt-gap</em> .TQ</p>
  </dt>
  <dd>
    <p>--format_gap&nbsp;<em>fmt-gap</em> Set the formatting gap. The formatting gap tells how far the sectors are away from each other. By default, this is chosen so as to evenly distribute the sectors along the track.</p>
  </dd>
  <dt>
    <p>-F&nbsp;<em>final-gap</em> .TQ</p>
  </dt>
  <dd>
    <p>--final_gap&nbsp;<em>final-gap</em> Set the formatting gap to be used after the last sector.</p>
  </dd>
  <dt>
    <p>-i&nbsp;<em>interleave</em> .TQ</p>
  </dt>
  <dd>
    <p>--interleave&nbsp;<em>interleave</em> Set the sector interleave factor.</p>
  </dd>
  <dt>
    <p>-c&nbsp;<em>chunksize</em> .TQ</p>
  </dt>
  <dd>
    <p>--chunksize&nbsp;<em>chunksize</em> Set the size of the chunks. The chunks are small auxiliary sectors used during formatting. They are used to handle heterogeneous sector sizes (i.e. not all sectors have the same size) and negative formatting gaps.</p>
  </dd>
  <dt>
    <p>--biggest-last For MSS formats, make sure that the biggest sector is last on the track.</p>
  </dt>
  <dd>
    <p>This makes the format more reliable on drives which are out of spec.</p>
  </dd>
  <dt>
    <p>--zero-based Formats the disk with sector numbers starting at 0, rather than</p>
  </dt>
  <dd>
    <p>1. Certain CP/M boxes or Music synthesizers use this format. Those disks can currently not be read/written to by the standard Linux read/write API; you have to use fdrawcmd to access them.  As disk verifying is done by this API, verifying is automatically switched off when formatting zero-based.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Sector&nbsp;skewing&nbsp;options</h2>
        <div class="sectioncontent">
<p>In order to maximize the user data transfer rate, the sectors are arranged in such a way that sector 1 of the new track/head comes under the head at the very moment when the drive is ready to read from that track, after having read the previous track. Thus the first sector of the second track is not necessarily near the first sector of the first track.  The skew value describes for each track how far sector number 1 is away from the index mark. This skew value changes for each head and track. The amount of this change depends on how fast the disk spins, and on how much time is needed to change the head or the track.</p>
<dl class='dl-vertical'>
  <dt>
    <p>--absolute_skew&nbsp;<em>absolute-skew</em> .IP</p>
  </dt>
  <dd>
    <p>Set the absolute skew. This skew value is used for the first formatted track.  It is expressed in raw bytes.</p>
  </dd>
  <dt>
    <p>--head_skew&nbsp;<em>head-skew</em> .IP</p>
  </dt>
  <dd>
    <p>Set the head skew. This is the skew added for passing from head 0 to head 1.  It is expressed in raw bytes.</p>
  </dd>
  <dt>
    <p>--track_skew&nbsp;<em>track-skew</em> .IP</p>
  </dt>
  <dd>
    <p>Set the track skew. This is the skew added for seeking to the next track.  It is expressed in raw bytes.</p>
  </dd>

</dl>
<p>Example: (absolute skew=3, head skew=1, track skew=2)</p>
<pre>
track 0 head 0: 4,5,6,1,2,3	(skew=3)
track 0 head 1: 3,4,5,6,1,2	(skew=4)

track 1 head 0: 1,2,3,4,5,6	(skew=0)
track 1 head 1: 6,1,2,3,4,5	(skew=1)

track 2 head 0: 4,5,6,1,2,3	(skew=3)
track 2 head 1: 3,4,5,6,1,2	(skew=4)
</pre>
<p>N.B. For simplicity's sake, this example expresses skews in units of sectors. In reality, superformat expects the skews to be expressed in raw bytes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Media description</h2>
        <div class="sectioncontent">
<p>Please see the Media description section in the full fdutils documentation:</p>
<dl class='dl-vertical'>
  <dt>
    <p>- Texinfo documentation (info fdutils)</p>
  </dt>
  <dd>
    <p>- HTML documentation in /usr/share/doc/fdutils/Fdutils.html - or DVI documentation in /usr/share/doc/fdutils/Fdutils.dvi.gz</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Examples</h2>
        <div class="sectioncontent">
<p>In all the examples of this section, we assume that drive 0 is a 3 1/2 and drive 1 a 5 1/4.</p><p>The following example shows how to format a 1440K disk in drive 0:</p>
<pre>
superformat /dev/fd0 hd
</pre>
<p>The following example shows how to format a 1200K disk in drive 1:</p>
<pre>
superformat /dev/fd1 hd
</pre>
<p>The following example shows how to format a 1440K disk in drive 1:</p>
<pre>
superformat /dev/fd1 hd sect=18
</pre>
<p>The following example shows how to format a 720K disk in drive 0:</p>
<pre>
superformat /dev/fd0 dd
</pre>
<p>The following example shows how to format a 1743K disk in drive 0 (83 cylinders times 21 sectors):</p>
<pre>
superformat /dev/fd0 sect=21 cyl=83
</pre>
<p>The following example shows how to format a 1992K disk in drive 0 (83 cylinders times 2 heads times 12 KB per track)</p>
<pre>
superformat /dev/fd0 tracksize=12KB cyl=83 mss
</pre>
<p>The following example shows how to format a 1840K disk in drive 0. It will have 5 2048-byte sectors, one 1024-byte sector, and one 512-byte sector per track:</p>
<pre>
superformat /dev/fd0 tracksize=23b mss 2m ssize=2KB
</pre>
<p>All these formats can be autodetected by mtools, using the floppy driver's default settings.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Troubleshooting</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>FDC&nbsp;busy,&nbsp;sleeping&nbsp;for&nbsp;a&nbsp;second When another program accesses a disk drive on the same controller as the</p>
  </dt>
  <dd>
    <p>one being formatted, superformat has to wait until the other access is finished.  If this happens, check whether any other program accesses a drive (or whether a drive is mounted), kill that program (or unmount the drive), and the format should proceed normally.</p>
  </dd>
  <dt>
    <p>I/O&nbsp;errors&nbsp;during&nbsp;verification Your drive may be too far out of tolerance, and you may thus need to</p>
  </dt>
  <dd>
    <p>supply a margin parameter.  Run floppymeter (see section  floppymeter) to find out an appropriate value for this parameter, and add the suggested margin parameter to the command line</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Bugs</h2>
        <div class="sectioncontent">
<p>Opening up new window while superformat is running produces overrun errors. These errors are benign, as the failed operation is automatically retried until it succeeds.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">See Also</h2>
        <div class="sectioncontent">
<p>Fdutils' texinfo doc</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="super.1.html"><span aria-hidden="true">&larr;</span> super.1: Execute commands setuid root.</a></li>
   <li class="next"><a href="supernode.1.html">supernode.1: N2n supernode daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
