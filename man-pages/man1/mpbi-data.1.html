<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mpbi-data: Transformations of hdf5 files output by mpb</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Transformations of hdf5 files output by mpb">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mpbi-data (1) manual">
  <meta name="twitter:description" content="Transformations of hdf5 files output by mpb">
  <meta name="twitter:image" content="https://www.carta.tech/images/mpb-mpbi-data-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mpbi-data.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mpbi-data (1) manual" />
  <meta property="og:description" content="Transformations of hdf5 files output by mpb" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mpb-mpbi-data-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mpbi-data<small> (1)</small></h1>
        <p class="lead">Transformations of hdf5 files output by mpb</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mpbi-data.1.html">
      <span itemprop="name">mpbi-data: Transformations of hdf5 files output by mpb</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mpb/">
      <span itemprop="name">mpb</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mpbi-data.1.html">
      <span itemprop="name">mpbi-data: Transformations of hdf5 files output by mpb</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mpb-data</strong> [<em>OPTION</em>]... [<em>HDF5FILE</em>]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>mpb-data is a utility to perform additional processing and transformations of HDF5 files output by MPB, the MIT Photonic-Bands program.  In particular, it is designed to make the output more amenable to visualization by reformatting it into a rectangular grid, extending it to multiple periods, and rescaling the data.</p><p>MIT Photonic Bands (MPB) is a free program to compute the band structures (dispersion relations) and electromagnetic modes of periodic dielectric structures.</p><p>HDF5 is a free, portable binary format and supporting library developed by the National Center for Supercomputing Applications at the University of Illinois in Urbana-Champaign.  A single <em>h5</em> file can contain multiple data sets; by default, <em>mpb-data</em> operates on all of the MPB-produced datasets in the file, but this can be changed via the <strong>-d</strong> option, or by using the syntax <em>HDF5FILE:DATASET</em>.</p><p><em>mpb-data</em> writes its output datasets as additional datasets in the input file(s), with "-new" appended to the dataset names.  Alternatively, it can write its output to a separate file, specified by the <strong>-o</strong> option.</p><p>Note also that, by default, the output datasets are identical to the input datasets; you must use one or more of the options below to specify a transformation (e.g. the <strong>-r</strong>/<strong>-e</strong> and <strong>-n</strong> options are very useful).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Display help on the command-line options and usage.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Print the version number and copyright info for mpb-data.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose output.</p>
  </dd>
  <dt>
    <p><strong>-o</strong> <em>file</em></p>
  </dt>
  <dd>
    <p>Write output datasets to <em>file</em> (for the first input file only) rather than as additional datasets in the input file(s) (the default).</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Output a rectangular cell with the same volume as the cell of the input data.  This option is particularly useful for visualizing data from non-orthogonal unit cells (e.g. a triangular lattice), as otherwise the data will appear skewed or warped in most graphics programs.  This option should almost always be accompanied by the <strong>-n</strong> option to ensure a uniform resolution.</p>
  </dd>
  <dt>
    <p><strong>-e</strong> <em>x,y,z</em></p>
  </dt>
  <dd>
    <p>As the <strong>-r</strong> option, but also make the first axis of the output along the <em>x,y,z</em> direction (in Cartesian coordinates) instead of along the first lattice vector as for <strong>-r</strong>.</p>
  </dd>
  <dt>
    <p><strong>-P</strong> <em>phaseangle</em></p>
  </dt>
  <dd>
    <p>For complex-valued datasets, this option causes the output values to be rotated by <em>phaseangle</em> degrees in the complex plane.  That is, they are multiplied by exp(2 pi i <em>phaseangle</em> / 360).</p>
  </dd>
  <dt>
    <p><strong>-n</strong> <em>n</em></p>
  </dt>
  <dd>
    <p>Output <em>n</em> grid points per lattice unit ("a").  This is useful not only for interpolating to finer (or coarser) resolutions, but also to ensure that the resolution is uniform in each direction (to prevent the data from looking distorted when you visualize it).</p>
  </dd>
  <dt>
    <p><strong>-x</strong> <em>mx</em>, <strong>-y</strong> <em>my</em>, <strong>-z</strong> <em>mz</em></p>
  </dt>
  <dd>
    <p>This tells <em>mpb-data</em> to output multiple periods in the corresponding lattice directions. to use a particular slice of a two- or three-dimensional dataset.  e.g. <strong>-x 3.2</strong> causes the output of 3.2 periods in the first lattice direction.  The default is to output only a single period.</p>
  </dd>
  <dt>
    <p><strong>-m</strong> <em>s</em></p>
  </dt>
  <dd>
    <p>Output <em>s</em> periods in each lattice direction; equivalent to: <strong>-x</strong> <em>s</em> <strong>-y</strong> <em>s</em> <strong>-z</strong> <em>s</em>.</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>The output has the first two dimensions (x and y) transposed.  This is useful in conjunction with the parallel (MPI) version of MPB, which for performance reasons outputs all arrays with the first two dimensions transposed. <strong>-T</strong> can undo this transposition.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Pixellized output.  Normally, the input data is linearly interpolated to the output grid, but the <strong>-p</strong> option causes it to instead use the nearest grid point in the input data. This is useful, for example, if you want to study the discretization of the dielectric-function representation.</p>
  </dd>
  <dt>
    <p><strong>-d</strong> <em>name</em></p>
  </dt>
  <dd>
    <p>Use dataset <em>name</em> from the input files; otherwise, the first dataset from each file is used. Alternatively, use the syntax <em>HDF5FILE:DATASET</em>, which allows you to specify a different dataset for each file. You can use the <em>h5ls</em> command (included with hdf5) to find the names of datasets within a file.</p><p>Note that this option is generally unnecessary, since mpb-data can already find the relevant dataset(s) for files created by MPB.  Also, note that mpb-data treats the dataset specified by this option as a real scalar dataset and does not include the exp(ikx) factors when extending the dataset to multiple periods.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Send bug reports to S. G. Johnson, stevenj@alum.mit.edu.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Written by Steven G. Johnson.  Copyright (c) 1999-2012 by the Massachusetts Institute of Technology.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mpbi-data&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/mpb.1.html"><strong>mpb</strong>(1)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mpbi.1.html"><span aria-hidden="true">&larr;</span> mpbi.1: Mpb with inversion symmetry  mpbi-split - mpb-split with inversion symmetry</a></li>
   <li class="next"><a href="mpbi-mpi.1.html">mpbi-mpi.1: Parallel (mpi) version of mpb  mpbi-mpi - parallel (mpi) version of mpbi <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
