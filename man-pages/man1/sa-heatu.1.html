<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sa-heatu: Spamasassin heuristic email address tracker utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Spamasassin heuristic email address tracker utility">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sa-heatu (1) manual">
  <meta name="twitter:description" content="Spamasassin heuristic email address tracker utility">
  <meta name="twitter:image" content="https://www.carta.tech/images/spamassassin-heatu-sa-heatu-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sa-heatu.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sa-heatu (1) manual" />
  <meta property="og:description" content="Spamasassin heuristic email address tracker utility" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/spamassassin-heatu-sa-heatu-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sa-heatu<small> (1)</small></h1>
        <p class="lead">Spamasassin heuristic email address tracker utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sa-heatu.1.html">
      <span itemprop="name">sa-heatu: Spamasassin heuristic email address tracker utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/spamassassin-heatu/">
      <span itemprop="name">spamassassin-heatu</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sa-heatu.1.html">
      <span itemprop="name">sa-heatu: Spamasassin heuristic email address tracker utility</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  sa-heatu [options] [dbfile [timestamp-file]]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Check or clean a SpamAssassin auto-whitelist (\s-1AWL\s0) database file.</p><p>The Auto-WhiteList (\s-1AWL\s0) feature in Spamassassing tracks scores from messages previously received and adjusts the message score, either by boosting messages from senders who send ham or penalizing senders who have sent spam previously. This not only treats some senders as if they were whitelisted but also treats spammers as if they were blacklisted. To enable \s-1AWL\s0 in spamassassin, read dcoumentation:</p><p>    perldoc Mail::SpamAssassin::Conf</p><p>This is an enhanced version of the original \s-1AWL\s0 tool. The \s-1AWL\s0 database can be examined and pruned; single email entries can be removed. This is useful when a spammer sends one or more ham messages before sending spam.</p><p>Without special options, the program generates a summary of the database (see \s-1FILES\s0):</p><p>    $ sa-heatu -D -n /var/spool/spamassassin/auto-whitelist</p><p>       0 entries removed.        0 entries would be expired.        0 timestamps would be added.        0 timestamps would be updated.</p><p>     308 entries input.      308 entries output = input - expired - removed.</p><p>With option <strong>--verbose</strong> it generates output:</p><p>     AVG   TOTSCORE COUNT  EMAIL IPBASE</p><p><em>\s-1AVG\s0</em> is the average score; <em>\s-1TOTSCORE\s0</em> is the total score of all mails seen so far; <em>\s-1COUNT\s0</em> is the number of messages seen from that sender; <em>\s-1EMAIL\s0</em> is the sender's email address, and <em>\s-1IPBASE\s0</em> is the <strong>\s-1AWL\s0 base \s-1IP\s0 address</strong>.</p><p><em>\s-1AWL\s0 base \s-1IP\s0 address</em> is a way to identify the sender's \s-1IP\s0 address they frequently send from, in an approximate way, but remaining hard for spammers to spoof. The algorithm is as follows:</p><p>    - Take the last Received header that contains a public IP address;       namely one which is not in private, unrouted IP space.</p><p>    - Chop off the last two octets, assuming that the user may be in       an ISP&apos;s dynamic address pool.</p><p>Negative values indicate senders of ham:</p><p>    average    total count        6.8       6.8   1   support@midphase.com                     72.26       -8.1     -16.2   2   users-return-@spamassassin.apache.org    98.109        1.4      15.9  11   partners@us.cyberoam.com                 38.105       13.9      13.9   1   obdg@borgard.com                         89.185</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-D, --DONTupdatetimestamps</strong>
  </dt>
  <dd>
    <p>No timestamps processing is done. Alias for <strong>--noTimestamps</strong>.</p>
  </dd>
  <dt>
    <strong>-e, --expireOlderThan \s-1NUMBER\s0</strong>
  </dt>
  <dd>
    <p>Expire entries older than \s-1NUMBER\s0 of days.</p>
  </dd>
  <dt>
    <strong>-f, --firstTimes</strong>
  </dt>
  <dd>
    <p>Use this for the first run to avoid reading timestamps.</p>
  </dd>
  <dt>
    <strong>-h, --help</strong>
  </dt>
  <dd>
    <p>Display short help.</p>
  </dd>
  <dt>
    <strong>-n, --noTimestamps</strong>
  </dt>
  <dd>
    <p>No timestamps processing.</p>
  </dd>
  <dt>
    <strong>-p, --prune \s-1NUMBER\s0</strong>
  </dt>
  <dd>
    <p>Clean out infrequently-used \s-1AWL\s0 entries. The <em>\s-1NUMBER\s0</em> can be used to select the threshold at which entries are kept or deleted. Value 1 means that entries seen once are deleted.</p>
  </dd>
  <dt>
    <strong>-q, --quiet</strong>
  </dt>
  <dd>
    <p>Be quiet.</p>
  </dd>
  <dt>
    <strong>-r, --remove \s-1EMAIL\s0</strong>
  </dt>
  <dd>
    <p>Remove \s-1EMAIL\s0 from database.</p>
  </dd>
  <dt>
    <strong>-s, --showUpdates</strong>
  </dt>
  <dd>
    <p>Output entries updated or added or removed, in addition to the summary.</p>
  </dd>
  <dt>
    <strong>-v, --verbose</strong>
  </dt>
  <dd>
    <p>Display more information. Note that this may display lot of information from the database.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To see valid senders:</p><p>   sa-heatu --verbose -D | sort -n | head -n 20</p><p>To see top spammers:</p><p>   sa-heatu --verbose -D | sort -n | tail -n 20</p><p>To display single record:</p><p>    sa-heatu --verbose -n | grep -i foo@example.com</p><p>To remove of <em>foo@example.com</em> entry:</p><p>    $ sa-heatu -n --remove foo@example.com</p><p>    Using $HOME/.spamassassin/auto-whitelist</p><p>    average    total count found     34.5      34.5   1     foo@example.com 41.202</p><p>        1 deleted.       259 keys with 1 entry.       658 keys with 2 entries.      1675 entries.</p><p>To shrink the database considerably by removing entries that only have one hit:</p><p>    sa-heatu --prune</p><p>Average total count email address ip network address last time updated: Note: the date and time stamp is the time sa-heatu was run, not the time the email was received:</p><p>   sa-heatu --verbose -D | sort -n | head -5</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>None.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>The default working directory of program where <em>dbfile</em> etc. are expected. If <em>dbfile</em> is not given the \*(C`$HOME/.spamassassin/auto-whitelist\*(C' is used. See also option <strong>auto_whitelist_path</strong> in Spamassasin Perl module <em>Mail::SpamAssassin::Plugin::AWL</em> which typically points to \*(C`/var/spool/spamassassin/auto-whitelist\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sa-heatu&hellip;</h2>
        <div class="sectioncontent">
<p><em>spamassassin</em>\|(1) <em>Mail::SpamAssassin::Plugin::AWL</em>\|(3p)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STANDARDS</h2>
        <div class="sectioncontent">
<p>http://wiki.apache.org/spamassassin/AutoWhitelist</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p>See \s-1STANDARDS\s0 for download link.</p><p>The original version this program is based on is at http://svn.apache.org/repos/asf/spamassassin/branches/3.2/tools/check_whitelist</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Program was written by Dennis G German &lt;DGermansa@Real-world-Systems.com&gt;</p><p>This manual page was written by Jari Aalto &lt;jari.aalto@cante.net&gt;. Released under license \s-1GNU\s0 \s-1GPL\s0 version 2 or (at your option) any later version. For more information about license, visit &lt;http://www.gnu.org/copyleft/gpl.html&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sa.1.html"><span aria-hidden="true">&larr;</span> sa.1: Part of ants registration suite</a></li>
   <li class="next"><a href="sacct.1.html">sacct.1: Displays accounting data for all jobs and job steps in the slurm job accounting log or slurm database <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
