<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>epsilon: Powerful open source wavelet image compressor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Powerful open source wavelet image compressor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="epsilon (1) manual">
  <meta name="twitter:description" content="Powerful open source wavelet image compressor">
  <meta name="twitter:image" content="https://www.carta.tech/images/epsilon-bin-epsilon-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/epsilon.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="epsilon (1) manual" />
  <meta property="og:description" content="Powerful open source wavelet image compressor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/epsilon-bin-epsilon-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">epsilon<small> (1)</small></h1>
        <p class="lead">Powerful open source wavelet image compressor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/epsilon.1.html">
      <span itemprop="name">epsilon: Powerful open source wavelet image compressor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/epsilon-bin/">
      <span itemprop="name">epsilon-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/epsilon.1.html">
      <span itemprop="name">epsilon: Powerful open source wavelet image compressor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>epsilon</strong> <em>COMMAND </em>[<em>OPTIONS</em>] <em>FILES</em>...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>EPSILON is a powerful Open Source wavelet image compressor. The project is aimed on parallel and robust image processing. EPSILON source package consists of two core parts: portable, well-designed, thread-safe library and codec, build on the top of the library. The library API is very clean, simple and carefully documented.</p><p>EPSILON's compression algorithm is based on wavelet transform and so called embedded coding. The former is a well-known mathematical theory and the latter is a very effective, yet simple method of progressive image coding. The actual algorithm employed in EPSILON is called SPECK - Set Partitioned Embedded bloCK coder introduced by Asad Islam and William Pearlman.</p><p>At the moment, EPSILON supports more than 30 wavelet filters and have automated interface for adding new ones. The script called <strong>make_filterbank.pl</strong> translates XML-files with filter descriptions to the C source code suitable for EPSILON. So, the only manual operation is to copy-and-paste program's output into the EPSILON's source code. After recompilation new filters will be ready to use. <strong>Special note:</strong> if you succeed in adding new filters, please send them to me. They will be included into the main source tree.</p><p>EPSILON project follows an old and fruitful UNIX tradition to Keep It Simple. For example, EPSILON works with <strong>PPM</strong> (Portable PixelMap) and <strong>PGM</strong> (Portable GrayMap) images only. They provide basic functionality and serve as a least-common-denominator for interchanging truecolor and grayscale images between different platforms and operating systems. Looking for a converter? Try <strong>Netpbm</strong> <em>(http://netpbm.sourceforge.net/)</em> - perfect Open Source tool-kit with more than 220 handy utilities!</p><p>For storing and interchanging compressed images EPSILON defines it's own <strong>PSI</strong> (ePSIlon) file format. The PSI format is designed with simplicity and fault-tolerance in mind. A typical PSI file consists of several independent blocks. Each block represents a tile from the original image and have completely self-contained header. Each block is protected with CRC and (actually with two CRCs: one for the header and another for the data) separated from other blocks with a special unique marker. This simple yet effective technique makes stream synchronization and error localization almost trivial. Moreover, block headers are saved as a plain text: you can edit them by-hand with your favorite text editor. Check it out!</p><p>EPSILON have a lot of interesting features. For example, you can finely control compression ratio (thank`s to embedded coding), manually distribute bit-budget among image channels, switch to different encoding and filtering modes and so on. EPSILON also supports HUGE files with constant memory and linear time complexity.</p><p>Another nice feature is multi-threading support. Try to (re)compile EPSILON with Pthreads enabled (see INSTALL for more info) and you will surely notice significant coding speed-up (assuming you have multicore CPU or several CPUs on you computer).</p><p>As of release 0.6.1 EPSILON also supports clustering mode. This is a very powerful feature if you have several machines linked with a high-capacity network, say gigabit ethernet or even faster. To build cluster-aware EPSILON version please read INSTALL file.</p><p>Although EPSILON have a rich set of special ad-hoc options you are not obliged to use them. Defaults are usually just fine. EPSILON's command line interface is very friendly and designed to be similar to <strong>GZIP</strong> or <strong>BZIP.</strong> So, <strong>`epsilon foo.ppm'</strong> and <strong>`epsilon -d bar.psi'</strong> is usually enough.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>Commands:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-e</strong>, <strong>--encode-file</strong></p>
  </dt>
  <dd>
    <p>Encode specified file(s). This is a default action if no command is given.</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--decode-file</strong></p>
  </dt>
  <dd>
    <p>Decode specified file(s).</p>
  </dd>
  <dt>
    <p><strong>-t</strong>, <strong>--truncate-file</strong></p>
  </dt>
  <dd>
    <p>Truncate specified file(s). Due to embedded coding, block truncation is equivalent to block re-compression. In other words, truncation further compresses PSI-files.</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--start-node</strong></p>
  </dt>
  <dd>
    <p>Start cluster node. Note: this option is available in cluster-aware EPSILON version only and is intended for SLAVE nodes. In other words, you should invoke <em>epsilon -s</em> on each SLAVE node in your cluster. Stopping cluster node is even simpler: <em>killall epsilon</em>.</p><p>This command runs a daemon program that accepts TCP connections at certain port (2718 by default). For each connection a new child process is forked and the main program waits for a next connecton. Encoding and decoding statistics is SYSLOG-ed using LOG_DAEMON facility.</p><p>If you have DSH (Distributed SHell) installed on MASTER node, you can also use two handy scripts, namely <strong>start\_epsilon\_nodes.pl</strong> and <strong>stop\_epsilon\_nodes.pl</strong>, for starting and stopping all cluster nodes respectively.</p><p>Host configuration is taken from so called <em>.epsilon.nodes</em> file. By default, program checks <em>.epsilon.nodes</em> in the current directory. If there is no such file, program tries <em>.epsilon.nodes</em> in user`s home directory. You can also explicitly specify file location as an argument to the script. File format is described below.</p>
  </dd>
  <dt>
    <p><strong>-a</strong>, <strong>--list-all-fb</strong></p>
  </dt>
  <dd>
    <p>List all available filterbanks. This command shows ID, NAME and orthogonality TYPE for each available filterbank. As of release 0.8.1 EPSILON also supports lifting implementation of a famous Daubechies 9/7 biorthogonal wavelet transform. It works faster than generic filter-based counterpart. Default ID is <strong>daub97lift</strong></p>
  </dd>
  <dt>
    <p><strong>-V</strong>, <strong>--version</strong></p>
  </dt>
  <dd>
    <p>Print program version.</p>
  </dd>

</dl>

<h3>Options to use with `--encode-file' command:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-f</strong>, <strong>--filter-id</strong>=<em>ID</em></p>
  </dt>
  <dd>
    <p>Wavelet filterbank ID. See also <strong>--list-all-fb</strong> command.</p>
  </dd>
  <dt>
    <p><strong>-b</strong>, <strong>--block-size</strong>=<em>VALUE</em></p>
  </dt>
  <dd>
    <p>Block size to use: 32, 64, 128, 256, 512 or 1024. The default value is 256. Using very small blocks as well as using very large blocks is not recommended: the former adds substantial header overhead and the latter slows down encoding/decoding without any profit in image quality. Nevertheless, in some rare circumstances this rule is quite opposite.</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--mode-normal</strong></p>
  </dt>
  <dd>
    <p>Use so called normal processing mode. This mode can be used with the both orthogonal and biorthogonal filters. In practice you should avoid this parameter unless you are making some research in wavelets.</p>
  </dd>
  <dt>
    <p><strong>-o</strong>, <strong>--mode-otlpf</strong></p>
  </dt>
  <dd>
    <p>Use so called OTLPF processing mode. In a few words, OTLPF is some kind of hack to reduce boundary artefacts when image is broken into several tiles (as usually happens). Due to mathematical constrains this method can be applied to biorthogonal filters only. This option is turned on by default.</p>
  </dd>
  <dt>
    <p><strong>-r</strong>, <strong>--ratio</strong>=<em>VALUE</em></p>
  </dt>
  <dd>
    <p>With this parameter you can finely control desired compression ratio. This value is not obliged to be integral: for example, the value of 34.102 is just fine. For obvious reasons compression ratio should be grater than 1. Although EPSILON's bit-allocation algorithm is pretty precise, too high compression ratios will be clipped due to block headers overhead. On the other hand, blank image (e.g. entirely black) surely will be encoded just in a couple of hundreds of bytes regardless of compression ratio you desire. Nevertheless, for a most real-life images and compression ratios (let us say 10..200) actual compression ratio will be very close to the value you desire. Default compression ratio is 10.</p>
  </dd>
  <dt>
    <p><strong>-2</strong>, <strong>--two-pass</strong></p>
  </dt>
  <dd>
    <p>By default EPSILON uses constant bit-rate (CBR) bit-allocation algorithm. CBR is pretty fast and usually gives acceptable image quality. If image quality is a concern, try two-pass variable bit-rate (VBR) bit-allocation algorithm instead. VBR gives better results than CBR, but runs about twice slower.</p>
  </dd>
  <dt>
    <p><strong>-N</strong>, <strong>--node-list</strong></p>
  </dt>
  <dd>
    <p>File with cluster configuration. Note: this option is available in cluster-aware EPSILON version only and is intended for MASTER node. Each line in this file should comply with the following format:</p><p><em>user@host:port^number_of_CPUs</em></p><p>All fields are mandatory. No comments, spaces or blank lines are allowed here. The second field can be either IP address or host name. The last field is actually the number of simultaneous TCP connections with a corresponding SLAVE node. Usually it is set to the number of CPUs or somewhat larger.</p><p>If you omit this option, EPSILON will try <em>.epsilon.nodes</em> in the current and home directory (in that order).</p><p>Note 1: \'user\' field is used by <strong>start\_epsilon\_nodes.pl</strong> and <strong>stop\_epsilon\_nodes.pl</strong> to SSH into the target box.</p><p>Note 2: \'port\' is EPSILON node's port not SSH's.</p>
  </dd>
  <dt>
    <p><strong>-T</strong>, <strong>--threads</strong></p>
  </dt>
  <dd>
    <p>Number of encoding threads. Note: this option is available in thread-aware EPSILON version only.</p>
  </dd>
  <dt>
    <p><strong>--Y-ratio</strong>=<em>VALUE</em>, <strong>--Cb-ratio</strong>=<em>VALUE</em>, <strong>--Cr-ratio</strong>=<em>VALUE</em></p>
  </dt>
  <dd>
    <p>Bit-budget percent for the Y, Cb and Cr channels respectively. The values should give 100% altogether. Note that these options have sense for truecolor (i.e. PPM) images only. The default values are 90-5-5.</p>
  </dd>
  <dt>
    <p><strong>--no-resampling</strong></p>
  </dt>
  <dd>
    <p>By default EPSILON resamples truecolor images using so called 4:2:0 resampling scheme. This trick essentially speed-ups encoding/decoding without sacrificing image quality. Usually there is no reason to disable resampling.</p>
  </dd>

</dl>

<h3>Options to use with `--decode-file' command:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-T</strong>, <strong>--threads</strong></p>
  </dt>
  <dd>
    <p>Number of decoding threads. Note: this option is available in thread-aware EPSILON version only.</p>
  </dd>
  <dt>
    <p><strong>-N</strong>, <strong>--node-list</strong></p>
  </dt>
  <dd>
    <p>File with cluster configuration. Note: this option is available in cluster-aware EPSILON version only and is intended for MASTER node. Each line in this file should comply with the following format:</p><p><em>user@host:port^number_of_CPUs</em></p><p>All fields are mandatory. No comments, spaces or blank lines are allowed here. The second field can be either IP address or host name. The last field is actually the number of simultaneous TCP connections with a corresponding SLAVE node. Usually it is set to the number of CPUs or somewhat larger.</p><p>If you omit this option, EPSILON will try <em>.epsilon.nodes</em> in the current and home directory (in that order).</p>
  </dd>
  <dt>
    <p><strong>--ignore-hdr-crc</strong></p>
  </dt>
  <dd>
    <p>Ignore header CRC errors.</p>
  </dd>
  <dt>
    <p><strong>--ignore-data-crc</strong></p>
  </dt>
  <dd>
    <p>Ignore data CRC errors.</p>
  </dd>
  <dt>
    <p><strong>--ignore-format-err</strong></p>
  </dt>
  <dd>
    <p>Skip over malformed blocks.</p>
  </dd>

</dl>

<h3>Options to use with `--truncate-file' command:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-r</strong>, <strong>--ratio</strong>=<em>VALUE</em></p>
  </dt>
  <dd>
    <p>Desired truncation ratio. See also <strong>--truncate-file</strong> command.</p>
  </dd>

</dl>

<h3>Options to use with `--start-node' command:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-P</strong>, <strong>--port</strong>=<em>VALUE</em></p>
  </dt>
  <dd>
    <p>By default cluster node listens port number 2718. With this option you can set another port number.</p>
  </dd>

</dl>

<h3>Common options:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-H</strong>, <strong>--halt-on-errors</strong></p>
  </dt>
  <dd>
    <p>By default if something fails EPSILON proceeds to the next input file. With this option you can change default behaviour: EPSILON will halt on first error. Note that in MPI mode this option is not available and EPSILON always halts on errors.</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>By default EPSILON shows pretty statistics during its operation. With this option you can ask EPSILON to be quiet.</p>
  </dd>
  <dt>
    <p><strong>-O</strong>, <strong>--output-dir</strong>=<em>DIR</em></p>
  </dt>
  <dd>
    <p>Output directory for encoded, decoded and truncated files. If not set, output files will be saved in the same directory as input ones.</p>
  </dd>

</dl>

<h3>Help options:</h3>

<dl class='dl-vertical'>
  <dt>
    <p>-?, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Show help message.</p>
  </dd>
  <dt>
    <p><strong>--usage</strong></p>
  </dt>
  <dd>
    <p>Display brief usage message.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Encode all PPM files in current directory with two-pass VBR algorithm:</p><p><em>epsilon *.ppm -2</em></p><p>Encode PGM file with 1:100 compression ratio using 4 threads:</p><p><em>epsilon -e big.pgm -r 100 -T 4</em></p><p>Decode all files to the /tmp directory, operate quietly:</p><p><em>epsilon -dq *.psi -O /tmp</em></p><p>Decode a list of heavily corrupted files:</p><p><em>epsilon -d *.psi --ignore-hdr-crc --ignore-data-crc --ignore-format-err</em></p><p>Start cluster node with non-standard port number:</p><p><em>epsilon -s -P 1234</em></p><p>Encode files using custom cluster configuration:</p><p><em>epsilon *.ppm *.pgm -N /path/to/.epsilon.nodes</em></p><p>Encode file with MPI engine using all available processors:</p><p><em>mpirun C epsilon test.ppm</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Alexander Simakov, <em>&lt;xander@entropyware.info&gt;</em></p>
<dl class='dl-vertical'>
  <dt>
    <p>Feedback, bug-reports and patches are welcome. Feel free to write!</p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="epsffit.1.html"><span aria-hidden="true">&larr;</span> epsffit.1: Fit encapsulated postscript file (epsf) into constrained size</a></li>
   <li class="next"><a href="epsilon-benchmark.1.html">epsilon-benchmark.1: Python script statistics collector <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
