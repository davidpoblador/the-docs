<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>msmtp: An smtp client</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="An smtp client">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="msmtp (1) manual">
  <meta name="twitter:description" content="An smtp client">
  <meta name="twitter:image" content="https://www.carta.tech/images/msmtp-msmtp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/msmtp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="msmtp (1) manual" />
  <meta property="og:description" content="An smtp client" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/msmtp-msmtp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">msmtp<small> (1)</small></h1>
        <p class="lead">An smtp client</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/msmtp.1.html">
      <span itemprop="name">msmtp: An smtp client</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/msmtp/">
      <span itemprop="name">msmtp</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/msmtp.1.html">
      <span itemprop="name">msmtp: An smtp client</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    Sendmail mode (default):
  </dt>
  <dd>
    <p><strong>msmtp</strong> [option...] [--] recipient...</p><p><strong>msmtp</strong> [option...] -t [--] [recipient...]</p>
  </dd>
  <dt>
    Server information mode:
  </dt>
  <dd>
    <p><strong>msmtp</strong> [option...] --serverinfo</p>
  </dd>
  <dt>
    Remote Message Queue Starting mode:
  </dt>
  <dd>
    <p><strong>msmtp</strong> [option...] --rmqs=<em>host</em>|<em>@domain</em>|<em>#queue</em></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>In the default sendmail mode, msmtp reads a mail from standard input and sends it to an SMTP server for delivery.</p><p>In server information mode, msmtp prints information about an SMTP server.</p><p>In Remote Message Queue Starting mode, msmtp sends a Remote Message Queue Starting request for a host, domain, or queue to an SMTP server.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>The standard sendmail exit status codes are used, as defined in sysexits.h.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options override configuration file settings.</p><p>They are compatible with sendmail where appropriate.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>General options</strong>
  </dt>
  <dd>
    
<dl class='dl-vertical'>
  <dt>
    --version
  </dt>
  <dd>
    <p>Print version information. This includes information about the library used for TLS/SSL support (if any), the library used for authentication, the authentication mechanisms supported by this library, and the default locations of the system and user configuration files.</p>
  </dd>
  <dt>
    --help
  </dt>
  <dd>
    <p>Print help.</p>
  </dd>
  <dt>
    -P, --pretend
  </dt>
  <dd>
    <p>Print the configuration settings that would be used, but do not take further action.  An asterisk (`*') will be printed instead of your password.</p>
  </dd>
  <dt>
    -v, -d, --debug
  </dt>
  <dd>
    <p>Print lots of debugging information, including the whole conversation with the SMTP server. Be careful with this option: the (potentially dangerous) output will not be sanitized, and your password may get printed in an easily decodable format!</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>Changing the mode of operation</strong>
  </dt>
  <dd>
    
<dl class='dl-vertical'>
  <dt>
    -S, --serverinfo
  </dt>
  <dd>
    <p>Print information about the SMTP server and exit. This includes information about supported features (mail size limit, authentication, TLS, DSN, ...) and about the TLS certificate (if TLS is active).</p>
  </dd>
  <dt>
    --rmqs=(<em>host</em>|<em>@domain</em>|<em>#queue</em>)
  </dt>
  <dd>
    <p>Send a Remote Message Queue Starting request for the given host, domain, or queue to the SMTP server and exit.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>Configuration options</strong>
  </dt>
  <dd>
    
<dl class='dl-vertical'>
  <dt>
    -C, --file=<em>filename</em>
  </dt>
  <dd>
    <p>Use the given file instead of ~/.msmtprc as the user configuration file.</p>
  </dd>
  <dt>
    -a, --account=<em>account_name</em>
  </dt>
  <dd>
    <p>Use the given account instead of the account named "default". The settings of this account may be changed with command line options. This option cannot be used together with the <strong>--host</strong> option.</p>
  </dd>
  <dt>
    --host=<em>hostname</em>
  </dt>
  <dd>
    <p>Use this SMTP server with settings from the command line; do not use any configuration file data. This option cannot be used together with the <strong>--account</strong> option.</p>
  </dd>
  <dt>
    --port=<em>number</em>
  </dt>
  <dd>
    <p>Set the port number to connect to. See the <strong>port</strong> command below.</p>
  </dd>
  <dt>
    --timeout=(<em>off</em>|<em>seconds</em>)
  </dt>
  <dd>
    <p>Set a network timeout. See the <strong>timeout</strong> command below. For compatibility with older versions, --connect-timeout is accepted as an alias for this option.</p>
  </dd>
  <dt>
    --protocol=(<em>smtp</em>|<em>lmtp</em>)
  </dt>
  <dd>
    <p>Set the protocol to use. See the <strong>protocol</strong> command below.</p>
  </dd>
  <dt>
    --auth[=(<em>on</em>|<em>off</em>|<em>method</em>)]
  </dt>
  <dd>
    <p>Enable or disable authentication. You can optionally choose the method. See the <strong>auth</strong> command below.</p>
  </dd>
  <dt>
    --user=<em>[username]</em>
  </dt>
  <dd>
    <p>Set or unset the user name for authentication. See the <strong>user</strong> command below.</p>
  </dd>
  <dt>
    --passwordeval=[<em>eval</em>]
  </dt>
  <dd>
    <p>Set your password for SMTP authentication to the output (stdout) of the execution of <em>eval</em>.</p>
  </dd>
  <dt>
    --tls[=(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Enable or disable TLS/SSL encryption. See the <strong>tls</strong> command below.</p>
  </dd>
  <dt>
    --tls-starttls[=(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Enable or disable STARTTLS for TLS encryption. See the <strong>tls_starttls</strong> command below.</p>
  </dd>
  <dt>
    --tls-trust-file=[<em>file</em>]
  </dt>
  <dd>
    <p>Set or unset a trust file for TLS encryption. See the <strong>tls_trust_file</strong> command below.</p>
  </dd>
  <dt>
    --tls-crl-file=[<em>file</em>]
  </dt>
  <dd>
    <p>Set or unset a certificate revocation list (CRL) file for TLS. See the <strong>tls_crl_file</strong> command below.</p>
  </dd>
  <dt>
    --tls-fingerprint=[<em>fingerprint</em>]
  </dt>
  <dd>
    <p>Set ot unset the fingerprint of a trusted TLS certificate. See the <strong>tls_fingerprint</strong> command below.</p>
  </dd>
  <dt>
    --tls-key-file=[<em>file</em>]
  </dt>
  <dd>
    <p>Set or unset a key file for TLS encryption. See the <strong>tls_key_file</strong> command below.</p>
  </dd>
  <dt>
    --tls-cert-file=[<em>file</em>]
  </dt>
  <dd>
    <p>Set or unset a cert file for TLS encryption. See the <strong>tls_cert_file</strong> command below.</p>
  </dd>
  <dt>
    --tls-certcheck[=(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Enable or disable server certificate checks for TLS encryption. See the <strong>tls_certcheck</strong> command below.</p>
  </dd>
  <dt>
    --tls-force-sslv3[=(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Force TLS/SSL version SSLv3. See the <strong>tls_force_sslv3</strong> command below.</p>
  </dd>
  <dt>
    --tls-min-dh-prime-bits=[<em>bits</em>]
  </dt>
  <dd>
    <p>Set or unset minimum bit size of the Diffie-Hellman (DH) prime. See the <strong>tls_min_dh_prime_bits</strong> command below.</p>
  </dd>
  <dt>
    --tls-priorities=[<em>priorities</em>]
  </dt>
  <dd>
    <p>Set or unset TLS priorities. See the <strong>tls_priorities</strong> command below.</p>
  </dd>
  <dt>
    --domain=[<em>string</em>]
  </dt>
  <dd>
    <p>Set the argument of the SMTP EHLO (or LMTP LHLO) command. See the <strong>domain</strong> command below.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <strong>Options specific to sendmail mode</strong>
  </dt>
  <dd>
    
<dl class='dl-vertical'>
  <dt>
    --auto-from[=(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Enable or disable automatic envelope-from addresses. The default is off. See the <strong>auto_from</strong> command below.</p>
  </dd>
  <dt>
    -f, --from=<em>address</em><em></em>
  </dt>
  <dd>
    <p>Set the envelope-from address. It is only used when <em>auto_from</em> is off.</p><p>If no account was chosen yet (with <strong>--account</strong> or <strong>--host</strong>), this option will choose the first account that has the given envelope-from address (set with the <strong>from</strong> command). If no such account is found, "default" is used.</p>
  </dd>
  <dt>
    --maildomain=[<em>domain</em>]
  </dt>
  <dd>
    <p>Set the domain part for generated envelope-from addresses. It is only used when <em>auto_from</em> is on. See the <strong>maildomain</strong> command below.</p>
  </dd>
  <dt>
    -N, --dsn-notify=(<em>off</em>|<em>cond</em>)
  </dt>
  <dd>
    <p>Set or unset DSN notification conditions. See the <strong>dsn_notify</strong> command below.</p>
  </dd>
  <dt>
    -R, --dsn-return=(<em>off</em>|<em>ret</em>)
  </dt>
  <dd>
    <p>Set or unset the DSN notification amount. See the <strong>dsn_return</strong> command below. Note that <em>hdrs</em> is accepted as an alias for <em>headers</em> to be compatible with sendmail.</p>
  </dd>
  <dt>
    --keepbcc[=(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Enable or disable the preservation of the Bcc header. See the <strong>keepbcc</strong> command below.</p>
  </dd>
  <dt>
    -X, --logfile=[<em>file</em>]
  </dt>
  <dd>
    <p>Set or unset the log file. See the <strong>logfile</strong> command below.</p>
  </dd>
  <dt>
    --syslog[=(<em>on</em>|<em>off</em>|<em>facility</em>)]
  </dt>
  <dd>
    <p>Enable or disable syslog logging. See the <strong>syslog</strong> command below.</p>
  </dd>
  <dt>
    -t, --read-recipients
  </dt>
  <dd>
    <p>Read recipient addresses from the To, Cc, and Bcc headers of the mail in addition to the recipients given on the command line. If any Resent- headers are present, then the addresses from any Resent-To, Resent-Cc, and Resent-Bcc headers in the first block of Resent- headers are used instead.</p>
  </dd>
  <dt>
    --read-envelope-from
  </dt>
  <dd>
    <p>Read the envelope from address from the From header of the mail. Currently this header must be on a single line for this option to work correctly.</p>
  </dd>
  <dt>
    --aliases=[<em>file</em>]
  </dt>
  <dd>
    <p>Set or unset an aliases file. See the <strong>aliases</strong> command below.</p>
  </dd>
  <dt>
    --
  </dt>
  <dd>
    <p>This marks the end of options. All following arguments will be treated as recipient addresses, even if they start with a `-'.</p>
  </dd>

</dl>

  </dd>

</dl>
<p>The following options are accepted but ignored for sendmail compatibility:</p><p>-B<em>type</em>, -bm, -F<em>name</em>, -G, -h<em>N</em>, -i, -L <em>tag</em>, -m, -n, -O <em>option=value</em>, -o<em>x</em> <em>value</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Normally, a system wide configuration file and/or a user configuration file contain information about which SMTP server to use (and how to use it), but almost all settings can also be configured on the command line.</p><p>Information about SMTP servers is organized in <em>accounts</em>. Each account describes one SMTP server: host name, authentication settings, TLS settings, and so on.  Each configuration file can define multiple accounts.</p><p>In sendmail mode, an envelope-from address is necessary to send mail. This is the mail address that will be presented to the SMTP server as the originator of the mail. Envelope-from addresses can be generated automatically (when <em>auto_from</em> is enabled) or set explicitly with the <strong>from</strong> command or <strong>--from</strong> option. When <em>auto_from</em> is enabled, an envelope-from address of the form user@domain will be generated.  The local part will be set to <strong>USER</strong> or, if that fails, to <strong>LOGNAME</strong> or, if that fails, to the login name of the current user.  The domain part can be set with the <strong>maildomain</strong> command. If the maildomain is empty, the envelope-from address will only consist of the user name and not have a domain part.</p><p>The user can choose which account to use in one of three ways:</p>
<dl class='dl-vertical'>
  <dt>
    --account=<em>id</em>
  </dt>
  <dd>
    <p>Use the given account. Command line settings override configuration file settings.</p>
  </dd>
  <dt>
    --host=<em>hostname</em>
  </dt>
  <dd>
    <p>Use only the settings from the command line; do not use any configuration file data.</p>
  </dd>
  <dt>
    --from=<em>address</em> or --read-envelope-from
  </dt>
  <dd>
    <p>Choose the first account from the system or user configuration file that has a matching envelope-from address as specified by a <strong>from</strong> command. This works only when neither <strong>--account</strong> nor <strong>--host</strong> is used.</p>
  </dd>

</dl>
<p>If none of the above options is used (or if no account has a matching <strong>from</strong> command), then the account "default" is used.</p><p>Skip to the EXAMPLES section for a quick start.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILES</h2>
        <div class="sectioncontent">
<p>If it exists and is readable, a system wide configuration file SYSCONFDIR/msmtprc will be loaded, where SYSCONFDIR depends on your platform. Use <strong>--version</strong> to find out which directory is used.</p><p>If it exists and is readable, a user configuration file will be loaded (~/.msmtprc by default). Accounts defined in the user configuration file override accounts from the system configuration file. The user configuration file must have no more permissions than user read/write. Configuration data from either file can be changed by command line options.</p><p>A configuration file is a simple text file.  Empty lines and comment lines (whose first non-blank character is `#') are ignored.</p><p>Every other line must contain a command and may contain an argument to that command.</p><p>The argument may be enclosed in double quotes ("), for example if its first or last character is a blank.</p><p>If the first character of a filename is the tilde (~), this tilde will be replaced by HOME. If a command accepts the argument <em>on</em>, it also accepts an empty argument and treats that as if it was <em>on</em>.</p><p>Commands form groups. Each group begins with the <strong>account</strong> command and defines the settings for one SMTP server.</p><p>Skip to the EXAMPLES section for a quick start.</p><p>Commands are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    defaults
  </dt>
  <dd>
    <p>Set defaults. The following configuration commands will set default values for all following account definitions in the current configuration file.</p>
  </dd>
  <dt>
    account <em>name</em> [:<em>account</em>[,...]]
  </dt>
  <dd>
    <p>Start a new account definition with the given name. The current default values are filled in.</p><p>If a colon and a list of previously defined accounts is given after the account name, the new account, with the filled in default values, will inherit all settings from the accounts in the list.</p>
  </dd>
  <dt>
    host <em>hostname</em>
  </dt>
  <dd>
    <p>The SMTP server to send the mail to. The argument may be a host name or a network address. Every account definition must contain this command.</p>
  </dd>
  <dt>
    port <em>number</em>
  </dt>
  <dd>
    <p>The port that the SMTP server listens on. The default port will be acquired from your operating system's service database: for SMTP, the service is "smtp" (default port 25), unless TLS without STARTTLS is used, in which case it is "smtps" (465). For LMTP, it is "lmtp".</p>
  </dd>
  <dt>
    timeout (<em>off</em>|<em>seconds</em>)
  </dt>
  <dd>
    <p>Set or unset a network timeout, in seconds. The argument <em>off</em> means that no timeout will be set, which means that the operating system default will be used.</p><p>For compatibility with older versions, <strong>connect_timeout</strong> is accepted as an alias for this command.</p>
  </dd>
  <dt>
    protocol (<em>smtp</em>|<em>lmtp</em>)
  </dt>
  <dd>
    <p>Set the protocol to use. Currently only SMTP and LMTP are supported. SMTP is the default. See the <strong>port</strong> command above for default ports.</p>
  </dd>
  <dt>
    auto_from [(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Enable or disable automatic envelope-from addresses. The default is off. When enabled, an envelope-from address of the form user@domain will be generated.  The local part will be set to <strong>USER</strong> or, if that fails, to <strong>LOGNAME</strong> or, if that fails, to the login name of the current user.  The domain part can be set with the <strong>maildomain</strong> command.  If the maildomain is empty, the envelope-from address will only consist of the user name and not have a domain part. When auto_from is disabled, the envelope-from address must be set explicitly.</p>
  </dd>
  <dt>
    from <em>envelope_from</em>
  </dt>
  <dd>
    <p>Set the envelope-from address. This address will only be used when <em>auto_from</em> is off.</p>
  </dd>
  <dt>
    maildomain [<em>domain</em>]
  </dt>
  <dd>
    <p>Set a domain part for the generation of an envelope-from address. This is only used when <em>auto_from</em> is on. The domain may be empty.</p>
  </dd>
  <dt>
    auth [(<em>on</em>|<em>off</em>|<em>method</em>)]
  </dt>
  <dd>
    <p>This command enables or disables SMTP authentication. You should not need to set the method yourself; with the argument <em>on</em>, msmtp will choose the best one available for you (see below).</p><p>You probably need to set a username (with <strong>user</strong>) and password (with <strong>password</strong>). If no password is set but one is needed during authentication, msmtp will try to find it in ~/.netrc. If that fails, it will try to find it in SYSCONFDIR/netrc (use <strong>--version</strong> to find out what SYSCONFDIR is on your platform). If that fails, it will try to get it from a system specific keyring (if available). If that fails but a controlling terminal is available, msmtp will prompt you for it.</p><p>Currently supported keyrings are the Gnome Keyring and the Mac OS X Keychain. The script <strong>msmtp-gnome-tool.py</strong> can be used to manage Gnome Keyring passwords for msmtp. To manage Mac OS X Keychain passwords, use the Keychain Access GUI application. The <em>account name</em> is same as the msmtp <strong>user</strong> argument. The <em>keychain item name</em> is <strong>smtp://&lt;hostname&gt;</strong> where <strong>&lt;hostname&gt;</strong> matches the msmtp <strong>host</strong> argument.</p><p>Available authentication methods are <em>plain</em>, <em>scram-sha-1</em>, <em>cram-md5</em>, <em>gssapi</em>, <em>external</em>, <em>digest-md5</em>, <em>login</em>, and <em>ntlm</em>. Note that one or more of these methods may be unavailable due to lack of support in the underlying authentication library. Use the <strong>--version</strong> option to find out which methods are supported.</p><p>The <em>plain</em> and <em>login</em> methods send your authentication data in cleartext over the net, and the <em>ntlm</em> method may be vulnerable to attacks. These methods should therefore only be used together with the <strong>tls</strong> command.</p><p>If you don't choose the method yourself, msmtp chooses the best secure method that the SMTP server supports. Secure means that your authentication data will not be sent in cleartext (or in an easily decryptable form) over the net. For TLS encrypted connections, every authentication method is secure in this sense. If TLS is not active, only gssapi, scram-sha-1, and cram-md5 are secure in this sense.</p><p>The <em>external</em> is special: the actual authentication happens outside of the SMTP protocol, typically by sending a TLS client certificate (see the <strong>tls_cert_file</strong> command). The <em>external</em> method merely confirms that this authentication succeeded for the given user (or, if no user name is given, confirms that authentication succeeded). This authentication method is not chosen automatically; you have to request it manually.</p>
  </dd>
  <dt>
    user [<em>username</em>]
  </dt>
  <dd>
    <p>Set your user name for SMTP authentication. An empty argument unsets the user name. Authentication must be activated with the <strong>auth</strong> command.</p>
  </dd>
  <dt>
    password [<em>secret</em>]
  </dt>
  <dd>
    <p>Set your password for SMTP authentication. An empty argument unsets the password. Authentication must be activated with the <strong>auth</strong> command. If no password is set but one is needed during authentication, msmtp will try to find it. First, if <strong>passwordeval</strong> is set, it will evaluate that command. If <strong>passwordeval</strong> is not set, msmtp will try to find the password in ~/.netrc. If that fails, it will try to find it in SYSCONFDIR/netrc (use <strong>--version</strong> to find out what SYSCONFDIR is on your platform). If that fails, it will try to get it from a system specific keychain (if available). If that fails but a controlling terminal is available, msmtp will prompt you for it.</p>
  </dd>
  <dt>
    passwordeval [<em>eval</em>]
  </dt>
  <dd>
    <p>Set your password for SMTP authentication to the output (stdout) of the execution of <em>eval</em>.</p>
  </dd>
  <dt>
    ntlmdomain [<em>domain</em>]
  </dt>
  <dd>
    <p>Set a domain for the <em>ntlm</em> authentication method. The default is to use no domain (equivalent to an empty argument), but some servers seem to require one, even if it is an arbitrary string.</p>
  </dd>
  <dt>
    tls [(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>This command enables or disables TLS (also known as SSL) encrypted connections to the SMTP server. Not every server supports TLS.</p><p>With TLS/SSL, the connection with the SMTP server will be protected against eavesdroppers and man-in-the-middle attacks. To use TLS/SSL, it is required to either use the <strong>tls_trust_file</strong> command (highly recommended) or to disable <strong>tls_certcheck</strong>.</p>
  </dd>
  <dt>
    tls_starttls [(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>By default, TLS encryption is activated using the STARTTLS SMTP command.  By disabling this, TLS encryption is immediately started instead (this is known as SMTP tunneled through TLS/SSL). The default port is set to 465 for this mode of operation.</p><p>For compatibility with older versions, <strong>tls_nostarttls</strong> is accepted as an alias for <strong>tls_starttls off</strong>.</p>
  </dd>
  <dt>
    tls_trust_file [<em>file</em>]
  </dt>
  <dd>
    <p>This command activates strict server certificate verification.</p><p>The filename must be the absolute path name of a file in PEM format containing one or more certificates of trusted Certification Authorities (CAs).</p><p>On Debian based systems, you can install the <strong>ca-certificates</strong> package and use the file <strong>/etc/ssl/certs/ca-certificates.crt</strong>.</p>
  </dd>
  <dt>
    tls_crl_file [<em>file</em>]
  </dt>
  <dd>
    <p>This command sets or unsets a certificate revocation list (CRL) file for TLS, to be used during strict server certificate verification as enabled by the <strong>tls_trust_file</strong> command. This allows the verification procedure to detect revoked certificates.</p>
  </dd>
  <dt>
    tls_fingerprint [<em>fingerprint</em>]
  </dt>
  <dd>
    <p>This command sets or unsets the fingerprint of a particular TLS certificate. This certificate will then be trusted, regardless of its contents. This can be used to trust broken certificates (e.g. with a non-matching hostname) or in situations where <strong>tls_trust_file</strong> cannot be used for some reason.</p><p>You can give either an SHA1 (recommended) or an MD5 fingerprint in the format 01:23:45:67:...</p><p>You can use <strong>--serverinfo --tls --tls-certcheck=off</strong> to get the peer certificate's fingerprints.</p>
  </dd>
  <dt>
    tls_key_file [<em>file</em>]
  </dt>
  <dd>
    <p>This command (together with the <strong>tls_cert_file</strong> command) enables msmtp to send a client certificate to the SMTP server if requested. The file must contain the private key of a certificate in PEM format. An empty argument disables this feature.</p>
  </dd>
  <dt>
    tls_cert_file [<em>file</em>]
  </dt>
  <dd>
    <p>This command (together with the <strong>tls_key_file</strong> command) enables msmtp to send a client certificate to the SMTP server if requested. The file must contain a certificate in PEM format. An empty argument disables this feature.</p>
  </dd>
  <dt>
    tls_certcheck [(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>This command enables or disables checks for the server certificate.</p><p><strong>WARNING</strong>: When the checks are disabled, TLS/SSL sessions will be vulnerable to man-in-the-middle attacks!</p><p>For compatibility with older versions, <strong>tls_nocertcheck</strong> is accepted as an alias for <strong>tls_certcheck off</strong>.</p>
  </dd>
  <dt>
    tls_force_sslv3 [(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>Force TLS/SSL version SSLv3. This might be needed to use SSL with some old and broken servers. Do not use this unless you have to.</p>
  </dd>
  <dt>
    tls_min_dh_prime_bits [<em>bits</em>]
  </dt>
  <dd>
    <p>Set or unset the minimum number of Diffie-Hellman (DH) prime bits that msmtp will accept for TLS sessions.  The default is set by the TLS library and can be selected by using an empty argument to this command.  Only lower the default (for example to 512 bits) if there is no other way to make TLS work with the remote server.</p>
  </dd>
  <dt>
    tls_priorities [<em>priorities</em>]
  </dt>
  <dd>
    <p>Set the priorities for TLS sessions.  The default is set by the TLS library and can be selected by using an empty argument to this command.  Currently this command only works with sufficiently recent GnuTLS releases. See the GnuTLS documentation of the <strong>gnutls_priority_init</strong> function for a description of the <em>priorities</em> string.</p>
  </dd>
  <dt>
    dsn_notify (<em>off</em>|<em>condition</em>)
  </dt>
  <dd>
    <p>This command sets the condition(s) under which the mail system should send DSN (Delivery Status Notification) messages. The argument <em>off</em> disables explicit DSN requests, which means the mail system decides when to send DSN messages. This is the default. The <em>condition</em> must be <em>never</em>, to never request notification, or a comma separated list (no spaces!) of one or more of the following: <em>failure</em>, to request notification on transmission failure, <em>delay</em>, to be notified of message delays, <em>success</em>, to be notified of successful transmission. The SMTP server must support the DSN extension.</p>
  </dd>
  <dt>
    dsn_return (<em>off</em>|<em>amount</em>)
  </dt>
  <dd>
    <p>This command controls how much of a mail should be returned in DSN (Delivery Status Notification) messages. The argument <em>off</em> disables explicit DSN requests, which means the mail system decides how much of a mail it returns in DSN messages. This is the default. The <em>amount</em> must be <em>headers</em>, to just return the message headers, or <em>full</em>, to return the full mail.  The SMTP server must support the DSN extension.</p>
  </dd>
  <dt>
    domain <em>argument</em>
  </dt>
  <dd>
    <p>Use this command to set the argument of the SMTP EHLO (or LMTP LHLO) command. The default is <em>localhost</em>, which is stupid but usually works. Try to change the default if mails get rejected due to anti-SPAM measures. Possible choices are the domain part of your mail address (provider.example for joe@provider.example) or the fully qualified domain name of your host (if available).</p>
  </dd>
  <dt>
    keepbcc [(<em>on</em>|<em>off</em>)]
  </dt>
  <dd>
    <p>This command controls whether to remove or keep the Bcc header when sending a mail. The default is to remove it.</p>
  </dd>
  <dt>
    logfile [<em>file</em>]
  </dt>
  <dd>
    <p>An empty argument disables logging (this is the default).</p><p>When logging is enabled by choosing a log file, msmtp will append one line to the log file for each mail it tries to send via the account that this log file was chosen for.</p><p>The line will include the following information: date and time, host name of the SMTP server, whether TLS was used, whether authentication was used, authentication user name (only if authentication is used), envelope-from address, recipient addresses, size of the mail as transferred to the server (only if the delivery succeeded), SMTP status code and SMTP error message (only in case of failure and only if available), error message (only in case of failure and only if available), exit code (from sysexits.h; EX_OK indicates success).</p><p>If the filename is a dash (-), msmtp prints the log line to the standard output.</p>
  </dd>
  <dt>
    syslog [(<em>on</em>|<em>off</em>|<em>facility</em>)]
  </dt>
  <dd>
    <p>Enable or disable syslog logging. The facility can be one of LOG_USER, LOG_MAIL, LOG_LOCAL0, ..., LOG_LOCAL7. The default is LOG_USER.</p><p>Each time msmtp tries to send a mail via the account that contains this syslog command, it will log one entry to the syslog service with the chosen facility.</p><p>The line will include the following information: host name of the SMTP server, whether TLS was used, whether authentication was used, envelope-from address, recipient addresses, size of the mail as transferred to the server (only if the delivery succeeded), SMTP status code and SMTP error message (only in case of failure and only if available), error message (only in case of failure and only if available), exit code (from sysexits.h; EX_OK indicates success).</p>
  </dd>
  <dt>
    aliases [<em>file</em>]
  </dt>
  <dd>
    <p>Replace local recipients with addresses in the aliases file.  The aliases file is a plain text file containing mappings between a local address and a list of domain addresses.  A local address is defined as one without an `@' character and a domain address is one with an `@' character.  The mappings are of the form:</p>
<pre>
    local: someone@example.com, person@domain.example
</pre>
<p>Multiple domain addresses are separated with commas.  Comments start with `#' and continue to the end of the line.</p><p>The local address <em>default</em> has special significance and is matched if the local address is not found in the aliases file.  If no <em>default</em> alias is found, then the local address is left as is.</p><p>An empty argument to the aliases command disables the replacement of local addresses.  This is the default.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p><strong>Configuration file</strong></p><p># Set default values for all following accounts.</p><p>defaults</p><p>tls on</p><p>tls_trust_file /etc/ssl/certs/ca-certificates.crt</p><p>logfile ~/.msmtp.log</p><p># A freemail service</p><p>account freemail</p><p>host smtp.freemail.example</p><p>from joe_smith@freemail.example</p><p>auth on</p><p>user joe.smith</p><p>password secret</p><p># A second mail address at the same freemail service</p><p>account freemail2 : freemail</p><p>from joey@freemail.example</p><p># The SMTP server of the provider.</p><p>account provider</p><p>host mail.provider.example</p><p>from smithjoe@provider.example</p><p>auth on</p><p>user 123456789</p><p>passwordeval gpg -d ~/.msmtp.password.gpg</p><p># Set a default account</p><p>account default : provider</p><p><strong>Using msmtp with Mutt</strong></p><p>Create a configuration file for msmtp and add the following lines to your Mutt configuration file:</p><p><strong>set sendmail="/path/to/msmtp"</strong></p><p><strong>set use_from=yes</strong></p><p><strong>set realname="Your Name"</strong></p><p><strong>set from=you@example.com</strong></p><p><strong>set envelope_from=yes</strong></p><p>The envelope_from=yes option lets Mutt use the <strong>-f</strong> option of msmtp. Therefore msmtp chooses the first account that matches the from address you@example.com.</p><p>Alternatively, you can use the <strong>-a</strong> option:</p><p><strong>set sendmail="/path/to/msmtp -a my-account"</strong></p><p>Or set everything from the command line (but note that you cannot set a password this way):</p><p><strong>set sendmail="/path/to/msmtp --host=mailhub -f me@example.com --tls</strong> <strong>--tls-trust-file=trust.crt"</strong></p><p>If you have multiple mail accounts in your msmtp configuration file and let Mutt use the <strong>-f</strong> option to choose the right one, you can easily switch accounts in Mutt with the following Mutt configuration lines:</p><p><strong>macro generic&nbsp;&lt;esc&gt;1 &nbsp;:set from=you@example.com</strong></p><p><strong>macro generic&nbsp;&lt;esc&gt;2 &nbsp;:set from=you@your-employer.example</strong></p><p><strong>macro generic&nbsp;&lt;esc&gt;3 &nbsp;:set from=you@some-other-provider.example</strong></p><p><strong>Using msmtp with mail</strong></p><p>Define a default account, and put the following in your ~/.mailrc:</p><p><strong>set sendmail="/path/to/msmtp"</strong></p><p><strong>Aliases file</strong></p><p># Example aliases file</p><p># Send root to Joe and Jane</p><p>root: joe_smith@example.com, jane_chang@example.com</p><p># Send cron to Mark</p><p>cron: mark_jones@example.com</p><p># Send everything else to admin</p><p>default: admin@domain.example</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    SYSCONFDIR/msmtprc
  </dt>
  <dd>
    <p>System configuration file. Use <strong>--version</strong> to find out what SYSCONFDIR is on your platform.</p>
  </dd>
  <dt>
    ~/.msmtprc
  </dt>
  <dd>
    <p>User configuration file.</p>
  </dd>
  <dt>
    ~/.netrc and SYSCONFDIR/netrc
  </dt>
  <dd>
    <p>The netrc file contains login information. If a password is not found in the configuration file, msmtp will search it in ~/.netrc and SYSCONFDIR/netrc before prompting the user for it. The syntax of netrc files is described in <strong>netrc</strong>(5) or <strong>ftp</strong>(1).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    USER, LOGNAME
  </dt>
  <dd>
    <p>These variables override the user's login name when constructing an envelope-from address. LOGNAME is only used if USER is unset.</p>
  </dd>
  <dt>
    TMPDIR
  </dt>
  <dd>
    <p>Directory to create temporary files in. If this is unset, a system specific default directory is used.</p><p>A temporary file is only created when the <strong>-t/--read-recipients</strong> or <strong>--read-envelope-from</strong> option is used. The file is then used to buffer the headers of the mail (but not the body, so the file won't get very large).</p>
  </dd>
  <dt>
    EMAIL, SMTPSERVER
  </dt>
  <dd>
    <p>These environment variables are used only if neither <strong>--host</strong> nor <strong>--account</strong> is used and there is no default account defined in the configuration files. In this case, the host name is taken from SMTPSERVER, and the envelope from address is taken from EMAIL, unless overridden by <strong>--from</strong> or <strong>--read-envelope-from</strong>. Currently SMTPSERVER must contain a plain host name (no URL), and EMAIL must contain a plain address (no names or additional information).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>msmtp was written by Martin Lambers &lt;marlam@marlam.de&gt;.</p><p>Other authors are listed in the AUTHORS file in the source distribution.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO msmtp&hellip;</h2>
        <div class="sectioncontent">
<p><strong>mutt</strong>(1), <strong>mail</strong>(1), <a href="../man8/sendmail.8.html"><strong>sendmail</strong>(8)</a>, <strong>netrc</strong>(5) or <strong>ftp</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="msktutil.1.html"><span aria-hidden="true">&larr;</span> msktutil.1: Fetches and manages kerberos keytabs in an active directory environment</a></li>
   <li class="next"><a href="msort.1.html">msort.1: Sort records in complex ways <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
