<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>firmdl3: A firmware downloader for the rcx.  version 3.0.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A firmware downloader for the rcx.  version 3.0.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="firmdl3 (1) manual">
  <meta name="twitter:description" content="A firmware downloader for the rcx.  version 3.0.">
  <meta name="twitter:image" content="https://www.carta.tech/images/brickos-firmdl3-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/firmdl3.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="firmdl3 (1) manual" />
  <meta property="og:description" content="A firmware downloader for the rcx.  version 3.0." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/brickos-firmdl3-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">firmdl3<small> (1)</small></h1>
        <p class="lead">A firmware downloader for the rcx.  version 3.0.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/firmdl3.1.html">
      <span itemprop="name">firmdl3: A firmware downloader for the rcx.  version 3.0.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/brickos/">
      <span itemprop="name">brickos</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/firmdl3.1.html">
      <span itemprop="name">firmdl3: A firmware downloader for the rcx.  version 3.0.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>firmdl3</strong> [<em>options</em>]<em> srecfile</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This manual page documents the <strong>firmdl3</strong> kernel download command.</p><p><strong>firmdl3</strong> is a program which is used to download the brickOS kernel (firmware). <strong>firmdl3</strong> Supports single and quad rate downloading (quad-rate is default).</p><p>Quad-rate downloading is a feature that significantly reduces firmware download times.  It is implemented on top of a fast serial protocol that has a 2x baud rate with no complements or parity bits.  The fast protocol is enabled by a short firmware stub that reconfigures some control registers and tweaks some ROM program state.  Once the firmware stub is downloaded and executed, the ROM responds to the fast serial protocol, which the downloader then uses to transfer the actual firmware file. Because the initial firmware stub is small, all but the most trivial programs see a download time improvement when using quad-speed downloading.</p><p>The caveat to using quad-speed downloading is its sensitivity to lighting conditions.  Getting quad-speed downloading to work right might require some trial and error.  In addition to avoiding harsh lighting conditions, it is important to place the RCX around 4-12 inches from the IR tower.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>This program follows the usual GNU command line syntax, with long options starting with two dashes (`-'). The options supported by <strong>firmdl3</strong> are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Show built-in help (summery of options)</p>
  </dd>
  <dt>
    <p><strong>-f, --fast</strong></p>
  </dt>
  <dd>
    <p>Use 'fast' (4x) download algorithm (default)</p>
  </dd>
  <dt>
    <p><strong>-s, --slow</strong></p>
  </dt>
  <dd>
    <p>Use 'slow' (1x) download algorithm (Use if experiencing download problems)</p>
  </dd>
  <dt>
    <p><strong>--tty={ttydevice}</strong></p>
  </dt>
  <dd>
    <p>Specify serial serial tty where IR tower is connected.</p><p>NOTE: The environment variable RCXTTY may be used in place of -tty</p>
  </dd>
  <dt>
    <p><strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Enable debugging. (Mostly displays raw bytes).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p><strong>firmdl3</strong> will respond to the environment variable RCXTTY.  This should be set to the serial device to which the IR tower is connected.  Use of RCXTTY is equivalent the using the -tty command-line option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p><strong>firmdl3</strong> is a simple command to use.  The following examples show most of the uses.</p><p><strong>Ex1:</strong> download the brickOS kernal to ttyS0.</p>
<pre>
   $ firmdl3 -tty=/dev/ttyS0 /usr/lib/brickos/brickOS.srec
   Transferring "Fast Download Image" to RCX...
   100%
   Transferring "/usr/lib/brickos/brickOS.srec" to RCX...
   100%
   $
</pre>
<p><strong>Ex2:</strong> download the brickOS kernal to ttyS1 (set env var 1st).</p>
<pre>
   $ export RCXTTY=/dev/ttyS1
   $ firmdl3 /usr/lib/brickos/brickOS.srec
   Transferring "Fast Download Image" to RCX...
   100%
   Transferring "/usr/lib/brickos/brickOS.srec" to RCX...
   100%
   $
</pre>
<p><strong>Ex3:</strong> download the brickOS kernal using slow protocol (assumes RCXTTY is already set).</p>
<pre>
   $ firmdl3 --slow /usr/lib/brickos/brickOS.srec
   Transferring "/usr/lib/brickos/brickOS.srec" to RCX...
   100%
   $
</pre>
<p>NOTE: the missing indication of the "Fast Download Image" being sent.</p><p>We'll leave the experiment of running <strong>firmdl3</strong> with --debug set as an exercise for you our reader... (You really interested in seeing all the bytes fly by? ;-)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERROR MESSAGES</h2>
        <div class="sectioncontent">
<p>(excerpt from brickOS HOWTO)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>delete firmware failed</strong></p>
  </dt>
  <dd>
    <p>Because of a limitation in the Lego firmware, <strong>firmdl3</strong> cannot delete LegOS. Instead, before downloading the new firmware, you must first stop the old LegOS program, and then hold down the Prgm button while hitting the On/Off switch. This will delete the old LegOS firmware, allowing a new download. Alternately, if you see no green light on the IR box and get this error message, it may indicate you have a dead battery in the IR tower.</p>
  </dd>
  <dt>
    <p><strong>/dev/ttyS0: Permission denied, com1: Permission denied, or a similar message.</strong></p>
  </dt>
  <dd>
    <p>The first part of the error message is the output port that <strong>firmdl3</strong> is trying to use. This can mean two things. Either you have specified the wrong device or you have specified the correct device but do not have permission to access it. If it is an access problem, speak to your sysadmin. If not, you can use the --tty argument to specify another device. For example, to specify the standard device under linux, try \'firmdl3 --tty /dev/ttyS0\'. Under cygwin, you probably probably want to use \'firmdl3 --tty com1\'. If you discover that this is the case, you may wish to recompile <strong>firmdl3</strong> to make your setting the default.</p>
  </dd>
  <dt>
    <p><strong>/dev/ttyS0: Input/output error or a similar message.</strong></p>
  </dt>
  <dd>
    <p>You forgot to plug the tower in, most likely.</p>
  </dd>
  <dt>
    <p><strong>unlock firmware failed</strong></p>
  </dt>
  <dd>
    <p>This indicates that there was a slight corruption in the download. Clear brickOS and download it again.</p>
  </dd>
  <dt>
    <p><strong>no response from RCX</strong></p>
  </dt>
  <dd>
    <p>This error should be called "you forgot to turn on your RCX, moron." If I hadn't done it about 10 million times, I'd submit the patch to change the error myself.</p>
  </dd>

</dl>
<p>If <strong>firmdl3</strong> gives you repeated problems, you may want to try using the --slow argument, which will make your download much slower but can correct for certain errors caused by ambient light.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO firmdl3&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/dll.1.html"><strong>dll</strong>(1)</a></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Laurent Demailly, Allen Martin, Markus Noga, Gavin Smyth, and Luis Villa all contributed something to some version of <strong>firmdl3</strong>.</p><p><strong>firmdl3 was written by:</strong> Kekoa Proudfoot</p><p>&lt;kekoa@graphics.stanford.edu&gt; - 10/13/99</p><p>This manual page was written by Stephen M Moraco &lt;stephen@debian.org&gt;, for the Debian GNU/Linux system (but may be used by others).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="firewalld.1.html"><span aria-hidden="true">&larr;</span> firewalld.1: Dynamic firewall manager</a></li>
   <li class="next"><a href="first.1.html">first.1: Yagi-uda project quick antenna builder <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
