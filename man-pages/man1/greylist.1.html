<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>greylist: Command line interface to greylistd(8)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Command line interface to greylistd(8)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="greylist (1) manual">
  <meta name="twitter:description" content="Command line interface to greylistd(8)">
  <meta name="twitter:image" content="https://www.carta.tech/images/greylistd-greylist-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/greylist.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="greylist (1) manual" />
  <meta property="og:description" content="Command line interface to greylistd(8)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/greylistd-greylist-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">greylist<small> (1)</small></h1>
        <p class="lead">Command line interface to greylistd(8)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/greylist.1.html">
      <span itemprop="name">greylist: Command line interface to greylistd(8)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/greylistd/">
      <span itemprop="name">greylistd</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/greylist.1.html">
      <span itemprop="name">greylist: Command line interface to greylistd(8)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>greylist </strong>{<strong> -h </strong>|<strong> --help </strong>|<strong> help </strong>}</p><p><strong>greylist </strong> <em>operation ...</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This program provides a command line interface to <a href="../man8/greylistd.8.html"><strong>greylistd</strong>(8)</a>; please refer to that manual page for more information on the purpose and functionality of this program.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>In the following discussion, <em>data...</em> typically refers to the following <em>triplet</em> of information:</p>
<pre>
  <em>&lt;sending host's IP address&gt; &lt;sender@address&gt; &lt;recipient@address&gt;</em>
</pre>
<p>The following operations are available:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>add</strong> [<strong>--white</strong>|<strong>--grey</strong>|<strong>--black</strong>] <em>data...</em>
  </dt>
  <dd>
    <p>Add <em>data</em> to the corresponding list (<strong>white</strong> if unspecified). If the <em>triplet</em> of a future mail deliveriy (subject to timeouts) matches this data, the idea is that the message would be accepted, temporarily rejected, or permanently rejected, respectively.</p>
  </dd>
  <dt>
    <strong>delete</strong> <em>data...</em>
  </dt>
  <dd>
    <p>Remove <em>data</em> from all lists.  If the data exists in any list, the command returns an exit status of 0, otherwise -1.  A message is printed on standard output indicating the action taken.</p>
  </dd>
  <dt>
    <strong>check</strong> [<strong>--white</strong>|<strong>--grey</strong>|<strong>--black</strong>] <em>data...</em>
  </dt>
  <dd>
    <p>Check the current status of <em>data</em>, i.e. if a message delivery would succeed if its <em>triplet</em> matched this data.  If a list is specified, the word "true" or "false" is printed, indicating whether the data was in the corresponding list; the exit status is also set accordingly.  Otherwise, one of the words "white", "grey", and "black" is written on standard output, and the exit status is 0, 1, or 2, respectively.</p><p>NOTE: This operation is non-intrusive, and thus does not update any of the greylist data.  So, for instance, if the <em>data</em> is currently in the "grey" list, but its minimum retry time (<strong>retryMin</strong>) has elapsed, the text "white" would be printed.  However, unless an <strong>update</strong> takes place prior to the <strong>retryMax</strong> timeout, the <em>data</em> would still expire from the "grey" list.</p>
  </dd>
  <dt>
    <strong>update</strong> [<strong>--white</strong>|<strong>--grey</strong>|<strong>--black</strong>] <em>data...</em>
  </dt>
  <dd>
    <p>Same, but also update the greylist data accordingly.  So if <em>data</em> is currently greylisted, but the minimum retry time <strong>retryMin</strong> has elapsed since it was first seen, <em>data</em> is moved to the "white" list.</p><p>This operation would normally be used by mail transport agents (MTAs).</p>
  </dd>
  <dt>
    <strong>stats</strong>
  </dt>
  <dd>
    <p>Print some statistics on greylist utilization and hits.</p>
  </dd>
  <dt>
    <strong>mrtg</strong>
  </dt>
  <dd>
    <p>Print statistics on greylist and whitelist hits in a format that MRTG can use as an External Monitoring Script.</p>
  </dd>
  <dt>
    <strong>list</strong> [<strong>--white</strong>] [<strong>--grey</strong>] [<strong>--black</strong>]
  </dt>
  <dd>
    <p>Print available (original/unhashed) data items from the corresponding list(s).</p><p>NOTE: Internally, <a href="../man8/greylistd.8.html"><strong>greylistd</strong>(8)</a> hashes the provided data into a single 32-bit value for efficiency.  Prior to version 0.6, the original data was not retained; as of version 0.6, data is saved if the "savetriplets" setting in the [data] section of the configuration file is "true".  Only data items (i.e. triplets) that have been seen while this setting were enabled can be listed.</p>
  </dd>
  <dt>
    <strong>save</strong>
  </dt>
  <dd>
    <p>Force greylist data to be immediately saved (synchronized) to the filesystem.</p><p>Data is also saved after any operation if a certain <em>update</em> interval (default is 300 seconds/5 minutes) has elapsed since the last save, and there are no pending requests to <a href="../man8/greylistd.8.html"><strong>greylistd</strong>(8)</a>.</p>
  </dd>
  <dt>
    <strong>reload</strong>
  </dt>
  <dd>
    <p>Save greylist data to files, then reload configuration and data.</p>
  </dd>
  <dt>
    <strong>clear</strong> [<strong>--white</strong>] [<strong>--grey</strong>] [<strong>--black</strong>]
  </dt>
  <dd>
    <p>Clear all items in the specified list(s), or all lists if none is specified.</p><p>If the whitelist is cleared, <em>all</em> new data trilplets will initially be in a "grey" state.</p><p>Use with caution!</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    greylist add --white 1.2.3.4 mailinglist@somewhere subscriber@yourhost
  </dt>
  <dd>
    <p>Whitelists messages received from the IP address 1.2.3.4 on behalf of &lt;mailinglist@somewhere&gt; to &lt;subscriber@yourhost&gt;.</p>
  </dd>
  <dt>
    greylist check --grey 1.2.3.4 mailinglist@somewhere subscriber@yourhost
  </dt>
  <dd>
    <p>Prints "true" or "false" on standard output, depending on whether mail received from the IP address 1.2.3.4 on behalf of &lt;mailinglist@somewhere&gt; to &lt;subscriber@yourhost&gt; should be deferred or not, respectively.  The data is neither recorded nor changed to a "white" state.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<h3>/var/run/greylistd/socket</h3>
<p>The UNIX domain socket providing the main interface to "greylistd".</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This python script and manual page is written by Tor Slettnes, originally for Debian GNU/Linux.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 2004-2005 Tor Slettnes.</p><ul>
<li><p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p></li>
</ul><p>On a Debian GNU/Linux system, the full text of the GPL is available in /usr/share/common-licenses/GPL.  It is also available at: 	http://www.gnu.org/licenses/gpl.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO greylist&hellip;</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>greylistd</strong>(8)
  </dt>
  <dd>
    <p>Greylisting daemon.</p>
  </dd>
  <dt>
    <strong>greylistd-setup-exim4</strong>(8)
  </dt>
  <dd>
    <p>Utility to add/remove support for greylistd in Exim 4 configuration files.</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gretlcli.1.html"><span aria-hidden="true">&larr;</span> gretlcli.1: Gnu regression, econometrics and time-series library</a></li>
   <li class="next"><a href="greytiff.1.html">greytiff.1: Convert a tiff file to monochrome using an icc device profile. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
