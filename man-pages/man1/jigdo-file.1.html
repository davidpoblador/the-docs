<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jigdo-file: Prepare files for jigsaw download (distribution of huge files, e.g. cd images).</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Prepare files for jigsaw download (distribution of huge files, e.g. cd images).">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="jigdo-file (1) manual">
  <meta name="twitter:description" content="Prepare files for jigsaw download (distribution of huge files, e.g. cd images).">
  <meta name="twitter:image" content="https://www.carta.tech/images/jigdo-file-jigdo-file-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/jigdo-file.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="jigdo-file (1) manual" />
  <meta property="og:description" content="Prepare files for jigsaw download (distribution of huge files, e.g. cd images)." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/jigdo-file-jigdo-file-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">jigdo-file<small> (1)</small></h1>
        <p class="lead">Prepare files for jigsaw download (distribution of huge files, e.g. cd images).</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/jigdo-file.1.html">
      <span itemprop="name">jigdo-file: Prepare files for jigsaw download (distribution of huge files, e.g. cd images).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/jigdo-file/">
      <span itemprop="name">jigdo-file</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/jigdo-file.1.html">
      <span itemprop="name">jigdo-file: Prepare files for jigsaw download (distribution of huge files, e.g. cd images).</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>jigdo-file</strong> <strong> </strong><em> COMMAND</em><strong></strong>  [ <strong>--image=</strong><em>cdrom.iso</em><strong></strong> ] [ <strong>--jigdo=</strong><em>cdrom.jigdo</em><strong></strong> ] [ <strong>--template=</strong><em>cdrom.template</em><strong></strong> ] [ <strong>--force</strong> ] [ <strong>MORE OPTIONS</strong> ] [ <strong></strong><em>FILES</em><strong></strong><em> ...</em> | <strong>--files-from=</strong><em>f</em><strong></strong> ]  <strong>Common COMMANDs: make-template,</strong> make-image, verify</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Jigsaw Download, or short jigdo, is a scheme developed primarily to make it easy to distribute huge filesystem images (e.g. CD (ISO9660) or DVD (UDF) images) over the internet, but it could also be used for other data which is awkward to handle due to its size, like audio/video files or large software packages.</p><p>jigdo tries to ensure that the large file (always called <em>image</em> from now on) is downloaded in small parts which can be stored on different servers. People who want to download the image do so by telling the <strong>jigdo</strong>(1) <strong>(NOT IMPLEMENTED YET)</strong> download tool to process one `<em>.jigdo</em>' file; using it, <strong>jigdo</strong> downloads the parts and reassembles the image. <strong>jigdo-file</strong> is used to prepare the files for download.</p><p>What makes jigdo special is that the parts that are used to reconstruct the image can have any size and content - they only need to be contained in a contiguous region anywhere in the image.</p><p>For example, if you wish to distribute an ISO9660 image which contains a snapshot of an FTP server, you can instruct <strong>jigdo-file</strong> to prepare the download data in such a way that when people use <strong>jigdo</strong> to download the image, <strong>jigdo</strong> actually fetches the individual files from the FTP server and assembles them into an exact copy of your image - during the download! (If the image is not a filesystem dump, you can use <a href="../man1/split.1.html"><strong>split</strong>(1)</a> to create the small parts that the image will be reassembled from.)</p><p>You are completely free to choose where the individual parts of the image are stored: They may be in entirely different directories on different servers (e.g. because of storage/bandwidth constraints), but this is invisible to the people downloading your image. The information about available servers only needs to be added to the `<em>.jigdo</em>' file by you before distributing it.</p><p>The `DETAILS' section below contains technical details on how jigdo works. The `EXAMPLES' section lists a number of common scenarios and may help you to get an idea of what jigdo is useful for.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Many options are specific to a particular <em>COMMAND</em>; the ones below are general or used by several commands. Further options are listed below with the individual commands. All options are silently ignored if they are not applicable to the current command. For any <em>BYTES</em> parameters to options, you can append one of the letters `k', `M' or `G' to the amount you specify, to indicate kilobytes, megabytes or gigabytes.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-h --help</strong></p>
  </dt>
  <dd>
    <p>Output short summary of commands and options.</p>
  </dd>
  <dt>
    <p><strong>-H --help-all</strong></p>
  </dt>
  <dd>
    <p>Output complete summary of commands and options.</p>
  </dd>
  <dt>
    <p><strong>-v --version</strong></p>
  </dt>
  <dd>
    <p>Output program version.</p>
  </dd>
  <dt>
    <p><strong>-i --image=</strong><em>cdrom.iso</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify location of the file containing the image. The image is the large file that you want to distribute.</p>
  </dd>
  <dt>
    <p><strong>-j --jigdo=</strong><em>cdrom.jigdo</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify location of the Jigsaw Download description file. The jigdo file is a human-readable file generated by <strong>jigdo-file</strong>, to which you add information about all the servers you are going to upload the files to. <strong>jigdo</strong> will download this file as the first step of retrieving the image.</p>
  </dd>
  <dt>
    <p><strong>-t --template=</strong><em>cdrom.template</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify location of the image `template' file. The template file is a binary file generated by <strong>jigdo-file</strong>, it contains information on how to reassemble the image and also (in compressed form) all the data from the image which was not found in any of the parts.</p><p>Depending on the command, each of these three files is used sometimes for input, sometimes for output. If the file is to be used for output for a particular command and the output file already exists, <strong>jigdo-file</strong> exits with an error, unless <strong>--force</strong> is present.</p><p>In most cases, you will only need to specify one out of <strong>-i</strong> <strong>-j</strong> <strong>-t</strong>, because any missing filenames will be deduced from the one you specify. This is done by first stripping any extension from the supplied name and then appending nothing (if deducing <strong>--image</strong>), `<em>.jigdo</em>' or `<em>.template</em>'.</p>
  </dd>
  <dt>
    <p><strong>-r --report=default|noprogress|quiet|grep</strong></p>
  </dt>
  <dd>
    <p>Control how verbose the program is, and what format the output has: <strong>noprogress</strong> is the same as <strong>default</strong> except that no `x% done' progress messages are printed. <strong>quiet</strong> restricts the output to what is absolutely necessary, mostly error messages. <strong>grep</strong> is only different from <strong>default</strong> for the <strong>make-template</strong> command: It enables output in a simple `<em>&lt;offset&gt;</em> &lt;file&gt;' format which is useful when searching for binary files in other binary files.</p>
  </dd>
  <dt>
    <p><strong>-f --force</strong></p>
  </dt>
  <dd>
    <p>Overwrite existent output files without complaining.</p>
  </dd>
  <dt>
    <p><strong>--no-force</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Refuse to overwrite existent output files.</p>
  </dd>
  <dt>
    <p><strong>-c --cache=</strong><em>jigdo-cache.db</em><strong></strong></p>
  </dt>
  <dd>
    <p><strong>jigdo-file</strong> usually needs to read the entire contents of all the <em>FILES</em> you specify. If you use it repeatedly (e.g. because you make a new CD image available daily), caching the file information will increase the program's speed significantly. The cache file is automatically created if it is not yet present. Data is usually both read from and written to it.</p>
  </dd>
  <dt>
    <p><strong>--no-cache</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Do not use a cache.</p>
  </dd>
  <dt>
    <p><strong>--cache-expiry=</strong><em>SECONDS</em><strong></strong></p>
  </dt>
  <dd>
    <p>Set maximum age of cache entries. Any entries older than this will be removed from the cache. The default is 30 days. You can append one of the letters `h', `d', `w', `m', `y' to denote hours, days, weeks, months or years, respectively. A value of `0' or `off' disables expiry, so that all entries will stay in the cache forever. See the section `CACHE FILES' below for more information.</p>
  </dd>
  <dt>
    <p><strong>--readbuffer=</strong><em>BYTES</em><strong></strong></p>
  </dt>
  <dd>
    <p>Set size of internal buffers. The default is 128k - if you have a fast disc, increasing this value may make <strong>jigdo-file</strong> faster, but in general, changing it is not necessary.</p>
  </dd>
  <dt>
    <p><strong>--md5-block-size=</strong><em>BYTES</em><strong></strong></p>
  </dt>
  <dd>
    <p><strong>Uninteresting internal parameter.</strong> Set size of blocks into which files are subdivided. The default is 128k. If you change it, any cache file will have to be regenerated. Internally, <strong>jigdo-file</strong> may choose to use a slightly larger or smaller value.</p>
  </dd>
  <dt>
    <p><strong>-T --files-from=</strong><em>file</em><strong></strong></p>
  </dt>
  <dd>
    <p>Read file and directory names from the specified file. If <em>file</em> is `-', read names from standard input. Each line in the file is taken as a name, so the names may contain spaces, but not newline characters. An empty line causes <strong>jigdo-file</strong> to stop reading from the file.</p><p><a href="../man1/find.1.html"><strong>find</strong>(1)</a> is a powerful tool for generating file lists, but make sure to use `<strong>find -type</strong> f' if possible - otherwise, if you instruct <strong>find</strong> to output both a filename and a symlink to that filename, <strong>jigdo-file</strong> will read the file contents twice.</p>
  </dd>
  <dt>
    <p><strong>--hex</strong></p>
  </dt>
  <dd>
    <p>Output checksums in hexadecimal instead of Base64-like format. This should not be used with the <strong>make-template</strong> command, because the resulting `<em>.jigdo</em>' file violates the `<em>.jigdo</em>' file format. Its intended use is to make <strong>jigdo-file</strong> more interoperable with other Unix shell utilities like <a href="../man1/md5sum.1.html"><strong>md5sum</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><strong>--no-hex</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Use jigdo's own Base64-like encoding of checksums.</p>
  </dd>
  <dt>
    <p><strong>--debug[=help|=all|=</strong><em>UNIT,~UNIT...</em><strong> ]</strong></p>
  </dt>
  <dd>
    <p>Switch on or off debugging output. Just `--debug' is equivalent to `--debug=all'. The argument is a comma-separated list of unit names for which debugging output is to be enabled, or disabled if the name is preceded by `~'. The special name `all' means all units. By default, debugging output is switched off except for the units `assert' and `general'. The exact list of available units for which debugging can be switched on depends on whether jigdo was compiled with debugging support - the list can be printed with `--debug=help'.</p>
  </dd>
  <dt>
    <p><strong></strong><em>FILES</em><strong></strong></p>
  </dt>
  <dd>
    <p>Names of files or directories to use as input. These are the parts that are contained in the image. In case one of the names is a directory, the program recursively scans the directory and adds all files contained in it. While doing this, it follows symbolic links, but avoids symlink loops.</p><p>If one of the filenames starts with the character `-', you must precede the list of files with `--'. A value of `-' has <strong>no</strong> special meaning in this list, it stands for a file whose name is a single hyphen.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS</h2>
        <div class="sectioncontent">
<p>The command name is the first non-option argument passed to <strong>jigdo-file</strong>. Most commands have short abbreviations as well as long names. <strong>The short command</strong> names should not be used in scripts - there may be incompatible changes to them in the future!</p><h3>MAKE-TEMPLATE, MT</h3>
<p>Reads <em>image</em> and <em>FILES</em>, creates `<em>.jigdo</em>' and `<em>.template</em>'. This is the main functionality of <strong>jigdo-file</strong>.</p><p>It is possible to specify both <strong>--image=-</strong> and <strong>--files-from=-</strong>. In this case, first the list of files is read from standard input until an empty line is encountered. Everything following it is assumed to be the image data. This can be useful if you use <strong>mkisofs</strong>(1) or similar programs that can output the complete image on their standard output, because there is no need to store the image on disc temporarily.</p><p>If a <em>FILES</em> argument contains the characters `//' (Unix) or `&#92;.&#92;' (Windows), this has special meaning. In the final jigdo file that users will download, each of the parts is referenced in the `[Parts]' section with a URI of the form `Label:some/filename'. (See `FORMAT OF .JIGDO FILES' below for a detailed description.) The `[Servers]' section gives a mapping of labels to servers on the internet, with lines like `Label=http://myserver.org/jigdofiles/'. Using this information, <strong>jigdo</strong> will create the final download URI for the part, `http://myserver.org/jigdofiles/some/filename'. Specifying `//' (or `&#92;.&#92;') in a file or directory name serves to `cut off' the names at the right directory level. For example, if the Unix path of one of your <em>FILES</em> is `/path/some/filename', you can tell <strong>jigdo-file</strong> to cut off after the `/path' by passing it the argument `/path//some/filename', or `/path//' if you want the whole directory scanned. The path names need not be absolute; `somedirectory//' is also possible.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--label </strong><em>Label=/path</em><strong></strong></p>
  </dt>
  <dd>
    <p>Specify a name to use as the label name for a path on disc. (Influences the output jigdo file.) If you used `//' in the <em>FILES</em> arguments as described above, <strong>jigdo-file</strong> will by default pick label names automatically (`A', `B' etc.). With this option, you can give labels more meaningful names. Note that the label name will only be used if one or more <em>FILES</em> begin with `/path//'.</p><p>Try to use label names that start with uppercase characters, to disambiguate them clearly from protocol names like `http', `ftp'.</p>
  </dd>
  <dt>
    <p><strong>--uri </strong><em>Label=http://some.server.org/</em><strong></strong></p>
  </dt>
  <dd>
    <p>By default, using <strong>--label</strong> as described above will cause lines of the form `Label=file:/path/' to be written to the `[Servers]' section of the output jigdo file. If you want to override the `file:' URI so that the line reads `Label=http://some.server.org/', you can do so by specifying <strong>--uri</strong> along with <strong>--label</strong>. Giving just <strong>--uri</strong> <em>Label=...</em><strong></strong> without the corresponding <strong>--label</strong> <em>Label=...</em><strong></strong> has no effect, and even if you specify both, an entry is only added to the `[Servers]' section if the label is referenced by at least one `[Parts]' entry.</p><p>The supplied value is not quoted by the program; if it contains characters such as space or any of the characters #"'nbsp;then you must quote it. (Under Unix, you may need to quote the value twice to also protect it from the shell, e.g. &#92;&#92;&#92;nbsp;or '&#92;&#92;' to get a single backslash in the URI.)</p><p>The mapping specified with an <strong>--uri</strong> option is ignored if it is already present in the output jigdo file.</p><p>Users of the Windows version may notice that the `&#92;' directory separators are converted into `/' in the `file:' URIs that are generated by default. This is done to increase cross-platform compatibility of `file:' - the <strong>print-missing</strong> command of the Windows version will automatically re-convert the characters when it prints the URIs. In case you supply your own `file:' URIs under Windows using <strong>--uri</strong>, you must also exchange `/' and `&#92;'.</p>
  </dd>
  <dt>
    <p><strong>-0 to -9</strong></p>
  </dt>
  <dd>
    <p>Set amount of compression in the output template file, from <strong>-0</strong> (no compression) to <strong>-9</strong> (maximum compression). The default is <strong>-9</strong>, which can make the template generation quite slow. By default, the compression algorithm used is the same as for <a href="../man1/gzip.1.html"><strong>gzip</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><strong>--gzip and --bzip2</strong></p>
  </dt>
  <dd>
    <p>Choose between the gzip and bzip2 compression algorithms. The default is gzip. Bzip2 usually gives a better compression ratio, but compression is significantly slower than with gzip.</p>
  </dd>
  <dt>
    <p><strong>--min-length=</strong><em>BYTES</em><strong></strong></p>
  </dt>
  <dd>
    <p>Set minimum length of a part for <strong>jigdo-file</strong> to look for it in the image. The default is 1k. Parts smaller than this will never be found in the image, so their data will be included in the template file. The search algorithm used requires such a minimum length, otherwise template generation could become extremely slow. If you know for sure that all your <em>FILES</em> are larger than a certain amount, you can increase <strong>jigdo-file</strong>'s speed slightly by specifying the amount with this option. There is a hard-wired absolute minimum of 256 bytes - anything lower will silently be set to 256.</p>
  </dd>
  <dt>
    <p><strong>--merge=</strong><em>FILE</em><strong></strong></p>
  </dt>
  <dd>
    <p>Include the contents of <em>FILE</em> in the output `<em>.jigdo</em>' file. The file can contain data which you want added to the output (for example, a `[Servers]' section with a list of your servers as entries), or it can be the jigdo file output by an earlier run of <strong>jigdo-file</strong>.</p><p>It is possible to specify the same file for input with <strong>--merge</strong> and for output with <strong>--jigdo</strong>. However, you will also need to use <strong>--force</strong> to make the program overwrite the old version of the jigdo file with the new one. <em>FILE</em> can be `-' for standard input.</p><p>When <strong>adding</strong> new information to the supplied file, <strong>jigdo-file</strong> will not insert new lines into the `[Parts]' section if an entry for the same MD5 checksum (but not necessarily with the same URI!) already exists, and it will not insert new lines into the `[Servers]' section if a completely identical entry already exists.</p><p>When <strong>reading in</strong> the existing <em>FILE</em>, the behaviour is slightly different: The program <strong>preserves</strong> entries in the `[Parts]' section with identical checksum, but different URIs. For completely identical entries (same checksum and URI), only one entry is preserved and the duplicates are removed. The `[Servers]' section is left untouched.</p>
  </dd>
  <dt>
    <p><strong>--image-section</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Causes <strong>jigdo-file</strong> to add an `[Image]' section to the `<em>.jigdo</em>' file.</p><p>As an exception, a new `[Image]' section is <strong>not</strong> added if you use <strong>--merge</strong> and the file to merge contains an `[Image]' section with a line which reads `Template-MD5Sum=' (end of line after the `='). In this case, the generated template data's MD5 checksum value is just added after the `=' of the first line of this form in the file - no whole new `[Image]' section is appended. This behaviour is useful because it allows you to pass via <strong>--merge</strong> an `[Image]' section with arbitrary content and then have the MD5 checksum automatically added by <strong>jigdo-file</strong>. The section `FORMAT OF .JIGDO FILES' below explains the `[Image]' section contents in greater detail.</p>
  </dd>
  <dt>
    <p><strong>--no-image-section</strong></p>
  </dt>
  <dd>
    <p>Do <strong>not</strong> include an `[Image]' section in the `<em>.jigdo</em>' file. You need to add one yourself if you use this option. However, doing that is not easy (you also need to add a `Template-MD5Sum' line with the correct checksum, or <strong>jigdo</strong> will complain), so use of this option is discouraged.</p>
  </dd>
  <dt>
    <p><strong>--servers-section</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Causes <strong>jigdo-file</strong> to add a `[Servers]' section to the `<em>.jigdo</em>' file. This default section uses `file:' URIs, which allows for immediate reassembly of the image from the local filesystem, and is also useful if you want to edit the file manually and replace the `file:' URIs with other URIs.</p>
  </dd>
  <dt>
    <p><strong>--no-servers-section</strong></p>
  </dt>
  <dd>
    <p>Do <strong>not</strong> add a `[Servers]' section at the end of the `<em>.jigdo</em>' file. Useful e.g. if you are going to append the section with a script.</p>
  </dd>
  <dt>
    <p><strong>--match-exec=</strong><em>SHELLCOMMAND</em><strong></strong></p>
  </dt>
  <dd>
    <p>Whenever a file is found in the image, execute the supplied command string by passing it to a shell. <strong>jigdo-file</strong> sets up a number of environment variables with information about the file match. For example, if the file `<em>/path//a/b/file</em>' was found in the image and `Label:a/b/file' is going to be written to the `<em>.jigdo</em>' file:</p>
<dl class='dl-vertical'>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p><strong>LABEL</strong>="Label" - Name of the label for the file. The example assumes that `<strong>--label</strong> Label=/path' was specified by you. In the absence of such an option, <strong>LABEL</strong> will be set but empty.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p><strong>LABELPATH</strong>="/path/" - The path corresponding to the label, or in other words, the prefix of the matched file's path that will <strong>not</strong> appear in the output `<em>.jigdo</em>' file. Is set even without any `<strong>--label</strong>' option present. Ends with a slash.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p><strong>MATCHPATH</strong>="a/b/" - The rest of the path, without the leafname of the matched file. Is either empty or ends with a slash.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p><strong>LEAF</strong>="file" - The leafname of the matched file.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p><strong>MD5SUM</strong>="lNVdUSqbo2yqm33webrhnw" - The md5sum of the matched file, in Base64-like format.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p><strong>FILE</strong>="/path//a/b/file" - For convenience, the complete path of the file. The variable is always set to $LABELPATH$MATCHPATH$LEAF.</p>
  </dd>

</dl>
<p>Please be careful to correctly quote the string passed to this option, otherwise your supplied command will not work with filenames that contain spaces. As an example, to create a backup of hard links to the matched files, use the following option: --match-exec='mkdir -p "${LABEL:-.}/$MATCHPATH" && ln -f "$FILE" "${LABEL:-.}/$MATCHPATH$LEAF"'</p><p>By default, no command is executed. Use --match-exec="" to remove a command string which was set with an earlier use of this option.</p>
  </dd>
  <dt>
    <p><strong>--greedy-matching</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Imagine that your image contains a <em>.tar</em> file which in turn contains another file <em>x</em>, and that you provide both the <em>.tar</em> and the files inside it on the command line. When <strong>jigdo-file</strong> scans the image, it encounters the beginning of the <em>.tar</em> file, and then the file <em>x</em>.</p><p>At this point, a decision must be made: Should the smaller file <em>x</em> be recorded as matched, or should it be ignored in favour of the larger (and thus better) match of the <em>.tar</em> file? Unfortunately, at this point it is not clear whether there will actually be a full match of the <em>.tar</em>, so by default, the program prefers the small match.</p>
  </dd>
  <dt>
    <p><strong>--no-greedy-matching</strong></p>
  </dt>
  <dd>
    <p>In the case where a large partial match is present and a shorter match has been confirmed, ignore the small match. (See the option above.)</p>
  </dd>

</dl>

<h3>MAKE-IMAGE, MI</h3>
<p>Reads `<em>.template</em>' and <em>FILES</em>, creates <em>image</em> (or `<em>imagename.tmp</em>'). Provides a rudimentary way of reassembling images - <strong>jigdo</strong> is usually better suited for this task. However, in contrast to <strong>jigdo</strong>, no `<em>.jigdo</em>' file is required.</p><p>If the image is to be written to a file (and not to standard output), it is possible to create the image in several steps, with several invocations of `<strong>jigdo-file</strong> make-image', as follows: You first invoke <strong>jigdo-file</strong>, specifying as many files as are available at this time. The program scans the files, and those that are contained in the image are copied to a temporary file, whose name is formed by appending `<em>.tmp</em>' to the image filename.</p><p>For all further files which could be parts of the image, you repeat this process. As soon as all parts are present, the temporary file will be truncated slightly (to delete some administrative data that <strong>jigdo-file</strong> appends at the end) and renamed to the final image name. The possibility of reassembling the image in several steps is especially useful for gathering files from removable media, e.g. several older CDs.</p><p>Scripts using <strong>make-image</strong> can detect whether image creation is complete by checking the exit status: 0 signals successful creation, whereas 1 means that more files need to be supplied. Other errors result in an exit status of 2 (`recoverable', e.g. file not found) or 3 (non-recoverable, e.g. write error).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--check-files</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> Whenever any part is copied to the image, re-check its checksum against the checksum stored in the template. It is recommended that you leave this switched on, even if it slows down image creation a bit.</p>
  </dd>
  <dt>
    <p><strong>--no-check-files</strong></p>
  </dt>
  <dd>
    <p>Do not check files' checksums when copying them to the image. This can be safely used when no cache file is used (which means that files will be written to the image immediately after being scanned) or the whole image is checked later with the <strong>verify</strong> command.</p>
  </dd>

</dl>

<h3>PRINT-MISSING, PM</h3>
<p>Reads `<em>.jigdo</em>', `<em>.template</em>' and (if present) `<em>imagename.tmp</em>', outputs a list of URIs still needed to completely reassemble the image.</p><p>Together with the <strong>make-image</strong> command, this provides most of the functionality of <strong>jigdo</strong> on the command line.</p><p>For each part that is not yet present in the temporary image file, the file checksum is looked up in the `[Parts]' section of the jigdo file. Any label in the corresponding entry is then expanded according to the label definitions in the `[Servers]' section and printed on standard output. <strong>jigdo</strong> allows you to specify several alternative locations for each label in this section, but <strong>print-missing</strong> will only output the first one for each missing part.</p><p>If the checksum cannot be found in the `[Parts]' section (this Should Not Happen unless you deleted that section), a lookup is instead made for `MD5Sum:<em>&lt;checksum&gt;</em>', just like with <strong>jigdo</strong>. (Thus, if you want to get rid of the `[Parts]' section, you can do so if you rename each part to its own checksum.)</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--uri </strong><em>Label=http://some.server.org/</em><strong></strong></p>
  </dt>
  <dd>
    <p>Override the entries in the `<em>.jigdo</em>' file for any label with a URI of your choice. With the example above, a `[Parts]' entry of `Label:some/filename' will cause the line `http://some.server.org/some/filename' to be printed.</p><p>The supplied value is not quoted by the program; if it contains characters such as space or any of the characters #"'nbsp;then you must quote it. (Under Unix, you may need to quote the value twice to also protect it from the shell, e.g. &#92;&#92;&#92;nbsp;or '&#92;&#92;' to get a single backslash in the URI.)</p>
  </dd>

</dl>

<h3>PRINT-MISSING-ALL, PMA</h3>
<p>Just like <strong>print-missing</strong>, this command outputs a list of URIs still needed to completely reassemble the image. However, <strong>all</strong> alternative download locations are printed instead of just one. In the output, the URIs for a file are separated from other files' URIs with blank lines. The <strong>--uri</strong> option has the same effect as for <strong>print-missing</strong>.</p>
<h3>VERIFY, VER</h3>
<p>Reads <em>image</em> (presumably generated with <strong>make-image</strong>) and `<em>.template</em>', checks for correct checksum of image.</p><p>The template data does not only contain checksums of the individual parts, but also of the image as a whole. <strong>make-image</strong> already performs a number of internal checks, but if you like, you can additionally check the image with this command.</p>
<h3>SCAN, SC</h3>
<p>Reads all the <em>FILES</em> and enters them into the cache, unless they are already cached. The <strong>--cache</strong> option must be present for this command.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--no-scan-whole-file</strong></p>
  </dt>
  <dd>
    <p><strong>This is the default.</strong> This only causes the first <strong>--md5-block-size</strong> bytes of each file to be read. If the cache is used later by <strong>jigdo-file make-image</strong>, the rest of the file will be read once these first bytes are recognized in the input image.</p>
  </dd>
  <dt>
    <p><strong>--scan-whole-file</strong></p>
  </dt>
  <dd>
    <p>Immediately read the entire file contents and store them in the cache.</p>
  </dd>

</dl>

<h3>MD5SUM, MD5</h3>
<p>Reads all the <em>FILES</em> and prints out MD5 checksums of their contents. This command is quite similar to <a href="../man1/md5sum.1.html"><strong>md5sum</strong>(1)</a>, except that the checksum is output in the Base64-like encoding which is also used elsewhere by <strong>jigdo-file</strong>.</p><p>The <em>FILES</em> arguments are processed in the same way as with the other commands, which means that recursion automatically takes place for any arguments that are directories, and that symbolic links are not listed except when the file(s) they point to are not reachable directly.</p><p>In the checksum list printed on standard output, only the part of the filename following any `//' (or `&#92;.&#92;' on Windows) is printed. Any <strong>--cache</strong> will be used for querying files' MD5 checksums and/or writing the checksums of scanned files.</p>
<h3>LIST-TEMPLATE, LS</h3>
<p>Reads a `<em>.template</em>' file and outputs low-level information about the image and all parts contained in it, including offset, length and checksum.</p><p>You can also use this command with temporary image files (by specifying something like <strong>--template=imagename.tmp</strong>) - in that case, the output also distinguishes between parts that have been written to the image and parts that haven't.</p><p>The exact output format may change incompatibly between different jigdo releases. The following different types of lines can be output. `have-file' only occurs for `<em>.tmp</em>' files, indicating a file that has already been successfully written to the temporary file:</p>
<pre>
in-template <em>offset-in-image length</em>
need-file <em>offset-in-image length file-md5sum filestart-rsyncsum</em>
have-file <em>offset-in-image length file-md5sum filestart-rsyncsum</em>
image-info <em>image-length image-md5sum rsyncsum-size</em>
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DETAILS</h2>
        <div class="sectioncontent">
<p>Jigsaw Download was created with the format of ISO9660 CD images in mind - however, the following also applies to many other filesystem formats, as well as to `tar' archives and uncompressed `zip' archives. A CD image contains both information for organizing the filesystem (header with disc name etc., ISO9660 directory data, data of extensions such as Joliet or RockRidge, zero padding) and the files contained on the CD. An important property that jigdo relies on is that each file is stored in one contiguous section of the image; it is not split into two or more parts.</p><p>When <strong>jigdo-file</strong> is given a number of files that might be contained in an image, it detects whether any of the files are present using a `rolling checksum' inspired by the one used by <a href="../man1/rsync.1.html"><strong>rsync</strong>(1)</a>. The resulting data is written to the `<em>.template</em>' file: If a section of the image could not be matched (e.g. it was directory information), the data is compressed and written directly to the template. However, if a matching file was found, its data is omitted from the template. Instead, only a reference (an MD5 checksum of the file) is inserted in the template.</p><p>Note that the template data only contains binary data, it does not contain any filenames or URIs, since it cannot be easily edited in case any of these values need to be changed. All that information is stored in the `<em>.jigdo</em>' file, a text file to which you can add URLs for your server(s). The jigdo file provides a mapping for each MD5 checksum to one or more alternative download locations for the corresponding part.</p><p>Apart from the mapping of MD5 sums to URIs, the jigdo file also contains an URI pointing to a download location for the template file. This way, the <strong>jigdo</strong> download tool only needs to be given one URI (that of the `<em>.jigdo</em>' file) to be able to download and reassemble the complete image.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMAT OF .JIGDO FILES</h2>
        <div class="sectioncontent">
<p>The overall format of `<em>.jigdo</em>' files follows that of `<em>.ini</em>' files, as also used by the Gnome and KDE projects for some data. The file is organized into sections, each of which is preceded by a line reading `[Sectionname]'. Within each section, lines have the form `Label=Value'. Such lines are also called `entries' below. All `<em>.jigdo</em>' files use UTF-8 as their character encoding.</p><p>Comments are introduced with the `#' character and extend to the end of the line. Whitespace is ignored at line start and end as well as to the left and right of section names and the `=' in entries. Furthermore, the jigdo utilities split up the text of the entry value (i.e. the part after the `=') into whitespace-separated words, much like the Unix shell. Single '' and double "" quotes can be used to prevent that e.g. URIs containing whitespace are split apart. Similarly, characters with special meaning (the characters '"#nbsp;and space/tab) must be quoted with nbsp;to appear in the value. As with the shell, there is a difference between '\~' and "\~": Within '\~', the characters "#nbsp;and whitespace lose their special meaning and become ordinary characters, whereas within "\~", only the characters '# and whitespace lose their special meaning - in other words, backslash escapes still work inside "\~", but not '\~'.</p><p>`<em>.jigdo</em>' files can optionally be compressed with <a href="../man1/gzip.1.html"><strong>gzip</strong>(1)</a>. <strong>jigdo-file</strong> always outputs uncompressed files, which you can compress yourself. <strong>jigdo-lite</strong> supports single uncompressed and compressed files.</p><p>(Behaviour which may change in the future and which should not be relied upon: <strong>jigdo</strong> additionally supports any number of concatenated plaintext and gzipped parts in the files - for example, you can compress a `<em>.jigdo</em>' file and then add a couple of lines of uncompressed data to the end.)</p><p>In all cases, the `<em>.gz</em>' extension should be removed from the filename - the tools will determine automatically from the file contents whether a file is compressed or not.</p><p>Below is a description of the individual section names used by jigdo.</p><h3>JIGDO SECTION</h3>

<pre>
[Jigdo]
Version=1.1
Generator=jigdo-file/1.0.0
</pre>
<p>Information about the version of the jigdo file format used, and the program that generated it. There should be one such section per `<em>.jigdo</em>' file.</p>
<h3>IMAGE SECTION</h3>

<pre>
[Image]
Filename=<em>"filename for saving on user's disc"</em>
Template=<em>"URI where to fetch template file"</em>
Template-MD5Sum=OQ8riqT1BuyzsrT9964A7g
ShortInfo=<em>single-line description of the image (200 characters max.)</em>
Info=<em>long description (5000 characters max.)</em>
</pre>
<p>The value for the `Template' entry can be either an URL (absolute or relative to the URL of the jigdo file) or a string of the form `<em>Label</em>:<em>pathname</em>' (<strong>UNIMPLEMENTED</strong>), as described below.</p><p>The `Template-MD5Sum' entry is added by <strong>jigdo-file</strong> and specifies the MD5 checksum of the generated `<em>.template</em>' file. It is used by <strong>jigdo</strong> to detect cases where the downloaded template data is corrupted or belongs to a different image.</p><p>Unlike other entry values, the values of the `ShortInfo' and `Info' entries are <strong>not</strong> split up into words, instead all quoting is preserved.</p><p>The value of the `Info' entry is special in that <strong>jigdo</strong>(1) can optionally parse XML markup it contains. If the markup has errors such as unbalanced/unsupported tags, the string is displayed literally, without XML parsing. Supported tags are &lt;b&gt;&lt;/b&gt; (bold), &lt;i&gt;&lt;/i&gt; (italic), &lt;tt&gt;&lt;/tt&gt; (typewriter font), &lt;u&gt;&lt;/u&gt; (underline), &lt;big&gt;&lt;/big&gt; (larger font), &lt;small&gt;&lt;/small&gt; (smaller font) and &lt;br/&gt; (linebreak). Supported entities include &lt; (`&lt;'), &gt; (`&gt;') and &amp; (`&'). Note that the whole `Info' entry must be on one line in the jigdo file.</p><p>This section may occur multiple times, but all except the first one will be ignored. This is useful e.g. when creating a `<em>.jigdo</em>' file for a DVD image when you already have `<em>.jigdo</em>' files for CDs with the same content: You can simply `[Include]' (see below) the CDs' jigdo files at the end of the DVD jigdo file, after its `[Image]' section.</p>
<h3>PARTS SECTION</h3>

<pre>
[Parts]
xJNkjrq8NYMraeGavUpllw=LabelA:part0
GoTResP2EC6Lb_2wTsqOoQ=LabelA:part1
kyfebwu6clbYqqWUdFIyaw=LabelB:some/path/part2
-J9UAimo0Bqg9c0oOXI1mQ=http://some.where.com/part3
</pre>
<p>All lines in the section, which provides the mapping from MD5 checksums to URIs, have the same format: On the left side of the `=' the checksum (encoded with a Base64-like encoding) is given, and on the right a string corresponding to the part with this checksum; either a complete URI or a string of the form `<em>Label</em>:<em>pathname</em>', which is expanded into one or more URIs by looking up the definition(s) for the <em>Label</em> in the `[Servers]' section.</p><p>In case a particular MD5 checksum cannot be found in any `[Parts]' section by <strong>jigdo</strong>, the program will perform a lookup for `MD5Sum:<em>&lt;checksum&gt;</em>', e.g. for `MD5Sum:xJNkjrq8NYMraeGavUpllw' if you deleted the line for `part0' above.</p><p>A checksum appearing multiple times in this section indicates alternative download locations for the part.</p><p>There may be any number of `[Parts]' sections in the file; they are all considered when looking up MD5 checksums.</p><p><strong>jigdo-file</strong> always puts the `[Parts]' section at the end of the file, and it even rearranges any file specified with <strong>--merge</strong> to have only one such section at the end. This is done to allow <strong>jigdo</strong> to display the information from the `[Image]' section while the rest of that file is still being downloaded.</p>
<h3>SERVERS SECTION</h3>

<pre>
[Servers]
LabelA=http://myserver.org/
LabelA=ftp://mirror.myserver.org/
LabelB=LabelC:subdirectory/
LabelC=http://some.where.com/jigdo/
</pre>
<p>All lines in the section, which provides the mapping from server labels to server locations, have the same format: On the left side of the `=' the label name is given, and on the right the value to expand the label name to.</p><p>A label name appearing multiple times in this section indicates alternative download locations for the parts that use the label in the `[Parts]' section. This notation makes it very easy to add mirrors to the jigdo file.</p><p>As shown by the example above, the label values may themselves reference other labels. In this case, the entry `LabelB:some/path/part2' in the `[Parts]' section will expand to `http://some.where.com/jigdo/subdirectory/some/path/part2'. Loops in the label definitions result in undefined behaviour and must be avoided.</p><p>There may be any number of `[Servers]' sections in the file; they are all considered when looking up labels. Either of `[Parts]' or `[Servers]', but not both, can be omitted from the jigdo file.</p>
<h3>COMMENT SECTION</h3>

<pre>
[Comment]
Any text, except that lines must not begin with `['.
</pre>
<p>All text following a `[Comment]' or `[comment]' line is ignored, up to the next line with a section label.</p>
<h3>INCLUDE DIRECTIVE</h3>

<pre>
[Include http://some.url/file.jigdo]
</pre>
<p>Lines of this form cause the content of the specified jigdo file to be downloaded and parsed just like the main jigdo file. The effect will be the same as copying the included file's contents into the file which contains the include directive. (Exception: Any relative URLs are always resolved using the URL of the `<em>.jigdo</em>' file that contains that relative URL.)</p><p>The URL argument can be an absolute or relative URL. Relative URLs are assumed to be relative to the URL of the jigdo file which contains the include directive. Includes can be nested, but it is an error to create a loop of include directives. It is <strong>not</strong> possible to use URLs of the form `<em>Label</em>:<em>pathname</em>'.</p><p>The URL cannot be quoted with "". Any `]' characters in the argument must be escaped as `%5D', and any spaces as `%20'.</p><p>Include directives are only supported by <strong>jigdo</strong>, they are ignored by <strong>jigdo-lite</strong>.</p><p>An include directive terminates any previous section, but it does not start a new one. In other words, a new section must always be started after the include line, <strong>jigdo</strong> does not allow normal entries to appear below the `[Include]'.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CACHE FILES</h2>
        <div class="sectioncontent">
<p>Any file specified with the <strong>--cache</strong> option is used to store information about the <em>FILES</em> presented to <strong>jigdo-file</strong>. When querying the cache, a file is considered unchanged (and the cached data is used) only if filename, file size and last modification time (mtime) match exactly. For the filename match, not the entire file name is used, but only the part following any `//', so that any changes to the part before the `//' will not invalidate the cache.</p><p>Old cache entries are removed from the cache if they have not been read from or written to for the amount of time specified with <strong>--cache-expiry</strong>. Entries are <strong>not</strong> immediately removed from the cache if the file they refer to no longer exists - this makes it possible to cache information about files on removable media.</p><p>Cache expiry only takes place <strong>after</strong> <strong>jigdo-file</strong> has done its main work - if any old entries are accessed before expiry takes place, they will be kept. For example, if the program is run using the default expiry time of 30 days, but accesses a cache file with entries generated 2 months ago, then entries in that cache <strong>will</strong> be considered, and only those cache entries that were not needed during the program run will be expired.</p><p>Due to a peculiarity of the underlying database library (libdb3), cache files never shrink, they only grow. If a large number of entries was expired from your cache file and you want it to shrink, you can either just delete it (of course then everything will have to be regenerated) or use the utilities accompanying libdb3 to dump and restore the database, with a command like `<strong>db3_dump</strong> <em>old-cache.db</em><strong> | db3_load</strong> <em>new-cache.db</em><strong></strong>'. For Debian, these programs are supplied in the package `libdb3-util'.</p><p>If a different <strong>--md5-block-size</strong> is specified, the entire file needs to be re-read to update its cache entry. If a different <strong>--min-length</strong> is specified, only the first `md5-block-size' bytes of the file need to be re-read.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>PREPARING YOUR CD IMAGE FOR DISTRIBUTION</h3>
<p>You have created a CD image `<em>image.iso</em>' from some of the files stored in the directory `<em>/home/ftp</em>' on your harddisc, which is also available online as `ftp://mysite.org'. As you don't want to waste space by effectively hosting the same data twice (once as files on the FTP server, once inside the image), and you are fed up with users' downloads aborting after 200MB and their restarting the download dozens of times, you decide to use jigdo. How do you prepare the image for download?</p><p>In fact, only one command is necessary:</p><p><strong>jigdo-file make-template</strong> --image=image.iso --jigdo=/home/ftp/image.jigdo --template=/home/ftp/image.template /home/ftp// --label Mysite=/home/ftp --uri Mysite=ftp://mysite.org/</p><p>People can now point <strong>jigdo</strong> at `ftp://mysite.org/image.jigdo' to download your image. The template file needs to be accessible as `ftp://mysite.org/image.template'.</p><p>Note that nothing prevents you from doing the same for an FTP server that isn't administrated by you - in that case, you only need to host the `<em>.jigdo</em>' and `<em>.template</em>' files on your own server/homepage.</p>
<h3>PREPARING AN ARBITRARY LARGE FILE FOR DISTRIBUTION</h3>
<p>We assume that you have a large file that is not a filesystem, e.g. `<em>movie.mpeg</em>'. Because of space problems, you want to distribute the data on two servers.</p><p>In this case, the parts of the image need to be generated artificially with the <strong>split</strong> command. For example, to create chunks of 4MB each, use `<strong>split -b 4m</strong> movie.mpeg part'. Copy the resulting files `<em>partXX</em>' into two directories `<em>1</em>' and `<em>2</em>' that you create, according to how you want the files distributed between the servers. Next, create the jigdo and template files with `<strong>jigdo-file make-template</strong> --image=movie.mpeg 1// 2//'. You will need to edit the `<em>.jigdo</em>' file and provide the right URIs for the two servers that you are going to upload the `<em>partXX</em>' files to.</p>
<h3>CUSTOMIZED VERSIONS OF IMAGES</h3>
<p>Because it is possible to assign a different URI for each part of an image if necessary, jigdo is very flexible. Only one example is the possibility of customized versions of images: Suppose that someone is distributing a CD image, and that you want to make a few small changes to it and redistribute your own version. You download the `<em>official.iso</em>' CD image with <strong>jigdo</strong> (passing it the URL of `<em>official.jigdo</em>'), write it to CD-R, make your changes (say, adding files from the `<em>myfiles</em>' directory on your harddisc) and produce your own version, `<em>myversion.iso</em>'. Next, you instruct <strong>jigdo-file</strong> to create the jigdo and template files for your modified image, using the command</p><p><strong>jigdo-file make-template</strong> --image=myversion.iso /mnt/cdrom/ myfiles// --label My=myfiles/ --uri My=http://my.homepage.net/ --merge=official.jigdo</p><p>while `<em>official.iso</em>' is mounted under `<em>/mnt/cdrom</em>'. By using <strong>--merge</strong>, you have told <strong>jigdo-file</strong> to take the contents of `<em>official.jigdo</em>', add to it a new `[Image]' section for `<em>myversion.iso</em>' and write the resulting jigdo file to `<em>myversion.jigdo</em>' - so now `<em>myversion.jigdo</em>' offers two images for download, the original version and your modified version. (If you do not want it to offer the official version, edit it and remove the `[Image]' section that lists `<em>official.iso</em>'.)</p><p>Now you can upload the `<em>.jigdo</em>' file, the `<em>.template</em>' file and also the files in `<em>myfiles</em>' to `http://my.homepage.net/'. Thus, for people to download your modified image, you do <strong>not</strong> need to upload the complete image contents to your web space, but only the changes you made!</p><p>(In case you only made very few changes, you could also omit the `myfiles' parameter in the command above, then all your changes end up in the new template file.)</p>
<h3>COMBINING MANY JIGDO-MANAGED IMAGES INTO ONE</h3>
<p>It is also no problem to combine data from several sources that use jigdo. For example, if of five different and unrelated servers each one distributes a different CD image via jigdo, you can create a customized DVD image that contains the data from all these CDs. When people use <strong>jigdo</strong> to download your image, the individual files on the DVD are fetched from the same sources as the original CDs.</p><p>Consequently, even though you will be distributing a 3.2GB file via your web space, the actual amount of data that is stored on your server will only be in the order of several MBs.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>For certain contents of one of the input files, most notably a sequence of zero bytes longer than <strong>--min-length</strong> at the start of the file and an area of zeros preceding the file data in the image, <strong>jigdo-file make-template</strong> may fail to find the file in the image. Unfortunately, this restriction cannot be avoided because the program could become very slow otherwise. If you use the <strong>--debug</strong> option, all instances of <strong>jigdo-file</strong> discarding possible matches are indicated by lines containing the word `DROPPED'.</p><p>In fact, not only all-zeroes files trigger this behaviour, but also files which contain at their start a long sequence of short identical strings. For example, both a file containing only `a' characters and one containing `abcabcabcabc...' are problematic.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO jigdo-file&hellip;</h2>
        <div class="sectioncontent">
<p><strong>jigdo</strong>(1) (NOT YET IMPLEMENTED), <a href="../man1/jigdo-lite.1.html"><strong>jigdo-lite</strong>(1)</a>, <a href="../man1/jigdo-mirror.1.html"><strong>jigdo-mirror</strong>(1)</a>, <a href="../man1/split.1.html"><strong>split</strong>(1)</a> (or `<strong>info split</strong>'), <a href="../man1/find.1.html"><strong>find</strong>(1)</a> (or `<strong>info find</strong>'), <strong>mkisofs</strong>(1), <a href="../man1/md5sum.1.html"><strong>md5sum</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Jigsaw Download &lt;URL:http://atterer.net/jigdo/&gt; was written by Richard Atterer &lt;jigdo atterer.net&gt;, to make downloading of CD ROM images for the Debian Linux distribution more convenient.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="jhead.1.html"><span aria-hidden="true">&larr;</span> jhead.1: Digicam jpeg exif header manipulation tool</a></li>
   <li class="next"><a href="jigdo-gen-md5-list.1.html">jigdo-gen-md5-list.1: Create a list of md5sums encoded in hexidecimal format and print to standard output <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
