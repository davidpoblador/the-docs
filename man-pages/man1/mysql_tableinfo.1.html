<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mysql_tableinfo: Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mysql_tableinfo (1) manual">
  <meta name="twitter:description" content="Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1.">
  <meta name="twitter:image" content="https://www.carta.tech/images/mysql-client-5.5-mysql_tableinfo-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mysql_tableinfo.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mysql_tableinfo (1) manual" />
  <meta property="og:description" content="Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mysql-client-5.5-mysql_tableinfo-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mysql_tableinfo<small> (1)</small></h1>
        <p class="lead">Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysql_tableinfo.1.html">
      <span itemprop="name">mysql_tableinfo: Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mysql-client-5.5/">
      <span itemprop="name">mysql-client-5.5</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysql_tableinfo.1.html">
      <span itemprop="name">mysql_tableinfo: Creates and populates information tables with the output of show databases, show tables (or show table status), show columns and show index.  this is version 1.1.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  mysql_tableinfo [OPTIONS] database_to_write [database_like_wild] [table_like_wild]
</pre>
<p>  Do not backquote (``) database_to_write,   and do not quote ('') database_like_wild or table_like_wild</p><p>  Examples:</p><p>  mysql_tableinfo info</p><p>  mysql_tableinfo info this_db</p><p>  mysql_tableinfo info %a% b%</p><p>  mysql_tableinfo info --clear-only</p><p>  mysql_tableinfo info --col --idx --table-status</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>mysql_tableinfo asks a MySQL server information about its databases, tables, table columns and index, and stores this in tables called `db`, `tbl` (or `tbl_status`), `col`, `idx` (with an optional prefix specified with --prefix). After that, you can query these information tables, for example to build your admin scripts with \s-1SQL\s0 queries, like</p><p>\s-1SELECT\s0 \s-1CONCAT\s0(\*(L"\s-1CHECK\s0 \s-1TABLE\s0 \*(R",`database`,\*(L".\*(R",`table`,\*(L" \s-1EXTENDED\s0;\*(R") \s-1FROM\s0 info.tbl \s-1WHERE\s0 ... ;</p><p>as people usually do with some other \s-1RDBMS\s0 (note: to increase the speed of your queries on the info tables, you may add some index on them).</p><p>The database_like_wild and table_like_wild instructs the program to gather information only about databases and tables whose names match these patterns. If the info tables already exist, their rows matching the patterns are simply deleted and replaced by the new ones. That is, old rows not matching the patterns are not touched. If the database_like_wild and table_like_wild arguments are not specified on the command-line they default to \*(L"%\*(R".</p><p>The program :</p><p>- does \s-1CREATE\s0 \s-1DATABASE\s0 \s-1IF\s0 \s-1NOT\s0 \s-1EXISTS\s0 database_to_write where database_to_write is the database name specified on the command-line.</p><p>- does \s-1CREATE\s0 \s-1TABLE\s0 \s-1IF\s0 \s-1NOT\s0 \s-1EXISTS\s0 database_to_write.`db`</p><p>- fills database_to_write.`db` with the output of \s-1SHOW\s0 \s-1DATABASES\s0 \s-1LIKE\s0 database_like_wild</p><p>- does \s-1CREATE\s0 \s-1TABLE\s0 \s-1IF\s0 \s-1NOT\s0 \s-1EXISTS\s0 database_to_write.`tbl` (respectively database_to_write.`tbl_status` if the --tbl-status option is on)</p><p>- for every found database, fills database_to_write.`tbl` (respectively database_to_write.`tbl_status`) with the output of \s-1SHOW\s0 \s-1TABLES\s0 \s-1FROM\s0 found_db \s-1LIKE\s0 table_like_wild (respectively \s-1SHOW\s0 \s-1TABLE\s0 \s-1STATUS\s0 \s-1FROM\s0 found_db \s-1LIKE\s0 table_like_wild)</p><p>- if the --col option is on,</p>
<pre>
    * does \s-1CREATE\s0 \s-1TABLE\s0 \s-1IF\s0 \s-1NOT\s0 \s-1EXISTS\s0 database_to_write.`col`
    * for every found table,
      fills database_to_write.`col` with the output of
      \s-1SHOW\s0 \s-1COLUMNS\s0 \s-1FROM\s0 found_tbl \s-1FROM\s0 found_db
</pre>
<p>- if the --idx option is on,</p>
<pre>
    * does \s-1CREATE\s0 \s-1TABLE\s0 \s-1IF\s0 \s-1NOT\s0 \s-1EXISTS\s0 database_to_write.`idx`
    * for every found table,
      fills database_to_write.`idx` with the output of
      \s-1SHOW\s0 \s-1INDEX\s0 \s-1FROM\s0 found_tbl \s-1FROM\s0 found_db
</pre>
<p>Some options may modify this general scheme (see below).</p><p>As mentioned, the contents of the info tables are the output of \s-1SHOW\s0 commands. In fact the contents are slightly more complete :</p><p>- the `tbl` (or `tbl_status`) info table</p>
<pre>
  has an extra column which contains the database name,
</pre>
<p>- the `col` info table</p>
<pre>
  has an extra column which contains the table name,
  and an extra column which contains, for each described column,
  the number of this column in the table owning it (this extra column
  is called `Seq_in_table`). `Seq_in_table` makes it possible for you
  to retrieve your columns in sorted order, when you are querying
  the `col` table.
</pre>
<p>- the `index` info table</p>
<pre>
  has an extra column which contains the database name.
</pre>
<p>Caution: info tables contain certain columns (e.g. Database, Table, Null...) whose names, as they are MySQL reserved words, need to be backquoted (`...`) when used in \s-1SQL\s0 statements.</p><p>Caution: as information fetching and info tables filling happen at the same time, info tables may contain inaccurate information about themselves.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    --clear
  </dt>
  <dd>
    <p>Does \s-1DROP\s0 \s-1TABLE\s0 on the info tables (only those that the program is going to fill, for example if you do not use --col it won't drop the `col` table) and processes normally. Does not drop database_to_write.</p>
  </dd>
  <dt>
    --clear-only
  </dt>
  <dd>
    <p>Same as --clear but exits after the DROPs.</p>
  </dd>
  <dt>
    --col
  </dt>
  <dd>
    <p>Adds columns information (into table `col`).</p>
  </dd>
  <dt>
    --idx
  </dt>
  <dd>
    <p>Adds index information (into table `idx`).</p>
  </dd>
  <dt>
    --prefix prefix
  </dt>
  <dd>
    <p>The info tables are named from the concatenation of prefix and, respectively, db, tbl (or tbl_status), col, idx. Do not quote ('') or backquote (``) prefix.</p>
  </dd>
  <dt>
    -q, --quiet
  </dt>
  <dd>
    <p>Does not warn you about what the script is going to do (\s-1DROP\s0 \s-1TABLE\s0 etc) and does not ask for a confirmation before starting.</p>
  </dd>
  <dt>
    --tbl-status
  </dt>
  <dd>
    <p>Instead of using \s-1SHOW\s0 \s-1TABLES\s0, uses \s-1SHOW\s0 \s-1TABLE\s0 \s-1STATUS\s0 (much more complete information, but slower).</p>
  </dd>
  <dt>
    --help
  </dt>
  <dd>
    <p>Display helpscreen and exit</p>
  </dd>
  <dt>
    -u, --user=#
  </dt>
  <dd>
    <p>user for database login if not current user. Give a user who has sufficient privileges (\s-1CREATE\s0, ...).</p>
  </dd>
  <dt>
    -p, --password=# (INSECURE)
  </dt>
  <dd>
    <p>password to use when connecting to server. WARNING: Providing a password on command line is insecure as it is visible through /proc to anyone for a short time.</p>
  </dd>
  <dt>
    -h, --host=#
  </dt>
  <dd>
    <p>host to connect to</p>
  </dd>
  <dt>
    -P, --port=#
  </dt>
  <dd>
    <p>port to use when connecting to server</p>
  </dd>
  <dt>
    -S, --socket=#
  </dt>
  <dd>
    <p>\s-1UNIX\s0 domain socket to use when connecting to server</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WARRANTY</h2>
        <div class="sectioncontent">
<p>This software is free and comes without warranty of any kind. You should never trust backup software without studying the code yourself. Study the code inside this script and only rely on it if <em>you</em> believe that it does the right thing for you. Patches adding bug fixes, documentation and new features are welcome.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TO DO</h2>
        <div class="sectioncontent">
<p>Use extended inserts to be faster (for servers with many databases or tables). But to do that, must care about net-buffer-length.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>2002-06-18 Guilhem Bichot (guilhem.bichot@mines-paris.org) And all the authors of mysqlhotcopy, which served as a model for the structure of the program.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mysql-server-5.5-mysql_setpermission.1.html"><span aria-hidden="true">&larr;</span> mysql_setpermission.1: Interactively set permissions in grant tables</a></li>
   <li class="next"><a href="mariadb-server-10.0-mysql_tzinfo_to_sql.1.html">mysql_tzinfo_to_sql.1: Load the time zone tables <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
