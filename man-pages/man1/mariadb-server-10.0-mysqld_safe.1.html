<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mysqld_safe: Mysql server startup script</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mysql server startup script">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mysqld_safe (1) manual">
  <meta name="twitter:description" content="Mysql server startup script">
  <meta name="twitter:image" content="https://www.carta.tech/images/mariadb-server-10.0-mysqld_safe-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mariadb-server-10.0-mysqld_safe.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mysqld_safe (1) manual" />
  <meta property="og:description" content="Mysql server startup script" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mariadb-server-10.0-mysqld_safe-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mysqld_safe<small> (1)</small></h1>
        <p class="lead">Mysql server startup script</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysqld_safe.1.html">
      <span itemprop="name">mysqld_safe: Mysql server startup script</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mariadb-server-10.0/">
      <span itemprop="name">mariadb-server-10.0</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysqld_safe.1.html">
      <span itemprop="name">mysqld_safe: Mysql server startup script</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mysqld_safe </strong><strong></strong><em>options</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>mysqld_safe</strong> is the recommended way to start a <strong>mysqld</strong> server on Unix. <strong>mysqld_safe</strong> adds some safety features such as restarting the server when an error occurs and logging runtime information to an error log file. A description of error logging is given later in this section.</p><p><strong>mysqld_safe</strong> tries to start an executable named <strong>mysqld</strong>. To override the default behavior and specify explicitly the name of the server you want to run, specify a <strong>--mysqld</strong> or <strong>--mysqld-version</strong> option to <strong>mysqld_safe</strong>. You can also use <strong>--ledir</strong> to indicate the directory where <strong>mysqld_safe</strong> should look for the server.</p><p>Many of the options to <strong>mysqld_safe</strong> are the same as the options to <strong>mysqld</strong>. See Section&nbsp;5.1.3, &ldquo;Server Command Options&rdquo;.</p><p>Options unknown to <strong>mysqld_safe</strong> are passed to <strong>mysqld</strong> if they are specified on the command line, but ignored if they are specified in the [mysqld_safe] group of an option file. See Section&nbsp;4.2.6, &ldquo;Using Option Files&rdquo;.</p><p><strong>mysqld_safe</strong> reads all options from the [mysqld], [server], and [mysqld_safe] sections in option files. For example, if you specify a [mysqld] section like this, <strong>mysqld_safe</strong> will find and use the <strong>--log-error</strong> option:</p>
<pre>
[mysqld]
log-error=error.log
</pre>
<p>For backward compatibility, <strong>mysqld_safe</strong> also reads [safe_mysqld] sections, but to be current you should rename such sections to [mysqld_safe].</p><p><strong>mysqld_safe</strong> supports the following options. It also reads option files and supports the options for processing them described at Section&nbsp;4.2.7, &ldquo;Command-Line Options that Affect Option-File Handling&rdquo;.</p><p><strong>--help</strong></p><p>Display a help message and exit.</p><p><strong>--basedir=</strong><strong></strong><em>dir_name</em></p><p>The path to the MySQL installation directory.</p><p><strong>--core-file-size=</strong><strong></strong><em>size</em></p><p>The size of the core file that <strong>mysqld</strong> should be able to create. The option value is passed to <strong>ulimit -c</strong>.</p><p><strong>--datadir=</strong><strong></strong><em>dir_name</em></p><p>The path to the data directory.</p><p><strong>--defaults-extra-file=</strong><strong></strong><em>file_name</em></p><p>The name of an option file to be read in addition to the usual option files. This must be the first option on the command line if it is used. If the file does not exist or is otherwise inaccessible, the server will exit with an error.</p><p><strong>--defaults-file=</strong><strong></strong><em>file_name</em></p><p>The name of an option file to be read instead of the usual option files. This must be the first option on the command line if it is used.</p><p><strong>--ledir=</strong><strong></strong><em>dir_name</em></p><p>If <strong>mysqld_safe</strong> cannot find the server, use this option to indicate the path name to the directory where the server is located.</p><p><strong>--log-error=</strong><strong></strong><em>file_name</em></p><p>Write the error log to the given file. See Section&nbsp;5.2.2, &ldquo;The Error Log&rdquo;.</p><p><strong>--malloc-lib=[</strong><strong></strong><em>lib_name</em><strong>]</strong> The name of the library to use for memory allocation instead of the system malloc() library. Any library can be used by specifying its path name, but there is a shortcut form to enable use of the tcmalloc library that is shipped with binary MySQL distributions for Linux in MySQL 5.5. It is possible that the shortcut form will not work under certain configurations, in which case you should specify a path name instead.</p><p>The <strong>--malloc-lib</strong> option works by modifying the LD_PRELOAD environment value to affect dynamic linking to enable the loader to find the memory-allocation library when <strong>mysqld</strong> runs:</p><p>If the option is not given, or is given without a value (<strong>--malloc-lib=</strong>), LD_PRELOAD is not modified and no attempt is made to use tcmalloc.</p><p>If the option is given as <strong>--malloc-lib=tcmalloc</strong>, <strong>mysqld_safe</strong> looks for a tcmalloc library in /usr/lib and then in the MySQL pkglibdir location (for example, /usr/local/mysql/lib or whatever is appropriate). If tmalloc is found, its path name is added to the beginning of the LD_PRELOAD value for <strong>mysqld</strong>. If tcmalloc is not found, <strong>mysqld_safe</strong> aborts with an error.</p><p>If the option is given as <strong>--malloc-lib=</strong><strong></strong><em>/path/to/some/library</em>, that full path is added to the beginning of the LD_PRELOAD value. If the full path points to a nonexistent or unreadable file, <strong>mysqld_safe</strong> aborts with an error.</p><p>For cases where <strong>mysqld_safe</strong> adds a path name to LD_PRELOAD, it adds the path to the beginning of any existing value the variable already has.</p><p>Linux users can use the libtcmalloc_minimal.so included in binary packages by adding these lines to the my.cnf file:</p>
<pre>
[mysqld_safe]
malloc-lib=tcmalloc
</pre>
<p>Those lines also suffice for users on any platform who have installed a tcmalloc package in /usr/lib. To use a specific tcmalloc library, specify its full path name. Example:</p>
<pre>
[mysqld_safe]
malloc-lib=/opt/lib/libtcmalloc_minimal.so
</pre>
<p><strong>--mysqld=</strong><strong></strong><em>prog_name</em></p><p>The name of the server program (in the ledir directory) that you want to start. This option is needed if you use the MySQL binary distribution but have the data directory outside of the binary distribution. If <strong>mysqld_safe</strong> cannot find the server, use the <strong>--ledir</strong> option to indicate the path name to the directory where the server is located.</p><p><strong>--mysqld-version=</strong><strong></strong><em>suffix</em></p><p>This option is similar to the <strong>--mysqld</strong> option, but you specify only the suffix for the server program name. The base name is assumed to be <strong>mysqld</strong>. For example, if you use <strong>--mysqld-version=debug</strong>, <strong>mysqld_safe</strong> starts the <strong>mysqld-debug</strong> program in the ledir directory. If the argument to <strong>--mysqld-version</strong> is empty, <strong>mysqld_safe</strong> uses <strong>mysqld</strong> in the ledir directory.</p><p><strong>--nice=</strong><strong></strong><em>priority</em></p><p>Use the nice program to set the server&apos;s scheduling priority to the given value.</p><p><strong>--no-defaults</strong></p><p>Do not read any option files. This must be the first option on the command line if it is used.</p><p><strong>--open-files-limit=</strong><strong></strong><em>count</em></p><p>The number of files that <strong>mysqld</strong> should be able to open. The option value is passed to <strong>ulimit -n</strong>.</p><p><strong>Note</strong></p><p>You must start <strong>mysqld_safe</strong> as root for this to function properly.</p><p><strong>--pid-file=</strong><strong></strong><em>file_name</em></p><p>The path name of the process ID file.</p><p><strong>--plugin-dir=</strong><strong></strong><em>dir_name</em></p><p>The path name of the plugin directory. This option was added in MySQL 5.5.3.</p><p><strong>--port=</strong><strong></strong><em>port_num</em></p><p>The port number that the server should use when listening for TCP/IP connections. The port number must be 1024 or higher unless the server is started by the root system user.</p><p><strong>--skip-kill-mysqld</strong></p><p>Do not try to kill stray <strong>mysqld</strong> processes at startup. This option works only on Linux.</p><p><strong>--socket=</strong><strong></strong><em>path</em></p><p>The Unix socket file that the server should use when listening for local connections.</p><p><strong>--syslog</strong>, <strong>--skip-syslog</strong></p><p><strong>--syslog</strong> causes error messages to be sent to syslog on systems that support the <strong>logger</strong> program. --skip-syslog suppresses the use of syslog; messages are written to an error log file.</p><p>When syslog is used, the daemon.err syslog facility/severity is used for all log messages.</p><p><strong>--syslog-tag=</strong><strong></strong><em>tag</em></p><p>For logging to syslog, messages from <strong>mysqld_safe</strong> and <strong>mysqld</strong> are written with identifiers of mysqld_safe and mysqld, respectively. To specify a suffix for the identifiers, use <strong>--syslog-tag=</strong><strong></strong><em>tag</em>, which modifies the identifiers to be mysqld_safe-<em>tag</em> and mysqld-<em>tag</em>.</p><p><strong>--timezone=</strong><strong></strong><em>timezone</em></p><p>Set the TZ time zone environment variable to the given option value. Consult your operating system documentation for legal time zone specification formats.</p><p><strong>--user={</strong><strong></strong><em>user_name</em><strong>|</strong><strong></strong><em>user_id</em><strong>}</strong></p><p>Run the <strong>mysqld</strong> server as the user having the name <em>user_name</em> or the numeric user ID <em>user_id</em>. (&ldquo;User&rdquo; in this context refers to a system login account, not a MySQL user listed in the grant tables.)</p><p>If you execute <strong>mysqld_safe</strong> with the <strong>--defaults-file</strong> or <strong>--defaults-extra-file</strong> option to name an option file, the option must be the first one given on the command line or the option file will not be used. For example, this command will not use the named option file:</p>
<pre>
mysql&gt; <strong>mysqld_safe --port=</strong><strong></strong><em>port_num</em><strong> --defaults-file=</strong><strong></strong><em>file_name</em>
</pre>
<p>Instead, use the following command:</p>
<pre>
mysql&gt; <strong>mysqld_safe --defaults-file=</strong><strong></strong><em>file_name</em><strong> --port=</strong><strong></strong><em>port_num</em>
</pre>
<p>The <strong>mysqld_safe</strong> script is written so that it normally can start a server that was installed from either a source or a binary distribution of MySQL, even though these types of distributions typically install the server in slightly different locations. (See Section&nbsp;2.1.4, &ldquo;Installation Layouts&rdquo;.) <strong>mysqld_safe</strong> expects one of the following conditions to be true:</p><p>The server and databases can be found relative to the working directory (the directory from which <strong>mysqld_safe</strong> is invoked). For binary distributions, <strong>mysqld_safe</strong> looks under its working directory for bin and data directories. For source distributions, it looks for libexec and var directories. This condition should be met if you execute <strong>mysqld_safe</strong> from your MySQL installation directory (for example, /usr/local/mysql for a binary distribution).</p><p>If the server and databases cannot be found relative to the working directory, <strong>mysqld_safe</strong> attempts to locate them by absolute path names. Typical locations are /usr/local/libexec and /usr/local/var. The actual locations are determined from the values configured into the distribution at the time it was built. They should be correct if MySQL is installed in the location specified at configuration time.</p><p>Because <strong>mysqld_safe</strong> tries to find the server and databases relative to its own working directory, you can install a binary distribution of MySQL anywhere, as long as you run <strong>mysqld_safe</strong> from the MySQL installation directory:</p>
<pre>
shell&gt; <strong>cd </strong><strong></strong><em>mysql_installation_directory</em>
shell&gt; <strong>bin/mysqld_safe &</strong>
</pre>
<p>If <strong>mysqld_safe</strong> fails, even when invoked from the MySQL installation directory, specify the <strong>--ledir</strong> and <strong>--datadir</strong> options to indicate the directories in which the server and databases are located on your system.</p><p>Beginning with MySQL 5.5.21, <strong>mysqld_safe</strong> tries to use the <strong>sleep</strong> and <strong>date</strong> system utilities to determine how many times it has attempted to start this second, and&ndash;if these are present and this is greater than 5 times&ndash;is forced to wait 1 full second before starting again. This is intended to prevent excessive CPU usage in the event of repeated failures. (Bug #11761530, Bug #54035)</p><p>When you use <strong>mysqld_safe</strong> to start <strong>mysqld</strong>, <strong>mysqld_safe</strong> arranges for error (and notice) messages from itself and from <strong>mysqld</strong> to go to the same destination.</p><p>There are several <strong>mysqld_safe</strong> options for controlling the destination of these messages:</p><p><strong>--log-error=</strong><strong></strong><em>file_name</em>: Write error messages to the named error file.</p><p><strong>--syslog</strong>: Write error messages to syslog on systems that support the <strong>logger</strong> program.</p><p><strong>--skip-syslog</strong>: Do not write error messages to syslog. Messages are written to the default error log file (<em>host_name</em>.err in the data directory), or to a named file if the <strong>--log-error</strong> option is given.</p><p>If none of these options is given, the default is <strong>--skip-syslog</strong>.</p><p>If <strong>--log-error</strong> and <strong>--syslog</strong> are both given, a warning is issued and <strong>--log-error</strong> takes precedence.</p><p>When <strong>mysqld_safe</strong> writes a message, notices go to the logging destination (syslog or the error log file) and stdout. Errors go to the logging destination and stderr.</p><p>Normally, you should not edit the <strong>mysqld_safe</strong> script. Instead, configure <strong>mysqld_safe</strong> by using command-line options or options in the [mysqld_safe] section of a my.cnf option file. In rare cases, it might be necessary to edit <strong>mysqld_safe</strong> to get it to start the server properly. However, if you do this, your modified version of <strong>mysqld_safe</strong> might be overwritten if you upgrade MySQL in the future, so you should make a copy of your edited version that you can reinstall.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>Copyright &copy; 1997, 2016, Oracle and/or its affiliates. All rights reserved.</p><p>This documentation is free software; you can redistribute it and/or modify it only under the terms of the GNU General Public License as published by the Free Software Foundation; version 2 of the License.</p><p>This documentation is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with the program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA or see http://www.gnu.org/licenses/.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mysqld_safe&hellip;</h2>
        <div class="sectioncontent">
<p>For more information, please refer to the MySQL Reference Manual, which may already be installed locally and which is also available online at http://dev.mysql.com/doc/.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Oracle Corporation (http://dev.mysql.com/).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mysql-server-5.5-mysqld_multi.1.html"><span aria-hidden="true">&larr;</span> mysqld_multi.1: Manage multiple mysql servers</a></li>
   <li class="next"><a href="mysql-server-5.5-mysqld_safe.1.html">mysqld_safe.1: Mysql server startup script <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
