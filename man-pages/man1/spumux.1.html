<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>spumux: Generates and multiplexes subtitles into an existing mpeg2 program stream</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generates and multiplexes subtitles into an existing mpeg2 program stream">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="spumux (1) manual">
  <meta name="twitter:description" content="Generates and multiplexes subtitles into an existing mpeg2 program stream">
  <meta name="twitter:image" content="https://www.carta.tech/images/dvdauthor-spumux-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/spumux.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="spumux (1) manual" />
  <meta property="og:description" content="Generates and multiplexes subtitles into an existing mpeg2 program stream" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dvdauthor-spumux-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">spumux<small> (1)</small></h1>
        <p class="lead">Generates and multiplexes subtitles into an existing mpeg2 program stream</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/spumux.1.html">
      <span itemprop="name">spumux: Generates and multiplexes subtitles into an existing mpeg2 program stream</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dvdauthor/">
      <span itemprop="name">dvdauthor</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/spumux.1.html">
      <span itemprop="name">spumux: Generates and multiplexes subtitles into an existing mpeg2 program stream</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>spumux</strong> [ <strong>-m dvd</strong> | <strong>-m cvd</strong> | <strong>-m svcd</strong> ] [ <strong>-s </strong><em>stream</em><strong></strong> ] [ <strong>-v </strong><em>level</em><strong></strong> ] [ <strong>-P</strong> ] [ <strong>--nomux</strong> ] [ <strong>--nodvdauthor-data</strong> ] <strong></strong><em>file</em><strong></strong> <strong>&lt; </strong><em>mpeg</em><strong></strong> <strong>&gt; </strong><em>mpeg-with-subtitles</em><strong></strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>spumux</strong> encodes the subtitles and multiplexes it into the mpeg2 program stream.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-m </strong><em>mode</em><strong></strong></p>
  </dt>
  <dd>
    <p>Sets the encoding for the subtitles.  Can be dvd, cvd, or svcd. Default is dvd.</p>
  </dd>
  <dt>
    <p><strong>-s </strong><em>stream</em><strong></strong></p>
  </dt>
  <dd>
    <p>Sets the subtitle stream id.  Default is 0.</p>
  </dd>
  <dt>
    <p><strong>-v </strong><em>level</em><strong></strong></p>
  </dt>
  <dd>
    <p>Sets the verbosity level.</p>
  </dd>
  <dt>
    <p><strong>-P</strong></p>
  </dt>
  <dd>
    <p>Enables a progress bar.</p>
  </dd>
  <dt>
    <p><strong>--nomux</strong></p>
  </dt>
  <dd>
    <p>Disables reading of an MPEG stream from standard input. Instead, the output will contain only the subpicture stream.</p>
  </dd>
  <dt>
    <p><strong>--nodvdauthor-data</strong></p>
  </dt>
  <dd>
    <p>Disables passing of color and button info to dvdauthor.</p>
  </dd>

</dl>
<p>Here's a sample configuration file:</p>
<pre>
&lt;subpictures&gt;
   &lt;stream&gt;
      &lt;spu start="<em>start-time</em>" [ end="<em>end-time</em>" ] [ image="<em>picture.png</em>" ]
           [ highlight="<em>picture.png</em>" ] [ select="<em>picture.png</em>" ]
           [ transparent="<em>color-spec</em>" ] [ force="yes" ]
           [ autooutline="infer" [ outlinewidth="<em>width</em>" ]
             [ autoorder="rows" | autoorder="columns" ] ]
           [ xoffset="<em>x-coord</em>" yoffset="<em>y-coord</em>" ] &gt;
         &lt;button [ name="<em>name</em>" ] [ x0="<em>x0</em>" ] [ y0="<em>y0</em>" ] [ x1="<em>x1</em>" ]
                 [ y1="<em>y1</em>" ] [ up="<em>name</em>" ] [ down="<em>name</em>" ]
                 [ left="<em>name</em>" ] [ right="<em>name</em>" ] /&gt;
         &lt;action [ name="<em>name</em>" ] [ x0="<em>x0</em>" ] [ y0="<em>y0</em>" ] [ x1="<em>x1</em>" ]
                 [ y1="<em>y1</em>" ] /&gt;
      &lt;/spu&gt;
   &lt;/stream&gt;
&lt;/subpictures&gt;
</pre>
<p>Each subtitle image is described by an &lt;spu&gt; tag.  The start and optional end attributes describe when the subtitle will be displayed on the screen, in "HR:MM:SS.HU".  The image attribute describes the main subtitle image, which can either be a PNG or BMP file.  If your image is not a full screen image, you can use xoffset and yoffset to move the picture around.  In the advent that the author is unable to use a graphics format with an alpha channel, then the transparent attribute can be used to describe which color should become fully transparent.  For the valid formats for <em>color-spec</em>, see SPECIFYING COLORS below.  If you want to force the display of the subtitle, regardless of whether the user has enabled subtitles or not, you can use the force tag.  When you are making menus, the force tag is required.</p><p>The remaining attributes and tags are related to menu creation.  The highlight attribute shows what all the buttons look like when they are highlighted (i.e. when you are using the arrows in the menu), and the select attribute shows what all the buttons look like when the are selected (i.e. for the 1-2 seconds after you press enter in the menu). If either of these (or the image attribute) are omitted, then spumux creates a blank (totally transparent) image.  Obviously at least one tag should be specified.</p><p>To aid in button creation, the autooutline attribute instructs spumux to infer where the buttons are located.  It does this by attempting to draw rectangles around a composition of the highlight and select images which do not intersect any opaque or semi-opaque pixels.  In order to support textual buttons, the attribute outlinewidth allows you to specify the width of the rectangle which is tested.  Wider rectangles won't be able to squeeze between the letters.  Finally, autoorder describes which way to order the automatically detected buttons, which is important for numerically selected buttons and for mapping buttons to button names or to the implied names.</p><p>The button and action tags describe the buttons (visibly selectable objects on the screen) and actions (commands that are executed as soon as the associated key is pressed on the remote).  If you are using the autooutline feature, just designing buttons, are happy with the inferred button navigation, and can deal with the simplistic naming system, then you actually do not even need to specify any buttons or actions.  Otherwise, read on.</p><p>The name attribute is used to give a button or action an easy to refer to name.  By default they are numbered sequentially starting with "1". The up, down, left, and right names describe which button or action should be tied to the corresponding key when the current button is highlighted, though if omitted spumux will use a reasonably intelligent algorithm to determine which buttons to move to.</p><p>The (x0,y0) coordinates describe the upper left hand corner inclusively, while the (x1,y1) coordinates describe the lower right hand corner EXclusively.  The coordinates start at 0,0 for the upper left hand corner.  Ideally, the y0 and y1 coordinates should both be even, so the button edges fully empasses two interlaced scanlines, even if there is no data in the extra scanline.  Some DVD players will fill in the extra scanline if it is not specified; spumux makes an effort to ensure that will be transparent but there is no guarantee.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HANDLING TEXT-BASED SUBTITLES</h2>
        <div class="sectioncontent">
<p>Spumux is also able to handle text subtitles, which will be rendered to graphics by spumux. A lot of different text (must be non-graphic) formats are supported (.sub, .srt, .ssa, .smi, .rt , .txt, .aqt, .jss, .js, ass). Spumux will try to determine the format automatically.</p><p>If processing text-based subtitles no other streams can be defined, buttons or others need to be processed in another pass with spumux, using another xml file.</p><p>Following .xml file shows the available tags and their default settings. Only the textsub tag is mandatory, defaults are used if the specific tag is not specified.</p>
<pre>
&lt;subpictures [format="NTSC|PAL"]&gt;
   &lt;stream&gt;
      &lt;textsub filename="demo1.srt" characterset="UTF-8"
         fontsize="28.0" font="arial" fill-color="<em>color-spec</em>"
         outline-color="<em>color-spec</em>" outline-thickness="3.0"
         shadow-offset="0, 0" shadow-color="<em>color-spec</em>"
         horizontal-alignment="left"  vertical-alignment="bottom"
         left-margin="60" right-margin="60"
         top-margin="20" bottom-margin="30" subtitle-fps="<em>fps</em>"
         movie-fps="<em>fps</em>"
         movie-width="720" movie-height="<em>height</em>" aspect="4:3"
         force="yes"
      /&gt;
   &lt;/stream&gt;
&lt;/subpictures&gt;
</pre>
<p>The textsub tag defines the settings for the text to graphics rendering.</p><p>The filename attribute defines the path and name of the input text subtitle file, this is the only attribute that is mandatory.</p><p>The characterset attribute defines the characterset to be used, available charactersets can be found at http://www.gnu.org/software/libiconv.</p><p>The fontsize attribute defines the size of the font in font units. The font attribute defines the font used. Spumux will match the font name using Fontconfig if available, else it will use it as a filename on linux systems and will look into the windows/fonts and subdirectory spumux of the cygwin/mingw home directory and into the execution directory for windows-based execution for the specified font. Looking for free fonts? One listing is here http://www.microsoft.com/typography/links/links.asp?type=free&part=1 (this is only about fonts, not about operating systems).</p><p>The fill-color attribute specifies the color to be used for filling the interior of the text, while outline-color specifies the color for the outline border to draw around each character, to set it off from the video background. The outline-thickness attribute specifies the thickness of this outline. For the valid formats for <em>color-spec</em>, see SPECIFYING COLORS below. The default fill color is white and the default outline color is black.</p><p>The shadow-offset and shadow-color attributes specify a shadow effect to be applied to the text. The shadow-offset is specified as 2 signed integers, being the horizontal and vertical offset respectively, with positive values being to the right and down. For the valid formats for <em>color-spec</em>, see SPECIFYING COLORS below. The default shadow color is black.</p><p>The horizontal-alignment attribute defines the horizontal alignment of the subtitles. Options are: "left", "right", "center" and "default". The "default" value causes spumux to use the attribute that is in the text subtitle file if the format supports such an attribute.</p><p>The vertical-alignment attribute defines the vertical alignment. Options are: "top", "center" and "bottom".</p><p>The margin attributes define the minimum blank pixel space between the border of the image and the border of the subtitle lines.</p><p>The subtitle-fps is needed for subtitle formats which use frame numbers rather than fractional seconds for specifying subtitle times, while the movie-fps is the frame rate of the movie onto which the subtitles are being multiplexed; if omitted, both of these default to 29.97 for NTSC and 25 for PAL.</p><p>Having separate subtitle-fps and movie-fps attributes make it possible for spumux to recalculate the subtitle timing if these are not the same.</p><p>The movie-width and movie-height attributes define the maximum size of the subtitle page, these shouldn't be larger than the size of the video frame (720x480 for NTSC, 720x576 for PAL), normally they are the same. Some DVD players prefer subtitle frames that are 2 or 4 pixels smaller in height. If omitted, the default movie width is 720 and the height is 2 pixels less than the video frame height.</p><p>The aspect attribute lets you specify whether the video aspect ratio is 16:9 (widescreen) or 4:3. This, together with the video format, is used to adjust the rendering of the text to ensure it appears undistorted.</p><p>The force option allows you to force the display of the subtitle, regardless of whether the user has enabled subtitles or not.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SPECIFYING COLORS</h2>
        <div class="sectioncontent">
<p>Colors for image transparency and text fill and outlines can be specified in a number of ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p>As a color name, e.g. "green". You can use most of the color names listed at &lt;http://www.imagemagick.org/script/color.php&gt;.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p>As a hexadecimal string preceded by a "#", similar to HTML format, e.g. "#FF8080". The number of digits must be a multiple of 3; the first group specifies the red component, the second green, and the third blue.</p>
  </dd>
  <dt>
    <p>&bull;</p>
  </dt>
  <dd>
    <p>As the name of a color space, followed by one to four component values in parentheses, e.g. "hsv(120, 50%, 90%)".</p>
  </dd>

</dl>
<p>Valid color spaces are "gray" (1 component), "graya" (2 components), "hsl" (3 components), "hsla" (4 components), "hsv" (3 components), "hsva" (4 components), "rgb" (3 components) and "rgba" (4 components). Each component can be specified as either a percentage of the maximum value suffixed by "%", or an absolute value in the range 0-360 for hues, 0-255 for everything else. For color space names ending with "a", the last component is the alpha (transparency) value.</p><p>Note that alpha values are meaningless for the "transparent" attribute on the &lt;spu&gt; tag above. &lt;marc.leeman@gmail.com&gt; MarcLeeman2003Marc LeemanFri Dec 30 19:47:26 CET 2005</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sprop.1.html"><span aria-hidden="true">&larr;</span> sprop.1: Simple x property utility</a></li>
   <li class="next"><a href="sputnik.1.html">sputnik.1: Utility to create sputnik based cgi or wsapi files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
