<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lamson: Lamson is a modern pythonic mail server built like a web application server.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Lamson is a modern pythonic mail server built like a web application server.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lamson (1) manual">
  <meta name="twitter:description" content="Lamson is a modern pythonic mail server built like a web application server.">
  <meta name="twitter:image" content="https://www.carta.tech/images/python-lamson-lamson-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lamson.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lamson (1) manual" />
  <meta property="og:description" content="Lamson is a modern pythonic mail server built like a web application server." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/python-lamson-lamson-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lamson<small> (1)</small></h1>
        <p class="lead">Lamson is a modern pythonic mail server built like a web application server.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lamson.1.html">
      <span itemprop="name">lamson: Lamson is a modern pythonic mail server built like a web application server.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/python-lamson/">
      <span itemprop="name">python-lamson</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lamson.1.html">
      <span itemprop="name">lamson: Lamson is a modern pythonic mail server built like a web application server.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lamson</strong> <em>&lt;action&gt;</em> <strong>[options]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lamson</strong> is a pure Python SMTP server designed to create robust and complex mail applications in the style of modern web frameworks such as Django. Unlike traditional SMTP servers like Postfix or Sendmail, Lamson has all the features of a web application stack (ORM, templates, routing, handlers, state machines, Python) without needing to configure alias files, run newaliases, or juggle tons of tiny fragile processes. Lamson also plays well with other web frameworks and Python libraries.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>log [</strong><em>-port PORT</em><strong>] [</strong><em>-host HOST</em><strong>] [</strong><em>-pid PIDFILE</em><strong>] [</strong><em>-chroot True|False</em><strong>] [</strong><em>-chdir DIR</em><strong>] [</strong><em>-umask UMASK</em><strong>] [</strong><em>-uid UID</em><strong>] [</strong><em>-gid GID</em><strong>] [</strong><em>-FORCE True|False</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Runs a logging only server on the given hosts and port.  It logs  each message it receives and also stores it to the run/queue so that you can make sure it was received in testing.</p><p>lamson log -port 8825 -host 127.0.0.1 &#92;</p>
<pre>
            -pid ./run/log.pid -chroot False  &#92;
            -chdir "." -umask False -uid False -gid False &#92;
            -FORCE False
</pre>
<p>If you specify a uid/gid then this means you want to first change to root, set everything up, and then drop to that UID/GID combination. This is typically so you can bind to port 25 and then become "safe" to continue operating as a non-root user.</p><p>If you give one or the other, this it will just change to that uid or gid without doing the priv drop operation.</p>
  </dd>
  <dt>
    <p><strong>send [</strong><em>-port PORT</em><strong>] [</strong><em>-host HOST</em><strong>] [</strong><em>-debug 0|1</em><strong>] [</strong><em>-sender EMAIL</em><strong>] [</strong><em>-to EMAIL</em><strong>] [</strong><em>-subject SUBJECT</em><strong>] [</strong><em>-body BODY</em><strong>] [</strong><em>-attach FILENAME</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Sends an email to someone as a test message. See the sendmail command for a sendmail replacement.</p><p>lamson send -port 8825 -host 127.0.0.1 -debug 1 &#92;</p>
<pre>
            -sender EMAIL -to EMAIL -subject STR -body STR -attach False'
</pre>

  </dd>
  <dt>
    <p><strong>sendmail [</strong><em>-port PORT</em><strong>] [</strong><em>-host HOST</em><strong>] [</strong><em>-debug 0|1</em><strong>] -- [</strong><em>RECIPIENTS</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Used as a testing sendmail replacement for use in programs like mutt as an MTA.  It reads the email to send on the stdin and then delivers it based on the port and host settings.</p><p>lamson sendmail -port 8825 -host 127.0.0.1 -debug 0 -- [recipients]</p>
  </dd>
  <dt>
    <p><strong>start [</strong><em>-pid PIDFILE</em><strong>] [</strong><em>-FORCE True|False</em><strong>] [</strong><em>-chroot True|False</em><strong>] [</strong><em>-chdir DIR</em><strong>] [</strong><em>-umask UMASK</em><strong>] [</strong><em>-uid UID</em><strong>] [</strong><em>-gid GID</em><strong>] [</strong><em>-boot BOOTMODULE</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Runs a lamson server out of the given directory.</p><p>lamson start -pid ./run/smtp.pid -FORCE False -chroot False -chdir "." &#92;</p>
<pre>
            -umask False -uid False -gid False -boot config.boot
</pre>

  </dd>
  <dt>
    <p><strong>stop [</strong><em>-pid PIDFILE</em><strong>] [</strong><em>-KILL True|False</em><strong>] [</strong><em>-ALL DIR</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Stops a running lamson server.  Give -KILL True to have it stopped violently.  The PID file is removed after the signal is sent.  Give -ALL the name of a run directory and it will stop all pid files it finds there.</p><p>lamson stop -pid ./run/smtp.pid -KILL False -ALL False</p>
  </dd>
  <dt>
    <p><strong>restart [</strong><em>-pid PIDFILE</em><strong>] [</strong><em>-FORCE True|False</em><strong>] [</strong><em>-chroot True|False</em><strong>] [</strong><em>-chdir DIR</em><strong>] [</strong><em>-umask UMASK</em><strong>] [</strong><em>-uid UID</em><strong>] [</strong><em>-gid GID</em><strong>] [</strong><em>-boot CONFIG</em><strong>] [</strong><em>-KILL True|False</em><strong>] [</strong><em>-ALL DIR</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Simply attempts a stop and then a start command.  All options for both apply to restart.</p>
  </dd>
  <dt>
    <p><strong>status [</strong><em>-pid PIDFILE</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Prints out status information about lamson useful for finding out if it's running and where.</p><p>lamson status -pid ./run/smtp.pid</p>
  </dd>
  <dt>
    <p><strong>queue [</strong><em>-pop|-get|-remove|-count|-clear|-keys</em><strong>] [</strong><em>-name QUEUE</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Let's you do most of the operations available to a queue.</p><p>lamson queue (-pop | -get | -remove | -count | -clear | -keys) -name run/queue</p>
  </dd>
  <dt>
    <p><strong>routes [</strong><em>-path PATH</em><strong>] -- [</strong><em>CONFIG</em><strong>] [</strong><em>-test EMAIL</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Prints out valuable information about an application's routing configuration after everything is loaded and ready to go.  Helps debug problems with messages not getting to your handlers.  Path has the search paths you want separated by a ':' character, and it's added to the sys.path.</p><p>lamson routes -path $PWD -- config.testing -test ""</p><p>It defaults to running your config.testing to load the routes. If you want it to run the config.boot then give that instead:</p><p>lamson routes -- config.boot</p><p>You can also test a potential target by doing -test EMAIL.</p>
  </dd>
  <dt>
    <p><strong>gen [</strong><em>-project NAME</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Generates various useful things for you to get you started.</p><p>lamson gen -project STR</p>
  </dd>
  <dt>
    <p><strong>spell [</strong><em>-language LANG</em><strong>] -- [</strong><em>FILES</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Runs the PyEnchant spell checker on the given file.  Use this to train the spell checker for unit test runs when new words show up.</p><p>lamson spell -langauge en_US -- [files]</p><p>It will run interactively and if you perform an edit on the file it will save your changes back to the file and make a backup named with .bak.</p>
  </dd>
  <dt>
    <p><strong>web [</strong><em>-basedir DIR</em><strong>] [</strong><em>-port PORT</em><strong>] [</strong><em>-host HOST</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Starts a very simple files only web server for easy testing of applications that need to make some HTML files as the result of their operation. If you need more than this then use a real web server.</p><p>lamson web -basedir "." -port 8888 -host '127.0.0.1'</p><p>This command doesn't exit so you can view the logs it prints out.</p>
  </dd>
  <dt>
    <p><strong>cleanse [</strong><em>-input MAILBOX</em><strong>] [</strong><em>-output MAILBOX</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Uses Lamson mail cleansing and canonicalization system to take an input maildir (or mbox) and replicate the email over into another maildir.  It's used mostly for testing and cleaning.</p>
  </dd>
  <dt>
    <p><strong>blast [</strong><em>-input MAILBOX</em><strong>] [</strong><em>-port PORT</em><strong>] [</strong><em>-host HOST</em><strong>] [</strong><em>-debug 0|1</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Given a maildir, this command will go through each email and blast it at your server.  It does nothing to the message, so it will be real messages hitting your server, not cleansed ones.</p>
  </dd>
  <dt>
    <p><strong>version</strong></p>
  </dt>
  <dd>
    <p>Prints the version of Lamson, the reporitory revision, and the file it came from.</p>
  </dd>
  <dt>
    <p><strong>help [</strong><em>-for CMD</em><strong>]</strong></p>
  </dt>
  <dd>
    <p>Prints out help for the commands.</p><p>lamson help</p><p>You can get help for one command with:</p><p>lamson help -for STR</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lamson&hellip;</h2>
        <div class="sectioncontent">
<p>Full documentation for lamson can be found at http://lamsonproject.org</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs at https://bugs.launchpad.net/lamson</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>This manual page was written by David Watson &lt;david@kutoken.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lamshrink.1.html"><span aria-hidden="true">&larr;</span> lamshrink.1: Shrink a lam universe.</a></li>
   <li class="next"><a href="lamtrace.1.html">lamtrace.1: Unload lam trace data. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
