<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>mysqlindexcheck: Identify potentially redundant table indexes</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Identify potentially redundant table indexes">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="mysqlindexcheck (1) manual">
  <meta name="twitter:description" content="Identify potentially redundant table indexes">
  <meta name="twitter:image" content="https://www.carta.tech/images/mysql-utilities-mysqlindexcheck-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/mysqlindexcheck.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="mysqlindexcheck (1) manual" />
  <meta property="og:description" content="Identify potentially redundant table indexes" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/mysql-utilities-mysqlindexcheck-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">mysqlindexcheck<small> (1)</small></h1>
        <p class="lead">Identify potentially redundant table indexes</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysqlindexcheck.1.html">
      <span itemprop="name">mysqlindexcheck: Identify potentially redundant table indexes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mysql-utilities/">
      <span itemprop="name">mysql-utilities</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/mysqlindexcheck.1.html">
      <span itemprop="name">mysqlindexcheck: Identify potentially redundant table indexes</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>mysqlindexcheck [</strong><strong></strong><em>options</em><strong>] </strong><strong></strong><em>db</em><strong>[</strong><strong></strong><em>:table</em><strong>] ...</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This utility reads the indexes for one or more tables and identifies duplicate and potentially redundant indexes.</p><p>To check all tables in a database, specify only the database name. To check a specific table, name the table in <em>db.table</em> format. It is possible to mix database and table names.</p><p>You can scan tables in any database except the internal databases <strong>mysql</strong>, <strong>INFORMATION_SCHEMA</strong>, and <strong>performance_schema</strong>.</p><p>Depending on the index type, the utility applies the following rules to compare indexes (designated as idx_a and idx_b):</p><p><strong>BTREE</strong></p><p>idx_b is redundant to idx_a if and only if the first <em>n</em> columns in idx_b also appear in idx_a. Order and uniqueness count.</p><p><strong>HASH</strong></p><p>idx_a and idx_b are duplicates if and only if they contain the same columns in the same order. Uniqueness counts.</p><p><strong>SPATIAL</strong></p><p>idx_a and idx_b are duplicates if and only if they contain the same column (only one column is permitted).</p><p><strong>FULLTEXT</strong></p><p>idx_b is redundant to idx_a if and only if all columns in idx_b are included in idx_a. Order counts.</p><p>To see <strong>DROP</strong> statements to drop redundant indexes, specify the <strong>--show-drops</strong> option. To examine the existing indexes, use the <strong>--verbose</strong> option, which prints the equivalent <strong>CREATE INDEX</strong> (or <strong>ALTER TABLE</strong> for primary keys.</p><p>To display the best or worst nonprimary key indexes for each table, use the <strong>--best</strong> or <strong>--worst</strong> option. This causes the output to show the best or worst indexes from tables with 10 or more rows. By default, each option shows five indexes. To override that, provide an integer value for the option.</p><p>To change the format of the index lists displayed for the <strong>--show-indexes</strong>, <strong>--best</strong>, and <strong>--worst</strong> options, use one of the following values with the <strong>--format</strong> option:</p><p><strong>grid</strong> (default)</p><p>Display output in grid or table format like that of the <strong>mysql</strong> monitor.</p><p><strong>csv</strong></p><p>Display output in comma-separated values format.</p><p><strong>tab</strong></p><p>Display output in tab-separated format.</p><p><strong>sql</strong></p><p>print SQL statements rather than a list.</p><p><strong>vertical</strong></p><p>Display output in single-column format like that of the &#92;G command for the <strong>mysql</strong> monitor.</p><p>Note: The <strong>--best</strong> and <strong>--worst</strong> lists cannot be printed as SQL statements.</p>
<pre>
      OPTIONS
</pre>
<p><strong>mysqlindexcheck</strong> accepts the following command-line options:</p><p>--help</p><p>Display a help message and exit.</p><p>--best[=&lt;N&gt;]</p><p>If <strong>--stats</strong> is given, limit index statistics to the best <em>N</em> indexes. The default value of <em>N</em> is 5 if omitted.</p><p>--format=&lt;index_format&gt;, -f&lt;index_format&gt;</p><p>Specify the index list display format for output produced by <strong>--stats</strong>. Permitted format values are <strong>grid</strong>, <strong>csv</strong>, <strong>tab</strong>, <strong>sql</strong>, and <strong>vertical</strong>. The default is <strong>grid</strong>.</p><p>--server=&lt;source&gt;</p><p>Connection information for the server in the format: &lt;<em>user</em>&gt;[:&lt;<em>passwd</em>&gt;]@&lt;<em>host</em>&gt;[:&lt;<em>port</em>&gt;][:&lt;<em>socket</em>&gt;] or &lt;<em>login-path</em>&gt;[:&lt;<em>port</em>&gt;][:&lt;<em>socket</em>&gt;].</p><p>--show-drops, -d</p><p>Display <strong>DROP</strong> statements for dropping indexes.</p><p>--show-indexes, -i</p><p>Display indexes for each table.</p><p>--skip, -s</p><p>Skip tables that do not exist.</p><p>--stats</p><p>Show index performance statistics.</p><p>--verbose, -v</p><p>Specify how much information to display. Use this option multiple times to increase the amount of information. For example, <strong>-v</strong> = verbose, <strong>-vv</strong> = more verbose, <strong>-vvv</strong> = debug.</p><p>--version</p><p>Display version information and exit.</p><p>--worst[=&lt;N&gt;]</p><p>If <strong>--stats</strong> is given, limit index statistics to the worst <em>N</em> indexes. The default value of <em>N</em> is 5 if omitted.</p>
<pre>
      NOTES
</pre>
<p>You must provide connection parameters (user, host, password, and so forth) for an account that has the appropriate privileges to read all objects accessed during the operation.</p><p>For the <strong>--format</strong> option, the permitted values are not case sensitive. In addition, values may be specified as any unambiguous prefix of a valid value. For example, <strong>--format=g</strong> specifies the grid format. An error occurs if a prefix matches more than one valid value.</p><p>The path to the MySQL client tools should be included in the PATH environment variable in order to use the authentication mechanism with login-paths. This will allow the utility to use the my_print_defaults tools which is required to read the login-path values from the login configuration file (.mylogin.cnf).</p>
<pre>
      EXAMPLES
</pre>
<p>To check all tables in the employees database on the local server to see the possible redundant and duplicate indexes, use this command:</p>
<pre>
$ mysqlindexcheck --server=root@localhost employees
# Source on localhost: ... connected.
# The following indexes are duplicates or redundant &#92;
  for table employees.dept_emp:
#
CREATE INDEX emp_no ON employees.dept_emp (emp_no) USING BTREE
#     may be redundant or duplicate of:
ALTER TABLE employees.dept_emp ADD PRIMARY KEY (emp_no, dept_no)
# The following indexes are duplicates or redundant &#92;
  for table employees.dept_manager:
#
CREATE INDEX emp_no ON employees.dept_manager (emp_no) USING BTREE
#     may be redundant or duplicate of:
ALTER TABLE employees.dept_manager ADD PRIMARY KEY (emp_no, dept_no)
# The following indexes are duplicates or redundant &#92;
  for table employees.salaries:
#
CREATE INDEX emp_no ON employees.salaries (emp_no) USING BTREE
#     may be redundant or duplicate of:
ALTER TABLE employees.salaries ADD PRIMARY KEY (emp_no, from_date)
# The following indexes are duplicates or redundant &#92;
  for table employees.titles:
#
CREATE INDEX emp_no ON employees.titles (emp_no) USING BTREE
#     may be redundant or duplicate of:
ALTER TABLE employees.titles ADD PRIMARY KEY (emp_no, title, from_date)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO mysqlindexcheck&hellip;</h2>
        <div class="sectioncontent">
<p>For more information, please refer to the MySQL Utilities section of the MySQL Workbench Reference Manual, which is available online at http://dev.mysql.com/doc/workbench/en/.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Oracle Corporation (http://dev.mysql.com/).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mysql-client-5.5-mysqlimport.1.html"><span aria-hidden="true">&larr;</span> mysqlimport.1: A data import program</a></li>
   <li class="next"><a href="mysqlman.1.html">mysqlman.1: Default man page for mysql <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
