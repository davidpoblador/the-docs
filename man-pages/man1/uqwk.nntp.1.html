<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>uqwk.nntp: Collect news & mail messages for offline reading</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Collect news & mail messages for offline reading">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="uqwk.nntp (1) manual">
  <meta name="twitter:description" content="Collect news & mail messages for offline reading">
  <meta name="twitter:image" content="https://www.carta.tech/images/uqwk-uqwk.nntp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/uqwk.nntp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="uqwk.nntp (1) manual" />
  <meta property="og:description" content="Collect news & mail messages for offline reading" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/uqwk-uqwk.nntp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">uqwk.nntp<small> (1)</small></h1>
        <p class="lead">Collect news & mail messages for offline reading</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/uqwk.nntp.1.html">
      <span itemprop="name">uqwk.nntp: Collect news & mail messages for offline reading</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/uqwk/">
      <span itemprop="name">uqwk</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/uqwk.nntp.1.html">
      <span itemprop="name">uqwk.nntp: Collect news & mail messages for offline reading</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong></strong> uqwk [a-plethora-of-options]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>uqwk</strong> is a program which collects all a user's unread news and/or mail, and formats it into a packet for offline reading, saving telephone and connect charges.  Simple Offline Usenet Packet (SOUP), ZipNews, and the deprecated QWK packet formats are supported. Mail can be read from classic Unix mbox format mail files, MMDF mail files, or maildir mailboxes.  News is either read directly from a locally available file system, or obtained using NNTP.</p><p><strong>uqwk</strong> also accepts reply packets, so replies can be mailed or posted, depending whether the message is marked private (email) or public (news).</p><p><strong>uqwk</strong> also supports a small offline command language, so the contents of the user's .newsrc file can be viewed and manipulated offline.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">GENERAL OPTIONS</h2>
        <div class="sectioncontent">
<p>Note that many varieties of uqwk can be built: not all options are applicable to (and available) in every one.  Specifically, the NNTP-related options are only available in uqwk builds using NNTP, the options related to reading news directly from disk only to non-NNTP builds.  Furthermore, the options concerning scoring and NNTP authentication are only present if support for scoring, resp. NNTP authentication, was compiled in.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>Print options. <strong>uqwk</strong> will show its version number and the options that were compiled in, will examine all appropriate environment variables and command line options, print the values of all run-time options, then exit.  This is useful to see what <strong>uqwk</strong> thinks it is going to do before you actually run it (and what setup it is offering).</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>identical to "-p".</p>
  </dd>
  <dt>
    <p><strong>-?</strong></p>
  </dt>
  <dd>
    <p>same as "-v".</p>
  </dd>
  <dt>
    <p><strong>+r</strong></p>
  </dt>
  <dd>
    <p>Read only.  Normally, <strong>uqwk</strong> will empty the user's mail spool file and update the user's .newsrc file to reflect the fact that mail and news have been read.  If this switch is specified, <strong>uqwk</strong> will not touch these files.  This is useful for testing.</p>
  </dd>
  <dt>
    <p><strong>-r</strong></p>
  </dt>
  <dd>
    <p>Do not execute in read-only mode.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>+m</strong></p>
  </dt>
  <dd>
    <p>Do mail. <strong>uqwk</strong> will process all mail in the user's mail spool file and convert it into an offline packet.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Don't do mail.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>+n</strong></p>
  </dt>
  <dd>
    <p>Do news.  Using the user's .newsrc file and the news system's active file, <strong>uqwk</strong> will collect all unread news articles in all subscribed newsgroups into the packet.  This can generate a large number of messages and large packet files.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Don't do news.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>+L</strong></p>
  </dt>
  <dd>
    <p>Operate in SOUP (also known as HDPF or SLNP) mode.  The files comprising a Simple Offline Usenet Packet (SOUP), specifically, AREAS and *.MSG, will be created instead of a QWK packet.  The reply file, if any, will be interpreted as an SOUP "replies" file instead of a QWK reply packet.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Do not operate in SOUP mode.  If (and only if) neither SOUP nor ZipNews mode is selected, <strong>uqwk</strong> will operate in QWK mode.</p>
  </dd>
  <dt>
    <p><strong>+z</strong></p>
  </dt>
  <dd>
    <p>Operate in ZipNews mode.  The files comprising a ZipNews news packet, specifically, "user.JN", "user.NWS", and "user.IDX", will be created instead of a QWK packet.</p>
  </dd>
  <dt>
    <p><strong>-z</strong></p>
  </dt>
  <dd>
    <p>Do not operate in ZipNews mode.  If (and only if) neither SOUP nor ZipNews mode is selected, <strong>uqwk</strong> will operate in QWK mode.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em>posting_agent</em></p>
  </dt>
  <dd>
    <p>Specifies the program used when posting messages (usually /usr/lib/news/inews). <strong>uqwk</strong> adds a `-h' flag when calling it, except in plain (non-expert) QWK mode.</p>
  </dd>
  <dt>
    <p><strong>+V</strong><em>n</em></p>
  </dt>
  <dd>
    <p>The value of <em>n</em> determines whether articles are validated before posting, whether this checking is verbose, and whether the result is respected or ignored:</p>
<pre>
  +V  Equivalent to `+V3' (default)
  +V0 No article validation
  +V1 Verbose article validation, ignoring the outcome
  +V2 Silent article validation, failing articles are
      not posted
  +V3 Verbose article validation, articles containing
      fatal errors are not posted
</pre>
<p>Whenever checking is performed, bad articles are appended to the file `dead.articles' in the <strong>uqwk</strong> home directory. This option is only available when <strong>uqwk</strong> was compiled with the `GNKSA' option, in which case the default value is `3'.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Equivalent to `+V0', as defined above.</p>
  </dd>
  <dt>
    <p><strong>+x</strong></p>
  </dt>
  <dd>
    <p>Honor Xref header lines in news articles.  When this switch is in effect, <strong>uqwk</strong> will only pack a crossposted article in the first newsgroup in which it is encountered.  This can reduce the size of the packet but may introduce unexpected behaviour on the part of the offline reader. This is the default.</p>
  </dd>
  <dt>
    <p><strong>-x</strong></p>
  </dt>
  <dd>
    <p>Do not honor Xref lines.</p>
  </dd>
  <dt>
    <p><strong>+F</strong></p>
  </dt>
  <dd>
    <p>Ignore error on nonexisting news messages; proceed instead of aborting. This is the default.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Signal an error and abort on missing news messages.</p>
  </dd>
  <dt>
    <p><strong>-M</strong><em>mailspool</em></p>
  </dt>
  <dd>
    <p>Look in the directory <em>fImailspool</em> for the mailbox file (or maildir mailbox). The default is /var/spool/mail.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em>mailfile</em></p>
  </dt>
  <dd>
    <p>Look for mail in the file <em>mailfile</em>.  The default is a file (or maildir mailbox) with the same name as the user's login name in <em>fImailspool</em>; however, the MAIL environment variable is used when set. This switch overrides the <strong>-M</strong> switch.</p>
  </dd>
  <dt>
    <p><strong>-a</strong><em>activefile</em></p>
  </dt>
  <dd>
    <p>Use <em>activefile</em> for the list of all available newsgroups and article numbers.  The default is /usr/local/news/lib/active.  This option is not available if <strong>uqwk</strong> obtains articles from a news server using NNTP.</p>
  </dd>
  <dt>
    <p><strong>-S</strong><em>newsdir</em></p>
  </dt>
  <dd>
    <p>Look for news articles in the directory <em>newsdir</em>.  The default is /var/spool/news.  This option is not available if <strong>uqwk</strong> obtains articles from a news server using NNTP.</p>
  </dd>
  <dt>
    <p><strong>-N</strong><em>newsrcfile</em></p>
  </dt>
  <dd>
    <p>Use <em>newsrcfile</em> for the list of all newsgroups to which the user is subscribed and the list of article numbers which have been read.  The default is $HOME/.newsrc.</p>
  </dd>
  <dt>
    <p><strong>-u</strong><em>username</em></p>
  </dt>
  <dd>
    <p>By default <strong>uqwk</strong> uses the getpwuid() system call to determine the proper user name to use.  This switch overrides the results of that call.</p>
  </dd>
  <dt>
    <p><strong>-H</strong><em>homedir</em></p>
  </dt>
  <dd>
    <p>By default, <strong>uqwk</strong> uses the getpwuid() system call to determine the user's home directory.  The home directory is where the files comprising the offline packet will be created.  It is also where <strong>uqwk</strong> looks for the .newsrc file.  This switch may be used to override the results of the getpwuid() call.</p>
  </dd>
  <dt>
    <p><strong>-B</strong><em>maxblocks</em></p>
  </dt>
  <dd>
    <p>Stop processing news articles if the size of the offline packet exceeds <em>maxblocks</em> 128-byte blocks. This is useful since large amounts of unread news can create large packets.  Use a <em>maxblocks</em> value of zero to suppress this check.  The default is 4096 blocks (half a megabyte).</p>
  </dd>
  <dt>
    <p><strong>-D</strong><em>ngfile</em></p>
  </dt>
  <dd>
    <p>Process newsgroups in the order specified in <em>ngfile</em>.  <em>ngfile</em> is expected to contain one newsgroup name per line.</p>
  </dd>
  <dt>
    <p><strong>-U</strong><em>sumfile</em></p>
  </dt>
  <dd>
    <p>Operate in "summary" mode.  Instead of packing articles, <strong>uqwk</strong> creates a summary file, <em>sumfile</em>, which consists of the newsgroup name, article number, and subject line of each unread article.  All summarized articles are marked as read.</p>
  </dd>
  <dt>
    <p><strong>-E</strong><em>selfile</em></p>
  </dt>
  <dd>
    <p>Operate in "selection" mode.  Instead of using the .newsrc file to determine which articles to pack, <strong>uqwk</strong> reads <em>selfile</em>, a file in the same format as the summary file.  (The actual subjects are optional in <em>selfile</em>.)  The idea is that a summary may be created by using -U, downloaded, edited or processed by additional software to select desired articles, uploaded, and fed to the -E switch for offline article selection.</p>
  </dd>
  <dt>
    <p><strong>-R</strong><em>replyfile</em></p>
  </dt>
  <dd>
    <p>Process <em>replyfile</em> as a reply packet.  Messages and articles created by the offline reader must be uploaded as a reply packet and then processed by this switch to be mailed or posted.  If operating in SOUP mode, this file should be the REPLIES file. <strong>uqwk</strong> will remove <em>replyfile</em> when it has been processed unless it is running in read-only mode.  If operating in ZipNews mode, this switch should specify the <strong>directory</strong> in which the ZipNews reply files reside.  No default reply file is set.</p>
  </dd>
  <dt>
    <p><strong>-d</strong><em>hostname</em></p>
  </dt>
  <dd>
    <p>Use the specified <em>hostname</em> when processing ZipNews reply packets. This should be the fully-qualified domain name of the Unix host.  The default is "nowhere".</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QWK MODE OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>+h</strong></p>
  </dt>
  <dd>
    <p>Include headers.  Since the QWK specification places limits on the sizes of certain header fields such as To:, From:, and Subject:, <strong>uqwk</strong> can include all message and article headers in the body of the message so all fields are visible.  This is the default.  (This switch only applies to the QWK packet format.)</p>
  </dd>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Do not include headers in messages.  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-l</strong><em>len</em></p>
  </dt>
  <dd>
    <p>Truncate the names of newsgroups to <em>len</em> characters.  Some offline readers cannot handle long newsgroup names.  Newsgroup names are truncated after having been translated.  The default is 15 characters.  Specify a value of zero for unlimited newsgroup name lengths.  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>+e</strong></p>
  </dt>
  <dd>
    <p>Include an entry for every subscribed newsgroup in the CONTROL.DAT file. (QWK only).</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Do not include an entry in CONTROL.DAT for empty newsgroups.  This is the default.  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>+W</strong></p>
  </dt>
  <dd>
    <p>Activate the Blue Wave kludge.  The Blue Wave QWK reader does not like the personal.ndx file that <strong>uqwk</strong> creates by default.  If this switch is specified <strong>uqwk</strong> will create a regular ???.ndx file that Blue Wave likes. (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-W</strong></p>
  </dt>
  <dd>
    <p>Do not activate the Blue Wave kludge.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>+X</strong></p>
  </dt>
  <dd>
    <p>Operate in expert QWK mode.  The QWK header is ignored and all header lines are taken from the body of the message.  In the hands of an expert, this permits the creation of RFC822 compliant mail messages and RFC1036 compliant news articles using QWK readers, which is difficult or impossible otherwise in many cases.  This is intended for people who really know what they're doing.  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-X</strong></p>
  </dt>
  <dd>
    <p>Do not operate in expert QWK mode.  This is the default.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em>tablefile</em></p>
  </dt>
  <dd>
    <p>Translate newsgroup names as specified in <em>tablefile</em>.  Each line in <em>tablefile</em> is expected to have two fields separated by white space:  The old name of the newsgroup and the name to which it will be translated.  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-b</strong><em>bbsname</em></p>
  </dt>
  <dd>
    <p>Specify the BBS Name to be entered into the QWK packet.  The default is "unknown BBS".  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-c</strong><em>city</em></p>
  </dt>
  <dd>
    <p>Specify the BBS City to be entered into the QWK packet.  The default is "Anytown, USA".  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-P</strong><em>phone</em></p>
  </dt>
  <dd>
    <p>Specify the BBS Phone Number to be entered into the QWK packet. The default is "555-1212".  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em>sysop</em></p>
  </dt>
  <dd>
    <p>Specify the BBS Sysop Name to be entered into the QWK packet.  The default is "Joe Sysop".  (QWK only.)</p>
  </dd>
  <dt>
    <p><strong>-i</strong><em>bbsid</em></p>
  </dt>
  <dd>
    <p>Specify the BBS ID to be entered into the QWK packet.  The BBS ID is important since it will be checked against the BBS ID string in any incoming reply packets.  If the two do not match, the reply packet will not be processed.  The BBS ID consists of an integer, a comma, and a string of less than nine characters, with no spaces. The default is "0,SOMEBBS".  (QWK only.)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SCORING OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>+k</strong></p>
  </dt>
  <dd>
    <p>Perform kill/score processing.  The global score file will be read (if it exists), as well as the score file for the current group, and each article will becored'.  See the "USING SCORE FILES" section below. This is the default.</p>
  </dd>
  <dt>
    <p><strong>-k</strong></p>
  </dt>
  <dd>
    <p>Do not perform kill/score processing.</p>
  </dd>
  <dt>
    <p><strong>-T</strong><em>n</em></p>
  </dt>
  <dd>
    <p>Set global threshold to signed integer <em>n</em>.  The default is 0.</p>
  </dd>
  <dt>
    <p><strong>-K</strong><em>killdir</em></p>
  </dt>
  <dd>
    <p>Look for score files in <em>killdir</em>.  The default is $HOME/.uqwk.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NNTP AUTHENTICATION OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>+A</strong><em>username</em>:<em>password</em></p>
  </dt>
  <dd>
    <p>Perform NNTP authentication, specifying the username and password to use for that purpose. (NNTP only)</p>
  </dd>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>Don't do NNTP authentication.  This is the default.  (NNTP only)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>Most of the run-time options can also be controlled by environment variables.  If an option is specified by both an environment variable and a command-line option, the command-line option is honored.</p><p>Note that, as with options, not all variables are meaningful in al possible incarnations of the program.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>UQ_DO_MAIL</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to process mail.  Should be set to `1' (do mail) or `0' (don't do mail).</p>
  </dd>
  <dt>
    <p><strong>UQ_DO_NEWS</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to process news.  Should be set to `1' (do news) or `0' (don't do news).</p>
  </dd>
  <dt>
    <p><strong>UQ_INC_HDRS</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to include headers in messages. Should be set to `1' (include headers) or `0' (don't include headers).</p>
  </dd>
  <dt>
    <p><strong>UQ_EVERY_MODE</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to include an entry in CONTROL.DAT for empty newsgroups.  Should be set to `1' (include empty groups) or `0' (don't include empty groups).</p>
  </dd>
  <dt>
    <p><strong>UQ_PRT_OPTS</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to just print the values of run-time options and stop.  Should be set to `1' (print options) or `0' (don't print options).</p>
  </dd>
  <dt>
    <p><strong>UQ_READ_ONLY</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to run in read-only mode.  Should be set to `1' (read-only) or `0' (not read-only).</p>
  </dd>
  <dt>
    <p><strong>UQ_WAF_MODE</strong></p>
  </dt>
  <dd>
    <p>Determines whether the .newsrc file should be interpreted as a Waffle "join" file.  Should be set to `0' (normal) or `1' (Waffle mode).</p>
  </dd>
  <dt>
    <p><strong>UQ_SOUP_MODE</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to run in SOUP mode.  Should be set to `0' (don't run in SOUP mode) or `1' (run in SOUP mode).</p>
  </dd>
  <dt>
    <p><strong>UQ_ZIP_MODE</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to run in ZipNews mode.  Should be set to `0' (don't run in ZipNews mode) or `1' (run in ZipNews mode).</p>
  </dd>
  <dt>
    <p><strong>UQ_INEWS_PATH</strong></p>
  </dt>
  <dd>
    <p>Specifies the posting agent (usually inews) to be used. <strong>uqwk</strong> calls it with a `-h' command line switch, except in non-expert QWK mode.</p>
  </dd>
  <dt>
    <p><strong>UQ_VALIDATE</strong></p>
  </dt>
  <dd>
    <p>Determines the level of message validation.   Applicable only with GNKSA support compiled in.  See the `+V' switch for details.</p>
  </dd>
  <dt>
    <p><strong>UQ_XRF_MODE</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to honor Xref lines.  Should be set to `0' (do not honor Xref lines) or `1' (honor Xref lines). <strong>UQ_IGNORE0FD</strong> Determines whether or not to ignore nonexisting news messages; `0' to abort, `1' to ignore.</p>
  </dd>
  <dt>
    <p><strong>UQ_BW_KLUDGE</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to activate the Blue Wave kludge.  Should be set to `0' (do not activate the Blue Wave kludge) or `1' (activate the Blue Wave kludge).</p>
  </dd>
  <dt>
    <p><strong>UQ_XPRT_MODE</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to operate in QWK expert mode.  Should be set to `0' (do not run in expert mode) or `1' (run in expert mode).</p>
  </dd>
  <dt>
    <p><strong>UQ_MAIL_DIR</strong></p>
  </dt>
  <dd>
    <p>Specifies the directory where the mailbox file (or maildir type mailbox) resides.</p>
  </dd>
  <dt>
    <p><strong>UQ_MAIL_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the mailbox file (or maildir mailbox).</p>
  </dd>
  <dt>
    <p><strong>UQ_ACT_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the news system's active file.</p>
  </dd>
  <dt>
    
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>UQ_NEWS_DIR</strong></p>
  </dt>
  <dd>
    <p>Specifies the directory where the news spool resides. <strong>UQ_USER_NAME</strong> Specifies the username of the person running <strong>uqwk.</strong></p>
  </dd>
  <dt>
    <p><strong>UQ_HOME_DIR</strong></p>
  </dt>
  <dd>
    <p>Specifies the home directory, where the packet files will be created, and where <strong>uqwk</strong> expects to find the .newsrc file.</p>
  </dd>
  <dt>
    <p><strong>UQ_BBS_NAME</strong></p>
  </dt>
  <dd>
    <p>Specifies the BBS name to be entered into the QWK packet.</p>
  </dd>
  <dt>
    <p><strong>UQ_BBS_CITY</strong></p>
  </dt>
  <dd>
    <p>Specifies the BBS city to be entered into the QWK packet.</p>
  </dd>
  <dt>
    <p><strong>UQ_BBS_PHONE</strong></p>
  </dt>
  <dd>
    <p>Specifies the BBS phone number to be entered into the QWK packet.</p>
  </dd>
  <dt>
    <p><strong>UQ_BBS_SYSOP</strong></p>
  </dt>
  <dd>
    <p>Specifies the BBS sysop name to be entered into the QWK packet.</p>
  </dd>
  <dt>
    <p><strong>UQ_BBS_ID</strong></p>
  </dt>
  <dd>
    <p>Specifies the BBS ID to be entered into the QWK packet.</p>
  </dd>
  <dt>
    <p><strong>UQ_NRC_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the user's .newsrc file.</p>
  </dd>
  <dt>
    <p><strong>UQ_NG_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the desired newsgroups file.</p>
  </dd>
  <dt>
    <p><strong>UQ_MAX_BLKS</strong></p>
  </dt>
  <dd>
    <p>Specifies the maximum size of the offline packet in 128-byte blocks.</p>
  </dd>
  <dt>
    <p><strong>UQ_TRN_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the newsgroup name translation table.</p>
  </dd>
  <dt>
    <p><strong>UQ_GRP_LEN</strong></p>
  </dt>
  <dd>
    <p>Specifies the maximum length of newsgroup names.</p>
  </dd>
  <dt>
    <p><strong>UQ_REP_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the reply packet, if any.</p>
  </dd>
  <dt>
    <p><strong>UQ_HOST_NAME</strong></p>
  </dt>
  <dd>
    <p>Specifies the host name for ZipNews replies.</p>
  </dd>
  <dt>
    <p><strong>UQ_SUM_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the summary file, if any.  Also causes <strong>uqwk</strong> to execute in summary mode.</p>
  </dd>
  <dt>
    <p><strong>UQ_SEL_FILE</strong></p>
  </dt>
  <dd>
    <p>Specifies the name of the selection file, if any.  Also causes <strong>uqwk</strong> to execute in selection mode.</p>
  </dd>
  <dt>
    <p><strong>UQ_DO_KILLS</strong></p>
  </dt>
  <dd>
    <p>Determines whether or not to perform kill/score processing. Should be set to `1' (do scoring) or `0' (don't do scoring).</p>
  </dd>
  <dt>
    <p><strong>UQ_KILL_THRESHOLD</strong></p>
  </dt>
  <dd>
    <p>Specifies the global threshold.  Should be set to a signed integer.</p>
  </dd>
  <dt>
    <p><strong>UQ_KILL_DIR</strong></p>
  </dt>
  <dd>
    <p>Specifies the directory where the score files are.</p>
  </dd>
  <dt>
    <p><strong>UQ_AUTH_USER</strong></p>
  </dt>
  <dd>
    <p>Specifies the username to use for NNTP authentication. If, and only if, both a username and a password are set, NNTP authentication will be attempted.</p>
  </dd>
  <dt>
    <p><strong>UQ_AUTH_PASS</strong></p>
  </dt>
  <dd>
    <p>Specifies the password to use for NNTP authentication. If, and only if, both a username and a password are set, NNTP authentication will be attempted.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING SCORE FILES</h2>
        <div class="sectioncontent">
<p>If support for scoring was compiled in, <strong>uqwk</strong> can "score articles" while collecting news, so that articles whose "score" is below a certain threshold can be excluded from the packet.  The rules according to which articles are scored are specified by the user in so-called score files.</p><p>The format of these score files is based on the score files used by some offline readers (notably YARN).  Each newsgroup can have a score file; its name is the name of the group.  There is also a global score file, that applies to all groups, which is called "global".</p><p>Getting started</p><p>If you find some class of articles you wish to exclude from a particular newsgroup, use any text editor to create a file named after it. Each line of such a file contains a score, a place to look for a keyword or regular expression, and the keyword.</p><p>For example, to exclude all crossposted articles from talk.bizarre, create a file called "talk.bizarre" in the directory $HOME/.uqwk, with the following line in it:</p>
<pre>
  -10 Newsgroups: ,
</pre>
<p>The effect of this line in this file would be that all articles in talk.bizarre which' "Newsgroups: " header contains a `,' would get -10 added to their initial score of 0.  With a threshold of 0, that means that unless other lines add enought to compensate, these articles will not be included.</p><p>Score file format</p><p>Each score file carries the name of the group it applies to, and consists of a series of score lines.  Blank lines and lines beginning with `#' are ignored.  Lines can have any of the following formats:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>killthreshold </strong><em>n</em></p>
  </dt>
  <dd>
    <p>specifies an integer score <em>n</em> that articles must meet or exceed in order to be included in the packet.  This line is optional, if not present the global kill threshold is used. (which defaults to 0 if not set).</p>
  </dd>
  <dt>
    <p><strong></strong><em>score</em> <em>header</em> <em>pattern</em></p>
  </dt>
  <dd>
    <p>constitutes an actual scoring line; <em>score</em> is added to an article's score if the remainder of the line matches.  To match, the specified <em>pattern</em> must match with the articles's indicated <em>header</em>. The specified pattern is always interpreted as a regular expression; for reasons of compatibility patterns can be preceded with the word "pattern".</p>
  </dd>

</dl>
<p>The global score file is processed first.  Its patterns are applied to all articles.  Score lines are processed in sequence.  An article that scores below the kill threshold will not be included.</p><p>Example alt.usenet.offline-reader score file</p>
<pre>
  # only include articles explicitly selected
  killthreshold 1
</pre>

<pre>
  # select messages about FurriNews
  +2 Subject: FurriNews
  # select messages about uqwk
  +2 Subject: uqwk
</pre>

<pre>
  # eliminate messages about crapware
  -666 Subject: microsoft
  -666 Subject: netscape
</pre>
<p>Limitations, additional notes</p><p>It should be noted that only headers are scanned for computing scores. Furthermore, all scanning is done using POSIX regex functions -- even when a simple substring search could have sufficed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMAND LANGUAGE</h2>
        <div class="sectioncontent">
<p>If, while processing a reply packet, <strong>uqwk</strong> encounters a message to the username "UQWK", the body of the message will be interpreted as a small command language, used to display newsgroup names and subscribe or unsubscribe to newsgroups.  The results of the execution of the commands will be mailed back to the originating user.</p><p>This is what the command language looks like:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>HELP</strong></p>
  </dt>
  <dd>
    <p>List all the available commands.</p>
  </dd>
  <dt>
    <p><strong>SUBSCRIBE newsgroup</strong></p>
  </dt>
  <dd>
    <p>Subscribe to the named newsgroup.</p>
  </dd>
  <dt>
    <p><strong>UNSUBSCRIBE newsgroup</strong></p>
  </dt>
  <dd>
    <p>Unsubscribe from the named newsgroup.  UNSUBSCRIBE ALL may be used to unsubscribe from all newsgroups.  UNSUBSCRIBE ALL is also the only way to create a new .newsrc if it does not already exist.</p>
  </dd>
  <dt>
    <p><strong>CATCHUP newsgroup</strong></p>
  </dt>
  <dd>
    <p>Mark all articles in the named newsgroup as read.</p>
  </dd>
  <dt>
    <p><strong>GROUPS</strong></p>
  </dt>
  <dd>
    <p>List all newsgroups to which the user is currently subscribed.</p>
  </dd>
  <dt>
    <p><strong>ALLGROUPS</strong></p>
  </dt>
  <dd>
    <p>List all the available newsgroups and the number of articles in each one.</p>
  </dd>
  <dt>
    <p><strong>SHELL command</strong></p>
  </dt>
  <dd>
    <p>Execute the specified shell command.  Anything written to standard output will be mailed back to the originating user.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>In QWK mode, it is possible to send mail to long email addresses by including, as the first thing in the body of the message, a line of the form:</p>
<pre>
  To: user@site.com
</pre>
<p>(The space after the colon is important.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The handling of MMDF mail files is kludgy and should be fixed.</p><p>In QWK mode, if the .newsrc file is modified significantly between the time a packet is created and the time replies to that packet are processed, it is possible that articles may be posted to the wrong newsgroup.  If you use <strong>uqwk</strong> along with a conventional online newsreader, it may be wise to maintain a separate .newsrc file strictly for <strong>uqwk.</strong></p><p><strong>uqwk</strong> does not do mail locking.  New mail messages that arrive while packing mail can therefore be lost.  If this worries you (it should), there are a few ways of preventing message loss.  One approach (see the `getsoup' script, listed below, for an example) is to move your messages to a temporary file, and let <strong>uqwk</strong> collect the messages from that file instead of directly from the system mailbox.  Since messages might get appended at any time, locking must be applied even while the mailbox is being moved.  Another approach is to explicitly lock the mailbox before, and unlock it after, running <strong>uqwk</strong> -- i.e. like this:</p>
<pre>
  lockfile -l666 -ml; trap "lockfile -mu" 1 2 3 13 15
  uqwk +m
  lockfile -mu; trap "" 1 2 3 13 15
</pre>
<p>A third approach to run <strong>uqwk</strong> in read-only mode and clean up your mailbox afterwards; in which case one can but hope one really knows what one's doing.</p><p><strong>uqwk</strong> does not support the ZipNews offline commands.  To perform offline configuration using <strong>uqwk,</strong> send mail to the username "UQWK" in the format described in the COMMAND LANGUAGE section above.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SAMPLE SCRIPTS</h2>
        <div class="sectioncontent">
<p>It may be convenient for users to employ simple shell scripts for preparing packets using uqwk, and for handling reply packets.  A few examples might prove instructive.</p><p><strong>getsoup</strong> - collect mail and news into a SOUP packet</p>
<pre>
  #!/bin/sh
</pre>

<pre>
  UQWKARGS="-B0 -m +L"
</pre>

<pre>
  # What to do?  Set variables to enable.
  #UQ_DO_MAIL=1
  UQ_DO_NEWS=1
  export UQ_DO_MAIL UQ_DO_NEWS
</pre>

<pre>
  # NNTPAUTH="yes please!"
</pre>

<pre>
  # When reading mail from the system mailbox, locking
  # will have to be done somehow.  If your Unix system
  # does not have lockfile, but does have /usr/ucb/mail,
  # use UQ_LOCKING="ucbmail".  See below.
</pre>

<pre>
  UQ_LOCKING="lockfile"
</pre>

<pre>
  #
  # No user servicable parts below (I hope)
  #
</pre>

<pre>
  prg=`basename $0`
</pre>

<pre>
  if [ -z "$UQ_DO_MAIL" -a -z "$UQ_DO_NEWS" ]
  then
    echo "$prg: nothing to do"                          &gt;&2
    exit
  fi
</pre>

<pre>
  UQ_HOME_DIR=$HOME/.uqwk
  UQ_NRC_FILE=$HOME/.newsrc
  export UQ_HOME_DIR UQ_NRC_FILE
</pre>

<pre>
  # Do things in a nice, cozy subdirectory
  if [ ! -d $UQ_HOME_DIR ]
  then
    echo "$prg: $UQ_HOME_DIR does not exist, creating it"
    mkdir -p $UQ_HOME_DIR
    if [ ! -d $UQ_HOME_DIR ]
    then
      echo "$prg: failed to create $UQ_HOME_DIR"        &gt;&2
      echo "$prg: bailing out"                          &gt;&2
      exit 1
    fi
  fi
  cd $UQ_HOME_DIR
</pre>

<pre>
  soupfile=soup.zip
</pre>

<pre>
  if [ -f $soupfile ] ; then
    echo "Hmmm, $soupfile already exists."
    rm -i $soupfile
    if [ -f $soupfile ] ; then
      exit 1
    fi
  fi
</pre>

<pre>
  if [ -n "$UQ_DO_NEWS" ]
  then
    UQWKARGS="$UQWKARGS +n"
    # Get auth stuff (nntp auth mode only)
    if [ -n "$NNTPAUTH" ]
    then
      while [ -z "$UQ_AUTH_PASS" ]
      do
        echo "Authentication for server $NNTPSERVER;"
        echo "Username: $USER, password: &#92;c"
        stty -echo
          read UQ_AUTH_PASS; echo
        stty echo
      done
      # Pass these through environment
      UQ_AUTH_USER=$USER; export UQ_AUTH_USER UQ_AUTH_PASS
    fi
  fi
</pre>

<pre>
  if [ -n "$UQ_DO_MAIL" ]
  then
    UQWKARGS="$UQWKARGS +m"
</pre>

<pre>
    # Read mail from the system mail box?
    if [ -z "$UQ_MAIL_FILE" ]
    then
      # uqwk does not do mailbox locking.  Locking options:
      #  - procmail's nifty "lockfile" utility
      #  - /usr/ucb/mail ("ucbmail")
      UQ_MAIL_FILE=/tmp/$prg.$USER.mbx.$$;
      export UQ_MAIL_FILE
</pre>

<pre>
      case $UQ_LOCKING in
      "lockfile")
        lockfile -l666 -ml; trap "lockfile -mu" 1 2 3 13 15
         mv $MAIL $UQ_MAIL_FILE
         lockfile -mu; trap "" 1 2 3 13 15
         ;;
      "ucbmail")
         ( echo 's1-$' $UQ_MAIL_FILE ; echo q )          |
           /usr/ucb/mail &gt;/dev/null
         ;;
      *)
         echo "$prg: no, or unknown, locking method"     &gt;&2
         echo "$prg: bailing out"                        &gt;&2
         exit 1
         ;;
      esac
    fi
  fi
</pre>

<pre>
  #
  # Now we know how to call uqwk, proper args 'n' all
  #
  uqwk $UQWKARGS; err=$?
  if [ $err -ne 0 ]
  then
    echo "$prg: fatal error in uqwk"                    &gt;&2
    echo "$prg: proceed with caution"                   &gt;&2
  fi
</pre>

<pre>
  # Create the SOUP packet
  #
  if [ "`echo *.MSG`" = "*.MSG" ]
  then
    echo "Sorry, nothing to get."
    rm -f AREAS
    exit
  fi
  zip -m $soupfile AREAS *.MSG
  mv $soupfile $HOME
</pre>

<pre>
  echo "Done, you can upload
    &lt;ftp://$USER@ftp.`domainname`/$soupfile&gt;
  now."
</pre>
<p><strong>putsoup</strong> - process a SOUP reply packet</p>
<pre>
  #!/bin/sh
</pre>

<pre>
  prg=`basename $0`
  rf=reply.zip; cd $UQ_HOME_DIR
</pre>

<pre>
  if [ ! -f $rf ]; then
    echo "$prg: no reply packet found"                  &gt;&2
    exit 1
  fi
</pre>

<pre>
  unzip -ju $rf                                 2&gt;/dev/null
</pre>

<pre>
  if uqwk -m -n +L -RREPLIES
  then
    echo "$prg: fatal uqwk error, proceed with caution" &gt;&2
  fi
</pre>

<pre>
  echo "Done. If all went well, $rf can safely be deleted."
  rm -i $rf
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO uqwk.nntp&hellip;</h2>
        <div class="sectioncontent">
<p><strong>inews</strong>(8),</strong> <strong>lockfile</strong>(1),</strong> <strong>mail</strong>(1),</strong> <strong>procmail</strong>(1)</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p><strong>uqwk</strong> was inspired by a conversation with Harry Lockwood &lt;lockwood@world.std.com&gt;.</p><p>QWK format was designed by Mark "Sparky" Herring &lt;mark.herring@nashville.com&gt;. The creator of SOUP is Rhys Weatherley &lt;rhys@cs.uq.oz.au&gt;. The creator of ZipNews is Jack Kilday &lt;jkilday@nlbbs.com&gt;.</p><p>Thanks to Patrick Y. Lee &lt;patlee@panix.com&gt; for the QWK documentation. Many thanks also to the beta-testers:  Karl J. Vesterling &lt;kjv@exucom.com&gt; and Brian J. Coan &lt;brian@igc.apc.org&gt;.</p><p>Many thanks to Ken Whedbee &lt;kcw@grumpy.ksc.nasa.gov&gt; for the NNTP modifications.</p><p>Many other people, too numerous to list here, contributed bug fixes and suggestions for improvement.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Steve Belczyk, steve1@genesis.nred.ma.us, seb3@gte.com.</p><p>Copyright (C) 1993-1994 by steve belczyk. Permission to use, copy, modify and distribute this software and its documentation for any purpose and without fee is hereby granted, provided that the above copyright notice appear in all copies and that both that copyright notice and this permission notice appear in supporting documentation.  This software is provided "as is" without expressed or implied warranty.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODIFIED BY</h2>
        <div class="sectioncontent">
<p>Jeroen Scheerder, js@cwi.nl, js@xs4all.nl, js@phil.ruu.nl.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MORE ACKNOWLEDGEMENTS</h2>
        <div class="sectioncontent">
<p>Jim Tittsler &lt;7j1ajh@amsat.org&gt; came up with decent scoring code. Jos den Bekker &lt;josdb@xs4all&gt; provided valuable suggestions and bugfixes, most notably regarding error handling.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="uptime.1.html"><span aria-hidden="true">&larr;</span> uptime.1: Tell how long the system has been running.</a></li>
   <li class="next"><a href="uqwk.spool.1.html">uqwk.spool.1: Collect news & mail messages for offline reading <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
