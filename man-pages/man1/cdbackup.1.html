<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>cdbackup: Streaming backup to cd-r(w)/dvr-r(w)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Streaming backup to cd-r(w)/dvr-r(w)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="cdbackup (1) manual">
  <meta name="twitter:description" content="Streaming backup to cd-r(w)/dvr-r(w)">
  <meta name="twitter:image" content="https://www.carta.tech/images/cdbackup-cdbackup-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/cdbackup.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="cdbackup (1) manual" />
  <meta property="og:description" content="Streaming backup to cd-r(w)/dvr-r(w)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/cdbackup-cdbackup-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">cdbackup<small> (1)</small></h1>
        <p class="lead">Streaming backup to cd-r(w)/dvr-r(w)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cdbackup.1.html">
      <span itemprop="name">cdbackup: Streaming backup to cd-r(w)/dvr-r(w)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/cdbackup/">
      <span itemprop="name">cdbackup</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/cdbackup.1.html">
      <span itemprop="name">cdbackup: Streaming backup to cd-r(w)/dvr-r(w)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>cdbackup [-mvwCDRVX] [-d <em>device</em>] [-r <em>scsi-dev</em>] [-s <em>speed</em>]</p>
<pre>
         [-i <em>image</em>] [-p <em>num</em>] [-l <em>size</em>] [-a <em>label</em>]
         [-c <em>command</em>] [-- <em>cdrecord-options</em>]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>cdbackup is a utility to make streaming backups to CD-R(W)/DVD-R(W) disks. It's designed to work with any backup tool which writes the backup to stdout (like tar/cpio/afio).</p><p><em>NOTE:</em> this program REQUIRES that a recent version of <strong>cdrecord</strong>(1) (or cdrecord-ProDVD for DVD support) is present in the PATH.</p><p>While you can perfectly append several sessions on CD-R(W) media, I didn't manage to make this work on DVD-R(W) media. To allow multiple, separate backups on these media, the concept of virtual images has been introduced.</p><p>A virtual image is a plain file on your harddisk. You can append several backups to an image and after completing your backup session, the image is dumped to CDR/DVD media in one burning session. You can dump the same image multiple times too, if you want redundancy on the CDR/DVD media.</p><p>Virtual image files are never deleted by cdbackup. After dumping an image, you have to delete it by your self.</p><p><em>WARNING!</em> When using this program under Linux, be sure not to use dump on a mounted filesystem. This has a high potential for creating corrupted backups. As of kernel version 2.4.19, this has not been fixed and it may not be fixed at all. You can read Linus statement about this at &lt;http://search.alphanet.ch/cgi-bin/search.cgi?max_results=10&type=long&msgid=Pine.LNX.4.21.0104270953280.2067-100000@penguin.transmeta.com&domain=ml-linux-kernel&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong> <em>device</em></p>
  </dt>
  <dd>
    <p>The device name which is used for reading things like the TOC from a (partly written) media.</p><p>(default: /dev/burner)</p>
  </dd>
  <dt>
    <p><strong>-r</strong> <em>scsi-device</em></p>
  </dt>
  <dd>
    <p>The scsi device which is passed to <strong>cdrecord</strong>(1) (via dev=<em>scsi-device</em>). Must be given as three, comma separated number: <em>scsibus</em>,<em>target</em>,<em>lun</em>.</p><p>(default: none or the contents of the environment variable CDR_DEVICE)</p>
  </dd>
  <dt>
    <p><strong>-s</strong> <em>speed</em></p>
  </dt>
  <dd>
    <p>The writing speed which is passed to <strong>cdrecord</strong>(1) (via speed=<em>speed</em>).</p><p>(default: 4 or the contents of the environment variable CDR_SPEED)</p>
  </dd>
  <dt>
    <p><strong>-p</strong> <em>num</em></p>
  </dt>
  <dd>
    <p>The number of sectors (of 2048 byte) to use for padding (see <strong>cdrecord</strong>(1) padsize).</p><p>(default: 15)</p>
  </dd>
  <dt>
    <p><strong>-X</strong></p>
  </dt>
  <dd>
    <p>Enables the use of CDROM XA2 mode in <strong>cdrecord</strong>(1). By default CDROM mode 1 is used. The default is possibly causing problems during restore on certain kernel version/CDROM hardware combinations at the end of the last session on a media. Sony drives doesn't support CDROM XA 2 mode (see <strong>cdrecord</strong>(1) -multi).</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>Enables DVD writing mode. Cdrecord-ProDVD is used to burn DVD media, but it's called through a script called "dvdrecord". You should set your cdrecord-ProDVD key and call cdrecord-ProDVD from there.</p><p>Remember that you cannot write multiple sessions to DVD media. Either you stick with one backup per media or you have to use virtual images.</p><p>In DVD mode the options -p and -X have no effect.</p>
  </dd>
  <dt>
    <p><strong>-i</strong> <em>image</em></p>
  </dt>
  <dd>
    <p>Enables virtual image mode. The backup stream is written to the given image file. The file is created if it doesn't exists. It's mandatory to give an explicit media size with -l. Take care that the created virtual image isn't larger that the media size you want to dump it later. You can add up to 96 backups to an virtual image.</p><p>If the backup extends the specified media size and you have enabled multi-disk mode, additional images files are created (the filenames are derived from the initial image name by adding a dot and a decimal number).</p><p>(default: none)</p>
  </dd>
  <dt>
    <p><strong>-w</strong></p>
  </dt>
  <dd>
    <p>Dump the virtual image specified with -i to real media. Image dumps are written as single sessions always. If you have enabled multi-disk mode and additional images are found, you're prompted for media change, so that you can dump all images in turn.</p><p>Virtual images (even when dumped to media) are not compatible with older cdbackup versions.</p>
  </dd>
  <dt>
    <p><strong>-l</strong> <em>size</em></p>
  </dt>
  <dd>
    <p>For normal operation the media size is auto-detected from the cdrecord ATIP information. If this fails or for virtual image mode use this option to set the media size. This is used to calculate how much data can be stored on the media.</p><p>By default the given value is taken as megabytes. You can append a single letter to the number to select: (k)ilobytes, (m)egabytes, (g)igabytes or (s)ectors (e.g. 170k, 4488m, 350000s).</p><p>(default: auto-detect)</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Disables creation of the datablock CRC checksum. There is no real reason to use this option, unless you can't efford the extra 0,2% media space that is used to store the checksum.</p><p>Although the on-disk layout of checksummed backups is different, they are fully backwards compatible with older version of cdbackup, but obviously older versions can't check the backup integrity.</p>
  </dd>
  <dt>
    <p><strong>-a</strong> <em>label</em></p>
  </dt>
  <dd>
    <p>A text label to identify the backup set. The first 32 characters of this string are save with the backup.</p><p>(default: "CDBackup Track")</p>
  </dd>
  <dt>
    <p><strong>-c</strong> <em>command</em></p>
  </dt>
  <dd>
    <p>The command which is executed whenever cdbackup needs to request a new media in multi-disk mode. This command (or script) should prompt the user and return after the recording device is ready again. The command receives one argument, which is the device name passed with <strong>-d</strong>. This can be used to issue commands to the device like ejecting the media.</p><p>(default: use internal diskchange prompt)</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Enables multi-disk mode. When the current media is filled, a new media is requested (see option <strong>-c</strong>) and the backup is continued. Backups can only be continued to empty media, this means you cannot insert a partly filled media for continuation.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Enables verbose mode.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Enables DEBUG output (probably not useful for normal use).</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Prints out version information and exits.</p>
  </dd>
  <dt>
    <p><strong>--</strong> <em>cdrecord-options</em></p>
  </dt>
  <dd>
    <p>Pass following options to <strong>cdrecord</strong>(1).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To create a tar archive of /home and output it to a 700 MB CD-R(W) on /dev/scd0 (scsi device 2,0):</p><ul>
<li><p>tar cvf - /home | cdbackup -d /dev/scd0 -r 2,0 -l 700 -a "Test Backup"</p></li>
</ul><p>To create a tar archive of /usr and output it to a series (multi-disk mode) of 650 MB CD-R(W) on /dev/sr1 (scsi device 1,4,0) with writing speed 12 and verbose output:</p><ul>
<li><p>tar cf - /usr | cdbackup -d /dev/sr1 -r 1,4,0 -s 12 -m -v</p></li>
</ul><p>To create a backup on a virtual image:</p><ul>
<li><p>tar cf - /usr | cdbackup -i /tmp/vimage -l 4488m</p></li>
</ul><p>Add another backup to the same virtual image (with multi-disk mode):</p><ul>
<li><p>tar cf - /home | cdbackup -i /tmp/vimage -l 4488m</p></li>
</ul><p>Dump the virtual image to one (or several) DVD media on /dev/cdrom (scsi-ide device 0,0,0), enabling BURNFREE:</p><ul>
<li><p>cdbackup -i /tmp/vimage -w -R -d /dev/cdrom -r 0,0,0 -s 4 -m -- driveropts=burnfree</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KNOWN PROBLEMS</h2>
        <div class="sectioncontent">
<p>Certain combinations of CDROM drivers and kernel versions are causing a problem when restoring data. The restore process aborts with an read error close to the end of the session, while the data on the media is perfectly good.</p><p>All CDR sessions written in track-at-once mode (which is unavoidable for multisessions) end in at least two unreadable runout sectors (for additional information refer to the file README.copy from the cdrecord package). As the kernel does some readahead on the device, it stumbles over these unreadable sectors before reaching the actual end of data.</p><p>Some drivers are reporting to syslog but doesn't pass the error to the application, while others make the application fail. From user feedback, it seems that pure SCSI setups are mostly working fine, while ide-scsi setups are likely to fail.</p><p>The author isn't able to provide a full solution, but some hints which may help:</p>
<dl class='dl-vertical'>
  <dt>
    <p>1.</p>
  </dt>
  <dd>
    <p>Update to a recent kernel.</p>
  </dd>
  <dt>
    <p>2.</p>
  </dt>
  <dd>
    <p>Disable kernel readahead with option -R when restoring.</p>
  </dd>
  <dt>
    <p>3.</p>
  </dt>
  <dd>
    <p>Increase the padsize with option -p. Use values &gt;= 128.</p>
  </dd>
  <dt>
    <p>4.</p>
  </dt>
  <dd>
    <p>Use option -X if your writer supports this (Sony drives doesn't supports this mode).</p>
  </dd>

</dl>
<p>Please contact the author if you can contribute additional information about the problem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Stefan Hülswitt &lt;s.huelswitt@gmx.de&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO cdbackup&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/cdrestore.1.html"><strong>cdrestore</strong>(1)</a>, <strong>cdrecord</strong>(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>Copyright (c) 2000-2004 Craig Condit, Stefan Hülswitt.</p><p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<dl class='dl-vertical'>
  <dt>
    <p>1.</p>
  </dt>
  <dd>
    <p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p>
  </dd>
  <dt>
    <p>2.</p>
  </dt>
  <dd>
    <p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p>
  </dd>

</dl>
<p>THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="cdb.1.html"><span aria-hidden="true">&larr;</span> cdb.1: Constant database manipulation tool</a></li>
   <li class="next"><a href="cdbdump.1.html">cdbdump.1: Dump the contents of a constant database <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
