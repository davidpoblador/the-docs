<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pslib: A postscript based plotting library</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A postscript based plotting library">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pslib (1gmt) manual">
  <meta name="twitter:description" content="A postscript based plotting library">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-manpages-pslib-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/pslib.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pslib (1gmt) manual" />
  <meta property="og:description" content="A postscript based plotting library" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-manpages-pslib-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pslib<small> (1gmt)</small></h1>
        <p class="lead">A postscript based plotting library</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/pslib.1gmt.html">
      <span itemprop="name">pslib: A postscript based plotting library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt-manpages/">
      <span itemprop="name">gmt-manpages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/pslib.1gmt.html">
      <span itemprop="name">pslib: A postscript based plotting library</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>pslib</strong> was created to make the generation of <em>PostScript</em> page description code easier. It is a library that contains a series of tools that can be used to create plots. The resulting <em>PostScript</em> code is ASCII text and can be edited using any text editor. Thus, it is fairly easy to modify a plot file even after it has been created, e.g., to change text strings, set new gray shades or colors, experiment with various penwidths etc. <strong>pslib</strong> is written in C but now includes FORTRAN bindings (thanks to John Goff, WHOI) and can therefore be called from both C and FORTRAN programs. To use this library, you must link your plotting program with pslib.a. <strong>pslib</strong> is the core of the <strong>GMT SYSTEM</strong> and <strong>XY</strong> graphics programs. <strong>pslib</strong> output conforms to the Adobe Encapsulated <em>PostScript</em> File Specification Version 3.0 (EPSL), and may be used as EPS files and inserted into, say, a Word document on a Mac. See Appendix F in the Technical Reference for detailed instructions.</p><p>Before any <strong>pslib</strong> calls can be issued, the plotting system must be initialized. This is done by calling <strong>ps_plotinit</strong>, which defines macros, sets up the plot-coordinate system, scales, and [optionally] opens a file where all the <em>PostScript</em> code will be written. Normally, the plot code is written to <em>stdout</em>. The measure unit for sizes and positions can be set to be centimeter, inch, or m. When all plotting is done, you must terminate the plotting system by calling <strong>ps_plotend</strong>.</p><p><strong>pslib</strong> uses the direct color model where red, green, and blue are given separately, each must be in the range from 0-255. If red &lt; 0 then no fill operation takes place. Most plot-items can be plotted with or without outlines. If outline is desired (i.e., set to 1), it will be drawn using the current linewidth and pattern. <strong>pslib</strong> uses highly optimized macro substitutions and scales the coordinates depending on the resolution of the hardcopy device so that the output file is kept as compact as possible.</p><p>A wide variety of output devices that support <em>PostScript</em> exist, including laserwriters (color or monochrome) and workstations running <em>PostScript</em> based window systems like SUNs OpenWindows. xnews (part of OpenWindows) or ghostscript (public domain) can be used to create rasterfiles at a user-defined resolution (DPI), making it possible to render <em>PostScript</em> on a Versatec and other non-<em>PostScript</em> raster devices. Regular SUN rasterfiles created under NeWS from <em>PostScript</em> files can be sent to a variety of color hardcopy units. Check the devices available on your network.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FUNCTION CALLS</h2>
        <div class="sectioncontent">
<p>The following is a list of available functions and a short description of what they do and what parameters they expect. All floating point variables are expected to be <strong>double</strong> (i.e., 8 bytes), whereas all integers are assumed to be 4 bytes long. All plotting functions are declared as functions returning an int. Currently, the return value is undefined.</p><ul>
<li><p>void <strong>ps_arc</strong> (<em>x, y, radius, angle1, angle2, status</em>)</p><p><strong>double</strong> <em>x, y, radius, angle1, angle2</em>;</p><p><strong>int</strong> <em>status</em>;</p><p>Draws a circular arc centered on (<em>x,y</em>) from angle <em>angle1</em> to <em>angle2</em>. Angles must be given in decimal degrees. If angle1 &gt; angle2, a negative arc is drawn. <em>status</em> is a value from 0 through 3. 1 means set new anchor point, 2 means stroke the circle, 3 means both, 0 means none of the above.</p></li><li><p>void <strong>ps_axis</strong> (<em>xpos, ypos, length, startval, stopval, tickval, label, anotpointsize, side</em>)</p><p><strong>double</strong> <em>xpos, ypos, length, startval, stopval, tickval</em>;</p><p><strong>int</strong> <em>anotpointsize, side</em>;</p><p><strong>char</strong> <em>*label</em>;</p><p>Plots an axis with tickmarks, annotation, and label. <em>xpos, ypos</em>, and <em>length</em> are in inches (or cm or meters), <em>anotpointsize</em> in points (72 points = 1 inch), else data units are used. <em>side</em> can be 0, 1, 2, or 3, which selects lower x-axis, right y-axis, upper x-axis, or left y-axis, respectively. labelpointsize = 1.5 * <em>anotpointsize</em>. A negative <em>tickval</em> will reverse the sense of positive direction, e.g., to have the y-axis be positive down.</p></li><li><p>void <strong>ps_circle</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a circle and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern.</p></li><li><p>void <strong>ps_clipoff</strong> ()</p><p>Resets the clip path to what it was before the last call to <strong>clipon</strong>.</p></li><li><p>void <strong>ps_clipon</strong> (<em>xarray, yarray, npoints, rgb, flag</em>)</p><p><strong>double</strong> <em>xarray[], yarray[]</em>;</p><p><strong>int</strong> <em>npoints, rgb[3], flag</em>;</p><p>Sets up a user-definable clip path. Plotting outside this polygon will be clipped until <strong>ps_clipoff</strong> is called. If <em>red</em> &gt;= 0 the inside of the path is filled with the specified color. <em>flag</em> is used to create complex clip paths consisting of several disconnected regions, and takes on values 0-3. <em>flag</em> = 1 means this is the first path in a multi-segment clip path. <em>flag</em> = 2 means this is the last segment. Thus, for a single path, <em>flag</em> = 3.</p></li><li><p>void <strong>ps_colorimage</strong> (<em>xpos, ypos, xlength, ylength, buffer, nx, ny</em>)</p><p><strong>double</strong> <em>xpos, ypos, xlength, ylength</em>;</p><p><strong>unsigned char</strong> <em>buffer[]</em>;</p><p><strong>int</strong> <em>nx, ny</em>;</p><p>Plots a 24-bit true color image using rgb colors. Similar to <em>ps_image</em> except <em>bits</em> is fixed to be 8. The rgb triplets are stored in <em>buffer</em> as rgbrgbrgb... This functions sets up a call to the <em>PostScript</em> colorimage operator which is not implemented in all drivers.</p></li><li><p>void <strong>ps_colortiles</strong> (<em>x0, y0, xlength, ylength, buffer, nx, ny</em>)</p><p><strong>double</strong> <em>x0, y0, xlength, ylength</em>;</p><p><strong>int</strong> <em>nx, ny</em>;</p><p><strong>unsigned char</strong> <em>buffer[]</em>;</p><p>Plots a true color image based on individual color tiles. <em>x0, y0</em> is the location of the lower left corner of the image in inches. <em>xlength,</em> ylength is the image size in inches. <em>buffer</em> contains rgb triplets stored as rgbrgbrgb... <em>nx, ny</em> is the image size in pixels.</p></li><li><p>void <strong>ps_command</strong> (<em>text</em>)</p><p><strong>char</strong> <em>*text</em>;</p><p>Writes a raw <em>PostScript</em> command to the <em>PostScript</em> output file, e.g. "1 setlinejoin".</p></li><li><p>void <strong>ps_comment</strong> (<em>text</em>)</p><p><strong>char</strong> <em>*text</em>;</p><p>Writes a comment (<em>text</em>) to the <em>PostScript</em> output file, e.g. "Start of graph 2".</p></li><li><p>void <strong>ps_cross</strong> (<em>xcenter, ycenter, diameter</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p>Plots a cross at the specified point using current pen-width and -pattern that fits inside a circle of given diameter.</p></li><li><p>void <strong>ps_diamond</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a diamond and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern. The symbol will fit inside a circle of given diameter.</p></li><li><p>void <strong>ps_ellipse</strong> (<em>xcenter, ycenter, angle, major, minor, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, angle, major, minor</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a ellipse with its major semiaxis rotated by <em>angle</em> degrees and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern.</p></li><li><p>void <strong>ps_flush</strong> ()</p><p>Flushes the output buffer.</p></li><li><p>void <strong>ps_hexagon</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a hexagon and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern. The symbol will fit inside a circle of given diameter.</p></li><li><p>void <strong>ps_image</strong> (<em>xpos, ypos, xlength, ylength, buffer, nx, ny, bits</em>)</p><p><strong>double</strong> <em>xpos, ypos, xlength, ylength</em>;</p><p><strong>unsigned char</strong> <em>buffer[]</em>;</p><p><strong>int</strong> <em>nx, ny, bits</em>;</p><p>Plots a bit-mapped image using grayshades. Specify position of lower left corner and size (in inches) of image. <em>buffer</em> is an unsigned character array with gray shade values (0 - 255) where 0 is black, 255 is white. <em>bits</em> is number of bits pr pixel (8, 4, or 1). <em>nx,ny</em> refers to the number of pixels in image. The rowlength of <em>buffer</em> must be an integral number of 8/<em>bits. buffer[0]</em> is upper left corner. E.g. if <em>bits</em> = 4, then <em>buffer[j]</em>/16 gives shade for pixel[2j-1] and <em>buffer[j]</em>%16 (mod 16) gives shade for pixel[2j]. <em>buffer</em> values are stored as columns, starting at the lower left corner and ending at the upper right corner. See the Adobe Systems <em>PostScript</em> Reference Manual for more details.</p></li><li><p>void <strong>ps_imagefill</strong> (<em>x, y, n, image, imagefile, invert, imagedpi, outline, template, r_rgb, b_rgb</em>)</p><p><strong>double</strong> <em>x[], y[], x0, y0</em>;</p><p><strong>int</strong> <em>n, image, invert, imagedpi, outline, template, f_rgb[3], b_rgb[3]</em>;</p><p><strong>char</strong> <em>imagefile</em>;</p><p>Similar to <strong>ps_polygon</strong>, but fills the area with an image pattern rather than a color or grayshade. <em>x</em> and <em>y</em> hold the arrays of <em>n</em> points. 90 predefined patterns are available (See GMT Appendix E). <em>image</em> gives the image number (1-90). If set to 0, <em>imagefile</em> must be the name to the user's image, which must be stored as a' SUN 1-, 8-, or 24-bit rasterfile. 1-bit images only: (i) If <em>invert</em> is TRUE (1), the black and white pixels are interchanged before plotting. (ii) If template is TRUE (1), the set pixels are colored using the RGB combination in <em>f_rgb</em>, while the unset are painted with b_rgb. The unit size of the image is controlled by <em>imagedpi</em>. If set to zero, the image is plotted at the device resolution. If <em>outline</em> is TRUE, the current penwidth is used to draw the polygon outline.</p></li><li><p>void <strong>ps_imagemask</strong> (<em>xpos, ypos, xlength, ylength, buffer, nx, ny, polarity, rgb</em>)</p><p><strong>double</strong> <em>xpos, ypos, xlength, ylength</em>;</p><p><strong>unsigned char</strong> <em>buffer[]</em>;</p><p><strong>int</strong> <em>nx, ny, polarity, rgb[3]</em>;</p><p>Plots a transparent 1-bit image mask using the given <em>rgb</em> color. Specify position of lower left corner and size (in inches) of image. <em>buffer</em> is an unsigned character array with 8 pixels per byte. <em>nx,ny</em> refers to the number of pixels in image. The rowlength of <em>buffer</em> must be an integral number of 8. buffer[0] is upper left corner. <em>buffer</em> values are stored as columns, starting at the lower left corner and ending at the upper right corner. If <em>polarity</em> is 0 then the bits that are 0 are painted with the <em>rgb</em> color, else the bits that are 1 are colored. See the Adobe Systems <em>PostScript</em> Reference Manual for more details.</p></li><li><p>void <strong>ps_itriangle</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots an inverted and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern. The symbol will fit inside a circle of given diameter.</p></li><li><p>void <strong>ps_line</strong> (<em>xarray, yarray, npoints, type, close, split</em>)</p><p><strong>double</strong> <em>xarray[], yarray[]</em>;</p><p><strong>int</strong> <em>npoints, type, close, split</em>;</p><p>Draw a continuous line from the positions in the x-y arrays. If <em>close</em> == 1, the first and last point will automatically be closed by the <em>PostScript</em> driver. If this is the first segment in a multi-segment path, set <em>type</em> == 1. To end the segments and have the line(s) drawn, set <em>type</em> == 2. Thus, for a single segment, <em>type</em> must be 3. The line is drawn using the current penwidth. Only if <em>split</em> is TRUE may ps_line use multiple strokes to draw lines longer that MAX_PATH. ps_polygon will call ps_line with <em>split</em> = FALSE since the path must be continuous. If <em>split</em> is FALSE and the pathlength exceeds MAX_PATH a warning will be issued.</p></li><li><p>unsigned char <strong>*ps_loadraster</strong> (<em>fp, header, invert, monochrome, template, f_rgb, b_rgb</em>)</p><p><strong>FILE</strong> <em>*fp</em>;</p><p><strong>struct rasterfile</strong> <em>*header</em>;</p><p><strong>BOOLEAN</strong> <em>invert, monochrome, template</em>;</p><p><strong>int</strong> <em>f_rgb[], b_rgb[]</em>;</p><p>Reads the image contents of the Sun rasterfile pointed to by the open filepointer <em>fp</em>. The <em>header</em> must first be obtained with <strong>ps_read_rasheader</strong>. If <em>invert</em> is TRUE then 1-bit images will be bit-reversed. If <em>monochrome</em> is TRUE then color images are converted to grayimages using the TV YIQ translation. If <em>template</em> is TRUE then 1-bit images will be colorized using the for- and background colors provided in <em>f_rgb</em> and <em>b_rgb</em>. The routine can handle 1-, 8-, 24-, or 32-bit files in old, standard, run-length encoded, or RGB-style Sun format.</p></li><li><p>void <strong>ps_patch</strong> (<em>xarray, yarray, npoints, rgb, outline</em>)</p><p><strong>double</strong> <em>xarray[], yarray[]</em>;</p><p><strong>int</strong> <em>npoints, rgb[3], outline</em>;</p><p>Identical to <strong>ps_polygon</strong> except polygon must be &lt; 20 points long and there will be no attempt to shorten the path by discarding unnecessary intermediate points along straight segments. Primarily used when painting large number of small polygons and not waste output space.</p></li><li><p>void <strong>ps_pie</strong> (<em>xcenter, ycenter, radius, azimuth1, azimuth2, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, radius, azimuth1, azimuth2</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a sector of a circle and paints it with the specified RGB combination. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern.</p></li><li><p>void <strong>ps_plot</strong> (<em>xabs, yabs, kpen</em>)</p><p><strong>double</strong> <em>xabs, yabs</em>;</p><p><strong>int</strong> <em>kpen;</em></p><p>Absolute move (<em>kpen</em>=3) or draw (<em>kpen=</em>2), using current linewidth.</p></li><li><p>void <strong>ps_plotend</strong> (<em>last_page</em>)</p><p><strong>int</strong> <em>last_page</em>;</p><p>Terminates the plotting sequence and closes plot file (if other than <em>stdout</em>). If <em>last_page</em> == 1, then a <em>PostScript</em> showpage command is issued, which initiates the printing process on hardcopy devices.</p></li><li><p>void <strong>ps_plotinit</strong> (<em>plotfile, overlay, mode, xoff, yoff, xscl, yscl, ncopies, dpi, unit, pagesize, rgb, eps</em>)</p><p><strong>char</strong> <em>*plotfile;</em></p><p><strong>int</strong> <em>overlay, mode, ncopies, dpi, unit</em>;</p><p><strong>double</strong> <em>xoff, yoff, xscl, yscl</em>;</p><p><strong>int</strong> <em>pagesize[2], rgb[3]</em>; <strong>struct EPS *</strong> <em>eps</em>;</p><p>Initializes the plotting. If <em>plotfile</em> == NULL (or ""), then output is sent to <em>stdout</em>, else output is sent to <em>plotfile</em>. <em>overlay</em> should be 1 only if you plan to append it to some existing <em>PostScript</em> file. <em>mode</em> contains three flags in the three lowest bits. The lowest bit controls the plot orientation and can be 0 (Landscape) or 1 (Portrait). The next bit, if set to 1, will re-encode the fonts to include European accented characters. The third bit controls the format used to write PostScript images: 0 means binary, 1 means hexadecimal. Most printers needs the latter while some can handle binary which are 50% smaller and therefore execute faster. <em>xoff,yoff</em> are used to move the origin from the default position in the lower left corner. <em>xscl,yscl</em> are used to scale the entire plot (Usually set to 1.0, 1.0). Set <em>ncopies</em> to get more than 1 copy. <em>dpi</em> sets the hardcopy resolution in dots pr units. For optimum plot quality and processing speed, choose <em>dpi</em> to match the intended plotter resolution. Examples are 300 for most laserwriters, 2540 for Linotype-300, and ~85 for SUN screens. When in doubt, use 300. <em>unit</em> can be any of 0 (CM), 1 (INCH), or 2 (M), telling the plot system what units are used for distance and sizes. Note that, regardless of choice of unit, dpi is still in dots-pr-inch. <em>pagesize</em> means the physical width and height of the plotting media in points, (typically 612 by 792 for Letter or 595 by 842 for A4 laserwriter plotters. The <em>rgb</em> array holds the color of the page (usually white = 255,255,255). The EPS structure is defined in the pslib.h include file and contains information that will make up the comments header of a EPS file. Programmers who plan to call pslib routines should read the comments in pslib.h first. Note that the FORTRAN binding does not expect this last argument.</p></li><li><p>void <strong>ps_plotr</strong> (<em>xrel, yrel, kpen</em>)</p><p><strong>double</strong> <em>xrel, yrel</em>;</p><p><strong>int</strong> <em>kpen</em>;</p><p>Move (<em>kpen</em> = 3) or draw (<em>kpen</em> = 2) relative to current point (see <strong>ps_plot</strong>).</p></li><li><p>void <strong>ps_polygon</strong> (<em>xarray, yarray, npoints, rgb, outline</em>)</p><p><strong>double</strong> <em>xarray[], yarray[]</em>;</p><p><strong>int</strong> <em>npoints, rgb[3], outline</em>;</p><p>Creates a colored polygon from the positions in the x-y arrays. Polygon will automatically be closed by the <em>PostScript</em> driver. If <em>outline</em> == 0, no outline is drawn. If <em>outline</em> == 1, the outline is drawn using current penwidth.</p></li><li><p>int <strong>ps_read_rasheader</strong> (<em>fp, header</em>)</p><p><strong>FILE</strong> <em>*fp</em>;</p><p><strong>struct rasterfile</strong> <em>*header</em>;</p><p>Using the pointer <em>fp</em> to the open file, return the header structure of the Sun rasterfile. This call is portable as it operates on the byte level. Once the header is returned you may obtain the raster image with <strong>ps_loadraster</strong>.</p></li><li><p>void <strong>ps_rect</strong> (<em>x1, y1, x2, y2, rgb, outline</em>)</p><p><strong>double</strong> <em>x1, y1, x2, y2</em>;</p><p>int r<em>ed, green, blue, outline;</em></p><p>Plots a colored rectangle. (<em>x1,y1)</em> and (<em>x2,y2</em>) are any two corners on a diagonal. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern.</p></li><li><p>void <strong>ps_rotatetrans</strong> (<em>x, y, angle</em>)</p><p><strong>double</strong> <em>x, y, angle</em>;</p><p>Rotates the coordinate system by <em>angle</em> degrees, then translates origin to (<em>x,y</em>).</p></li><li><p>void <strong>ps_setdash</strong> (<em>pattern, offset</em>)</p><p><strong>char</strong> <em>*pattern;</em></p><p><strong>int</strong> <em>offset;</em></p><p>Changes the current dashpattern. The character string <em>pattern</em> is set to the desired pattern. E.g., "4 2" and <em>offset</em> = 1 will plot like:</p><p>x ---- ---- ----</p><p>etc, where x is starting point (The x is not plotted). That is, the line is made up of a repeating pattern of a 4 units long line and a 2 unit long gap, starting 1 unit after the x. To reset to solid line, specify <em>pattern</em> = NULL ("") and <em>offset</em> = 0. Units are in dpi units.</p></li><li><p>void <strong>ps_setfont</strong> (<em>fontnr</em>)</p><p><strong>int</strong> <em>fontnr</em>;</p><p>Changes the current font number to <em>fontnr</em>. The fonts available are: 0 = Helvetica, 1 = H. Bold, 2 = H. Oblique, 3 = H. Bold-Oblique, 4 = Times, 5 = T. Bold, 6 = T. Italic, 7 = T. Bold Italic, 8 = Courier, 9 = C. Bold, 10 = C Oblique, 11 = C Bold Oblique, 12 = Symbol, 13 = AvantGarde-Book, 14 = A.-BookOblique, 15 = A.-Demi, 16 = A.-DemiOblique, 17 = Bookman-Demi, 18 = B.-DemiItalic, 19 = B.-Light, 20 = B.-LightItalic, 21 = Helvetica-Narrow, 22 = H-N-Bold, 23 = H-N-Oblique, 24 = H-N-BoldOblique, 25 = NewCenturySchlbk-Roman, 26 = N.-Italic, 27 = N.-Bold, 28 = N.-BoldItalic, 29 = Palatino-Roman, 30 = P.-Italic, 31 = P.-Bold, 32 = P.-BoldItalic, 33 = ZapfChancery-MediumItalic. If <em>fontnr</em> is outside this range, it is set to 0.</p></li><li><p>void <strong>ps_setformat</strong> (<em>n_decimals</em>)</p><p><strong>int</strong> <em>n_decimals</em>;</p><p>Sets number of decimals to be used when writing color or gray values. The default setting of 3 gives 1000 choices per red, green, and blue value, which is more than the 255 choices offered by most 24-bit platforms. Choosing a lower value will make the output file smaller at the expense of less color resolution. Still, a value of 2 gives 100 x 100 x 100 = 1 million colors, more than most eyes can distinguish. For a setting of 1, you will have 10 nuances per primary color and a total of 1000 unique combinations.</p></li><li><p>void <strong>ps_setline</strong> (<em>linewidth</em>)</p><p><strong>int</strong> <em>linewidth</em>;</p><p>Changes the current linewidth in DPI units. 0 gives thinnest line, but the use of 0 is implementation-dependent (Works fine on most laserwriters).</p></li><li><p>void <strong>ps_setpaint</strong> (<em>rgb</em>)</p><p><strong>int</strong> <em>rgb[3]</em>;</p><p>Changes the current RGB setting for pens and text.</p></li><li><p>void <strong>ps_square</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a square and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern. The symbol will fit inside a circle of given diameter.</p></li><li><p>void <strong>ps_star</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a star and fills it with the specified color. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern. The symbol will fit inside a circle of given diameter.</p></li><li><p>void <strong>ps_text</strong> (<em>x, y, pointsize, text, angle, justify, form</em>)</p><p><strong>double</strong> <em>x, y, angle</em>;</p><p><strong>char</strong> <em>*text</em>;</p><p><strong>int</strong> <em>pointsize, justify, form</em>;</p><p>The <em>text</em> is plotted starting at (<em>x,y</em>), and will make an <em>angle</em> with the horizontal. The point (<em>x,y</em>) maps onto different points of the textstring by giving various values for <em>justify</em>. It is used as follows:</p><p>9------------10----------- 11</p><p> | |</p><p>5 6 7</p><p> | |</p><p>1------------ 2------------ 3</p><p>The box represents the textstring. E.g., to plot a textstring with its center of gravity at (<em>x,y</em>), you must use <em>justify</em> == 6. If <em>justify</em> is negative, then all leading and trailing blanks are stripped before plotting. Certain character sequences (flags) have special meaning to ps_text. @~ toggles between current font and the Mathematical Symbols font. @%<em>no</em>% sets font to <em>no</em>; @%% resets to starting font. @- turns subscript on/off, @+ turns superscript on/off, @# turns small caps on/off, and @nbsp;will make a composite character of the following two character. Give fontsize in points (72 points = 1 inch). Normally, the text is typed using solid characters. To draw outline characters, set <em>form</em> == 1.</p></li><li><p>void <strong>ps_textbox</strong> (<em>x, y, pointsize, text, angle, justify, outline, dx, dy, rgb</em>)</p><p><strong>double</strong> <em>x, y, angle, dx, dy</em>;</p><p><strong>char</strong> <em>*text</em>;</p><p><strong>int</strong> <em>pointsize, justify, outline, rgb[3]</em>;</p><p>This function is used in conjugation with <strong>ps_text</strong> when a box surrounding the text string is desired. Taking most of the arguments of <strong>ps_text</strong>, the user must also specify the color of the resulting rectangle, and whether its outline should be drawn. More room between text and rectangle can be obtained by setting <em>dx</em> and <em>dy</em> accordingly.</p></li><li><p>void <strong>ps_transrotate</strong> (<em>x, y, angle</em>)</p><p><strong>double</strong> <em>x, y, angle</em>;</p><p>Translates the origin to (<em>x,y</em>), then rotates the coordinate system by <em>angle</em> degrees.</p></li><li><p>void <strong>ps_triangle</strong> (<em>xcenter, ycenter, diameter, rgb, outline</em>)</p><p><strong>double</strong> <em>xcenter, ycenter, diameter</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Plots a triangle and paints it with the specified RGB combination. If <em>outline</em> == 1, the outline will be drawn using current pen-width and -pattern. The symbol will fit inside a circle of given diameter.</p></li><li><p>void <strong>ps_vector</strong> (<em>xtail, ytail, xtip, ytip, tailwidth, headlength, headwidth, headshape, rgb, outline</em>)</p><p><strong>double</strong> <em>xtail, ytail, xtip, ytip, tailwidth, headlength, headwidth, headshape</em>;</p><p><strong>int</strong> <em>rgb[3], outline</em>;</p><p>Draws a vector of size and appearance as specified by the various parameters. <em>headshape</em> can take on values from 0-1 and specifies how far the intersection point between the base of a straight vector head and the vector line is moved toward the tip. 0 gives a triangular head, 1.0 gives an arrow shaped head. If <em>outline</em> == 1, the outline will be drawn using current penwidth.</p></li><li><p>void <strong>ps_words</strong> (<em>x, y, text, n_words, line_space, par_width, par_just, font, font_size, angle, rgb, justify, draw_box, x_off, y_off, x_gap, y_gap, boxpen_width, boxpen_texture, boxpen_offset, boxpen_rgb, vecpen_width, vecpen_texture, vecpen_offset, vecpen_rgb, boxfill_rgb</em>)</p><p><strong>double</strong> <em>x, y, line_space, par_width, angle, x_off, y_off, x_gap, y_gap</em>;</p><p><strong>int</strong> <em>n_words, font, font_size, justify, draw_box, boxpen_width, boxpen_offset</em>;</p><p><strong>int</strong> <em>boxpen_rgb[3], vecpen_width, vecpen_offset, vecpen_rgb[3], boxfill_rgb[3]</em>;</p><p><strong>char</strong> <em>**text, *boxpen_texture, *vecpen_texture</em>;</p><p>Typesets paragraphs of text. <em>text</em> is an array of the words to typeset, using the given line-spacing and paragraph width. The whole text block is positioned at <em>x, y</em> which is the anchor point on the box as indicated by <em>justify</em> (see ps_text). The whole block is then shifted by <em>x_off, y_off</em>. Inside the box, text is justified left, centered, right, or justified as governed by <em>par_just</em> (lcrj). <em>draw_box</em> contains 4 bit flags pertaining to the surrounding outline box. If on, the first (lowest) bit draws the box outline. The second bit fills the box interior. The third bit makes the outline box have rounded corners (unless <em>x_gap, y_gap</em>, which specifies the padding between the text and the box, are zero), while the forth bit draws a line from the original <em>x, y</em> point to the shifted position. The escape sequences described for ps_text applies here, as well as two additional commands: @;<em>r/g/b</em>; changes the font color (@;; resets it), and @:<em>size</em>: changes the font size (@:: resets it).</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Paul Wessel, School of Ocean and Earth Science and Technology, 1680 East-West Road, Honolulu, Hawaii 96822, (808) 956-4778, Internet address: wessel@soest.hawaii.edu.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Caveat Emptor: The author is <strong>not</strong> responsible for any disasters, suicide attempts, or ulcers caused by correct <strong>or</strong> incorrect use of <strong>pslib</strong>. If you find bugs, please report them to the author by electronic mail. Be sure to provide enough detail so that I can recreate the problem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESTRICTIONS</h2>
        <div class="sectioncontent">
<p>Due to the finite memory of some output devices like Laserwriters, certain restrictions due to limitations of the <em>PostScript</em> interpreter apply: For now, the arrays passed to <strong>ps_clipon</strong> and <strong>ps_polygon</strong> must contain less than about 1350 points. Also, the buffer array passed to <strong>ps_image</strong> must be able to fit in the available memory. Check the specifications of the hardcopy device you are using. Note that some Raster Image Processors (RIPs) do not support direct color so that the colors you get may not be exactly the ones you wanted. This is a limitation of the RIP, not the underlying <em>PostScript</em> code generated by <strong>pslib</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>Adobe Systems Inc., 1990, <em>PostScript</em> language reference manual, 2nd edition, Addison-Wesley, (ISBN 0-201-18127-4).</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pslegend.1gmt.html"><span aria-hidden="true">&larr;</span> pslegend.1gmt: To plot a map legend</a></li>
   <li class="next"><a href="gmt-psmask.1gmt.html">psmask.1gmt: To clip or mask areas of no data on a map <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
