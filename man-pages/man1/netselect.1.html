<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>netselect: Choose the fastest server automatically</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Choose the fastest server automatically">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="netselect (1) manual">
  <meta name="twitter:description" content="Choose the fastest server automatically">
  <meta name="twitter:image" content="https://www.carta.tech/images/netselect-netselect-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/netselect.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="netselect (1) manual" />
  <meta property="og:description" content="Choose the fastest server automatically" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/netselect-netselect-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">netselect<small> (1)</small></h1>
        <p class="lead">Choose the fastest server automatically</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/netselect.1.html">
      <span itemprop="name">netselect: Choose the fastest server automatically</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/netselect/">
      <span itemprop="name">netselect</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/netselect.1.html">
      <span itemprop="name">netselect: Choose the fastest server automatically</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>netselect</strong> [<strong>\|-v\|</strong>|<strong>\|-vv\|</strong>|<strong>\|-vvv\|</strong>|<strong>\|-vvvv\|</strong>] [<strong>\|-m</strong> <em>HOPS</em>] [<strong>\|-s</strong> <em>SERVERS\|</em>] [<strong>\|-t</strong> <em>PACKETS\|</em> [<strong>\|-I</strong>] [<strong>\|-D</strong>] <em>host</em><em>...</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>netselect</strong> determines several facts about all of the hosts given on the command line, much faster than you would if you manually tried to use <strong>ping</strong> and <strong>traceroute</strong>.</p><p>For each <em>host</em>, <strong>netselect</strong> figures out the approximate <strong>ping</strong> time (though not as accurately as <strong>ping</strong> does), the number of network "hops" to reach the target, and the percentage of <strong>ping</strong> requests that got through successfully. Then <strong>netselect</strong> calculates the "score" of each operational <em>host</em> based on these values.  A lower score is better, in the end it prints one line showing the server with the best score.</p><p>If the DNS name has multiple IP addresses associated with IT <strong>netselect</strong> will test each of the IP addresses independently. In this case, <strong>netselect</strong> will report the IP address of the fastest server (unless the -D option is used).</p><p>If the number of found hosts is not the same as the number requested (using -s), <strong>netselect</strong> will emit a warning message. If no hosts are found at all, the program will also end with an error return value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<pre>
<strong>#</strong> netselect -vv ftp.fceia.unr.edu.ar ftp.kulnet.kuleuven.ac.be &#92;
		 ftp.cdrom.com ftp.debian.org ftp.de.debian.org
</pre>
<p>This is the output:</p>
<pre>
ftp.fceia.unr.edu.ar         2792 ms  23 hops  100% ok ( 1/ 1) [ 9213]
ftp.kulnet.kuleuven.ac.be    9999 ms  30 hops    0% ok
ftp.cdrom.com                  94 ms   8 hops  100% ok (10/10) [  169]
ftp.debian.org                 46 ms  15 hops  100% ok (10/10) [  115]
ftp.de.debian.org            9999 ms  30 hops    0% ok
  115 ftp.debian.org
</pre>
<p>The value in brackets is the "score" of each operational host based on these values.  A lower score is better.  The last line shows the server with the best score.  If we had not used '-vv' on the command line, only this last line would have been printed.</p><p>Note that for ftp.kulnet.kuleuven.ac.be and ftp.de.debian.org in this case, nothing got through at all.  That indicates that either the host doesn't exist, or it is down.</p>
<pre>
<strong>#</strong> netselect -vv http.us.debian.org
</pre>
<p>This is the output:</p>
<pre>
204.152.191.39               300 ms  17 hops   90% ok ( 9/10) [  899]
35.9.37.225                  9999 ms  30 hops    0% ok
64.50.233.100                9999 ms  30 hops    0% ok
128.30.2.36                  183 ms  15 hops   90% ok ( 9/10) [  510]
149.20.20.135                226 ms  18 hops   90% ok ( 9/10) [  702]
  510 128.30.2.36
</pre>
<p>In this case, since the single name has multiple DNS addresses all of the servers will be tested independently and the fastest server will be provided.</p><p>If you notice the above output you will see that the time for some hosts is 9999 ms. This is typically an indication of remote hosts blocking the UDP probes <strong>netselect</strong> relies on. To prevent this issue you can use ICMP tests. For example, repeating the above test using ICMP, that is:</p>
<pre>
<strong>#</strong> netselect -I -vv http.us.debian.org
</pre>
<p>yields the following output:</p>
<pre>
204.152.191.39               291 ms  17 hops  100% ok (10/10) [  785]
35.9.37.225                  180 ms  19 hops   66% ok ( 2/ 3) [  783]
64.50.233.100                140 ms  12 hops  100% ok (10/10) [  308]
128.30.2.36                  182 ms  15 hops  100% ok (10/10) [  455]
149.20.20.135                227 ms  18 hops  100% ok (10/10) [  635]
  308 64.50.233.100
</pre>
<p>In this last example the selected server will change since, actually, the fastest server is one that also actively blocks UDP probes.</p><p>You can also use the tag feature based on postpending the server name with itself so the result includes <strong>both</strong> the fastest IP address and the original server name. For example, running a query with tags such as this one:</p>
<pre>
<strong>#</strong> netselect -I -vv http.us.debian.org:http.us.debian.org
</pre>
<p>will yield output similar to:</p>
<pre>
35.9.37.225:http.us.debian.org        9999 ms  30 hops    0% ok
64.50.233.100:http.us.debian.org      9999 ms  30 hops    0% ok
64.50.236.52:http.us.debian.org       9999 ms  30 hops    0% ok
128.30.2.36:http.us.debian.org         189 ms  14 hops   90% ok ( 9/10) [  504]
199.6.12.70:http.us.debian.org         286 ms  17 hops   90% ok ( 9/10) [  858]
  504 128.30.2.36:http.us.debian.org
</pre>
<p>Or you can use the -D option to force <strong>netselect</strong> to print out only DNS names. For example:</p>
<pre>
<strong>#</strong> netselect -I -vv -D ftp.us.debian.org ftp.ru.debian.org
</pre>
<p>will yield output similar to:</p>
<pre>
128.30.2.36                  186 ms  14 hops  100% ok (10/10) [  446]
199.6.12.70                  294 ms  17 hops   87% ok ( 7/ 8) [  907]
35.9.37.225                  177 ms  19 hops   66% ok ( 2/ 3) [  768]
64.50.233.100                141 ms  12 hops  100% ok (10/10) [  310]
64.50.236.52                 162 ms  13 hops  100% ok (10/10) [  372]
ftp.ru.debian.org            112 ms  18 hops  100% ok (10/10) [  313]
  310 ftp.us.debian.org
</pre>
<p>As you can see here, <strong>netselect</strong> will select a DNS name (in the example 'ftp.us.debian.org') which associated with multiple IP addresses over other servers as long as there is one server in the pool faster than others. However, using the DNS name for a server configuration might lead to actually slower throughput if, on average, the different IP addresses are not as responsive. In the above example, 'ftp.ru.debian.org' is second on the list and might be a better option (again, on average) than 'ftp.us.debian.org'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose mode.  Displays nameserver resolution messages to stderr.  You probably want this so that you don't get bored waiting for a hundred name resolutions to finish.</p>
  </dd>
  <dt>
    <p><strong>-vv</strong></p>
  </dt>
  <dd>
    <p>Very verbose mode.  Displays nameserver resolution and statistics (not just scores) to STDERR and STDOUT.</p>
  </dd>
  <dt>
    <p><strong>-vvv</strong></p>
  </dt>
  <dd>
    <p>Very very verbose mode.  Everything -vv prints, plus it print every packet received as it happens.  Good for debugging or trying to figure out how it works.</p>
  </dd>
  <dt>
    <p><strong>-vvvv</strong></p>
  </dt>
  <dd>
    <p>Very very very verbose mode.  Everything -vvv prints, plus a trace of all packets sent.</p>
  </dd>
  <dt>
    <p><strong>-m</strong><em>HOPS</em></p>
  </dt>
  <dd>
    <p>Maximum TTL (time to live).  Don't accept hosts that are further than <em>HOPS</em> away.</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em>SERVERS</em></p>
  </dt>
  <dd>
    <p>Print this many "top-scoring" <em>SERVERS</em> at the end of the list.  If <em>SERVERS</em> is 0, then this disables printing of high scores.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em>PACKETS</em></p>
  </dt>
  <dd>
    <p>Make sure at least 50% of the hosts get tested with this many <em>PACKETS</em>. The more packets you use, the more accurate are the results... and the longer it takes to run.  The default is 10, which is usually okay.</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>Use ICMP instead of UDP probes. On some occasions (e.g. firewalled hosts) UDP probes like those used in <strong>traceroute</strong> will get filtered out and hosts might be perceived as dead. Using this option will make <strong>netselect</strong> use ICMP probes instead.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p><strong>netselect</strong> provides the IP address of the servers that are tested if the name resolves to more than one address (i.e. the remote end is using DNS round-robin). This makes it easier to spot which is the fastest server of a pool but might not be useful if you wish to configure a system daemon with the DNS name or if the remote service does not accept calls to its IP address (as some HTTP servers do). This option forces <strong>netselect</strong> to present the final server list using the original DNS name instead of the IP address if the DNS name resolves to more than one IP address.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO netselect&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man8/ping.8.html"><strong>ping</strong>(8)</a>, <strong>traceroute</strong>(8), <a href="../man1/netselect-apt.1.html"><strong>netselect-apt</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Avery Pennarun &lt;apenwarr@gmail.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="netsed.1.html"><span aria-hidden="true">&larr;</span> netsed.1: A network stream editor.</a></li>
   <li class="next"><a href="netselect-apt.1.html">netselect-apt.1: Create sources.list for the fastest debian mirrors <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
