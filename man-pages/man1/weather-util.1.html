<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>weather-util: Command-line tool to obtain weather conditions and forecasts</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Command-line tool to obtain weather conditions and forecasts">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="weather-util (1) manual">
  <meta name="twitter:description" content="Command-line tool to obtain weather conditions and forecasts">
  <meta name="twitter:image" content="https://www.carta.tech/images/weather-util-weather-util-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/weather-util.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="weather-util (1) manual" />
  <meta property="og:description" content="Command-line tool to obtain weather conditions and forecasts" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/weather-util-weather-util-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">weather-util<small> (1)</small></h1>
        <p class="lead">Command-line tool to obtain weather conditions and forecasts</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/weather-util.1.html">
      <span itemprop="name">weather-util: Command-line tool to obtain weather conditions and forecasts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/weather-util/">
      <span itemprop="name">weather-util</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/weather-util.1.html">
      <span itemprop="name">weather-util: Command-line tool to obtain weather conditions and forecasts</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>weather</strong> [ <em>options</em> ] [ <em>alias1</em> | <em>search1</em> [ <em>alias2</em> | <em>search2</em> [...]]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>This command-line utility is intended to provide quick access to current weather conditions and forecasts. Presently, it is capable of returning data for localities throughout the USA and some select locations globally by retrieving and formatting decoded METARs (Meteorological Aerodrome Reports) from NOAA (the USA National Oceanic and Atmospheric Administration) and forecasts/alerts from NWS (the USA National Weather Service). The tool is written to function in the same spirit as other command-line informational utilities like <strong>cal</strong>(1), <strong>calendar</strong>(1) and <a href="../man1/dict.1.html"><strong>dict</strong>(1)</a>. It retrieves arbitrary weather data via precompiled correlations or custom-tailored aliases (system-wide or on a per-user basis).</p><p>Behavior can be determined by command-line options and specification of zero or more location aliases and search terms.</p><p>Aliases are defined in <a href="../man5/weatherrc.5.html"><strong>weatherrc</strong>(5)</a> files, as a convenient means of grouping URIs together using a short name. Specifying multiple aliases or location search terms on the command line causes the utility to output data for each, as if it had been invoked multiple times. If none are specified, then an alias of <em>default</em> is checked for a <em>defargs</em> option and any alias names listed within it (comma-separated) are applied instead.</p><p>Searches utilize location correlation sets in INI-style text files named <em>airports</em>, <em>places</em>, <em>stations</em>, <em>zctas</em> and <em>zones</em>. A precomputed copy is distributed with the source, but can be rebuilt from updated data sources as needed by placing them in the current working directory and running with the <em>--build-sets</em> option (see the comments at the top of any location correlation set file for instructions on where to find updated data sources). Positive search results are cached and sourced as aliases on subsequent runs for as long as the correlation sets remain unchanged, and are cleared automatically once the correlation sets are updated.</p><p>Retrieved data is also cached automatically for a short period of time, adjustable with the <em>cacheage</em> configuration option or <em>--cacheage</em> command-line option. This helps throttle load against NOAA/NWS servers in case the utility is repeatedly re-run requesting the same data, but can be overridden with the <em>cache_data</em> configuration option or <em>--no-cache-data</em> command-line option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>A summary of options is included below.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--version</strong></p>
  </dt>
  <dd>
    <p>show program's version number and exit</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>show a help message and exit</p>
  </dd>
  <dt>
    <p><strong>-a</strong>, <strong>--alert</strong></p>
  </dt>
  <dd>
    <p>include local alert notices</p>
  </dd>
  <dt>
    <p><strong>--atypes</strong>=<em>ATYPES</em></p>
  </dt>
  <dd>
    <p>list of alert notification types to display (ex: <strong>tornado_warning,urgent_weather_message</strong>)</p>
  </dd>
  <dt>
    <p><strong>--build-sets</strong></p>
  </dt>
  <dd>
    <p>(re)build location correlation sets</p>
  </dd>
  <dt>
    <p><strong>--cacheage</strong>=<em>CACHEAGE</em></p>
  </dt>
  <dd>
    <p>duration in seconds to refresh cached data (ex: <strong>900</strong>)</p>
  </dd>
  <dt>
    <p><strong>--cachedir</strong>=<em>CACHEDIR</em></p>
  </dt>
  <dd>
    <p>directory for storing cached searches and data (ex: <strong>~/.weather</strong>)</p>
  </dd>
  <dt>
    <p><strong>-f</strong>, <strong>--forecast</strong></p>
  </dt>
  <dd>
    <p>include a local forecast</p>
  </dd>
  <dt>
    <p><strong>--headers</strong>=<em>HEADERS</em></p>
  </dt>
  <dd>
    <p>list of conditions headers to display (ex: <strong>temperature,wind</strong>)</p>
  </dd>
  <dt>
    <p><strong>--imperial</strong></p>
  </dt>
  <dd>
    <p>filter/convert conditions for US/UK units</p>
  </dd>
  <dt>
    <p><strong>--info</strong></p>
  </dt>
  <dd>
    <p>output detailed information for your search</p>
  </dd>
  <dt>
    <p><strong>-l</strong>, <strong>--list</strong></p>
  </dt>
  <dd>
    <p>list all configured aliases and cached searches</p>
  </dd>
  <dt>
    <p><strong>--longlist</strong></p>
  </dt>
  <dd>
    <p>display details of all configured aliases</p>
  </dd>
  <dt>
    <p><strong>-m</strong>, <strong>--metric</strong></p>
  </dt>
  <dd>
    <p>filter/convert conditions for metric units</p>
  </dd>
  <dt>
    <p><strong>-n</strong>, <strong>--no-conditions</strong></p>
  </dt>
  <dd>
    <p>disable output of current conditions</p>
  </dd>
  <dt>
    <p><strong>--no-cache</strong></p>
  </dt>
  <dd>
    <p>disable all caching (searches and data)</p>
  </dd>
  <dt>
    <p><strong>--no-cache-data</strong></p>
  </dt>
  <dd>
    <p>disable retrieved data caching</p>
  </dd>
  <dt>
    <p><strong>--no-cache-search</strong></p>
  </dt>
  <dd>
    <p>disable search result caching</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--quiet</strong></p>
  </dt>
  <dd>
    <p>skip preambles and don't indent</p>
  </dd>
  <dt>
    <p><strong>--setpath</strong>=<em>SETPATH</em></p>
  </dt>
  <dd>
    <p>directory search path for correlation sets (ex: <strong>.:~/.weather</strong>)</p>
  </dd>
  <dt>
    <p><strong>-v</strong>, <strong>--verbose</strong></p>
  </dt>
  <dd>
    <p>show full decoded feeds</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>weather</strong></p>
  </dt>
  <dd>
    <p>View output for the default alias, if one has been defined (otherwise display usage/syntax similar to --help)</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>rdu</strong></p>
  </dt>
  <dd>
    <p>Display weather conditions at the airport with IATA/FAA code <em>RDU</em>.</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>--info</strong> <strong>raleigh</strong></p>
  </dt>
  <dd>
    <p>Show a list of FIPS codes for United States Census Bureau places containing the word <em>raleigh</em> (or the proximity information if only one match was found).</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>&quot;</strong>^ral[ie]{2}gh<strong> </strong>city.*nc$<strong>&quot;</strong></p>
  </dt>
  <dd>
    <p>Get the current weather conditions from the nearest station to the Census place name matching the regular expression provided.</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>-fv</strong> <strong>fips3755000</strong></p>
  </dt>
  <dd>
    <p>Get the full decoded METAR from the nearest station, and the forecast data for the nearest zone to the Census place with FIPS code <em>3755000</em> with no special filtering or formatting.</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>--forecast</strong> <strong>--no-cache-data</strong> <strong>27613</strong></p>
  </dt>
  <dd>
    <p>Ignore any recent cached METAR or forecast data and display fresh output for the nearest station and zone to the Census ZCTA (essentially USPS ZIP code) <em>27613</em>.</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>home</strong> <strong>work</strong></p>
  </dt>
  <dd>
    <p>Show current conditions for both the <em>home</em> and <em>work</em> aliases in that order.</p>
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>35.878573,-78.727813</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>35-52-43n,78-43-40w</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>weather</strong> <strong>&quot;</strong>35-52n,<strong> </strong>78-43w<strong>&quot;</strong></p>
  </dt>
  <dd>
    <p>Display weather conditions for the nearest station to an arbitrary set of global coordinates in latitude,longitude order either in decimal format or degree, degree-minute or degree-minute-second formats, optionally using signed or cardinal hemisphere designations with or without spacing. Note that the cut-off for maximum acceptable distance is hard-coded at 0.1 radians (roughly 637km or 396mi).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INPUT FILES</h2>
        <div class="sectioncontent">
<p><strong>weather</strong> may additionally obtain configuration data from a system-wide configuration file, a per-user configuration file, and a local directory configuration file. The file format and configuration options are described in <a href="../man5/weatherrc.5.html"><strong>weatherrc</strong>(5)</a>. They are aggregated in the following order:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>/etc/weatherrc</em></p>
  </dt>
  <dd>
    <p>the system-wide configuration</p>
  </dd>
  <dt>
    <p><em>~/.weather/weatherrc</em> or <em>~/.weatherrc</em></p>
  </dt>
  <dd>
    <p>the per-user configuration</p>
  </dd>
  <dt>
    <p><em>./weatherrc</em></p>
  </dt>
  <dd>
    <p>the local directory configuration</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Utility and manual written by Jeremy Stanley &lt;fungi@yuggoth.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO weather-util&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/weatherrc.5.html"><strong>weatherrc</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="weather.1.html"><span aria-hidden="true">&larr;</span> weather.1: Command-line tool to obtain weather conditions and forecasts</a></li>
   <li class="next"><a href="weave.1.html">weave.1: Translate web to tex <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
