<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>wwwstat: Summarize www server (httpd) access statistics</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Summarize www server (httpd) access statistics">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="wwwstat (1) manual">
  <meta name="twitter:description" content="Summarize www server (httpd) access statistics">
  <meta name="twitter:image" content="https://www.carta.tech/images/wwwstat-wwwstat-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/wwwstat.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="wwwstat (1) manual" />
  <meta property="og:description" content="Summarize www server (httpd) access statistics" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/wwwstat-wwwstat-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">wwwstat<small> (1)</small></h1>
        <p class="lead">Summarize www server (httpd) access statistics</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/wwwstat.1.html">
      <span itemprop="name">wwwstat: Summarize www server (httpd) access statistics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/wwwstat/">
      <span itemprop="name">wwwstat</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/wwwstat.1.html">
      <span itemprop="name">wwwstat: Summarize www server (httpd) access statistics</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>wwwstat</strong> [<strong>-F</strong> <em>system_config</em>] [<strong>-f</strong> <em>user_config</em>] [<em>options</em>...] [<strong>--</strong>] [ <em>summary</em> | <em>logfile</em> |  <strong>+</strong> | <strong>-</strong> ]...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>wwwstat</strong> reads a sequence of <strong>httpd</strong> common logfile format (CLF) access_log files and/or prior <strong>wwwstat</strong> output summary files and/or the standard input and outputs a summary of the access statistics in HTML.</p><p>Since <strong>wwwstat</strong> does not make any changes to the input files or write any files in the server directories, it can be run by any user with read access to the input logfile(s) and summary file(s).  This allows people other than the webmaster to run specialized analyses of just the things they are interested in summarizing.</p><p><strong>wwwstat</strong> provides World Wide Web (WWW) access statistics, which does not necessarily correspond to statistics on individual users. It counts the number of <strong>HTTP</strong> requests received by the server and the amount of bytes transmitted in response to those requests, according to what is in the logfile(s), and outputs those counts as tables broken down by category of request.</p><p><strong>wwwstat</strong> output summaries can be read by <strong>gwstat</strong> to produce fancy graphs of the summarized statistics. The <strong>splitlog</strong> program can be used to split a large logfile into separate files by entry prefix or URL path.</p><p><strong>wwwstat</strong> is a <strong>perl</strong> script, which means you need to have a <strong>perl</strong> interpreter to run the program.  It has been tested with <strong>perl</strong> versions 4.036 and 5.002.</p><h3>Output Sections</h3>
<p><strong>wwwstat</strong>'s output consists of a set of cross-reference links, the sum totals and averages for the processed data, and a sequence of amount-by-category tables partitioned into sections. The section categories are based on the characteristics evident from the access request, as provided by the common logfile format (see <strong>NOTES</strong>). These include:</p>
<dl class='dl-vertical'>
  <dt>
    <p>Request Date</p>
  </dt>
  <dd>
    <p>e.g., "Feb  2 1996"</p>
  </dd>
  <dt>
    <p>Request Hour</p>
  </dt>
  <dd>
    <p>e.g., "00" through "23"</p>
  </dd>
  <dt>
    <p>Client Domain</p>
  </dt>
  <dd>
    <p>The Fully-Qualified Domain Name (FQDN) suffix that corresponds to an organization type or country name.</p>
  </dd>
  <dt>
    <p>Reversed Subdomain</p>
  </dt>
  <dd>
    <p>The FQDN, usually minus the first (machine name) component, and reversed so that it is easier to read when sorted.</p>
  </dd>
  <dt>
    <p>URL/Archive</p>
  </dt>
  <dd>
    <p>Grouping based on Request-URI or non-success status code.</p>
  </dd>
  <dt>
    <p>Identity</p>
  </dt>
  <dd>
    <p>The user identity based on IdentityCheck token or Authorization field.</p>
  </dd>

</dl>
<p>Each section can be enabled/disabled using the configuration files or command-line options (see <strong>Section Display Options</strong>).</p>
<h3>Output Table Format</h3>
<p>Inside each section, the statistics are presented as a preformatted table.</p><p>%Reqs %Byte  Bytes Sent  Requests&nbsp;&nbsp; <em>category-type</em></p><p>----- ----- ------------ -------- |---------------</p><p>NN.NN NN.NN NNNNNNNNNNNN NNNNNNNN | <em>category-value</em></p><p>100.0 100.0 NNNNNNNNNNNN NNNNNNNN | <em>category-value</em></p>
<dl class='dl-vertical'>
  <dt>
    <p>Requests</p>
  </dt>
  <dd>
    <p>Requests received for this category-value.</p>
  </dd>
  <dt>
    <p>Bytes Sent</p>
  </dt>
  <dd>
    <p>Bytes transmitted for this category-value.</p>
  </dd>
  <dt>
    <p>%Reqs</p>
  </dt>
  <dd>
    <p>(&lt;Requests&gt;/&lt;Total Requests&gt;)*100.</p>
  </dd>
  <dt>
    <p>%Byte</p>
  </dt>
  <dd>
    <p>(&lt;Bytes Sent&gt;/&lt;Total Bytes&gt;)*100.</p>
  </dd>

</dl>
<p>The table can be sorted by category-value (<strong>-sort key</strong>), number of requests received (<strong>-sort req</strong>), or number of bytes received (<strong>-sort byte</strong>). It can also be limited to the <strong>-top</strong><em> N</em> entries.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>Configuration Options</h3>
<p>These options define how <strong>wwwstat</strong> should establish defaults and interpret the command-line.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-F</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>Get system configuration defaults from the given file.  If used, this <strong>must</strong> be the first argument on the command-line, since it needs to be interpreted before the other command options.  The file <strong>wwwstat.rc</strong> is included with the distribution as an example of this file; it contains <strong>perl</strong> source code which directly sets the control and display options provided by <strong>wwwstat</strong>. If <em>filename</em> is not a pathname, the include path (see <strong>FILES</strong>) is searched for <em>filename</em>. An empty string as <em>filename</em> will disable this feature. [<strong>-F</strong> "wwwstat.rc"]</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>Get user configuration defaults from the given file. If used, this <strong>must</strong> be the first argument on the command-line after <strong>-F</strong> (if any). The file is the same format as for the <strong>-F</strong> option (see <strong>wwwstat.rc</strong>). If <em>filename</em> is not a pathname, the include path (see <strong>FILES</strong>) is searched for <em>filename</em>. An empty string as <em>filename</em> will disable this feature. [<strong>-f</strong> ".wwwstatrc"]</p>
  </dd>
  <dt>
    <p><strong>--</strong></p>
  </dt>
  <dd>
    <p>Last option (the remaining arguments are treated as input files).</p>
  </dd>

</dl>

<h3>Diagnostic Options</h3>
<p>These options provide information about <strong>wwwstat</strong> usage or about some unusual aspects of the logfile(s) being processed.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-h</strong></p>
  </dt>
  <dd>
    <p>Help &ndash; display usage information to STDERR and then exit.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose display to STDERR of each log entry processed.</p>
  </dd>
  <dt>
    <p><strong>-x</strong></p>
  </dt>
  <dd>
    <p>Display to STDERR all requests resulting in HTTP error responses.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Display to STDERR all invalid log entries. Invalid log entries can occur if the server is miswriting or overwriting its own log, if the request is made by a broken client or proxy, or if a malicious attacker is trying to gain privileged access to your system.  For the latter reason, the webmaster should run <strong>wwwstat</strong> with this option on a regular basis.</p>
  </dd>

</dl>

<h3>Display Options</h3>
<p>These options modify the output format.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-H</strong><em> string</em></p>
  </dt>
  <dd>
    <p>Use the given string as the HTML title and heading for output.</p>
  </dd>
  <dt>
    <p><strong>-X</strong><em> string</em></p>
  </dt>
  <dd>
    <p>Use the given string as the cross-reference URL to the last summary output. Any occurrence of the characters "%M" or "%Y" are replaced by the month and year, respectively, of the month prior to the first log entry date. The empty string will exclude any cross-reference.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>Display the daily stats table sorted in reverse. This option is primarily for use with the <strong>gwstat</strong> program for producing graphs of the output.</p>
  </dd>

</dl>
<p><strong>-l</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-l</strong>) or don't (<strong>-L</strong>) display the full DNS hostname of clients in your local domain (which is determined by the configured value of $AppendToLocalhost) in the section on subdomain statistics.  The default [<strong>-L</strong>] is to strip the machine name from local addresses.</p>
  </dd>

</dl>
<p><strong>-o</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-O</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-o</strong>) or don't (<strong>-O</strong>) display the full DNS hostname of clients outside your local domain in the section on subdomain statistics.  The default [<strong>-O</strong>] is to strip the machine name from outside addresses.</p>
  </dd>

</dl>
<p><strong>-u</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-U</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-u</strong>) or don't (<strong>-U</strong>) display the IP address of clients with unresolved domain names in the section on subdomain statistics. The <strong>-dns</strong> option can be used to resolve some names, but not all IP hosts have a DNS name (SLIP/PPP connections) and sometimes a host's DNS service is inaccessible. The default [<strong>-U</strong>] is to group all such addresses under the category "Unresolved".</p>
  </dd>

</dl>
<p><strong>-dns</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nodns</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-dns</strong>) or don't (<strong>-nodns</strong>) use the system's hostname lookup facilities to find the DNS hostname associated with any unresolved IP addresses. Looking up a DNS name may be <strong>very</strong> slow, particularly when the results are negative (no DNS name), which is why a caching capability is included as well. [<strong>-nodns</strong>]</p>
  </dd>
  <dt>
    <p><strong>-cache</strong><em> filename</em></p>
  </dt>
  <dd>
    <p>Use the given DBM database as the read/write persistent DNS cache (the .dir and .pag extensions are appended automatically). Cached entries (including negative results) are removed after the time configured for $DNSexpires [two months].  No caching is performed if <em>filename</em> is the empty string, which may be needed if your system does not support DBM or NDBM functionality. Running <strong>-dns</strong> without a persistent cache is not recommended. [<strong>-cache</strong> "dnscache"]</p>
  </dd>
  <dt>
    <p><strong>-trunc</strong><em> N</em></p>
  </dt>
  <dd>
    <p>Truncate the URLs listed in the archive section after the <em>Nth</em> hierarchy level. This option is commonly used to reduce the output size and memory requirements of <strong>wwwstat</strong> by grouping the requests by directory tree instead of listing every URL. The default [<strong>-trunc 0</strong>] is to display every requested URL.</p>
  </dd>

</dl>
<p><strong>-files</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nofiles</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-files</strong>) or don't (<strong>-nofiles</strong>) include the last component of a URL (usually the filename) in the archive section. This option is commonly used to reduce the output size and memory requirements of <strong>wwwstat</strong> by grouping the requests by directory instead of listing every URL. The default [<strong>-files</strong>] is to display the entire requested URL.</p>
  </dd>

</dl>
<p><strong>-link</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nolink</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-link</strong>) or don't (<strong>-nolink</strong>) add a hypertext link around each archive URL.  This option is useful for local maintenance, but it is not recommended for publication of the HTML results (it often results in links to temporary or nonexistant resources, and leads people/robots to resources that might not be publically available). [<strong>-nolink</strong>]</p>
  </dd>

</dl>
<p><strong>-cgi</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nocgi</strong></p>
  </dt>
  <dd>
    <p>Do (<strong>-cgi</strong>) or don't (<strong>-nocgi</strong>) prefix the summary output with CGI header fields appropriate for use with the HTTP common gateway interface.  Using <strong>wwwstat</strong> as a CGI script is not recommended &ndash; it is usually better to simply run the wwwstat program periodically and serve the static output file. [<strong>-nocgi</strong>]</p>
  </dd>

</dl>

<h3>Section Display Options</h3>
<p>These options change the display of entire sections (as opposed to the entries within those sections).  They allow the user to enable or disable an entire section, set the sorting method for that section, and limit the number of displayed entries for that section.  These options are context-sensitive and processed in the order given.</p><p><strong>-all</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-noall</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-all</strong>) or exclude (<strong>-noall</strong>) all of the display sections. The <strong>-noall</strong> option is commonly used just prior to one or more of the other section options, such that only the listed sections are displayed.</p>
  </dd>

</dl>
<p><strong>-daily</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nodaily</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-daily</strong>) or exclude (<strong>-nodaily</strong>) the section of statistics by request date and set the scope for later <strong>-sort</strong> and <strong>-top</strong> options to this section.</p>
  </dd>

</dl>
<p><strong>-hourly</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nohourly</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-hourly</strong>) or exclude (<strong>-nohourly</strong>) the section of statistics by request hour and set the scope for later <strong>-sort</strong> and <strong>-top</strong> options to this section.</p>
  </dd>

</dl>
<p><strong>-domain</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nodomain</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-domain</strong>) or exclude (<strong>-nodomain</strong>) the section of statistics by the client's Internet domain and set the scope for later <strong>-sort</strong> and <strong>-top</strong> options to this section.</p>
  </dd>

</dl>
<p><strong>-subdomain</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-nosubdomain</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-subdomain</strong>) or exclude (<strong>-nosubdomain</strong>) the section of statistics by the client's Internet subdomain (reversed for display) and set the scope for later <strong>-sort</strong> and <strong>-top</strong> options to this section.</p>
  </dd>

</dl>
<p><strong>-archive</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-noarchive</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-archive</strong>) or exclude (<strong>-noarchive</strong>) the section of statistics by requested URL/archive and set the scope for later <strong>-sort</strong> and <strong>-top</strong> options to this section.</p>
  </dd>

</dl>
<p><strong>-r</strong></p><p><strong>-ident</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-noident</strong></p>
  </dt>
  <dd>
    <p>Include (<strong>-r</strong> or <strong>-ident</strong>) or exclude (<strong>-noident</strong>) the section of statistics by the identity of the user (if IdentityCheck is ON) or the authentication userid (if supplied) and set the scope for later <strong>-sort</strong> and <strong>-top</strong> options to this section. <strong>DO NOT PUBLISH</strong> this information, as that would reveal security-related identities and be a violation of privacy.  This option is provided for administrative purposes only.</p>
  </dd>
  <dt>
    <p><strong>-sort</strong> (<strong>key|byte|req</strong>)</p>
  </dt>
  <dd>
    <p>Sort this section by its primary key, the number of bytes transmitted, or the number of requests received. [<strong>-sort key</strong>]</p>
  </dd>
  <dt>
    <p><strong>-top</strong><em> N</em></p>
  </dt>
  <dd>
    <p>Display only the top N entries for this section. This option assumes that the <strong>-sort</strong> option has been set to either bytes or requests.</p>
  </dd>
  <dt>
    <p><strong>-both</strong></p>
  </dt>
  <dd>
    <p>Display both the top N entries for this section [10, sorted by requests], and then the full section (all entries) sorted by key.</p>
  </dd>

</dl>

<h3>Search Options</h3>
<p>These options are used to limit the analysis to requests matching a pattern.  The pattern is supplied in the form of a <strong>perl regular expression</strong>, except that the characters "+" and "." are escaped automatically unless the <strong>-noescape</strong> option is given. Enclose the pattern in single-quotes to prevent the command shell from interpreting some special characters.</p><p>Multiple occurrences of the same option results in an OR-ing of the regular expressions.  Search options are only applied to logfile entries; any summary files input must have been created with the same search options.</p><p><strong>-a</strong><em> regexp</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-A</strong><em> regexp</em></p>
  </dt>
  <dd>
    <p>Include (<strong>-a</strong>) or exclude (<strong>-A</strong>) all requests containing a hostname/IP address matching the given perl regular expression.</p>
  </dd>

</dl>
<p><strong>-c</strong><em> regexp</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-C</strong><em> regexp</em></p>
  </dt>
  <dd>
    <p>Include (<strong>-c</strong>) or exclude (<strong>-C</strong>) all requests resulting in an <strong>HTTP</strong> status code matching the given perl regular expression.</p>
  </dd>

</dl>
<p><strong>-d</strong><em> regexp</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-D</strong><em> regexp</em></p>
  </dt>
  <dd>
    <p>Include (<strong>-d</strong>) or exclude (<strong>-D</strong>) all requests occurring on a date (e.g., "Feb  2 1994") matching the given perl regular expression.</p>
  </dd>

</dl>
<p><strong>-t</strong><em> regexp</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-T</strong><em> regexp</em></p>
  </dt>
  <dd>
    <p>Include (<strong>-t</strong>) or exclude (<strong>-T</strong>) all requests occurring during the hour (e.g., "23" is 11pm - 12pm) matching the given perl regular expression.</p>
  </dd>

</dl>
<p><strong>-m</strong><em> regexp</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-M</strong><em> regexp</em></p>
  </dt>
  <dd>
    <p>Include (<strong>-m</strong>) or exclude (<strong>-M</strong>) all requests using an HTTP method (e.g., "HEAD") matching the given perl regular expression.</p>
  </dd>

</dl>
<p><strong>-n</strong><em> regexp</em></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-N</strong><em> regexp</em></p>
  </dt>
  <dd>
    <p>Include (<strong>-n</strong>) or exclude (<strong>-N</strong>) all requests on a URL (archive name) matching the given perl regular expression.</p>
  </dd>
  <dt>
    <p><strong>-noescape</strong></p>
  </dt>
  <dd>
    <p>Do not escape the special characters ("+" and ".") in the remaining search options.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INPUT</h2>
        <div class="sectioncontent">
<p>After parsing the options, the remaining arguments on the command-line are treated as input arguments and are read in the order given. If no input arguments are given, the configured default logfile is read [<strong>+</strong>].</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-</strong></p>
  </dt>
  <dd>
    <p>Read from standard input (STDIN).</p>
  </dd>
  <dt>
    <p><strong>+</strong></p>
  </dt>
  <dd>
    <p>Read the default logfile. [as configured]</p>
  </dd>
  <dt>
    <p><em>filename</em>...</p>
  </dt>
  <dd>
    <p>Read the given file and determine from the first line whether it is a previous output summary or a CLF logfile.  If the <em>filename</em>'s extension indicates that is is compressed (gz|z|Z), then pipe it through the configured decompression program [<strong>gunzip -c</strong>] first. Summary files must have been created with the same (or similar) configuration and command-line options as the currently running program; if not, weird things will happen.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p><strong>wwwstat</strong> is used for many purposes:</p>
<dl class='dl-vertical'>
  <dt>
    
<pre>
  &bull;
</pre>

  </dt>
  <dd>
    <p>as a diagnostic utility for measuring server activity, finding incorrect URL references, and detecting attempted misuse of the server;</p>
  </dd>
  <dt>
    
<pre>
  &bull;
</pre>

  </dt>
  <dd>
    <p>as a public relations tool for measuring technology or information transfer (i.e., Is the message getting out? To the right people?);</p>
  </dd>
  <dt>
    
<pre>
  &bull;
</pre>

  </dt>
  <dd>
    <p>as an archival tool for tracking web usage over time without storing the entire logfile; and,</p>
  </dd>
  <dt>
    
<pre>
  &bull;
</pre>

  </dt>
  <dd>
    <p>most often, as an easy mechanism for justifying all the hard work that went into creating the web content that people out there are requesting.</p>
  </dd>

</dl>
<p>In most cases, <strong>wwwstat</strong> is run on a periodic basis (nightly, weekly, and/or monthly) by a wrapper program as a <strong>crontab</strong> entry shortly after midnight, typically in conjunction with rotating the current logfile.  The output is usually directed to a temporary file which can later be moved to a published location. The temporary file is necessary to avoid erasing your published file during wwwstat's processing (which would look very odd if someone tried to GET it from your web).</p><p><strong>wwwstat</strong> can be run as a CGI script (<strong>-cgi</strong>), but that is not recommended unless the input logfile is very small.</p><p>All of the command-line options, and a few options that are not available from the command-line, can be changed within the user and system configuration files (see <strong>wwwstat.rc</strong>). These files are actually <strong>perl</strong> library modules which are executed as part of the program's initialization. The example provided with the distribution includes complete documentation on what variables can be set and their range of values.</p><h3>Perl Regular Expressions</h3>
<p>The Search Options and many of the configuration file settings allow for full use of perl regular expressions (with the exception that the -a, -A, -n and -N options treat '+' and '.' characters as normal alphabetic characters unless they are preceded by the <strong>-noescape</strong> option).  Most people only need to know the following special characters:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>^</strong></p>
  </dt>
  <dd>
    <p>at start of pattern, means "starts with pattern".</p>
  </dd>
  <dt>
    <p><strong>$</strong></p>
  </dt>
  <dd>
    <p>at end of pattern, means "ends with pattern".</p>
  </dd>
  <dt>
    <p><strong>(...)</strong></p>
  </dt>
  <dd>
    <p>groups pattern elements as a single element.</p>
  </dd>
  <dt>
    <p><strong>?</strong></p>
  </dt>
  <dd>
    <p>matches preceding element zero or one times.</p>
  </dd>
  <dt>
    <p><strong>*</strong></p>
  </dt>
  <dd>
    <p>matches preceding element zero or more times.</p>
  </dd>
  <dt>
    <p><strong>+</strong></p>
  </dt>
  <dd>
    <p>matches preceding element one or more times.</p>
  </dd>
  <dt>
    <p><strong>.</strong></p>
  </dt>
  <dd>
    <p>matches any single character.</p>
  </dd>
  <dt>
    <p><strong>[...]</strong></p>
  </dt>
  <dd>
    <p>denotes a class of characters to match. [^...] negates the class. Inside a class, '-' indicates a range of characters.</p>
  </dd>
  <dt>
    <p><strong>(A|B|C)</strong></p>
  </dt>
  <dd>
    <p>matches if A or B or C matches.</p>
  </dd>

</dl>
<p>Depending on your command shell, some special characters may need to be escaped on the command line or enclosed in single-quotes to avoid shell interpretation.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>Summarize requests from commercial domains.</p>
  </dt>
  <dd>
    <p><strong>wwwstat -a '.com$'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests from the host kiwi.ics.uci.edu</p>
  </dt>
  <dd>
    <p><strong>wwwstat -a '^kiwi.ics.uci.edu$'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests not from kiwi.ics.uci.edu</p>
  </dt>
  <dd>
    <p><strong>wwwstat -A '^kiwi.ics.uci.edu$'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests resulting in temporary redirects</p>
  </dt>
  <dd>
    <p><strong>wwwstat -c '302'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests resulting in server errors</p>
  </dt>
  <dd>
    <p><strong>wwwstat -c '^5'</strong></p>
  </dd>
  <dt>
    <p>Summarize unsuccessful requests</p>
  </dt>
  <dd>
    <p><strong>wwwstat -C '^2' -C '304'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in first week of the month</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d ' [1-7] '</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in second week of the month</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d ' ([89]|1[0-4]) '</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in third week of the month</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d ' (1[5-9]|2[01]) '</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in fourth week of the month</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d ' 2[2-8] '</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in leftover days of the month</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d ' (29|30|31) '</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in February</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d 'Feb'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests in year 1994</p>
  </dt>
  <dd>
    <p><strong>wwwstat -d '1994'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests not in April</p>
  </dt>
  <dd>
    <p><strong>wwwstat -D 'Apr'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests between midnight and 1am</p>
  </dt>
  <dd>
    <p><strong>wwwstat -t '00'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests not received between noon and 1pm</p>
  </dt>
  <dd>
    <p><strong>wwwstat -T '12'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests with a gif extension</p>
  </dt>
  <dd>
    <p><strong>wwwstat -n '.gif$'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests under user's URL</p>
  </dt>
  <dd>
    <p><strong>wwwstat -n '^/~user/'</strong></p>
  </dd>
  <dt>
    <p>Summarize requests not under "hidden" paths</p>
  </dt>
  <dd>
    <p><strong>wwwstat -N '/hidden/'</strong></p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>HOME</strong></p>
  </dt>
  <dd>
    <p>Location of user's home directory, placed on INC path.</p>
  </dd>
  <dt>
    <p><strong>LOGDIR</strong></p>
  </dt>
  <dd>
    <p>Used instead of HOME if latter is undefined.</p>
  </dd>
  <dt>
    <p><strong>PERLLIB</strong></p>
  </dt>
  <dd>
    <p>A colon-separated list of directories in which to look for include and configuration files.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Unless a pathname is supplied, the configuration files are obtained from the current directory, the user's home directory (<strong>HOME</strong> or <strong>LOGDIR</strong>), the standard library path (<strong>PERLLIB</strong>), and the directory indicated by the command pathname (in that order).</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>.wwwstatrc</strong></p>
  </dt>
  <dd>
    <p>User configuration file.</p>
  </dd>
  <dt>
    <p><strong>wwwstat.rc</strong></p>
  </dt>
  <dd>
    <p>System configuration file.</p>
  </dd>
  <dt>
    <p><strong>domains.pl</strong></p>
  </dt>
  <dd>
    <p>Mapping of Internet domain to country or organization.</p>
  </dd>

</dl>
<p><strong>dnscache.dir</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>dnscache.pag</strong></p>
  </dt>
  <dd>
    <p>DBM files for persistent DNS cache.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO wwwstat&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/crontab.1.html"><strong>crontab</strong>(1)</a>, <strong>gwstat</strong>(1), <strong>httpd</strong>(1m), <strong>perl</strong>(1), <a href="../man1/splitlog.1.html"><strong>splitlog</strong>(1)</a></p><p>More info and the latest version of wwwstat can be obtained from</p>
<pre>
     http://www.ics.uci.edu/pub/websoft/wwwstat/
      ftp://www.ics.uci.edu/pub/websoft/wwwstat/
</pre>
<p>If you have any suggestions, bug reports, fixes, or enhancements, please join the &lt;wwwstat-users@ics.uci.edu&gt; mailing list by sending e-mail with "subscribe" in the subject of the message to the request address &lt;wwwstat-users-request@ics.uci.edu&gt;.  The list is archived at the above address.</p><h3>More About HTTP</h3>

<dl class='dl-vertical'>
  <dt>
    <p>HTTP/1.1 Proposed Standard</p>
  </dt>
  <dd>
    <p>R. Fielding, J. Gettys, J. C. Mogul, H. Frystyk, and T. Berners-Lee. "Hypertext Transfer Protocol -- HTTP/1.1", U.C. Irvine, DEC, MIT/LCS, August 1996.</p><p>http://www.ics.uci.edu/pub/ietf/http/</p>
  </dd>

</dl>

<h3>More About Perl</h3>

<dl class='dl-vertical'>
  <dt>
    <p>The Perl Language Home Page</p>
  </dt>
  <dd>
    <p>http://www.perl.com/perl/index.html</p>
  </dd>
  <dt>
    <p>Johan Vromans' Perl Reference Guide</p>
  </dt>
  <dd>
    <p>http://www.xs4all.nl/~jvromans/perlref.html</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIAGNOSTICS</h2>
        <div class="sectioncontent">
<p>See also the <strong>Diagnostic Options</strong> above.</p>
<dl class='dl-vertical'>
  <dt>
    <p>"[none] to [none]" dates</p>
  </dt>
  <dd>
    <p><strong>wwwstat</strong> did not find any matching data to summarize.  If you get such an empty summary, it means that either: 1) there was no valid data (the input files are all invalid or empty), or 2) none of the data matched the search options given.  Try using the <strong>-e</strong> option to show invalid data.</p>
  </dd>
  <dt>
    <p>100% unresolved</p>
  </dt>
  <dd>
    <p>If the subdomain section indicates that all of the client requests come from unresolved hostnames (IP addresses), this probably means that your server is running without DNS resolution (common for very busy sites). You can use the <strong>-dns</strong> option to have <strong>wwwstat</strong> perform the hostname lookups.  If 100% of the hosts are still unresolved with the <strong>-dns</strong> option in effect, then it may be that all of the clients accessing your server are doing so from temporary SLIP/PPP addresses without DNS names, or it may be a problem with wwwstat's DNS cache (delete the cache files), with your system's DNS software (contact your system administrator), or with your network connection.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<h3>Hits vs Requests vs Visitors</h3>
<p><strong>wwwstat</strong> counts HTTP requests received by the server.  When a request is successful, it is often referred to as a "hit". Retrieving a single image is one GET request. Retrieving an HTML page is also one GET request, but that does not include the separate requests made for in-line images or related objects. Checking to see if a cached image is still valid (a HEAD or conditional GET) is also one request.</p><p>In all sections except the archive section, <strong>wwwstat</strong> shows the statistics for all requests (successful or not).  In the archive section, it normally shows all non-successful requests under a special category for the status code and only successful requests (hits) under the URL or archive tree associated with the request.  However, this grouping of non-successful requests is disabled when <strong>wwwstat</strong> is used with the search options <strong>-n</strong>, <strong>-c</strong>, and <strong>-C</strong>, since those options are normally used for finding error conditions.</p><p><strong>wwwstat</strong> does not count "visitors" -- individual people or programs making the requests. HTTP does not, by default, provide any information that can be accurately correlated to an individual person, though it is possible (in an unreliable manner) to use HTTP extensions and request profiles as a means of tracking individual client programs.  Such tracking requires extensive resources (memory and diskspace) and is often considered a violation of privacy.</p><p>With the exception of the ident section, <strong>wwwstat</strong> does not reveal information about the individual people making requests. Unless the output is limited to a specific URL or a specific hostname, <strong>wwwstat</strong>'s output does not connect the requester to the URL being requested.</p>
<h3>Common Logfile Format</h3>
<p>The httpd common logfile format (CLF) was defined in early 1994 as the result of discussions among server and access_log analyzer developers (Roy Fielding, John Franks, Kevin Hughes, Ari Luotonen, Rob McCool, and Tony Sanders) on how to make it easier for analysis tools to be used across multiple servers.  The format is:</p><p>remote_host ident authuser [date-time zone] "Request-Line" Status-Code bytes</p>
<dl class='dl-vertical'>
  <dt>
    <p>where</p>
  </dt>
  <dd>
    <p>means</p>
  </dd>
  <dt>
    <p>------------</p>
  </dt>
  <dd>
    <p>--------------------------------------</p>
  </dd>
  <dt>
    <p>remote_host</p>
  </dt>
  <dd>
    <p>Client DNS hostname or IP address</p>
  </dd>
  <dt>
    <p>ident</p>
  </dt>
  <dd>
    <p>Identity check token or "-"</p>
  </dd>
  <dt>
    <p>authuser</p>
  </dt>
  <dd>
    <p>Authorization user-id or "-"</p>
  </dd>
  <dt>
    <p>date-time</p>
  </dt>
  <dd>
    <p>dd/Mmm/yyyy:hh:mm:ss</p>
  </dd>
  <dt>
    <p>zone</p>
  </dt>
  <dd>
    <p>+dddd or -dddd</p>
  </dd>
  <dt>
    <p>Request-Line</p>
  </dt>
  <dd>
    <p>The first line of the HTTP request, which normally includes the method, URL, and HTTP-version.</p>
  </dd>
  <dt>
    <p>Status-Code</p>
  </dt>
  <dd>
    <p>Response status from server or "-"</p>
  </dd>
  <dt>
    <p>bytes</p>
  </dt>
  <dd>
    <p>Size of Entity-Body transmitted or "-"</p>
  </dd>
  <dt>
    <p>------------</p>
  </dt>
  <dd>
    <p>--------------------------------------</p>
  </dd>

</dl>
<p>with each field separated by a single space (it turns out that problems occur if the ident token contains a space, which was not anticipated by the original designers).</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p><strong>wwwstat</strong> cannot be more accurate than its input.</p><p>The common logfile format does not include the amount of bytes transferred in HTTP header fields and in error responses. <strong>wwwstat</strong> attempts to estimate those bytes based on the response code.  Although the built-in estimates will suffice for most applications, your results will be more accurate if the estimates are customized for the particular server software that generated the logfile.</p><p>Modern httpd servers have extended the CLF to include additional fields (Referer and User-Agent) or to make the entire format configurable. Although <strong>wwwstat</strong> is able to read logfiles which append information to the CLF, it will not make use of that additional information.  However, <strong>wwwstat</strong> is written in <strong>perl</strong>, so if you want to parse a different format all you have to do is change the parsing code.</p><p><strong>wwwstat</strong> does not do anything with Referer [sic] or User-Agent information that may be present in extended logfiles.  In order to do anything interesting with Referer, the program would have to build a Request-URI x Referer x Count table, which would require huge gobs of memory and is better done using a separate program with a persistent database.  Naturally, this is easy to do once you learn <strong>perl</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Roy Fielding (fielding@ics.uci.edu), University of California, Irvine. Please do not send questions or requests to the author, since the number of requests has long since overwhelmed his ability to reply, and all future support will be through the mailing list (see above).</p><p><strong>wwwstat</strong> was originally based on a multi-server statistics program called <strong>fwgstat-0.035</strong> by Jonathan Magid (jem@sunsite.unc.edu) which, in turn, was heavily based on <strong>xferstats</strong> (packaged with the version 17 of the Wuarchive FTP daemon) by Chris Myers (chris@wugate.wustl.edu).</p><p>This work has been sponsored in part by the Defense Advanced Research Projects Agency under Grant Numbers MDA972-91-J-1010 and F30602-94-C-0218. This software does not necessarily reflect the position or policy of the U.S. Government and no official endorsement should be inferred.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="wwwifetch.1.html"><span aria-hidden="true">&larr;</span> wwwifetch.1: Web presentation tool of ifetch-tools</a></li>
   <li class="next"><a href="wx-config.1.html">wx-config.1: Wxwidgets configuration search and query tool <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
