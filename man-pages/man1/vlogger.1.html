<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>vlogger: Flexible log rotation and usage tracking in perl</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Flexible log rotation and usage tracking in perl">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="vlogger (1) manual">
  <meta name="twitter:description" content="Flexible log rotation and usage tracking in perl">
  <meta name="twitter:image" content="https://www.carta.tech/images/vlogger-vlogger-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/vlogger.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="vlogger (1) manual" />
  <meta property="og:description" content="Flexible log rotation and usage tracking in perl" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/vlogger-vlogger-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">vlogger<small> (1)</small></h1>
        <p class="lead">Flexible log rotation and usage tracking in perl</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/vlogger.1.html">
      <span itemprop="name">vlogger: Flexible log rotation and usage tracking in perl</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/vlogger/">
      <span itemprop="name">vlogger</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/vlogger.1.html">
      <span itemprop="name">vlogger: Flexible log rotation and usage tracking in perl</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>vlogger [\s-1OPTIONS\s0]... [\s-1LOGDIR\s0]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Vlogger is designed to make webserver log rotation simple and easy to manage. It deals with VirtualHost logs automatically, so only one directive is required to manage all hosts on a webserver.  Vlogger takes piped output from Apache or another webserver, splits off the first field, and writes the logs to logfiles in subdirectories.  It uses a filehandle cache to avoid resource limitations. It will start a new logfile at the beginning of a new day, and optionally start new files when a certain filesize is reached.  It can maintain a symlink to the most recent log for easy access.  Optionally, host parsing can be disabled for use in ErrorLog directives.</p><p>To use vlogger, you need to add a \*(L"%v\*(R" to the first part of your LogFormat:</p><p>LogFormat \*(L"%v %h %l %u %t &#92;\*(R"%r&#92;\*(L" %&gt;s %b &#92;\*(R"%{Referer}i&#92;\*(L" &#92;\*(R"%{User-Agent}i&#92;"" combined</p><p>Then call it from a customlog:</p><p>CustomLog \*(L"| /usr/sbin/vlogger -s access.log -u www-logs -g www-logs /var/log/apache\*(R" combined</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options are given in short format on the command line.</p><p>-a 	Do not autoflush files.  This may improve performance but may break logfile analyzers that depend on full entries in the logs.</p><p>-e 	ErrorLog mode.  In this mode, the host parsing is disabled, and the file is written out using the template under the specified \s-1LOGDIR\s0.</p><p>-n 	Disables rotation.  This option disables rotation altogether.</p><p>-f \s-1MAXFILES\s0 	Maximum number of filehandles to keep open.  Defaults to 100.  Setting this value too high may result in the system running out of file descriptors. Setting it too low may affect performance.</p><p>-u \s-1UID\s0 	Change user to \s-1UID\s0 when running as root.</p><p>-g \s-1GID\s0 	Change group to \s-1GID\s0 when running as root.</p><p>-t \s-1TEMPLATE\s0 	Filename template using Date::Format codes.  Default is \*(L"%m%d%Y-access.log\*(R", or \*(L"%m%d%Y-error.log\*(R".  When using the -r option, the default becomes \*(L"%m%d%Y-%T-access.log\*(R" or \*(L"%m%d%Y-%T-error.log\*(R".</p><p>-s \s-1SYMLINK\s0 	Specifies the name of a symlink to the current file.</p><p>-r \s-1SIZE\s0 	Rotate files when they reach \s-1SIZE\s0.  \s-1SIZE\s0 is given in bytes.</p><p>-d \s-1CONFIG\s0 	Use the \s-1DBI\s0 usage tracker.</p><p>-h 	Displays help.</p><p>-v 	Prints version information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DBI USAGE TRACKER</h2>
        <div class="sectioncontent">

<pre>
        Vlogger can automatically keep track of per-virtualhost usage statistics in a
database.  DBI and the relevant drivers (eg. DBD::mysql) needs to be installed for
this to work.  Create a table in your database to hold the data.  A "mysql_create.sql"
script is provided for using this feature with MySQL.  Configure the dsn, user, pass
and dump values in the vlogger-dbi.conf file.  The "dump" parameter controls how often
vlogger will dump its stats into the database (the default is 30 seconds).  Copy this
file to somewhere convienient on your filesystem (like /etc/apache/vlogger-dbi.conf) and
start vlogger with "-d /etc/apache/vlogger-dbi.conf".  You might want to use this feature
to easily bill customers on a daily/weekly/monthly basis for bandwidth usage.
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO \fIcronolog\fP\|(1), \fIhttplog\fP\|(1)</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS None, yet.</h2>
        <div class="sectioncontent">

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS Steve J. Kondik &lt;shade@chemlab.org&gt;</h2>
        <div class="sectioncontent">
<p>\s-1WWW:\s0 http://n0rp.chemlab.org/vlogger</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="vlog.1.html"><span aria-hidden="true">&larr;</span> vlog.1: List version information</a></li>
   <li class="next"><a href="vlpatch.1.html">vlpatch.1: Apply a patch with vcs::lite <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
