<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>inotifywait: Wait for changes to files using inotify</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Wait for changes to files using inotify">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="inotifywait (1) manual">
  <meta name="twitter:description" content="Wait for changes to files using inotify">
  <meta name="twitter:image" content="https://www.carta.tech/images/inotify-tools-inotifywait-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/inotifywait.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="inotifywait (1) manual" />
  <meta property="og:description" content="Wait for changes to files using inotify" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/inotify-tools-inotifywait-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">inotifywait<small> (1)</small></h1>
        <p class="lead">Wait for changes to files using inotify</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/inotifywait.1.html">
      <span itemprop="name">inotifywait: Wait for changes to files using inotify</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/inotify-tools/">
      <span itemprop="name">inotify-tools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/inotifywait.1.html">
      <span itemprop="name">inotifywait: Wait for changes to files using inotify</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>inotifywait</strong> [<strong>-hcmrq</strong>] [<strong>-e</strong> &lt;event&gt; ] [<strong>-t</strong> &lt;seconds&gt; ] [<strong>--format</strong> &lt;fmt&gt; ] [<strong>--timefmt</strong> &lt;fmt&gt; ] &lt;file&gt; [ ... ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>inotifywait</strong> efficiently waits for changes to files using Linux's <a href="../man7/inotify.7.html"><strong>inotify</strong>(7)</a></strong> interface.  It is suitable for waiting for changes to files from shell scripts. It can either exit once an event occurs, or continually execute and output events as they occur.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OUTPUT</h2>
        <div class="sectioncontent">
<p><strong>inotifywait</strong> will output diagnostic information on standard error and event information on standard output.  The event output can be configured, but by default it consists of lines of the following form:</p><p><strong>watched_filename EVENT_NAMES event_filename</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>watched_filename</strong></p>
  </dt>
  <dd>
    <p>is the name of the file on which the event occurred.  If the file is a directory, a trailing slash is output.</p>
  </dd>
  <dt>
    <p><strong>EVENT_NAMES</strong></p>
  </dt>
  <dd>
    <p>are the names of the inotify events which occurred, separated by commas.</p>
  </dd>
  <dt>
    <p><strong>event_filename</strong></p>
  </dt>
  <dd>
    <p>is output only when the event occurred on a directory, and in this case the name of the file within the directory which caused this event is output.</p><p>By default, any special characters in filenames are not escaped in any way.  This can make the output of inotifywait difficult to parse in awk scripts or similar. The <strong>--csv</strong> and <strong>--format</strong> options will be helpful in this case.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h, --help</strong></p>
  </dt>
  <dd>
    <p>Output some helpful usage information.</p>
  </dd>
  <dt>
    <p><strong>@&lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>When watching a directory tree recursively, exclude the specified file from being watched.  The file must be specified with a relative or absolute path according to whether a relative or absolute path is given for watched directories.  If a specific path is explicitly both included and excluded, it will always be watched.</p><p><strong>Note:</strong> If you need to watch a directory or file whose name starts with @, give the absolute path.</p>
  </dd>
  <dt>
    <p><strong>--fromfile &lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>Read filenames to watch or exclude from a file, one filename per line.  If filenames begin with @ they are excluded as described above.  If &lt;file&gt; is `-', filenames are read from standard input.  Use this option if you need to watch too many files to pass in as command line arguments.</p>
  </dd>
  <dt>
    <p><strong>-m, --monitor</strong></p>
  </dt>
  <dd>
    <p>Instead of exiting after receiving a single event, execute indefinitely.  The default behaviour is to exit after the first event occurs.</p>
  </dd>
  <dt>
    <p><strong>-d, --daemon</strong></p>
  </dt>
  <dd>
    <p>Same as --monitor, except run in the background logging events to a file that must be specified by --outfile. Implies --syslog.</p>
  </dd>
  <dt>
    <p><strong>-o, --outfile &lt;file&gt;</strong></p>
  </dt>
  <dd>
    <p>Output events to &lt;file&gt; rather than stdout.</p>
  </dd>
  <dt>
    <p><strong>-s, --syslog</strong></p>
  </dt>
  <dd>
    <p>Output errors to <a href="../man3/syslog.3.html"><strong>syslog</strong>(3)</a></strong> system log module rather than stderr.</p>
  </dd>
  <dt>
    <p><strong>-r, --recursive</strong></p>
  </dt>
  <dd>
    <p>Watch all subdirectories of any directories passed as arguments.  Watches will be set up recursively to an unlimited depth.  Symbolic links are not traversed.  Newly created subdirectories will also be watched.</p><p><strong>Warning:</strong> If you use this option while watching the root directory of a large tree, it may take quite a while until all inotify watches are established, and events will not be received in this time.  Also, since one inotify watch will be established per subdirectory, it is possible that the maximum amount of inotify watches per user will be reached.  The default maximum is 8192; it can be increased by writing to <strong>/proc/sys/fs/inotify/max_user_watches</strong>.</p>
  </dd>
  <dt>
    <p><strong>-q, --quiet</strong></p>
  </dt>
  <dd>
    <p>If specified once, the program will be less verbose.  Specifically, it will not state when it has completed establishing all inotify watches.</p><p>If specified twice, the program will output nothing at all, except in the case of fatal errors.</p>
  </dd>
  <dt>
    <p><strong>--exclude &lt;pattern&gt;</strong></p>
  </dt>
  <dd>
    <p>Do not process any events whose filename matches the specified POSIX extended regular expression, case sensitive.</p>
  </dd>
  <dt>
    <p><strong>--excludei &lt;pattern&gt;</strong></p>
  </dt>
  <dd>
    <p>Do not process any events whose filename matches the specified POSIX extended regular expression, case insensitive.</p>
  </dd>
  <dt>
    <p><strong>-t &lt;seconds&gt;, --timeout &lt;seconds&gt;</strong></p>
  </dt>
  <dd>
    <p>Exit if an appropriate event has not occurred within &lt;seconds&gt; seconds. If &lt;seconds&gt; is zero (the default), wait indefinitely for an event.</p>
  </dd>
  <dt>
    <p><strong>-e &lt;event&gt;, --event &lt;event&gt;</strong></p>
  </dt>
  <dd>
    <p>Listen for specific event(s) only.  The events which can be listened for are listed in the <strong>EVENTS</strong> section.  This option can be specified more than once.  If omitted, all events are listened for.</p>
  </dd>
  <dt>
    <p><strong>-c, --csv</strong></p>
  </dt>
  <dd>
    <p>Output in CSV (comma-separated values) format.  This is useful when filenames may contain spaces, since in this case it is not safe to simply split the output at each space character.</p>
  </dd>
  <dt>
    <p><strong>--timefmt &lt;fmt&gt;</strong></p>
  </dt>
  <dd>
    <p>Set a time format string as accepted by <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a> for use with the `%T' conversion in the --format option.</p>
  </dd>
  <dt>
    <p><strong>--format &lt;fmt&gt;</strong></p>
  </dt>
  <dd>
    <p>Output in a user-specified format, using printf-like syntax.  The event strings output are limited to around 4000 characters and will be truncated to this length. The following conversions are supported:</p>
  </dd>
  <dt>
    <p>%w</p>
  </dt>
  <dd>
    <p>This will be replaced with the name of the Watched file on which an event occurred.</p>
  </dd>
  <dt>
    <p>%f</p>
  </dt>
  <dd>
    <p>When an event occurs within a directory, this will be replaced with the name of the File which caused the event to occur.  Otherwise, this will be replaced with an empty string.</p>
  </dd>
  <dt>
    <p>%e</p>
  </dt>
  <dd>
    <p>Replaced with the Event(s) which occurred, comma-separated.</p>
  </dd>
  <dt>
    <p>%Xe</p>
  </dt>
  <dd>
    <p>Replaced with the Event(s) which occurred, separated by whichever character is in the place of `X'.</p>
  </dd>
  <dt>
    <p>%T</p>
  </dt>
  <dd>
    <p>Replaced with the current Time in the format specified by the --timefmt option, which should be a format string suitable for passing to <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>0</strong></p>
  </dt>
  <dd>
    <p>The program executed successfully, and an event occurred which was being listened for.</p>
  </dd>
  <dt>
    <p><strong>1</strong></p>
  </dt>
  <dd>
    <p>An error occurred in execution of the program, or an event occurred which was not being listened for.  The latter generally occurs if something happens which forcibly removes the inotify watch, such as a watched file being deleted or the filesystem containing a watched file being unmounted.</p>
  </dd>
  <dt>
    <p><strong>2</strong></p>
  </dt>
  <dd>
    <p>The <strong>-t</strong> option was used and an event did not occur in the specified interval of time.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EVENTS</h2>
        <div class="sectioncontent">
<p>The following events are valid for use with the <strong>-e</strong> option:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>access</strong></p>
  </dt>
  <dd>
    <p>A watched file or a file within a watched directory was read from.</p>
  </dd>
  <dt>
    <p><strong>modify</strong></p>
  </dt>
  <dd>
    <p>A watched file or a file within a watched directory was written to.</p>
  </dd>
  <dt>
    <p><strong>attrib</strong></p>
  </dt>
  <dd>
    <p>The metadata of a watched file or a file within a watched directory was modified.  This includes timestamps, file permissions, extended attributes etc.</p>
  </dd>
  <dt>
    <p><strong>close_write</strong></p>
  </dt>
  <dd>
    <p>A watched file or a file within a watched directory was closed, after being opened in writeable mode.  This does not necessarily imply the file was written to.</p>
  </dd>
  <dt>
    <p><strong>close_nowrite</strong></p>
  </dt>
  <dd>
    <p>A watched file or a file within a watched directory was closed, after being opened in read-only mode.</p>
  </dd>
  <dt>
    <p><strong>close</strong></p>
  </dt>
  <dd>
    <p>A watched file or a file within a watched directory was closed, regardless of how it was opened.  Note that this is actually implemented simply by listening for both <strong>close_write</strong> and <strong>close_nowrite,</strong> hence all close events received will be output as one of these, not <strong>CLOSE.</strong></p>
  </dd>
  <dt>
    <p><strong>open</strong></p>
  </dt>
  <dd>
    <p>A watched file or a file within a watched directory was opened.</p>
  </dd>
  <dt>
    <p><strong>moved_to</strong></p>
  </dt>
  <dd>
    <p>A file or directory was moved into a watched directory.  This event occurs even if the file is simply moved from and to the same directory.</p>
  </dd>
  <dt>
    <p><strong>moved_from</strong></p>
  </dt>
  <dd>
    <p>A file or directory was moved from a watched directory.  This event occurs even if the file is simply moved from and to the same directory.</p>
  </dd>
  <dt>
    <p><strong>move</strong></p>
  </dt>
  <dd>
    <p>A file or directory was moved from or to a watched directory.  Note that this is actually implemented simply by listening for both <strong>moved_to</strong> and <strong>moved_from,</strong> hence all close events received will be output as one or both of these, not <strong>MOVE.</strong></p>
  </dd>
  <dt>
    <p><strong>move_self</strong></p>
  </dt>
  <dd>
    <p>A watched file or directory was moved. After this event, the file or directory is no longer being watched.</p>
  </dd>
  <dt>
    <p><strong>create</strong></p>
  </dt>
  <dd>
    <p>A file or directory was created within a watched directory.</p>
  </dd>
  <dt>
    <p><strong>delete</strong></p>
  </dt>
  <dd>
    <p>A file or directory within a watched directory was deleted.</p>
  </dd>
  <dt>
    <p><strong>delete_self</strong></p>
  </dt>
  <dd>
    <p>A watched file or directory was deleted.  After this event the file or directory is no longer being watched.  Note that this event can occur even if it is not explicitly being listened for.</p>
  </dd>
  <dt>
    <p><strong>unmount</strong></p>
  </dt>
  <dd>
    <p>The filesystem on which a watched file or directory resides was unmounted. After this event the file or directory is no longer being watched.  Note that this event can occur even if it is not explicitly being listened to.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>Example 1</h3>
<p>Running inotifywait at the command-line to wait for any file in the `test' directory to be accessed.  After running inotifywait, `cat test/foo' is run in a separate console.</p>
<pre>
% inotifywait test
Setting up watches.
Watches established.
test/ ACCESS foo
</pre>

<h3>Example 2</h3>
<p>A short shell script to efficiently wait for httpd-related log messages and do something appropriate.</p>
<pre>
#!/bin/sh
while inotifywait -e modify /var/log/messages; do
  if tail -n1 /var/log/messages | grep httpd; then
    kdialog --msgbox "Apache needs love!"
  fi
done
</pre>

<h3>Example 3</h3>
<p>A custom output format is used to watch `~/test'.  Meanwhile, someone runs `touch ~/test/badfile; touch ~/test/goodfile; rm ~/test/badfile' in another console.</p>
<pre>
% inotifywait -m -r --format '%:e %f' ~/test
Setting up watches.  Beware: since -r was given, this may take a while!
Watches established.
CREATE badfile
OPEN badfile
ATTRIB badfile
CLOSE_WRITE:CLOSE badfile
CREATE goodfile
OPEN goodfile
ATTRIB goodfile
CLOSE_WRITE:CLOSE goodfile
DELETE badfile
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p>When using inotifywait, the filename that is outputted is not guaranteed to be up to date after a move because it is the inode that is being monitored. Additionally, none of the observed operations are guaranteed to have been performed on the filename inotifywait was instructed to monitor in cases when the file is known by several names in the filesystem.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>There are race conditions in the recursive directory watching code which can cause events to be missed if they occur in a directory immediately after that directory is created.  This is probably not fixable.</p><p>It is assumed the inotify event queue will never overflow.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>inotifywait is written and maintained by Rohan McGovern &lt;rohan@mcgovern.id.au&gt;.</p><p>inotifywait is part of inotify-tools.  The inotify-tools website is located at: <em>http://inotify-tools.sourceforge.net/</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO inotifywait&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/inotifywatch.1.html"><strong>inotifywatch</strong>(1)</a>, <a href="../man3/strftime.3.html"><strong>strftime</strong>(3)</a>, <a href="../man7/inotify.7.html"><strong>inotify</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="inoticoming.1.html"><span aria-hidden="true">&larr;</span> inoticoming.1: Trigger actions when files hit an incoming directory</a></li>
   <li class="next"><a href="inotifywatch.1.html">inotifywatch.1: Gather filesystem access statistics using inotify <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
