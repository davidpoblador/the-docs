<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pvmd3: Pvm daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pvm daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pvmd3 (1PVM) manual">
  <meta name="twitter:description" content="Pvm daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/pvm-pvmd3-1PVM.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1PVM/pvmd3.1PVM.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pvmd3 (1PVM) manual" />
  <meta property="og:description" content="Pvm daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pvm-pvmd3-1PVM.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pvmd3<small> (1PVM)</small></h1>
        <p class="lead">Pvm daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1PVM/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1PVM/pvmd3.1PVM.html">
      <span itemprop="name">pvmd3: Pvm daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pvm/">
      <span itemprop="name">pvm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1PVM/pvmd3.1PVM.html">
      <span itemprop="name">pvmd3: Pvm daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>pvmd [ -options ] [ hostfile ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Pvmd3</em> is a daemon process which coordinates unix hosts in a virtual machine. One <em>pvmd3</em> must run on each host in the group. They provide the communication and process control functions needed by the user's PVM processes. The daemon can be started manually with a host file argument that will automatically start the remote pvmds. The local and remote pvmds can also be started from the PVM console program <em>pvm</em>.</p><p>The name of the daemon executable is <em>pvmd3</em>. It is usually started by a shell script, <em>$PVM_ROOT/lib/pvmd</em>.</p><p>[v3.4 and later] Before running pvmd3, pvmd sources any commands in <em>$HOME/.pvmprofile</em> if this file exists.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The following options may be specified on the command line when starting the master pvmd or PVM console:</p>
<dl class='dl-vertical'>
  <dt>
    <p>-d<em>mask</em></p>
  </dt>
  <dd>
    <p>Set pvmd debug mask. Used to debug the pvmd or libpvm (not intended to be used to debug application programs). <em>Mask</em> is the <em>sum</em> of the following bits and can be specified in hexadecimal (0x...), octal (0...) or decimal:</p>
<dl class='dl-vertical'>
  <dt>
    <p>Bit</p>
  </dt>
  <dd>
    <p>Information</p>
  </dd>
  <dt>
    <p>0x1</p>
  </dt>
  <dd>
    <p>Packet routing</p>
  </dd>
  <dt>
    <p>0x2</p>
  </dt>
  <dd>
    <p>Message routing and entry points</p>
  </dd>
  <dt>
    <p>0x4</p>
  </dt>
  <dd>
    <p>Task state</p>
  </dd>
  <dt>
    <p>0x8</p>
  </dt>
  <dd>
    <p>Slave pvmd startup</p>
  </dd>
  <dt>
    <p>0x10</p>
  </dt>
  <dd>
    <p>Host table updates</p>
  </dd>
  <dt>
    <p>0x20</p>
  </dt>
  <dd>
    <p>Select loop (below packet layer)</p>
  </dd>
  <dt>
    <p>0x40</p>
  </dt>
  <dd>
    <p>IP network</p>
  </dd>
  <dt>
    <p>0x80</p>
  </dt>
  <dd>
    <p>Multiprocessor nodes</p>
  </dd>
  <dt>
    <p>0x100</p>
  </dt>
  <dd>
    <p>Resource manager interface</p>
  </dd>
  <dt>
    <p>0x200</p>
  </dt>
  <dd>
    <p>Application (messages with no destination, etc.)</p>
  </dd>
  <dt>
    <p>0x400</p>
  </dt>
  <dd>
    <p>Wait contexts</p>
  </dd>
  <dt>
    <p>0x800</p>
  </dt>
  <dd>
    <p>Shared memory operations</p>
  </dd>
  <dt>
    <p>0x1000</p>
  </dt>
  <dd>
    <p>Semaphores</p>
  </dd>
  <dt>
    <p>0x2000</p>
  </dt>
  <dd>
    <p>Locks</p>
  </dd>
  <dt>
    <p>0x4000</p>
  </dt>
  <dd>
    <p>Message route control</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p>-n<em>name</em></p>
  </dt>
  <dd>
    <p>Specify an alternate hostname for the master pvmd to use. Useful when <em>gethostname()</em> returns a name not assigned to any network interface.</p>
  </dd>

</dl>
<p>The following options are used by the master pvmd when starting slaves and are only of interest to someone writing a <em>hoster</em>. Don't just go using them, now.</p>
<dl class='dl-vertical'>
  <dt>
    <p>-s</p>
  </dt>
  <dd>
    <p>Start pvmd in slave mode. Hostfile cannot be used, five additional parameters must be supplied: master pvmd index, master IP, master MTU, slave pvmd index, and slave IP.</p>
  </dd>
  <dt>
    <p>-S</p>
  </dt>
  <dd>
    <p>Same as -s, but slave pvmd doesn't wait for its <em>stdin</em> to be closed after printing its parameters. Used for manual startup.</p>
  </dd>
  <dt>
    <p>-f</p>
  </dt>
  <dd>
    <p>Slave doesn't fork after configuration (useful if the slave is to be controlled or monitored by some process).</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">HOST FILE FORMAT</h2>
        <div class="sectioncontent">
<p>Each host in the virtual machine must have an entry in the host file. Lines beginning with a splat ( # ), optionally preceded by whitespace, are ignored.</p><p>A simple host file might look like:</p><p>	# my first host file</p><p>	thud</p><p>	fred</p><p>	wilma</p><p>	barney</p><p>	betty</p><p>This specifies the names of five hosts to be configured in the virtual machine.</p><p>The master <em>pvmd</em> for a group is started by hand on the localhost, and it starts slaves on each of the remaining hosts using the <em>rsh</em> or <em>rexec</em> command. The master host may appear on any line of the host file. Host names cannot be numeric (IP) addresses, because they are passed to rsh and rexec(), which usually don't accept addresses.</p><p>The simple format above works fine if you have the same login name on all five machines and the name of the master host in your .rhosts files on the other four.</p><p>There are several host file options available:</p>
<dl class='dl-vertical'>
  <dt>
    <p>lo=NAME</p>
  </dt>
  <dd>
    <p>Specifies an alternate login name (NAME) to use.</p>
  </dd>
  <dt>
    <p>so=pw</p>
  </dt>
  <dd>
    <p>This is necessary when the remote host cannot trust the master. Causes the master pvmd to prompt for a password for the remote host in the tty of the pvmd (note you can't start the master using the console or background it when using this option) you will see:</p><p>	Password (honk.cs.utk.edu:manchek):</p><p>you should type your password for the remote host.  The startup will then continue as normal.</p>
  </dd>
  <dt>
    <p>dx=FILE</p>
  </dt>
  <dd>
    <p>Specifies the path of the pvmd executable. FILE may be a simple filename, an absolute pathname, or a path relative to the user's home directory on the remote host. This is mainly useful to aid in debugging new versions of PVM, but may have other uses.</p>
  </dd>
  <dt>
    <p>ep=PATH</p>
  </dt>
  <dd>
    <p>Specifies a path for the <em>pvmd</em> to search for executable program components when spawning a new process. The path may have multiple elements, separated by colons ( : ).</p>
  </dd>
  <dt>
    <p>wd=PATH</p>
  </dt>
  <dd>
    <p>Specifies a working directory in which all spawned tasks on this host will execute.</p>
  </dd>
  <dt>
    <p>sp=VALUE</p>
  </dt>
  <dd>
    <p>Specifies the relative computational speed of this host compared to other hosts in the configuration. VALUE is an integer in the range [1 - 1000000]</p>
  </dd>
  <dt>
    <p>bx=PATH</p>
  </dt>
  <dd>
    <p>Specifies the debugger program path. Note: the environment variable PVM_DEBUGGER can also be set.</p>
  </dd>
  <dt>
    <p>ip=NAME</p>
  </dt>
  <dd>
    <p>Specifies an alternate IP address to use for the host. As with host names (when ip= is not used), the address must be a host name, not a numeric address, because it is passed to rsh and rexec(). This option allows one to pick a specific network interface for a machine without using the interface's name. It can also be used to create a virtual machine using symbolic (instead of actual) host names.</p>
  </dd>
  <dt>
    <p>so=ms</p>
  </dt>
  <dd>
    <p>Rarely used. Causes the master pvmd to request user to manually perform the startup of a pvmd on a slave host when rsh and rexec network services are disabled but IP connectivity exists. See section "MANUAL STARTUP".</p>
  </dd>
  <dt>
    <p>id=VMID</p>
  </dt>
  <dd>
    <p>A new feature in PVM 3.4.4 is the concept of a "Virtual Machine ID". You can now set the VMID to an arbitrary string and this will distinguish and allow multiple virtual machines to run on the same set of hosts under the same userid.  (This feature was originally introduced by SGI in their commercial PVM product, and has now been generalized for the public PVM system.)  This feature seems to be something that people often want, and the "id=" hostfile option (or $PVM_VMID environment variable) is the cleanest way to provide this functionality, rather than overloading the SHAREDTMP compiler flag and other internals.</p><p>*** Make Sure *** that you appropriately set the $PVM_VMID environment variable in any shells from which PVM application tasks or the "pvm" console will be run, or else they won't know <em>which</em> virtual machine to attach to!</p><p>By default, all hosts which are added to the virtual machine will inherit the same VMID.  If hosts are added to the virtual machine which are running older versions of PVM (prior to 3.4.4), then the VMID will be ignored for those hosts, and hence these machines can only be added to one virtual machine for the given user.  The VMID need not be consistent on every host in a virtual machine (although this is not necessarily advisable).</p>
  </dd>

</dl>
<p>A dollar sign ( $ ) in an option introduces a variable name, for example <em>$PVM_ARCH</em>. Names are expanded from environment variables by each pvmd.</p><p>Each of the flags above has a default value.  These are:</p>
<dl class='dl-vertical'>
  <dt>
    <p>lo</p>
  </dt>
  <dd>
    <p>The loginname on the master host.</p>
  </dd>
  <dt>
    <p>so</p>
  </dt>
  <dd>
    <p>Nothing</p>
  </dd>
  <dt>
    <p>dx</p>
  </dt>
  <dd>
    <p>$PVM_ROOT/lib/pvmd (or environment variable PVM_DPATH)</p>
  </dd>
  <dt>
    <p>ep</p>
  </dt>
  <dd>
    <p>$HOME/pvm3/bin/$PVM_ARCH:$PVM_ROOT/bin/$PVM_ARCH</p>
  </dd>
  <dt>
    <p>wd</p>
  </dt>
  <dd>
    <p>$HOME</p>
  </dd>
  <dt>
    <p>sp</p>
  </dt>
  <dd>
    <p>1000</p>
  </dd>
  <dt>
    <p>bx</p>
  </dt>
  <dd>
    <p>$PVM_ROOT/lib/debugger</p>
  </dd>

</dl>
<p>You can change these by adding a line with a star ( * ) in the first field followed by the options, for example:</p><p>	* lo=afriend so=pw</p><p>This sets new default values for 'lo' and 'so' for the remainder of the host file, or until the next '*' line. Options set on the last '*' line also apply to hosts added dynamically using <em>pvm_addhosts()</em>.</p><p>Host options can be set without starting the hosts automatically. Information on host file lines beginning with '&' is stored, but the hosts are not started until added using <em>pvm_addhosts()</em>.</p><p>Example host file:</p>
<pre>
	# host file for testing on various platforms
	fonebone
	refuge
	# installed in /usr/local here
	sigi.cs            dx=/usr/local/pvm3/lib/pvmd
	# borrowed accts, "guest", don't trust fonebone
	*                  lo=guest  so=pw
	sn666.jrandom.com
	cubie.misc.edu
	# really painful one, must start it by hand and share a homedir
	& igor.firewall.com  lo=guest2  so=ms  ep=bob/pvm3/bin/$PVM_ARCH
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MANUAL STARTUP</h2>
        <div class="sectioncontent">
<p>When adding a host with this option set you will see on the tty of the pvmd:</p>
<pre>
	*** Manual startup ***
	Login to "honk" and type:
	$PVM_ROOT/lib/pvmd -S -d0 -nhonk 1 80a9ca95:0cb6 4096 2 80a95c43:0000
	Type response:
</pre>
<p>after typing the given command on host <em>honk</em>, you should see a line like:</p>
<pre>
	ddpro&lt;2312&gt; arch&lt;ALPHA&gt; ip&lt;80a95c43:0a8e&gt; mtu&lt;4096&gt;
</pre>
<p>type this line on the tty of the master pvmd. You should then see:</p>
<pre>
	Thanks
</pre>
<p>and the two pvmds should be able to communicate.</p><p>Note you can't start the master using the console or background it when using this option.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OVERLOADING HOSTS</h2>
        <div class="sectioncontent">
<p>You can force PVM to overload a host (start more than one pvmd on it) by putting a '$' before the host name in the host file. This is not recommended unless you know what you're doing and have a good reason for it. You must build the PVM source with option OVERLOADHOST defined for it to work.</p><p>You may also need to use the ip= hostfile option to define several names with the same IP address. If two or more hosts in a PVM have the same name, they cannot be identified uniquely.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STOPPING PVMD3</h2>
        <div class="sectioncontent">
<p>The preferred method of stopping all the pvmds is to give the <em>halt</em> command in the PVM console. This kills all PVM tasks, all the remote daemons, the local daemon, and finally the console itself. If the master pvmd is killed manually it should be sent a SIGTERM signal to allow it to kill the remote pvmds and clean up various files.</p><p>The pvmd can be killed in a manner that leaves the file /tmp/pvmd.<em>uid</em> behind on one or more hosts. <em>Uid</em> is the numeric user ID (from /etc/passwd) of the user. This will prevent PVM from restarting on that host. Deletion of this file will fix this problem:</p>
<pre>
    rm `( grep $user /etc/passwd || ypmatch $user passwd )
         | awk -F: '{print "/tmp/pvmd."$3; exit}'`
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
  $PVM_ROOT/lib/pvmd  PVM daemon startup script
  $PVM_ROOT/lib/$PVM_ARCH/pvmd3 PVM daemon executable
  $HOME/.pvmprofile Shell commands read by pvmd before
    running pvmd3
  $HOME/pvm3/bin/$PVM_ARCH  Private PVM executable directory
  $PVM_ROOT/pvm3/bin/$PVM_ARCH  System PVM executable directory
  /tmp/pvmd.<em>uid</em> Pvmd local socket address
  /tmp/pvml.<em>uid</em> Pvmd runtime error log
  $HOME/.rhosts File allowing access to a host from
    other hosts
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pvmd3&hellip;</h2>
        <div class="sectioncontent">
<p>pvm(1PVM), pvm_intro(1PVM), <a href="../man5/rhosts.5.html"><strong>rhosts</strong>(5)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pvm_shmd.1PVM.html"><span aria-hidden="true">&larr;</span> pvm_shmd.1PVM: Pvm shared memory (2) daemon</a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
