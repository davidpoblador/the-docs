<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>flactag: A tagger for whole album flacs using data from the musicbrainz service</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A tagger for whole album flacs using data from the musicbrainz service">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="flactag (1) manual">
  <meta name="twitter:description" content="A tagger for whole album flacs using data from the musicbrainz service">
  <meta name="twitter:image" content="https://www.carta.tech/images/flactag-flactag-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/flactag.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="flactag (1) manual" />
  <meta property="og:description" content="A tagger for whole album flacs using data from the musicbrainz service" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/flactag-flactag-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">flactag<small> (1)</small></h1>
        <p class="lead">A tagger for whole album flacs using data from the musicbrainz service</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/flactag.1.html">
      <span itemprop="name">flactag: A tagger for whole album flacs using data from the musicbrainz service</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/flactag/">
      <span itemprop="name">flactag</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/flactag.1.html">
      <span itemprop="name">flactag: A tagger for whole album flacs using data from the musicbrainz service</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>flactag</strong> [options] flacfile [ flacfile ] [ flacfile ]</p><p><strong>ripflac</strong> basename [ /path/to/cdrom ]</p><p><strong>ripdataflac</strong> basename numtracks [ /path/to/cdrom ]</p><p><strong>checkflac</strong> flacfile</p><p><strong>discid</strong> devicename</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RIPPING CDS TO FLAC</h2>
        <div class="sectioncontent">
<p><strong>IMPORTANT: I think I found a bug in </strong><strong>cueconvert</strong><strong> which means that any FLAC files generated from CDs that used INDEX marks to separate tracks that didn\(cqt have any pre-gap would generate invalid disc IDs. I would urge you to use the </strong><strong>checkflac</strong><strong> script provided to compare any disks you may have ripped with their FLAC files to ensure that the discids match correctly. Included in this release is a SED script which will massage the TOC file of a CD to work around this problem. Unfortunately, the only way to recover from this is to re-rip the CD.</strong></p><p>To rip a CD to flac, simply enter ripflac &lt;basename&gt; (where basename is used as the base name of the FLAC file you will be creating. The CD in the drive will be ripped, and a FLAC file created containing an embedded CUE sheet. ripflac takes an optional final parameter for the path to the CD drive, which defaults to /dev/cdrom.</p><p>If the original CD contains data tracks, then the FLAC conversion will fail. Should this happen, enter ripdataflac &lt;basename&gt; &lt;range&gt; (where basename is the same one specified in the first rip attempt, and range is the range of tracks to rip (e.g. if the CD has 13 tracks, where track 13 is the data track, then the range would be 1-12). ripdataflac takes an optional final parameter for the path to the CD drive, which defaults to /dev/cdrom.</p><p>During the ripping of the data CD, you will be provided with the CUE sheet in an editor. You should delete the data track from this CUE sheet file and save it (I will try to automate this process at some point).</p><p>Both these scripts will compare the calculated discid of the FLAC file with the discid of the CD in the drive. If they do not match, a warning will be issued.</p><p>The <strong>discid</strong> command can be used to display the disc ID of a CD in the drive.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>flactag</strong> command retrieves and writes tag information for a whole-album FLAC file. The data is retrieved from the MusicBrainz service. Additionally, if an Amazon ASIN is associated with the release, then cover art will be included in the FLAC file.</p><p><strong>flactag</strong> can be used either interactively or in batch mode</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>-v, --version</p><p>Display the software version.</p><p>-h, --help</p><p>Display brief usage information.</p><p>-d, --discid</p><p>Display the calculated disc ID for the specified FLAC file and exit.</p><p>-s, --submit-url</p><p>Display the URL used to submit information for this file to the MusicBrainz service. Use this to submit data for your CD if the data returned does not match.</p><p>-c, --check</p><p>This option will compare the file\(cqs tags against those returned from the MusicBrainz service. A message will be displayed indicating where the tags match or not.</p><p>-w, --write</p><p>This option implies <strong>--check</strong>. If the files tags differ from those returned from the MusicBrainz service, the tags will be written to the file.</p><p>-f, --force-write</p><p>If --write is specified then tags will be written even if they appear to match those already in the file.</p><p>-r, --rename</p><p>The filename will be compared with that specified by the rename rules, and if it doesn\(cqt match, the file will be renamed.</p><p>-o, --overwrite-existing</p><p>If --rename is specified then existing files will be overwritten when renaming.</p><p>-O &lt;discID&gt;, --override-discid &lt;discID&gt;</p><p>Instead of calculating disc ID from the cuesheet, flactag will use the provided disc ID to query MusicBrainz. Only one FLAC file can be processed when this option is used.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BATCH MODE</h2>
        <div class="sectioncontent">
<p><strong>flactag</strong> can be used in batch mode to process an entire music collection. For example, to check every FLAC file, write new tags and rename appropriately:</p><p>find /var/spool/music -name "*.flac" -print0 | xargs -0 flactag --write --rename</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">INTERACTIVE MODE</h2>
        <div class="sectioncontent">
<p>If <strong>flactac</strong> is executed without any options, it will interactively process all FLAC files given as arguments.</p><p>If the flactag utility does not find information for your CD, a URL will be provided to submit information for it. Often the MusicBrainz server will have information about the tracks and artist, but cannot match this up to your CD. In these circumstances, it is simply a matter of &apos;associating&#92;&apos; your CD\(cqs DiskID with the correct album data on the MusicBrainz server. In other instances, you may be required to enter the track and album information into the MusicBrainz service. Once you have entered this information, you can re-run flactag, and the data should be downloaded from the MusicBrainz server.</p><p>If the flactag utility finds information for your CD at the musicbrainz server, the application\(cqs main window will be shown.</p><p>This contains three main areas:</p><p>The <strong>&apos;Albums&apos;</strong> window. This will contain a list of albums that match the DiskID for your FLAC file.</p><p>The <strong>&apos;Tracks&apos;</strong> window. This contains a list of all the tracks on the currently selected album.</p><p>The <strong>&apos;Tags&apos;</strong> window. At startup, this will contain a list of the tags currently found in your FLAC file. If there are no tags present, then an empty set appropriate for the album will be displayed. If you make changes to these tags, an asterisk (&apos;*&apos;) will be displayed to indicate that this information has been changed.</p><p>The currently active window will be highlighted by the border and window title changing colour. To switch between the three windows, press the <strong>TAB</strong> key. To scroll around the active window, use the <strong>cursor UP</strong> and <strong>cursor DOWN</strong> keys (to scroll one line at a time) or the <strong>PAGE UP</strong> and <strong>PAGE DOWN</strong> keys (to scroll half a page at a time). Scrolling in the <strong>&apos;Albums&apos;</strong> window will update the information in the <strong>&apos;Tracks&apos;</strong> window appropriately.</p><p>Once the appropriate album has been selected, pressing <strong>c</strong> will copy the tags for that album into the <strong>&apos;Tags&apos;</strong> window. These tags can then be saved to the FLAC file by pressing the <strong>w</strong> key.</p><p>Pressing <strong>r</strong> will rename the file based on the settings in the configuration file (~/.flactag - this file is created automatically the first time you run <strong>flactag</strong>). Note that this facility uses the tags that are actually written to the file, so should generally be performed after the new tags have been written. This option will be unavailable if the filename and location are already correct.</p><p>Pressing <strong>q</strong> will move to the next file specified on the command line. If all files have been processed, the application will exit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILE RENAMING DETAILS</h2>
        <div class="sectioncontent">
<p>The following configuration file (~/.flactag) entries affect file renaming:</p><p><strong>BasePath</strong> - This is the <em>root</em> directory of where your music files should be stored. (e.g. /var/spool/music)</p><p><strong>SingleDiskFileName</strong> - This template is used to rename disks that are not part of a multi-disk set.</p><p><strong>MultiDiskFileName</strong> - This template is used to rename disks that are part of a multi-disk set.</p><p><strong>DirectoryCreatePermissions</strong> - The permissions to be set on any directory that is created (e.g. 0755).</p><p><strong>CreateCuesheetAfterRename</strong> - If set to true, flactag will generate a cuesheet file to accompany the renamed FLAC file.</p><p>The FileName templates can accept the following parameters:</p><p><strong>%A</strong> - This will be replaced with the artist name</p><p><strong>%S</strong> - This will be replaced with the artist sort name</p><p><strong>%T</strong> - This will be replaced with the album title</p><p><strong>%D</strong> - This will be replaced with the disk number</p><p><strong>%Y</strong> - This will be replaced with the year</p><p><strong>%G</strong> - This will be replaced with the genre</p><p><strong>%1</strong> - This will be replaced with the first character of the artist sort name</p><p><strong>%E</strong> - This will be replaced by the appropriate filename extension (flac or cue)</p><p>If any item is used but does not have a value, then it will be stored as (for example) NOGENRE (if the genre tag is empty).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USING A DIFFERENT MUSICBRAINZ SERVER</h2>
        <div class="sectioncontent">
<p>To use a different MusicBrainz server (for example if you have a local mirror) you can set the <em>Server</em> and <em>Port</em> parameters in the configuration file.</p><p>e.g.</p><p>Server=mbserver.localdomain</p><p>Port=5000</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS / LIMITATIONS / FUTURE ENHANCEMENTS</h2>
        <div class="sectioncontent">
<p>Once changes are written to the FLAC file, there is no way of reverting back to the original tags.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Written by</p><p>Andy Hawkins, &lt;andy@gently.org.uk&gt;</p><p>Daniel Pocock, &lt;daniel@pocock.com.au&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RESOURCES</h2>
        <div class="sectioncontent">
<p>Main web site: http://flactag.sourceforge.net</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (C) 2007-2012 Andy Hawkins Copyright (C) 2011-2012 Daniel Pocock</p><p>Use of this software is granted under the terms of the GNU General Public License (GPL) v3.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p><strong>Andy Hawkins</strong> &lt;andy@gently.org.uk&gt;</p><p>Author.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="flac.1.html"><span aria-hidden="true">&larr;</span> flac.1: Flac  free lossless audio codec</a></li>
   <li class="next"><a href="flake.1.html">flake.1: Alternative free lossless audio codec encoder <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
