<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>greenspline: Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="greenspline (1gmt) manual">
  <meta name="twitter:description" content="Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines.">
  <meta name="twitter:image" content="https://www.carta.tech/images/gmt-greenspline-1gmt.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1gmt/greenspline.1gmt.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="greenspline (1gmt) manual" />
  <meta property="og:description" content="Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gmt-greenspline-1gmt.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">greenspline<small> (1gmt)</small></h1>
        <p class="lead">Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/greenspline.1gmt.html">
      <span itemprop="name">greenspline: Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gmt/">
      <span itemprop="name">gmt</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1gmt/greenspline.1gmt.html">
      <span itemprop="name">greenspline: Interpolate 1-d, 2-d, 3-d cartesian or spherical surface data using green's function splines.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>greenspline</strong> [ <em>datafile(s)</em> ] [ <strong>-A</strong>[<strong>1</strong>|<strong>2</strong>|<strong>3</strong>|<strong>4</strong>|<strong>5</strong>,]<em>gradfile</em> ] [ <strong>-C</strong><em>cut</em>[/<em>file</em>] ] [ <strong>-D</strong><em>mode</em> ] [ <strong>-F</strong> ] [ <strong>-G</strong><em>grdfile</em> ] [ <strong>-H</strong>[<strong>i</strong>][<em>nrec</em>] ] [ <strong>-I</strong><em>xinc</em>[<em>yinc</em>[<em>zinc</em>]] ] [ <strong>-L</strong> ] [ <strong>-N</strong><em>nodefile</em> ] [ <strong>-Q</strong><em>az</em>|<em>x/y/z</em> ] [ <strong>-R</strong><em>xmin</em>/<em>xmax</em>[/<em>ymin</em>/<em>ymax</em>[/<em>zmin</em><em>zmax</em>]] ] [ <strong>-S</strong><strong>c|t|g|p|q</strong>[<em>pars</em>] ] [ <strong>-T</strong><em>maskgrid</em> ] [ <strong>-V</strong> ] [ <strong>-:</strong>[<strong>i</strong>|<strong>o</strong>] ] [ <strong>-bi</strong>[<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ] [ <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<em>colinfo</em> ] [ <strong>-bo</strong>[<strong>s</strong>|<strong>S</strong>|<strong>d</strong>|<strong>D</strong>[<em>ncol</em>]|<strong>c</strong>[<em>var1</em><strong>/</strong><em>...</em>]] ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>greenspline</strong> uses the Green's function G(<strong>x</strong>; <strong>x'</strong>) for the chosen spline and geometry to interpolate data at regular [or arbitrary] output locations.  Mathematically, the solution is composed as <em>w</em>(<strong>x</strong>) = sum {<em>c</em>(<em>i</em>) G(<strong>x</strong>; <strong>x</strong>(<em>i</em>))}, for <em>i</em> = 1, <em>n</em>, the number of data points {<strong>x</strong>(<em>i</em>), <em>w</em>(<em>i</em>)}.  Once the <em>n</em> coefficients <em>c</em>(<em>i</em>) have been found then the sum can be evaluated at any output point <strong>x</strong>. Choose between ten minimum curvature, regularized, or continuous curvature splines in tension for either 1-D, 2-D, or 3-D Cartesian coordinates or spherical surface coordinates. After first removing a linear or planar trend (Cartesian geometries) or mean value (spherical surface) and normalizing these residuals, the least-squares matrix solution for the spline coefficients <em>c</em>(<em>i</em>) is found by solving the <em>n</em> by <em>n</em> linear system <em>w</em>(<em>j</em>) = sum-over-<em>i</em> {<em>c</em>(<em>i</em>) G(<strong>x</strong>(<em>j</em>); <strong>x</strong>(<em>i</em>))}, for <em>j</em> = 1, <em>n</em>; this solution yields an exact interpolation of the supplied data points.  Alternatively, you may choose to perform a singular value decomposition (SVD) and eliminate the contribution from the smallest eigenvalues; this approach yields an approximate solution.  Trends and scales are restored when evaluating the output.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>datafile(s)</em></p>
  </dt>
  <dd>
    <p>The name of one or more ASCII [or binary, see <strong>-bi</strong>] files holding the <strong>x</strong>, <em>w</em> data points.  If no file is given then we read standard input instead.</p>
  </dd>
  <dt>
    <p><strong>-A</strong></p>
  </dt>
  <dd>
    <p>The solution will partly be constrained by surface gradients <strong>v</strong> = <em>v</em>*<strong>n</strong>, where <em>v</em> is the gradient magnitude and <strong>n</strong> its unit vector direction.  The gradient direction may be specified either by Cartesian components (either unit vector <strong>n</strong> and magnitude <em>v</em> separately or gradient components <strong>v</strong> directly) or angles w.r.t. the coordinate axes.  Specify one of five input formats: <strong>0</strong>: For 1-D data there is no direction, just gradient magnitude (slope) so the input format is <em>x, gradient</em>.  Options 1-2 are for 2-D data sets: <strong>1</strong>: records contain <em>x, y, azimuth, gradient</em> (<em>azimuth</em> in degrees is measured clockwise from the vertical (north) [Default]). <strong>2</strong>: records contain <em>x, y, gradient, azimuth</em> (<em>azimuth</em> in degrees is measured clockwise from the vertical (north)).  Options 3-5 are for either 2-D or 3-D data: <strong>3</strong>: records contain <strong>x</strong>, <em>direction(s), v</em> (<em>direction(s)</em> in degrees are measured counter-clockwise from the horizontal (and for 3-D the vertical axis). <strong>4</strong>: records contain <strong>x</strong>, <strong>v</strong>. <strong>5</strong>: records contain <strong>x</strong>, <strong>n</strong>, <em>v</em>. Append name of ASCII file with the surface gradients (following a comma if a format is specified).</p>
  </dd>
  <dt>
    <p><strong>-C</strong></p>
  </dt>
  <dd>
    <p>Find an approximate surface fit: Solve the linear system for the spline coefficients by SVD and eliminate the contribution from all eigenvalues whose ratio to the largest eigenvalue is less than <em>cut</em> [Default uses Gauss-Jordan elimination to solve the linear system and fit the data exactly].  Optionally, append /<em>file</em> to save the eigenvalue ratios to the specified file for further analysis. Finally, if a negative <em>cut</em> is given then /<em>file</em> is required and execution will stop after saving the eigenvalues, i.e., no surface output is produced.</p>
  </dd>
  <dt>
    <p><strong>-D</strong></p>
  </dt>
  <dd>
    <p>Sets the distance flag that determines how we calculate distances between data points. Select <em>mode</em> 0 for Cartesian 1-D spline interpolation: <strong>-D</strong> 0 means (<em>x</em>) in user units, Cartesian distances, Select <em>mode</em> 1-3 for Cartesian 2-D surface spline interpolation: <strong>-D</strong> 1 means (<em>x,y</em>) in user units, Cartesian distances, <strong>-D</strong> 2 for (<em>x,y</em>) in degrees, flat Earth distances, and <strong>-D</strong> 3 for (<em>x,y</em>) in degrees, spherical distances in km. Then, if <strong>ELLIPSOID</strong> is spherical, we compute great circle arcs, otherwise geodesics. Option <em>mode</em> = 4 applies to spherical surface spline interpolation only: <strong>-D</strong> 4 for (<em>x,y</em>) in degrees, use cosine of great circle (or geodesic) arcs. Select <em>mode</em> 5 for Cartesian 3-D surface spline interpolation: <strong>-D</strong> 5 means (<em>x,y,z</em>) in user units, Cartesian distances.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Force pixel registration.  [Default is gridline registration].</p>
  </dd>
  <dt>
    <p><strong>-G</strong></p>
  </dt>
  <dd>
    <p>Name of resulting output file.  (1) If options <strong>-R</strong>, <strong>-I</strong>, and possibly <strong>-F</strong> are set we produce an equidistant output table.  This will be written to stdout unless <strong>-G</strong> is specified.  Note: for 2-D grids the <strong>-G</strong> option is required.  (2) If option <strong>-T</strong> is selected then <strong>-G</strong> is required and the output file is a 2-D binary grid file.  Applies to 2-D interpolation only. (3) If <strong>-N</strong> is selected then the output is an ASCII (or binary; see <strong>-bo</strong>) table; if <strong>-G</strong> is not given then this table is written to standard output.  Ignored if <strong>-C</strong> or <strong>-C</strong> 0 is given.</p>
  </dd>
  <dt>
    <p><strong>-H</strong></p>
  </dt>
  <dd>
    <p>Input file(s) has header record(s).  If used, the default number of header records is <strong>N_HEADER_RECS</strong>. Use <strong>-Hi</strong> if only input data should have header records [Default will write out header records if the input data have them]. Blank lines and lines starting with # are always skipped.</p>
  </dd>
  <dt>
    <p><strong>-I</strong></p>
  </dt>
  <dd>
    <p>Specify equidistant sampling intervals, on for each dimension, separated by slashes.</p>
  </dd>
  <dt>
    <p><strong>-L</strong></p>
  </dt>
  <dd>
    <p>Do <em>not</em> remove a linear (1-D) or planer (2-D) trend when <strong>-D</strong> selects mode 0-3 [For those Cartesian cases a least-squares line or plane is modeled and removed, then restored after fitting a spline to the residuals].  However, in mixed cases with both data values and gradients, or for spherical surface data, only the mean data value is removed (and later and restored).</p>
  </dd>
  <dt>
    <p><strong>-N</strong></p>
  </dt>
  <dd>
    <p>ASCII file with coordinates of desired output locations <strong>x</strong> in the first column(s).  The resulting <em>w</em> values are appended to each record and written to the file given in <strong>-G</strong> [or stdout if not specified]; see <strong>-bo</strong> for binary output instead.  This option eliminates the need to specify options <strong>-R</strong>, <strong>-I</strong>, and <strong>-F</strong>.</p>
  </dd>
  <dt>
    <p><strong>-Q</strong></p>
  </dt>
  <dd>
    <p>Rather than evaluate the surface, take the directional derivative in the <em>az</em> azimuth and return the magnitude of this derivative instead.  For 3-D interpolation, specify the three components of the desired vector direction (the vector will be normalized before use).</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>Specify the domain for an equidistant lattice where output predictions are required.  Requires <strong>-I</strong> and optionally <strong>-F</strong>.</p><p><em>1-D:</em>  Give <em>xmin/xmax</em>, the minimum and maximum <em>x</em> coordinates.</p><p><em>2-D:</em>  Give <em>xmin/xmax/ymin/ymax</em>, the minimum and maximum <em>x</em> and <em>y</em> coordinates. These may be Cartesian or geographical.  If geographical, then <em>west, east, south,</em> and <em>north</em> specify the Region of interest, and you may specify them in decimal degrees or in [+-]dd:mm[:ss.xxx][W|E|S|N] format.  The two shorthands <strong>-Rg</strong> and <strong>-Rd</strong> stand for global domain (0/360 and -180/+180 in longitude respectively, with -90/+90 in latitude).</p><p><em>3-D:</em>  Give <em>xmin/xmax/ymin/ymax/zmin/zmax</em>, the minimum and maximum <em>x</em>, <em>y</em> and <em>z</em> coordinates. See the 2-D section if your horizontal coordinates are geographical; note the shorthands <strong>-Rg</strong> and <strong>-Rd</strong> cannot be used if a 3-D domain is specified.</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>Select one of five different splines.  The first two are used for 1-D, 2-D, or 3-D Cartesian splines (see <strong>-D</strong> for discussion). Note that all tension values are expected to be normalized tension in the range 0 &lt; <em>t</em> &lt; 1: (<strong>c</strong>) Minimum curvature spline [<em>Sandwell</em>, 1987], (<strong>t</strong>) Continuous curvature spline in tension [<em>Wessel and Bercovici</em>, 1998]; append <em>tension</em>[/<em>scale</em>] with <em>tension</em> in the 0-1 range and optionally supply a length scale [Default is the average grid spacing]. The next is a 2-D or 3-D spline: (<strong>r</strong>) Regularized spline in tension [<em>Mitasova and Mitas</em>, 1993]; again, append <em>tension</em> and optional <em>scale</em>. The last two are spherical surface splines and both imply <strong>-D</strong> 4 and geographic data: (<strong>p</strong>) Minimum curvature spline [<em>Parker</em>, 1994], (<strong>q</strong>) Continuous curvature spline in tension [<em>Wessel and Becker</em>, 2008]; append <em>tension</em>. The G(<strong>x</strong>; <strong>x'</strong>) for the last method is slower to compute; by specifying <strong>-SQ</strong> you can speed up calculations by first pre-calculating G(<strong>x</strong>; <strong>x'</strong>) for a dense set of <strong>x</strong> values (e.g., 100,001 nodes between -1 to +1) and store them in look-up tables.  Optionally append /<em>N</em> (an odd integer) to specify how many points in the spline to set [100001]</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>For 2-D interpolation only.  Only evaluate the solution at the nodes in the <em>maskgrid</em> that are not equal to NaN. This option eliminates the need to specify options <strong>-R</strong>, <strong>-I</strong>, and <strong>-F</strong>.</p>
  </dd>
  <dt>
    <p><strong>-V</strong></p>
  </dt>
  <dd>
    <p>Selects verbose mode, which will send progress reports to stderr [Default runs "silently"].</p>
  </dd>
  <dt>
    <p><strong>-bi</strong></p>
  </dt>
  <dd>
    <p>Selects binary input. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of columns in your binary input file if it exceeds the columns needed by the program. Or append <strong>c</strong> if the input file is netCDF. Optionally, append <em>var1</em><strong>/</strong><em>var2</em><strong>/</strong><em>...</em> to specify the variables to be read. [Default is 2-4 input columns (<strong>x</strong>,<em>w</em>); the number depends on the chosen dimension].</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Special formatting of input and/or output columns (time or geographical data). Specify <strong>i</strong> or <strong>o</strong> to make this apply only to input or output [Default applies to both]. Give one or more columns (or column ranges) separated by commas. Append <strong>T</strong> (absolute calendar time), <strong>t</strong> (relative time in chosen <strong>TIME_UNIT</strong> since <strong>TIME_EPOCH</strong>), <strong>x</strong> (longitude), <strong>y</strong> (latitude), or <strong>f</strong> (floating point) to each column or column range item.  Shorthand <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]<strong>g</strong> means <strong>-f</strong>[<strong>i</strong>|<strong>o</strong>]0<strong>x</strong>,1<strong>y</strong> (geographic coordinates).</p>
  </dd>
  <dt>
    <p><strong>-bo</strong></p>
  </dt>
  <dd>
    <p>Selects binary output. Append <strong>s</strong> for single precision [Default is <strong>d</strong> (double)]. Uppercase <strong>S</strong> or <strong>D</strong> will force byte-swapping. Optionally, append <em>ncol</em>, the number of desired columns in your binary output file.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">1-D EXAMPLES</h2>
        <div class="sectioncontent">
<p>To resample the <em>x,y</em> Gaussian random data created by <strong>gmtmath</strong> and stored in 1D.txt, requesting output every 0.1 step from 0 to 10, and using a minimum cubic spline, try</p><p><strong>gmtmath</strong> <strong>-T</strong> 0/10/1 0 1 <strong>NRAND</strong> = 1D.txt</p><p><strong>psxy -R</strong>0/10/-5/5 <strong>-JX</strong> 6i/3i <strong>-B</strong> 2f1/1 <strong>-Sc</strong> 0.1 <strong>-G</strong> black 1D.txt <strong>-K</strong> &gt; 1D.ps</p><p><strong>greenspline</strong> 1D.txt <strong>-R</strong> 0/10 <strong>-I</strong> 0.1 <strong>-Sc</strong> <strong>-V</strong> | <strong>psxy</strong> <strong>-R</strong> <strong>-J</strong> <strong>-O</strong> <strong>-W</strong> thin &gt;&gt; 1D.ps</p><p>To apply a spline in tension instead, using a tension of 0.7, try</p><p><strong>psxy -R</strong>0/10/-5/5 <strong>-JX</strong> 6i/3i <strong>-B</strong> 2f1/1 <strong>-Sc</strong> 0.1 <strong>-G</strong> black 1D.txt <strong>-K</strong> &gt; 1Dt.ps</p><p><strong>greenspline</strong> 1D.txt <strong>-R</strong> 0/10 <strong>-I</strong> 0.1 <strong>-St</strong> 0.7 <strong>-V</strong> | <strong>psxy</strong> <strong>-R</strong> <strong>-J</strong> <strong>-O</strong> <strong>-W</strong> thin &gt;&gt; 1Dt.ps</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">2-D EXAMPLES</h2>
        <div class="sectioncontent">
<p>To make a uniform grid using the minimum curvature spline for the same Cartesian data set from Davis (1986) that is used in the GMT Cookbook example 16, try</p><p><strong>greenspline</strong> table_5.11 <strong>-R</strong> 0/6.5/-0.2/6.5 <strong>-I</strong> 0.1 <strong>-Sc</strong> <strong>-V</strong> <strong>-D</strong> 1 <strong>-G</strong> S1987.grd</p><p><strong>psxy -R</strong>0/6.5/-0.2/6.5 <strong>-JX</strong> 6i <strong>-B</strong> 2f1 <strong>-Sc</strong> 0.1 <strong>-G</strong> black table_5.11 <strong>-K</strong> &gt; 2D.ps</p><p><strong>grdcontour -JX</strong>6i <strong>-B</strong> 2f1 <strong>-O</strong> <strong>-C</strong> 25 <strong>-A</strong> 50 S1987.grd &gt;&gt; 2D.ps</p><p>To use Cartesian splines in tension but only evaluate the solution where the input mask grid is not NaN, try</p><p><strong>greenspline</strong> table_5.11 <strong>-T</strong> mask.grd <strong>-St</strong> 0.5 <strong>-V</strong> <strong>-D</strong> 1 <strong>-G</strong> WB1998.grd</p><p>To use Cartesian generalized splines in tension and return the magnitude of the surface slope in the NW direction, try</p><p><strong>greenspline</strong> table_5.11 <strong>-R</strong> 0/6.5/-0.2/6.5 <strong>-I</strong> 0.1 <strong>-Sr</strong> 0.95 <strong>-V</strong> <strong>-D</strong> 1 <strong>-Q</strong>-45 <strong>-G</strong> slopes.grd Finally, to use Cartesian minimum curvature splines in recovering a surface where the input data is a single surface value (pt.d) and the remaining constraints specify only the surface slope and direction (slopes.d), use</p><p><strong>greenspline</strong> pt.d <strong>-R</strong>-3.2/3.2/-3.2/3.2 <strong>-I</strong> 0.1 <strong>-Sc</strong> <strong>-V</strong> <strong>-D</strong> 1 <strong>-A</strong> 1,slopes.d <strong>-G</strong> slopes.grd</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">3-D EXAMPLES</h2>
        <div class="sectioncontent">
<p>To create a uniform 3-D Cartesian grid table based on the data in table_5.23 in Davis (1986) that contains <em>x,y,z</em> locations and a measure of uranium oxide concentrations (in percent), try</p><p><strong>greenspline</strong> table_5.23 <strong>-R</strong> 5/40/-5/10/5/16 <strong>-I</strong> 0.25 <strong>-Sr</strong> 0.85 <strong>-V</strong> <strong>-D</strong> 5 <strong>-G</strong> 3D_UO2.txt</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">2-D SPHERICAL SURFACE EXAMPLES</h2>
        <div class="sectioncontent">
<p>To recreate Parker's [1994] example on a global 1x1 degree grid, assuming the data are in file mag_obs_1990.d, try</p><p>greenspline <strong>-V</strong> <strong>-Rg</strong> <strong>-Sp</strong> <strong>-D</strong> 3 <strong>-I</strong> 1 <strong>-G</strong> P1994.grd mag_obs_1990.d</p><p>To do the same problem but applying tension and use pre-calculated Green functions, use</p><p>greenspline <strong>-V</strong> <strong>-Rg</strong> <strong>-SQ</strong> 0.85 <strong>-D</strong> 3 <strong>-I</strong> 1 <strong>-G</strong> WB2008.grd mag_obs_1990.d</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONSIDERATIONS</h2>
        <div class="sectioncontent">
<p>(1) For the Cartesian cases we use the free-space Green functions, hence no boundary conditions are applied at the edges of the specified domain.  For most applications this is fine as the region typically is arbitrarily set to reflect the extent of your data.  However, if your application requires particular boundary conditions then you may consider using <strong>surface</strong> instead.</p><p>(2) In all cases, the solution is obtained by inverting a <em>n</em> x <em>n</em> double precision matrix for the Green function coefficients, where <em>n</em> is the number of data constraints.  Hence, your computer's memory may place restrictions on how large data sets you can process with <strong>greenspline</strong>.  Pre-processing your data with <strong>blockmean</strong>, <strong>blockmedian</strong>, or <strong>blockmode</strong> is recommended to avoid aliasing and may also control the size of <em>n</em>. For information, if <em>n</em> = 1024 then only 8 Mb memory is needed, but for <em>n</em> = 10240 we need 800 Mb. Note that <strong>greenspline</strong> is fully 64-bit compliant if compiled as such.</p><p>(3) The inversion for coefficients can become numerically unstable when data neighbors are very close compared to the overall span of the data.  You can remedy this by pre-processing the data, e.g., by averaging closely spaced neighbors.  Alternatively, you can improve stability by using the SVD solution and discard information associated with the smallest eigenvalues (see <strong>-C</strong>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">TENSION</h2>
        <div class="sectioncontent">
<p>Tension is generally used to suppress spurious oscillations caused by the minimum curvature requirement, in particular when rapid gradient changes are present in the data.  The proper amount of tension can only be determined by experimentation. Generally, very smooth data (such as potential fields) do not require much, if any tension, while rougher data (such as topography) will typically interpolate better with moderate tension.  Make sure you try a range of values before choosing your final result.  Note: the regularized spline in tension is only stable for a finite range of <em>scale</em> values; you must experiment to find the valid range and a useful setting.  For more information on tension see the references below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>Davis, J. C., 1986, <em>Statistics and Data Analysis in Geology</em>, 2nd Edition, 646 pp., Wiley, New York,</p><p>Mitasova, H., and L. Mitas, 1993, Interpolation by regularized spline with tension: I. Theory and implementation, <em>Math. Geol., 25</em>, 641-655.</p><p>Parker, R. L., 1994, <em>Geophysical Inverse Theory</em>, 386 pp., Princeton Univ. Press, Princeton, N.J.</p><p>Sandwell, D. T., 1987, Biharmonic spline interpolation of Geos-3 and Seasat altimeter data, <em>Geophys. Res. Lett., 14</em>, 139-142.</p><p>Wessel, P., and D. Bercovici, 1998, Interpolation with splines in tension: a Green's function approach, <em>Math. Geol., 30</em>, 77-93.</p><p>Wessel, P., and J. M. Becker, 2008, Interpolation using a generalized Green's function for a spherical surface spline in tension, <em>Geophys. J. Int, 174</em>, 21-28.</p><p>Wessel, P., 2009, A general-purpose Green's function interpolator, <em>Computers & Geosciences, 35</em>, 1247-1254, doi:10.1016/j.cageo.2008.08.012.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO greenspline&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/gmt.1.html"><strong>GMT</strong>(1)</a>, <strong>gmtmath</strong>(1), <strong>nearneighbor</strong>(1), <strong>psxy</strong>(1), <strong>surface</strong>(1), <strong>triangulate</strong>(1), <strong>xyz2grd</strong>(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="gmt-manpages-grdvolume.1gmt.html"><span aria-hidden="true">&larr;</span> grdvolume.1gmt: Calculating volume under a surface within a contour</a></li>
   <li class="next"><a href="gshhg.1gmt.html">gshhg.1gmt: Extract ascii listings from binary gshhg data files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
