<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>rmkdepend: Create dependencies in makefiles (root version)</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create dependencies in makefiles (root version)">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="rmkdepend (1) manual">
  <meta name="twitter:description" content="Create dependencies in makefiles (root version)">
  <meta name="twitter:image" content="https://www.carta.tech/images/libroot-core-dev-rmkdepend-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/rmkdepend.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="rmkdepend (1) manual" />
  <meta property="og:description" content="Create dependencies in makefiles (root version)" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/libroot-core-dev-rmkdepend-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">rmkdepend<small> (1)</small></h1>
        <p class="lead">Create dependencies in makefiles (root version)</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rmkdepend.1.html">
      <span itemprop="name">rmkdepend: Create dependencies in makefiles (root version)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/libroot-core-dev/">
      <span itemprop="name">libroot-core-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/rmkdepend.1.html">
      <span itemprop="name">rmkdepend: Create dependencies in makefiles (root version)</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>rmkdepend</strong> [ <strong>-D</strong><em>name</em><strong>=</strong><em>def</em> ] [ <strong>-D</strong><em>name</em> ] [ <strong>-I</strong><em>includedir</em> ] [ <strong>-Y</strong><em>includedir</em> ] [ <strong>-a</strong> ] [ <strong>-f</strong><em>makefile</em> ] [ <strong>-o</strong><em>objsuffix</em> ] [ <strong>-p</strong><em>objprefix</em> ] [ <strong>-s</strong><em>string</em> ] [ <strong>-w</strong><em>width</em> ] [ <strong>-v</strong> ] [ <strong>-m</strong> ] [ -\^- <em>otheroptions</em> -\^- ] <em>sourcefile</em> [ <strong>-t</strong><em>targetfilename</em> ] .\|.\|.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The <strong>rmkdepend</strong> program reads each <em>sourcefile</em> in sequence and parses it like a C-preprocessor, processing all <em>#include,</em> <em>#define,</em> <em>#undef,</em> <em>#ifdef,</em> <em>#ifndef,</em> <em>#endif,</em> <em>#if,</em> <em>#elif</em> and <em>#else</em> directives so that it can correctly tell which <em>#include,</em> directives would be used in a compilation. Any <em>#include,</em> directives can reference files having other <em>#include</em> directives, and parsing will occur in these files as well.</p><p>Every file that a <em>sourcefile</em> includes, directly or indirectly, is what <strong>rmkdepend</strong> calls a <em>dependency.</em> These dependencies are then written to a <em>makefile</em> in such a way that <a href="../man1/make.1.html"><strong>make</strong>(1)</a></strong> will know which object files must be recompiled when a dependency has changed.</p><p>By default, <strong>rmkdepend</strong> places its output in the file named <em>makefile</em> if it exists, otherwise <em>Makefile.</em> An alternate makefile may be specified with the <strong>-f</strong> option. It first searches the makefile for the line</p>
<pre>
    # DO NOT DELETE THIS LINE -\^- make depend depends on it.
</pre>
<p>or one provided with the <strong>-s</strong> option, as a delimiter for the dependency output. If it finds it, it will delete everything following this to the end of the makefile and put the output after this line. If it doesn't find it, the program will append the string to the end of the makefile and place the output following that. For each <em>sourcefile</em> appearing on the command line, <strong>rmkdepend</strong> puts lines in the makefile of the form</p>
<pre>
     sourcefile.o:&nbsp;dfile .\|.\|.
</pre>
<p>Where <em>sourcefile.o</em> is the name from the command line with its suffix replaced with ``.o'', and <em>dfile</em> is a dependency discovered in a <em>#include</em> directive while parsing <em>sourcefile</em> or one of the files it included.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTE</h2>
        <div class="sectioncontent">
<p>The <strong>rmkdepend</strong> application is based on <a href="../man1/makedepend.1.html"><strong>makedepend</strong>(1)</a> from the X Consortium, but modified slightly to fit the needs of the <strong>ROOT</strong> system. This <a href="../man1/man.1.html"><strong>man</strong>(1)</a> page is more or less identical to the manpage for <a href="../man1/makedepend.1.html"><strong>makedepend</strong>(1)</a>, except for this notice, and the <strong>SEE ALSO</strong> and <strong>AUTHORS</strong>  sections.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLE</h2>
        <div class="sectioncontent">
<p>Normally, <strong>rmkdepend</strong> will be used in a makefile target so that typing ``make depend'' will bring the dependencies up to date for the makefile. For example,</p>
<pre>
    SRCS&nbsp;=&nbsp;file1.c&nbsp;file2.c&nbsp;.\|.\|.
    CFLAGS&nbsp;=&nbsp;-O&nbsp;-DHACK&nbsp;-I\^.\^.\^/foobar&nbsp;-xyz
    depend:
            rmkdepend&nbsp;-\^-&nbsp;$(CFLAGS)&nbsp;-\^-&nbsp;$(SRCS)
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The program will ignore any option that it does not understand so that you may use the same arguments that you would for <strong>cc(1).</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-D</strong><em>name</em><strong>=</strong><em>def</em><strong> </strong>or<strong> -D</strong><em>name</em><strong></strong></p>
  </dt>
  <dd>
    <p>Define. This places a definition for <em>name</em> in <strong>rmkdepend's</strong> symbol table. Without <em>=def\|</em> the symbol becomes defined as ``1''.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em>includedir</em><strong></strong></p>
  </dt>
  <dd>
    <p>Include directory. This option tells <strong>rmkdepend</strong> to prepend <em>includedir</em> to its list of directories to search when it encounters a <em>#include</em> directive. By default, <strong>rmkdepend</strong> only searches the standard include directories (usually /usr/include and possibly a compiler-dependent directory).</p>
  </dd>
  <dt>
    <p><strong>-Y</strong><em>includedir</em><strong></strong></p>
  </dt>
  <dd>
    <p>Replace all of the standard include directories with the single specified include directory; you can omit the <em>includedir</em> to simply prevent searching the standard include directories.</p>
  </dd>
  <dt>
    <p><strong>-a</strong></p>
  </dt>
  <dd>
    <p>Append the dependencies to the end of the file instead of replacing them.</p>
  </dd>
  <dt>
    <p><strong>-f</strong><em>makefile</em><strong></strong></p>
  </dt>
  <dd>
    <p>Filename. This allows you to specify an alternate makefile in which <strong>rmkdepend</strong> can place its output. Specifying ``-'' as the file name (i.e., <strong>-f-</strong>) sends the output to standard output instead of modifying an existing file.</p>
  </dd>
  <dt>
    <p><strong>-o</strong><em>objsuffix</em><strong></strong></p>
  </dt>
  <dd>
    <p>Object file suffix. Some systems may have object files whose suffix is something other than ``.o''. This option allows you to specify another suffix, such as ``.b'' with <em>-o.b</em> or ``:obj'' with <em>-o:obj</em> and so forth.</p>
  </dd>
  <dt>
    <p><strong>-p</strong><em>objprefix</em><strong></strong></p>
  </dt>
  <dd>
    <p>Object file prefix. The prefix is prepended to the name of the object file. This is usually used to designate a different directory for the object file. The default is the empty string.</p>
  </dd>
  <dt>
    <p><strong>-s</strong><em>string</em><strong></strong></p>
  </dt>
  <dd>
    <p>Starting string delimiter. This option permits you to specify a different string for <strong>rmkdepend</strong> to look for in the makefile.</p>
  </dd>
  <dt>
    <p><strong>-w</strong><em>width</em><strong></strong></p>
  </dt>
  <dd>
    <p>Line width. Normally, <strong>rmkdepend</strong> will ensure that every output line that it writes will be no wider than 78 characters for the sake of readability. This option enables you to change this width.</p>
  </dd>
  <dt>
    <p><strong>-v</strong></p>
  </dt>
  <dd>
    <p>Verbose operation. This option causes <strong>rmkdepend</strong> to emit the list of files included by each input file on standard output.</p>
  </dd>
  <dt>
    <p><strong>-m</strong></p>
  </dt>
  <dd>
    <p>Warn about multiple inclusion. This option causes <strong>rmkdepend</strong> to produce a warning if any input file includes another file more than once.  In previous versions of <strong>rmkdepend</strong> this was the default behavior; the default has been changed to better match the behavior of the C compiler, which does not consider multiple inclusion to be an error.  This option is provided for backward compatibility, and to aid in debugging problems related to multiple inclusion.</p>
  </dd>
  <dt>
    <p><strong>-\^- </strong><em>options</em><strong> -\^-</strong></p>
  </dt>
  <dd>
    <p>If <strong>rmkdepend</strong> encounters a double hyphen (-\^-) in the argument list, then any unrecognized argument following it will be silently ignored; a second double hyphen terminates this special treatment. In this way, <strong>rmkdepend</strong> can be made to safely ignore esoteric compiler arguments that might normally be found in a CFLAGS <strong>make</strong> macro (see the <strong>EXAMPLE</strong> section above). All options that <strong>rmkdepend</strong> recognizes and appear between the pair of double hyphens are processed normally.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em>targetfilename</em><strong></strong></p>
  </dt>
  <dd>
    <p>Filename. This allows you to specify an alternate target filename to be use for the preceding file.  For example if you call</p>
<pre>
     rmkdepend \(hysobj \(hypbuild file.cxx \(hytlibrary.so
</pre>
<p>rather than inserting the line</p>
<pre>
     build/file.obj: .\|.\|.
</pre>
<p><strong>rmkdepend</strong> will insert:</p>
<pre>
     library.so: .\|.\|.
</pre>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ALGORITHM</h2>
        <div class="sectioncontent">
<p>The approach used in this program enables it to run an order of magnitude faster than any other ``dependency generator'' I have ever seen. Central to this performance are two assumptions: that all files compiled by a single makefile will be compiled with roughly the same <em>-I</em> and <em>-D</em> options; and that most files in a single directory will include largely the same files.</p><p>Given these assumptions, <strong>rmkdepend</strong> expects to be called once for each makefile, with all source files that are maintained by the makefile appearing on the command line. It parses each source and include file exactly once, maintaining an internal symbol table for each. Thus, the first file on the command line will take an amount of time proportional to the amount of time that a normal C preprocessor takes. But on subsequent files, if it encounters an include file that it has already parsed, it does not parse it again.</p><p>For example, imagine you are compiling two files, <em>file1.c</em> and <em>file2.c,</em> they each include the header file <em>header.h,</em> and the file <em>header.h</em> in turn includes the files <em>def1.h</em> and <em>def2.h.</em> When you run the command</p>
<pre>
    rmkdepend&nbsp;file1.c&nbsp;file2.c
</pre>
<p><strong>rmkdepend</strong> will parse <em>file1.c</em> and consequently, <em>header.h</em> and then <em>def1.h</em> and <em>def2.h.</em> It then decides that the dependencies for this file are</p>
<pre>
    file1.o:&nbsp;header.h&nbsp;def1.h&nbsp;def2.h
</pre>
<p>But when the program parses <em>file2.c</em> and discovers that it, too, includes <em>header.h,</em> it does not parse the file, but simply adds <em>header.h,</em> <em>def1.h</em> and <em>def2.h</em> to the list of dependencies for <em>file2.o.</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO rmkdepend&hellip;</h2>
        <div class="sectioncontent">
<p>cc(1), <a href="../man1/make.1.html"><strong>make</strong>(1)</a>, <strong>root</strong>(1), <strong>root-cint</strong>(1)</p><p>See also the <strong>ROOT</strong> webpages:</p><p><em>http://root.cern.ch</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><strong>rmkdepend</strong> parses, but does not currently evaluate, the SVR4 #predicate(token-list) preprocessor expression; such expressions are simply assumed to be true. This may cause the wrong <em>#include</em> directives to be evaluated.</p><p>Imagine you are parsing two files, say <em>file1.c</em> and <em>file2.c,</em> each includes the file <em>def.h.</em> The list of files that <em>def.h</em> includes might truly be different when <em>def.h</em> is included by <em>file1.c</em> than when it is included by <em>file2.c.</em> But once <strong>rmkdepend</strong> arrives at a list of dependencies for a file, it is cast in concrete.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Todd Brunhoff, Tektronix, Inc. and MIT Project Athena. Modified by Christian Holm Christensen &lt;cholm@nbi.dk&gt; for the <strong>ROOT</strong> distribution.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="rmhist.1.html"><span aria-hidden="true">&larr;</span> rmhist.1: Remove an atfs history</a></li>
   <li class="next"><a href="rmligs-german.1.html">rmligs-german.1: Remove incorrectly used ligatures from german latex documents <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
