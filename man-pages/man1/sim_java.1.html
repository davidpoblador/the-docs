<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sim_java: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sim_java (1) manual">
  <meta name="twitter:description" content="Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files">
  <meta name="twitter:image" content="https://www.carta.tech/images/similarity-tester-sim_java-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sim_java.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sim_java (1) manual" />
  <meta property="og:description" content="Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/similarity-tester-sim_java-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sim_java<small> (1)</small></h1>
        <p class="lead">Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sim_java.1.html">
      <span itemprop="name">sim_java: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/similarity-tester/">
      <span itemprop="name">similarity-tester</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sim_java.1.html">
      <span itemprop="name">sim_java: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sim_c</strong> [ <strong>-[defFiMnpPRsST]</strong> <strong>-r</strong> <em>N</em> <strong>-t</strong> <em>N</em> <strong>-w</strong> <em>N</em> <strong>-o</strong> <em>F</em> ] file ... [ <strong>/</strong> [ file ... ] ]</p><p><strong>sim_c</strong> ...</p><p><strong>sim_java</strong> ...</p><p><strong>sim_pasc</strong> ...</p><p><strong>sim_m2</strong> ...</p><p><strong>sim_lisp</strong> ...</p><p><strong>sim_mira</strong> ...</p><p><strong>sim_text</strong> ...</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Sim_c</em> reads the C files <em>file ...</em> and looks for segments of text that are similar; two segments of program text are similar if they only differ in layout, comment, identifiers and the contents of numbers, strings and characters. If any runs of sufficient length are found, they are reported on standard output; the number of significant tokens in the run is given between square brackets.</p><p><em>Sim_java</em> does the same for Java, <em>sim_pasc</em> for Pascal, <em>sim_m2</em> for Modula-2, <em>sim_mira</em> for Miranda, and <em>sim_lisp</em> for Lisp. <em>Sim_text</em> works on arbitrary text; it is occasionally useful on shell scripts.</p><p>The program can be used for finding copied pieces of code in purportedly unrelated programs (with <strong>-s</strong> or <strong>-S</strong>), or for finding accidentally duplicated code in larger projects (with <strong>-f</strong>).</p><p>If a <strong>/</strong> is present between the input files, the latter are divided into a group of "new" files (before the <strong>/</strong>) and a group of "old" files; if there is no <strong>/</strong>, all files are "new". Old files are never compared to each other.</p><p>Since the similarity tester reads the files several times, it cannot read from standard input.</p><p>There are the following options:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>The output is in a <a href="../man1/diff.1.html"><strong>diff</strong>(1)</a>-like format instead of the default 2-column format.</p>
  </dd>
  <dt>
    <p><strong>-e</strong></p>
  </dt>
  <dd>
    <p>Each file is compared to each file in isolation; this will find all similarities between all texts involved, regardless of duplicates.</p>
  </dd>
  <dt>
    <p><strong>-f</strong></p>
  </dt>
  <dd>
    <p>Runs are restricted to segments with balancing parentheses, to isolate potential routine bodies (not in text).</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>The names of routines in calls are required to match exactly (not in text).</p>
  </dd>
  <dt>
    <p><strong>-i</strong></p>
  </dt>
  <dd>
    <p>The names of the files to be compared are read from standard input, including a possible <strong>/</strong>; the file names must be one to a line. This option allows a very large number of file names to be specified; it differs from the @ facility provided by some compilers in that it handles file names only, and does not recognize option arguments.</p>
  </dd>
  <dt>
    <p><strong>-M</strong></p>
  </dt>
  <dd>
    <p>Memory usage information is displayed on standard error output.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>Similarities found are only summarized, not displayed.</p>
  </dd>
  <dt>
    <p><strong>-o F</strong></p>
  </dt>
  <dd>
    <p>The output is written to the file named <em>F</em>.</p>
  </dd>
  <dt>
    <p><strong>-p</strong></p>
  </dt>
  <dd>
    <p>The output is given in similarity percentages; see below; implies <strong>-e</strong> and <strong>-s</strong>.</p>
  </dd>
  <dt>
    <p><strong>-P</strong></p>
  </dt>
  <dd>
    <p>As <strong>-p</strong> but more extensive; implies <strong>-e</strong> and <strong>-s</strong>.</p>
  </dd>
  <dt>
    <p><strong>-r N</strong></p>
  </dt>
  <dd>
    <p>The minimum run length is set to <em>N</em> units; the default is 24 tokens, except in <em>sim_text</em>, where it is 8 words.</p>
  </dd>
  <dt>
    <p><strong>-R</strong></p>
  </dt>
  <dd>
    <p>Directories in the input list are entered recursively, and all files they contain are involved in the comparison.</p>
  </dd>
  <dt>
    <p><strong>-s</strong></p>
  </dt>
  <dd>
    <p>The contents of a file are not compared to itself (-s for "not self").</p>
  </dd>
  <dt>
    <p><strong>-S</strong></p>
  </dt>
  <dd>
    <p>The contents of the new files are compared to the old files only - not between themselves.</p>
  </dd>
  <dt>
    <p><strong>-t N</strong></p>
  </dt>
  <dd>
    <p>In combination with the <strong>-p</strong> option, sets the threshold (in percents) below which similarities will not be reported; the default is 1, except in <em>sim_text</em>, where it is 20.</p>
  </dd>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>A more terse and uniform form of output is produced, which may be more suitable for postprocessing.</p>
  </dd>
  <dt>
    <p><strong>-w N</strong></p>
  </dt>
  <dd>
    <p>The page width used is set to <em>N</em> columns; the default is 80.</p>
  </dd>
  <dt>
    <p><strong>--</strong></p>
  </dt>
  <dd>
    <p>(A secret option, which prints the input as the similarity checker sees it, and then stops.)</p>
  </dd>

</dl>
<p>The <strong>-p</strong> option results in lines of the form</p>
<pre>
        F consists for x % of G material
</pre>
<p>meaning that x % of F's text can also be found in G. Note that this relation is not symmetric; it is in fact quite possible for one file to consist for 100 % of text from another file, while the other file consists for only 1 % of text of the first file, if their lengths differ enough. Each file is reported only once in the position of the F in the above line. This simplifies the identification of a set of files <em>A[1] ... A[n]</em>, where the concatenation of these files is also present. This restriction can be lifted by using the <strong>-P</strong> option instead. A threshold can be set using the <strong>-t</strong> option; this option is ignored under <strong>-P</strong>. Note that the granularity of the recognized text is still governed by the <strong>-r</strong> option or its default.</p><p><em>Sim_text</em> accepts  s p a c e d   t e x t  as normal text.</p><p>The program can handle UNICODE file names under Windows. This is relevant only under the <strong>-R</strong> option, since there is no way to give UNICODE file names from the command line.</p><p>Care has been taken to keep all internal processes linear in the length of the input, with the exception of the matching process which is almost linear, using a hash table; various other tables are used for speed-up. If, however, there is not enough memory for the tables, they are discarded in order of unimportance, under which conditions the algorithms revert to their quadratic nature.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>The call</p>
<pre>
        sim_c *.c
</pre>
<p>highlights duplicate code in the directory. (It is useful to remove generated files first.) A call</p>
<pre>
        sim_c -f -F *.c
</pre>
<p>can pinpoint them further.</p><p>A call</p>
<pre>
        sim_text -e -p -s new/* / old/*
</pre>
<p>compares each file in new/* to each subsequent file in new/* and old/*, and if any pair has more that 20% in common, that fact is reported. Usually a similarity of 30% or more is significant; lower than 20% is probably coincidence; and in between is doubtful.</p><p>A call</p>
<pre>
        sim_text -e -n -s -r100 new/* / old/*
</pre>
<p>compares the same files, and reports large common segments. Both approaches are good for plagiarism detection.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIMITATIONS</h2>
        <div class="sectioncontent">
<p>Repetitive input is the bane of similarity checking. If we have a file containing 4 copies of similar text,</p>
<pre>
    A1 A2 A3 A4
</pre>
<p>where the numbers serve only to distinguish the similar copies, there are 7 similarities: A1=A2, A1=A3, A1=A4, A2=A3, A2=A4, A3=A4, and A1A2=A3A4, even discarding the overlapping A1A2A3=A2A3A4. Of these, only 3 are meaningful: A1=A2, A2=A3, and A3=A4. And for a table with 20 lines similar to each other, not unusual in a program, there are 715 similarities, of which at most 19 are meaningful. Reporting all 715 of them is clearly unacceptable.</p><p>To remedy this, finding the similarities is performed as follows: For each position in the text, the largest segment is found, of which a non-overlapping copy occurs in the text following it. That segment and its copy are reported and scanning resumes at the position just after the segment. For the above example this results in the similarities A1A2=A3A4 and A3=A4, which is quite satisfactory, and for N similar segments roughly <em>log N</em> messages are given.</p><p>A drawback of this heuristic is that the output is sensitive to the order of the input files. If we have two files</p>
<pre>
    file1 = A1, file2 = A2A3
</pre>
<p>then the order "file1 file2" gives "A1=A2, A2=A3" and "file2 file1" gives "A2=A3, A3=A1"; but both reports convey the same information.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Since it uses <a href="../man1/lex.1.html"><strong>lex</strong>(1)</a></em> on some systems, it may crash on any weird construction that overflows <em>lex</em>'s internal buffers.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Dick Grune, Vrije Universiteit, Amsterdam; dick@dickgrune.com.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sim_c.1.html"><span aria-hidden="true">&larr;</span> sim_c.1: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files</a></li>
   <li class="next"><a href="sim_lisp.1.html">sim_lisp.1: Find similarities in c, java, pascal, modula-2, lisp, miranda, or text files <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
