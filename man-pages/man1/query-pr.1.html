<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>query-pr: Query problem reports in the gnats database</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Query problem reports in the gnats database">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="query-pr (1) manual">
  <meta name="twitter:description" content="Query problem reports in the gnats database">
  <meta name="twitter:image" content="https://www.carta.tech/images/gnats-user-query-pr-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/query-pr.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="query-pr (1) manual" />
  <meta property="og:description" content="Query problem reports in the gnats database" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gnats-user-query-pr-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">query-pr<small> (1)</small></h1>
        <p class="lead">Query problem reports in the gnats database</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/query-pr.1.html">
      <span itemprop="name">query-pr: Query problem reports in the gnats database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gnats-user/">
      <span itemprop="name">gnats-user</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/query-pr.1.html">
      <span itemprop="name">query-pr: Query problem reports in the gnats database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>query-pr</strong></p><p>[<strong>--output</strong>&nbsp;<em>file</em>&nbsp;|&nbsp;<strong>-o</strong>&nbsp;<em>file</em>]</p><p>[<strong>--list-databases</strong>] [<strong>--list-fields</strong>] [<strong>--list-input-fields</strong>]</p><p>[<strong>--responsible-address</strong>&nbsp;<em>address</em>]</p><p>[<strong>--field-type</strong>&nbsp;<em>type</em>]</p><p>[<strong>--field-description</strong>&nbsp;<em>description</em>]</p><p>[<strong>--valid-values</strong>&nbsp;<em>values</em>]</p><p>[<strong>--format</strong>&nbsp;<em>format</em>&nbsp;|&nbsp;<strong>-f</strong>&nbsp;<em>format</em>]</p><p>[<strong>--full</strong>&nbsp;|&nbsp;<strong>-F</strong>] [<strong>--summary</strong>&nbsp;|&nbsp;<strong>-q</strong>]</p><p>[<strong>--database</strong>&nbsp;<em>database</em>&nbsp;|&nbsp;<strong>-d</strong>&nbsp;<em>database</em>]</p><p>[<strong>--and</strong>&nbsp;|&nbsp;<strong>-&</strong>] [<strong>--or</strong>&nbsp;|&nbsp;<strong>-|</strong>]</p><p>[<strong>--expr</strong>&nbsp;<em>expr</em>]</p><p>[<strong>--debug</strong>&nbsp;|&nbsp;<strong>-D</strong>]</p><p>[<strong>--help</strong>&nbsp;|&nbsp;<strong>-h</strong>] [<strong>--version</strong>&nbsp;|&nbsp;<strong>-V</strong>]</p><p>[<em>PR .\|.\|.</em>]</p><h3>Non-network-mode options:</h3>
<p>[<strong>--print-sh-vars</strong>] [<strong>--print-directory-for-database</strong>]</p>
<h3>Network-mode-only options:</h3>
<p>[<strong>--host</strong>&nbsp;<em>host</em>&nbsp;|&nbsp;<strong>-H</strong>&nbsp;<em>host</em>] [<strong>--port</strong>&nbsp;<em>port</em>] [<strong>--user</strong>&nbsp;<em>user</em>&nbsp;|&nbsp;<strong>-v</strong>&nbsp;<em>user</em>] [<strong>--passwd</strong>&nbsp;<em>passwd</em>&nbsp;|&nbsp;<strong>-w</strong>&nbsp;<em>passwd</em>]</p>
<h3>Deprecated Options</h3>
<p>[<strong>--list-categories</strong>&nbsp;|&nbsp;<strong>-j</strong>] [<strong>--list-classes</strong>&nbsp;|&nbsp;<strong>-J</strong>] [<strong>--list-responsible</strong>&nbsp;|&nbsp;<strong>-k</strong>] [<strong>--list-submitters</strong>&nbsp;|&nbsp;<strong>-l</strong>] [<strong>--list-states</strong>&nbsp;|&nbsp;<strong>-T</strong>] [<strong>--category</strong>&nbsp;<em>category</em>&nbsp;|&nbsp;<strong>-c</strong>&nbsp;<em>category</em>] [<strong>--synopsis</strong>&nbsp;<em>synopsis</em>&nbsp;|&nbsp;<strong>-y</strong>&nbsp;<em>synopsis</em>] [<strong>--confidential</strong>&nbsp;<em>confidential</em>&nbsp;|&nbsp;<strong>-C</strong>&nbsp;<em>confidential</em>] [<strong>--multitext</strong>&nbsp;<em>multitext</em>&nbsp;|&nbsp;<strong>-m</strong>&nbsp;<em>multitext</em>] [<strong>--originator</strong>&nbsp;<em>originator</em>&nbsp;|&nbsp;<strong>-O</strong>&nbsp;<em>originator</em>] [<strong>--release</strong>&nbsp;<em>release</em>&nbsp;|&nbsp;<strong>-A</strong>&nbsp;<em>release</em>] [<strong>--class</strong>&nbsp;<em>class</em>&nbsp;|&nbsp;<strong>-L</strong>&nbsp;<em>class</em>] [<strong>--cases</strong>&nbsp;<em>cases</em>&nbsp;|&nbsp;<strong>-E</strong>&nbsp;<em>cases</em>] [<strong>--quarter</strong>&nbsp;<em>quarter</em>&nbsp;|&nbsp;<strong>-Q</strong>&nbsp;<em>quarter</em>] [<strong>--keywords</strong>&nbsp;<em>keywords</em>&nbsp;|&nbsp;<strong>-K</strong>&nbsp;<em>keywords</em>] [<strong>--priority</strong>&nbsp;<em>priority</em>&nbsp;|&nbsp;<strong>-p</strong>&nbsp;<em>priority</em>] [<strong>--responsible</strong>&nbsp;<em>responsible</em>&nbsp;|&nbsp;<strong>-r</strong>&nbsp;<em>responsible</em>] [<strong>--restricted</strong>&nbsp;|&nbsp;<strong>-R</strong>] [<strong>--severity</strong>&nbsp;<em>severity</em>&nbsp;|&nbsp;<strong>-e</strong>&nbsp;<em>severity</em>] [<strong>--skip-closed</strong>&nbsp;|&nbsp;<strong>-x</strong>] [<strong>--sql</strong>&nbsp;|&nbsp;<strong>-i</strong>] [<strong>--sql2</strong>&nbsp;|&nbsp;<strong>-I</strong>] [<strong>--state</strong>&nbsp;<em>state</em>&nbsp;|&nbsp;<strong>-s</strong>&nbsp;<em>state</em>] [<strong>--submitter</strong>&nbsp;<em>submitter</em>&nbsp;|&nbsp;<strong>-S</strong>&nbsp;<em>submitter</em>] [<strong>--text</strong>&nbsp;<em>text</em>&nbsp;|&nbsp;<strong>-t</strong>&nbsp;<em>text</em>] [<strong>--required-before</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-u</strong>&nbsp;<em>date</em>] [<strong>--required-after</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-U</strong>&nbsp;<em>date</em>] [<strong>--arrived-before</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-b</strong>&nbsp;<em>date</em>] [<strong>--arrived-after</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-a</strong>&nbsp;<em>date</em>] [<strong>--modified-before</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-B</strong>&nbsp;<em>date</em>] [<strong>--modified-after</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-M</strong>&nbsp;<em>date</em>] [<strong>--closed-before</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-z</strong>&nbsp;<em>date</em>] [<strong>--closed-after</strong>&nbsp;<em>date</em>&nbsp;|&nbsp;<strong>-Z</strong>&nbsp;<em>date</em>]</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Queries the <strong>GNATS</strong> database according to options and returns either selected Problem Reports (<em>PR</em>s) or other requested information.  <strong>query-pr</strong> can query <em>PR</em>s located in either a local database or via <strong>gnatsd</strong>.</p><p><em>PR</em>s may be selected via the use of the <strong>--expr</strong> option, directly by number, or by the use of the (now deprecated) field-specific query operators.</p><p>By default, query options are connected with a logical <strong>AND</strong>. For example,</p><p><strong>query-pr</strong> <strong>--category=</strong><em>foo</em> <strong>--responsible=</strong><em>bar</em></p><p>only prints PRs which have a <strong>Category</strong> field of <em>foo</em> and a <strong>Responsible</strong> field of <em>bar</em>.</p><p>The <strong>--or</strong> option may be used to connect query options with a logical <strong>OR</strong>. For example,</p><p><strong>query-pr</strong> <strong>--category=</strong><em>baz</em> <strong>--or</strong> <strong>--responsible=</strong><em>blee</em></p><p>prints PRs which have either a <strong>Category</strong> field of <em>baz</em> <em>or</em> a <strong>Responsible</strong> field of <em>blee</em>.</p><p>The use of these options is strongly discouraged, as they will be deleted in the next release.  The expressions specified by the <strong>--expr</strong> option are much more flexible.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>--help</strong>,&nbsp;<strong>-h</strong></p>
  </dt>
  <dd>
    <p>Prints a (rather longish) help message.</p>
  </dd>
  <dt>
    <p><strong>--version</strong>,&nbsp;<strong>-V</strong></p>
  </dt>
  <dd>
    <p>Displays the program version to stdout.</p>
  </dd>
  <dt>
    <p><strong>--output</strong>&nbsp;<em>file</em>,&nbsp;<strong>-o</strong>&nbsp;<em>file</em></p>
  </dt>
  <dd>
    <p>The results of the query will be placed in this file.</p>
  </dd>
  <dt>
    <p><strong>--database</strong>&nbsp;<em>database</em>,&nbsp;<strong>-d</strong>&nbsp;<em>database</em></p>
  </dt>
  <dd>
    <p>Specifies the database to be used for the query.  If no database is specified, the database named <em>default</em> is assumed.  (This option overrides the database specified in the <strong>GNATSDB</strong> environment variable; see the <strong>ENVIRONMENT VARIABLES</strong> section for more information.)</p>
  </dd>
  <dt>
    <p><strong>--list-categories</strong>,&nbsp;<strong>-j</strong></p>
  </dt>
  <dd>
    <p>Lists the available <em>PR</em> categories for the selected database.</p>
  </dd>
  <dt>
    <p><strong>--list-classes</strong>,&nbsp;<strong>-J</strong></p>
  </dt>
  <dd>
    <p>Lists the available <em>PR</em> classes for the selected database.</p>
  </dd>
  <dt>
    <p><strong>--list-responsible</strong>,&nbsp;<strong>-k</strong></p>
  </dt>
  <dd>
    <p>Lists the users that appear in the database's responsible list.</p>
  </dd>
  <dt>
    <p><strong>--list-submitters</strong>,&nbsp;<strong>-l</strong></p>
  </dt>
  <dd>
    <p>Lists the valid submitters for this database.</p>
  </dd>
  <dt>
    <p><strong>--list-states</strong>,&nbsp;<strong>-T</strong></p>
  </dt>
  <dd>
    <p>Lists the valid <em>PR</em> states for <em>PR</em>s in this database.</p>
  </dd>

</dl>
<p>The previous <strong>--list-*</strong> options are deprecated and will be removed in the next release; their functionality can be replaced with</p><p><strong>query-pr</strong> <strong>--valid-values</strong> <em>field</em></p><p>where <em>field</em> is one of <strong>Category</strong>, <strong>Class</strong>, <strong>Responsible</strong>, <strong>Submitter-Id</strong>, or <strong>State</strong>.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--list-databases</strong></p>
  </dt>
  <dd>
    <p>Lists the known databases.</p>
  </dd>
  <dt>
    <p><strong>--list-fields</strong></p>
  </dt>
  <dd>
    <p>Lists the entire set of field names for <em>PR</em>s in the selected database.</p>
  </dd>
  <dt>
    <p><strong>--list-input-fields</strong></p>
  </dt>
  <dd>
    <p>Lists the fields that should be provided when creating a new <em>PR</em> for the currently-specified database.  The fields are listed in an order that would make sense when used in a template or form.</p>
  </dd>
  <dt>
    <p><strong>--field-type</strong>&nbsp;<em>field</em></p>
  </dt>
  <dd>
    <p>Returns the data type contained in <em>PR</em> field <em>field</em>.  The current set of data types includes <strong>text</strong>, <strong>multitext</strong>, <strong>enum</strong>, <strong>multienum</strong>, <strong>integer</strong>, <strong>date</strong>, and <strong>text-with-regex-qualifier</strong>.</p>
  </dd>
  <dt>
    <p><strong>--field-description</strong>&nbsp;<em>field</em></p>
  </dt>
  <dd>
    <p>Returns a human-readable description of the intended purpose of <em>field</em>.</p>
  </dd>
  <dt>
    <p><strong>--valid-values</strong>&nbsp;<em>field</em></p>
  </dt>
  <dd>
    <p>For fields of type <strong>enum</strong>, a list of valid values (one per line) is returned.  Otherwise, a regular expression is returned that describes the legal values in <em>field</em>.</p>
  </dd>
  <dt>
    <p><strong>--responsible-address</strong>&nbsp;<em>name</em></p>
  </dt>
  <dd>
    <p>The mail address of <em>name</em> is returned; <em>name</em> is assumed to be a name either appearing in the database's <strong>responsible</strong> list, or is otherwise a user on the system.</p>
  </dd>
  <dt>
    <p><strong>--print-sh-vars</strong></p>
  </dt>
  <dd>
    <p>A set of <em>/bin/sh</em> variables is returned that describe the selected database.  They include:</p>
<dl class='dl-vertical'>
  <dt>
    <p>GNATSDB</p>
  </dt>
  <dd>
    <p>The name of the currently-selected database.</p>
  </dd>
  <dt>
    <p>GNATSDB_VALID</p>
  </dt>
  <dd>
    <p>Set to 1 if the selected database is valid.</p>
  </dd>
  <dt>
    <p>GNATSDBDIR</p>
  </dt>
  <dd>
    <p>The directory where the database contents are stored.</p>
  </dd>
  <dt>
    <p>DEBUG_MODE</p>
  </dt>
  <dd>
    <p>Set to 1 if debug mode has been enabled for the database.</p>
  </dd>
  <dt>
    <p>DEFAULTCATEGORY</p>
  </dt>
  <dd>
    <p>The default category for <em>PR</em>s in the database.</p>
  </dd>
  <dt>
    <p>DEFAULTSTATE</p>
  </dt>
  <dd>
    <p>The default state for <em>PR</em>s in the database.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>--print-directory-for-database</strong></p>
  </dt>
  <dd>
    <p>Returns the directory where the selected database is located.</p>
  </dd>
  <dt>
    <p><strong>--format</strong>&nbsp;<em>format</em>,&nbsp;<strong>-f</strong>&nbsp;<em>format</em></p>
  </dt>
  <dd>
    <p>Used to specify the format of the output <em>PR</em>s, See FORMATS below for a complete description.</p>
  </dd>
  <dt>
    <p><strong>--full</strong>,&nbsp;<strong>-F</strong></p>
  </dt>
  <dd>
    <p>When printing <em>PR</em>s, the entre PR is displayed.  This is exactly equivalent to</p>
  </dd>

</dl>
<p><strong>query-pr</strong> <strong>--format</strong> <strong>full</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--summary</strong>,&nbsp;<strong>-q</strong></p>
  </dt>
  <dd>
    <p>When printing <em>PR</em>s, a summary format is used.  This is exactly equivalent to</p>
  </dd>

</dl>
<p><strong>query-pr</strong> <strong>--format</strong> <strong>summary</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--debug</strong>,&nbsp;<strong>-D</strong></p>
  </dt>
  <dd>
    <p>Enables debugging output for network queries.</p>
  </dd>
  <dt>
    <p><strong>--host</strong>&nbsp;<em>host</em>,&nbsp;<strong>-H</strong>&nbsp;<em>host</em></p>
  </dt>
  <dd>
    <p>Specifies the hostname of the <strong>gnatsd</strong> server to communicate with. This overrides the value in the <strong>GNATSDB</strong> environment variable.</p>
  </dd>
  <dt>
    <p><strong>--port</strong>&nbsp;<em>port</em></p>
  </dt>
  <dd>
    <p>Specifies the port number of the <strong>gnatsd</strong> server to communicate with. This overrides the value in the <strong>GNATSDB</strong> environment variable.</p>
  </dd>
  <dt>
    <p><strong>--user</strong>&nbsp;<em>user</em>,&nbsp;<strong>-v</strong>&nbsp;<em>user</em></p>
  </dt>
  <dd>
    <p>Specifies the username to login with when connecting to the <strong>gnatsd</strong> server.  This overrides the value in the <strong>GNATSDB</strong> environment variable.</p>
  </dd>
  <dt>
    <p><strong>--passwd</strong>&nbsp;<em>passwd</em>,&nbsp;<strong>-w</strong>&nbsp;<em>passwd</em></p>
  </dt>
  <dd>
    <p>Specifies the password to login with when connecting to the <strong>gnatsd</strong> server.  This overrides the value in the <strong>GNATSDB</strong> environment variable.</p>
  </dd>
  <dt>
    <p><strong>--and</strong>,&nbsp;<strong>-&</strong>, <strong>--or</strong>,&nbsp;<strong>-|,</strong></p>
  </dt>
  <dd>
    <p>These options are used when connecting multiple query operators together. They specify whether the previous and subsequent options are to be logically <strong>AND</strong>ed or logically <strong>OR</strong>ed.</p>
  </dd>
  <dt>
    <p><strong>--expr</strong>&nbsp;<em>expr</em></p>
  </dt>
  <dd>
    <p>Specifies a query expression to use when searching for PRs.  See the <strong>QUERY EXPRESSIONS</strong> section.</p>
  </dd>

</dl>
<p>The remaining deprecated options are not described here, since their use is fairly obvious and their functionality is completely replaced by the use of the <strong>--expr</strong> option.  (Some sort of shorthand option for querying fields may appear in the next release.)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FORMATS</h2>
        <div class="sectioncontent">
<p>Printing formats for <em>PR</em>s are in one of three forms:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>formatname</strong></p>
  </dt>
  <dd>
    <p>This is a <em>named format</em> which is described by the database (specifically, these formats are described in the <em>dbconfig</em> file associated with the database).  The default configuration contains five such formats: <em>standard</em>, <em>full</em>, <em>summary</em>, <em>sql</em>, and <em>sql2</em>.</p>
  </dd>

</dl>
<p>The first three are the ones most commonly used when performing queries. <em>standard</em> is the format used by default if no other format is specified.</p><p>Use of the latter two are discouraged; they are merely kept for historical purposes.</p><p>Other named formats may have been added by the database administrator.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>fieldname</strong></p>
  </dt>
  <dd>
    <p>A single field name may appear here.  Only the contents of this field will be displayed.</p>
  </dd>
  <dt>
    <p>\'"<em>printf string</em>" <em>fieldname</em> <em>fieldname</em> . . .\'</p>
  </dt>
  <dd>
    <p>This provides a rather flexible mechanism for formatting <em>PR</em> output.  (The formatting is identical to that provided by the named formats described by the database configuration.)  The printf string can contain the following % sequences:</p>
  </dd>

</dl>
<p><strong>%[positionalspecifiers]s</strong>:  Prints the field as a string.  The positional specifiers are similar to those of printf, as +, - and digit qualifiers can be used to force a particular alignment of the field contents.</p><p><strong>%[positionalspecifiers]S</strong>: Similar to %s, except that the field contents are terminated at the first space character.</p><p><strong>%[positionalspecifiers]d</strong>: Similar to %s, except that the field contents are written as a numeric value.  For integer fields, the value is written as a number.  For enumerated fields, the field is converted into a numeric equivalent (i.e. if the field can have two possible values, the result will be either 1 or 2).  For date fields, the value is written as seconds since Jan 1, 1970.</p><p><strong>%F</strong>: The field is written as it would appear within a <em>PR</em>, complete with field header.</p><p><strong>%D</strong>: For date fields, the date is written in a standard GNATS format.</p><p><strong>%Q</strong>: For date fields, the date is written in an arbitrary "SQL" format.</p><p>An example printf formatted query (note the quoting of the whole format specification):</p><p>query-pr --format '"%s, %s" Synopsis State'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUERY EXPRESSIONS</h2>
        <div class="sectioncontent">
<p>Query expressions are used to select specific <em>PR</em>s based on their field contents.  The general form is</p><p><em>fieldname</em>|"<em>value</em>" <em>operator</em> <em>fieldname</em>|"<em>value</em>" [<em>booleanop</em> ...]</p><p><em>value</em> is a literal string or regular expression; it must be surrounded by double quotes, otherwise it is interpreted as a <em>fieldname</em>.</p><p><em>fieldname</em> is the name of a field in the <em>PR</em>.</p><p><em>operator</em> is one of:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>=</em></p>
  </dt>
  <dd>
    <p>The value of the left-hand side of the expression must exactly match the regular expression on the right-hand side of the expression.</p>
  </dd>
  <dt>
    <p><em>~</em></p>
  </dt>
  <dd>
    <p>Some portion of the left-hand side of the expression must match the regular expression on the right-hand side.</p>
  </dd>
  <dt>
    <p><em>==</em></p>
  </dt>
  <dd>
    <p>The value of the left-hand side must be equal to the value on the right-hand side of the expression.</p><p>The equality of two values depends on what type of data is stored in the field(s) being queried.  For example, when querying a field containing integer values, literal strings are interpreted as integers.  The query expression</p><p>Number == "0123"</p><p>is identical to</p><p>Number == "123"</p><p>as the leading zero is ignored.  If the values were treated as strings instead of integers, then the two comparisons would return different results.</p>
  </dd>
  <dt>
    <p><em>!=</em></p>
  </dt>
  <dd>
    <p>The not-equal operator. Produces the opposite result of the <em>==</em> operator.</p>
  </dd>
  <dt>
    <p><em>&lt;</em>,<em>&gt;</em></p>
  </dt>
  <dd>
    <p>The left-hand side must have a value less than or greater than the right-hand side.  Comparisons are done depending on the type of data being queried; in particular, integer fields and dates use a numeric comparison, and enumerated fields are ordered depending on the numeric equivalent of their enumerated values.</p>
  </dd>

</dl>
<p><em>booleanop</em> is either | [or], or & [and].  The query expression</p><p>Category="baz" | Responsible="blee"</p><p>is identical to the second query example with <strong>--or</strong> given earlier; it selects all <em>PR</em>s with a Category field of <em>baz</em> or a Responsible field of <em>blee</em>.</p><p>The not operator <em>!</em> may be used to negate a test:</p><p>! Category="foo"</p><p>searches for <em>PR</em>s where the category is <em>not</em> equal to the regular expression <em>foo</em>.</p><p>Parenthesis may be used to force a particular interpretation of the expression:</p><p>!(Category="foo" & Submitter-Id="blaz")</p><p>skips <em>PR</em>s where the <strong>Category</strong> field is equal to <em>foo</em> and the <strong>Submitter-Id</strong> field is equal to <em>blaz</em>.  Parenthesis may be nested to any arbitrary depth.</p><p>Fieldnames can be specified in several ways.  The simplest and most obvious is just a name:</p><p>Category="foo"</p><p>checks the value of the category field for the value "foo".</p><p>A fieldname qualifier may be prepended to the name of the field; a colon is used to separate the qualifier from the name.  To refer directly to a builtin field name:</p><p>builtin:Number="123"</p><p>In this case, <em>Number</em> is interpreted as the builtin name of the field to check.  (This is useful if the fields have been renamed.  For more discussion of builtin field names, see <a href="../man5/dbconfig.5.html"><strong>dbconfig</strong>(5)</a>.)</p><p>To scan all fields of a particular type, the <em>fieldtype</em> qualifier may be used:</p><p>fieldtype:Text="bar"</p><p>searches all text fields for the regular expression <em>bar</em>.</p><p>Note that it is not necessary that the right-hand side of the expression be a literal string.  To query all <em>PR</em>s where the <em>PR</em> has been modified since it was closed, the expression</p><p>Last-Modified != Closed-Date</p><p>will work; for each <em>PR</em>, it compares the value of its Last-Modified field against its Closed-Date field, and returns those <em>PR</em>s where the values differ.  However, this query will also return all <em>PR</em>s with empty Last-Modified or Closed-Date fields.  To further narrow the search:</p><p>Last-Modified != Closed-Date & Last-Modified != "" & Closed-Date != ""</p><p>In general, comparing fields of two different types (an integer field against a date field, for example) will probably not do what you want.</p><p>Also, a field specifier may be followed by the name of a subfield in braces:</p><p>State[type] != "closed"</p><p>or even</p><p>builtin:State[type] != "closed"</p><p>Subfields are further discussed in <a href="../man5/dbconfig.5.html"><strong>dbconfig</strong>(5)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUERY BY MAIL</h2>
        <div class="sectioncontent">
<p><strong>query-pr</strong> can also be accessed by electronic mail, if your version of GNATS is configured for this.  To use this feature, simply send mail to the address <strong>query-pr@</strong><em>your-site</em> with command line arguments or options in the <strong>Subject:</strong> line of the mail header.  GNATS replies to your mail with the results of your query.  The default settings for the <strong>query-pr</strong> mail server are shown below; to override the <strong>--state</strong> parameter, specify <strong>--state=</strong><em>state</em> in the <strong>Subject:</strong> line of the mail header.  You can not query on confidential Problem Reports by mail.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>--restricted --state="open|analyzed|feedback|suspended"</strong></p>
  </dt>
  <dd>
    
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">
<p>The <strong>GNATSDB</strong> environment variable is used to determine which database to use.  For a local database, it contains the name of the database to access.</p><p>For network access via <em>gnatsd</em>, it contains a colon-separated list of strings that describe the remote database in the form</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>server</em>:<em>port</em>:<em>databasename</em>:<em>username</em>:<em>password</em></p>
  </dt>
  <dd>
    
  </dd>

</dl>
<p>Any of the fields may be omitted except for <em>server</em>, but at least one colon must appear; otherwise, the value is assumed to be the name of a local database.</p><p>If <strong>GNATSDB</strong> is not set, it is assumed that the database is local and that its name is <em>default</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO query-pr&hellip;</h2>
        <div class="sectioncontent">
<p><em>Keeping Track: Managing Messages With GNATS</em> (also installed as the GNU Info file <strong>gnats.info</strong>)</p><p><a href="../man5/databases.5.html"><strong>databases</strong>(5)</a>, <a href="../man5/dbconfig.5.html"><strong>dbconfig</strong>(5)</a>, <a href="../man8/delete-pr.8.html"><strong>delete-pr</strong>(8)</a>, <a href="../man1/edit-pr.1.html"><strong>edit-pr</strong>(1)</a> <a href="../man8/file-pr.8.html"><strong>file-pr</strong>(8)</a>, <a href="../man8/gen-index.8.html"><strong>gen-index</strong>(8)</a>, <a href="../man7/gnats.7.html"><strong>gnats</strong>(7)</a>, <a href="../man8/gnatsd.8.html"><strong>gnatsd</strong>(8)</a>, <a href="../man8/mkcat.8.html"><strong>mkcat</strong>(8)</a>, <a href="../man8/mkdb.8.html"><strong>mkdb</strong>(8)</a>, <a href="../man8/pr-edit.8.html"><strong>pr-edit</strong>(8)</a>, <a href="../man1/query-pr.1.html"><strong>query-pr</strong>(1)</a>, <a href="../man8/queue-pr.8.html"><strong>queue-pr</strong>(8)</a>, <a href="../man1/send-pr.1.html"><strong>send-pr</strong>(1)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYING</h2>
        <div class="sectioncontent">
<p>Copyright (c) 1993, 94, 95, 96, 1997, 1999, 2003, Free Software Foundation, Inc.</p><p>Permission is granted to make and distribute verbatim copies of this manual provided the copyright notice and this permission notice are preserved on all copies.</p><p>Permission is granted to copy and distribute modified versions of this manual under the conditions for verbatim copying, provided that the entire resulting derived work is distributed under the terms of a permission notice identical to this one.</p><p>Permission is granted to copy and distribute translations of this manual into another language, under the above conditions for modified versions, except that this permission notice may be included in translations approved by the Free Software Foundation instead of in the original English.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="quelcom.1.html"><span aria-hidden="true">&larr;</span> quelcom.1: Frontend to the quelcom audio utilities</a></li>
   <li class="next"><a href="querybts.1.html">querybts.1: View outstanding bug reports on a debbugs server <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
