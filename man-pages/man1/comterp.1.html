<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>comterp: Distributed command interpreter demonstrator</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Distributed command interpreter demonstrator">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="comterp (1) manual">
  <meta name="twitter:description" content="Distributed command interpreter demonstrator">
  <meta name="twitter:image" content="https://www.carta.tech/images/ivtools-bin-comterp-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/comterp.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="comterp (1) manual" />
  <meta property="og:description" content="Distributed command interpreter demonstrator" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/ivtools-bin-comterp-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">comterp<small> (1)</small></h1>
        <p class="lead">Distributed command interpreter demonstrator</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/comterp.1.html">
      <span itemprop="name">comterp: Distributed command interpreter demonstrator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/ivtools-bin/">
      <span itemprop="name">ivtools-bin</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/comterp.1.html">
      <span itemprop="name">comterp: Distributed command interpreter demonstrator</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>comterp</strong></p><p><strong>comterp</strong> remote</p><p><strong>comterp</strong> server 'portnum'</p><p><strong>comterp</strong> logger 'portnum'</p><p><strong>comterp</strong> client 'host' 'portnum' ['file']</p><p><strong>comterp</strong> telcat 'host' 'portnum' ['file']</p><p><strong>comterp</strong> run 'file'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>comterp demonstrates the command interpreter incorporated into ivtools. A user (or client program) can interact with comterp via stdin and stdout or telnet (when ACE is built in).  The command syntax is a semi-colon separated list of commands with arbitrary number of parameters enclosed in parenthesis, with support for optional parameters and keyword arguments, i.e:</p>
<pre>
       command2(arg1 arg2 arg3 :key1 val1 :key2 val2);
       command1(arg1 arg2 arg3 :key1 val1 :key2 val2)
</pre>
<p>C-like binary expressions can be embedded anywhere in the command language, using the operators in the table below.  Variables can be created on the fly with an assignment operator (i.e "ball=1" creates a integer "ball" variable set to 1).  Unterminated expressions cause an automatic command line extension (until the parser determines the expression is complete).  "(), "{}", and "[]" can all be used interchangeably.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMAND OPTIONS</h2>
        <div class="sectioncontent">
<p>comterp</p><p>Invoke a single command interpreter to interact with via stdin and stdout.</p><p>comterp remote</p><p>Invoke a single command interpreter, like the default, and include a remote command for accessing other comterp's in server mode.</p><p>comterp server 'portnum'</p><p>Listens for and accept connections on portnum, then setup a command interpreter to wait for and process commands from that connection.</p><p>comterp logger 'portnum'</p><p>Listens for and accept connections on portnum, then simply forward the incoming messages to stdout, while ack'ing back with newlines. For debugging purposes, not really a use of the interpreter.</p><p>comterp client 'host' 'portnum' ['file']</p><p>Connect to a portnum on a host and send/receive new-line terminated text buffers.  For debugging purposes, not really a use of the interpreter.</p><p>comterp telcat 'host' 'portnum' ['file']</p><p>Connect to a portnum on a host, cat the file, then close the connection.  Not really a use of the interpreter either.</p><p>comterp run 'file'</p><p>Run contents of file then exit.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPERATOR TABLE</h2>
        <div class="sectioncontent">

<pre>
    Operators  Command Name   Priority    Order       Type
    ---------  ------------   --------    -----       ----
    .          dot            130         R-to-L      binary
    `          bquote         125         R-to-L      unary-prefix
    $          stream         125         R-to-L      unary-prefix
    !          negate         110         R-to-L      unary-prefix
    ~          bit_not        110         R-to-L      unary-prefix
    ++         incr           110         R-to-L      unary-prefix
    ++         incr_after     110         R-to-L      unary-postfix
    -          minus          110         R-to-L      unary-prefix
    --         decr           110         R-to-L      unary-prefix
    --         decr_after     110         R-to-L      unary-postfix
    **         repeat         90          L-to-R      binary
    ..         iterate        80          L-to-R      binary
    %          mod            70          L-to-R      binary
    *          mpy            70          L-to-R      binary
    /          div            70          L-to-R      binary
    +          add            60          L-to-R      binary
    -          sub            60          L-to-R      binary
    &lt;&lt;         lshift         55          L-to-R      binary
    &gt;&gt;         rshift         55          L-to-R      binary
    &lt;          lt             50          L-to-R      binary
    &lt;=         lt_or_eq       50          L-to-R      binary
    &gt;          gt             50          L-to-R      binary
    &gt;=         gt_or_eq       50          L-to-R      binary
    !=         not_eq         45          L-to-R      binary
    ==         eq             45          L-to-R      binary
    &          bit_and        44          L-to-R      binary
    ^          bit_xor        43          L-to-R      binary
    |          bit_or         42          L-to-R      binary
    &&         and            41          L-to-R      binary
    ||         or             40          L-to-R      binary
    ,          tuple          35          L-to-R      binary
    ,,         concat         33          L-to-R      binary
    %=         mod_assign     30          R-to-L      binary
    *=         mpy_assign     30          R-to-L      binary
    +=         add_assign     30          R-to-L      binary
    -=         sub_assign     30          R-to-L      binary
    /=         div_assign     30          R-to-L      binary
    =          assign         30          R-to-L      binary
    ;          seq            10          L-to-R      binary
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MATHEMATICAL COMMANDS:</h2>
        <div class="sectioncontent">
<p> n=min(a b) -- return minimum of a and b</p><p> n=max(a b) -- return maximum of a and b</p><p> n=abs(a) -- return absolute value of a</p><p> dbl=exp(x) -- returns the value e raised to the power of x</p><p> dbl=log(x) -- returns the natural logarithm of x</p><p> dbl=log10(x) -- returns the base-10 logarithm of x</p><p> dbl=pow(x y) -- returns the value of x raised to the power of y</p><p> dbl=acos(x) -- returns the arc cosine of x in radians</p><p> dbl=asin(x) -- returns the arc sine of x in radians</p><p> dbl=atan(x) -- returns the arc tangent of x in radians</p><p> dbl=atan2(y x) -- returns the arc tangent of y over x</p><p> dbl=cos(x) -- returns the cosine of x radians</p><p> dbl=sin(x) -- returns the sine of x radians</p><p> dbl=tan(x) -- returns the tangent of x radians</p><p> dbl=sqrt(x) -- returns square root of x</p><p> dbl=pi() -- returns the value of pi</p><p> dbl=radtodeg(dbl) -- convert radians to degrees</p><p> dbl=degtorad(dbl) -- convert degrees to radians</p><p> num=floor(num) -- return closest integer value less than or equal to argument</p><p> num=ceil(num) -- return closest integer value greater than or equal to argument</p><p> num=round(num) -- return closest integer value</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AFFINE TRANSFORM AND MATRIX COMMANDS:</h2>
        <div class="sectioncontent">
<p> point=xform(x,y a00,a01,a10,a11,a20,a21) -- affine transform of x,y coordinates</p><p> affine=invert(a00,a01,a10,a11,a20,a21) -- invert affine transform</p><p> matrix=xpose(matrix) -- transpose an arbitrary matrix</p><p> matrix=matrix*matrix -- matrix multiplication</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STATISTICAL/RANDOM COMMANDS:</h2>
        <div class="sectioncontent">
<p> sum(val1[,val2[,...,valn]]) -- return sum of values</p><p> mean(val1[,val2[,...,valn]]) -- return mean of values</p><p> var(val1[,val2[,...,valn]]) -- return variance of values</p><p> stddev(val1[,val2[,...,valn]]) -- return standard deviation of values</p><p> rand([minval,maxval]) -- return random number between 0 and 1 or minval,maxval</p><p> srand(seedval) -- seed random number generator</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LIST COMMANDS:</h2>
        <div class="sectioncontent">
<p> lst=list([olst|strm|val] :strmlst :attr :size n) -- create list, copy list, or convert stream</p><p> val=at(list|attrlist|str n :set val :ins val) -- return (or set or insert after) nth item in a list or string</p><p> num=size(list|attrlist|str) -- return size of a list (or string)</p><p> val=index(list|str val|char|str :last :all) -- return index of value (or char or string) in list (or string), nil if not found.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STREAM COMMANDS:</h2>
        <div class="sectioncontent">
<p> val=next(stream) -- return next value from stream</p><p> strm=stream(ostrm|list|attrlist) -- copy stream or convert list</p><p> cnt=each(strm) -- traverse stream returning its length</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONTROL COMMANDS (using post evaluation):</h2>
        <div class="sectioncontent">
<p> val=cond(testexpr trueexpr falseexpr) -- evaluate testexpr, and if true, evaluate and return trueexpr, otherwise evaluate and return falseexpr</p><p> val=if(testexpr :then expr :else expr) -- evaluate testexpr and execute the :then expression if true, the :else expression if false.</p><p> val=for(initexpr whileexpr [nextexpr [bodyexpr]] :body expr) -- for loop</p><p> val=while([testexpr [bodyexpr]] :nilchk :until :body expr ) -- while loop</p><p> val=switch(val key-body-pairs) -- switch statement (:casen for pos., :case_n for neg., otherwise :symbol)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OTHER COMMANDS</h2>
        <div class="sectioncontent">
<p> help(cmdname [cmdname ...] :all :posteval) -- help for commands</p><p> val=trace([flag] :get) -- toggle or set trace mode</p><p> pause()  -- pause script execution until C/R</p><p> step() -- toggle stepwise script execution</p><p> fileobj|pipeobj=open([filename [modestr]] :pipe :in :out :err) -- open file command</p><p> close(fileobj|pipeobj) -- close file command</p><p> [str]=print([fmtstr] [val [val1 [... valn]]] :string|:str :out :err :file fileobj|pipeobj :prefix str) -- print value with optional format string</p><p> str=gets(fileobj|pipeobj) -- gets a new-line terminated string from a file</p><p> val=global(symbol)|global(symbol)=val|global(symbol :clear)|global(:cnt) -- make symbol global</p><p> int|lst=symid(symbol [symbol ...] | :max) -- return integer id(s) associated with symbol(s)</p><p> sym|lst=symbol(symid [symid ...]) -- return symbol(s) associated with integer id(s)</p><p> val|lst=symval(symbol [symbol ...]) -- return value(s) associated with symbol variables(s)</p><p> sym|lst=symadd(sym|str [sym|str ...]) -- create symbol(s) and return without lookup.</p><p> sym=symvar(sym) -- return symbol as-is</p><p> str=symstr(sym) -- return string version of symbol</p><p> n=strref(str|symid) -- return string reference count</p><p> lst=split(symbol|string :tokstr [delim] :tokval [delim]) -- split symbol or string into list of characters (or tokens).</p><p> str=join(clist :sym) -- join list of characters into string</p><p> str=substr(str n|str :after) -- extract characters from a string</p><p> bool=eq(str1 str2 :n len) -- partial string comparison</p><p> bool=eq(sym1 sym2 :sym) -- symbol comparison</p><p> postfix(arg1 [arg2 [arg3 ... [argn]]]) -- echo unevaluated postfix arguments (with [narg|nkey] after defined commands, {narg|nkey} after undefined commands, (narg) after keys, and a * following post-evaluation commands)</p><p> arr=posteval(arg1 [arg2 [arg3 ... [argn]]]) -- post-evaluate every fixed argument (until nil) and return array</p><p> sym=attrname(attribute) -- return name field of dotted pair  val=attrval(attribute) -- return value field of dotted pair  dotlst=dot(name) -- construct empty dotted pair list</p><p> quit() -- quit the interpreter</p><p> exit() -- exit entire application</p><p> empty() -- empty statement</p><p> val=run(filename :str :popen) -- run commands from file (or string)</p><p> val=remote(hoststr portnum cmdstr :nowait) -- remotely evaluate command string then locally evaluate result string</p><p> val=eval(cmdstr|funcobj [cmdstr|funcobj ...] :symret ) -- evaluate string (or funcobj) as commands, optionally return symbol instead of nil</p><p> funcobj=func(body :echo) -- encapsulate a body of commands into an executable object</p><p> val=shell(cmdstr) -- evaluate command in shell</p><p> usleep(msec) -- sleep microseconds</p><p> mute([flag]) -- set or toggle mute flag</p><p> nil([...]) -- accept any arguments and return nil</p><p> c=char(num :u) -- convert any numeric to a char</p><p> s=short(num :u) -- convert any numeric to a short</p><p> i=int(num :u) -- convert any numeric to an int</p><p> l=long(num :u) -- convert any numeric to a long</p><p> f=float(num) -- convert any numeric to a float</p><p> d=double(num) -- convert any numeric to a double</p><p> sym|lst=type(val [val ...]) -- return type symbol(s) for value(s)</p><p> sym|lst=class(val [val ...]) -- return class symbol(s) for value(s) of object type</p><p> int=ctoi(char) -- convert character to integer</p><p> flag=isspace(char) -- return true if character is whitespace</p><p> flag=isdigit(char) -- return true if character is a numeric digit</p><p> flag=isspace(char) -- return true if character is alphabetical</p><p> str=arg(n) -- return command line argument</p><p> n=narg(n) -- return number of command line arguments</p><p> num=nand(a b) -- bitwise NAND(negated AND)</p><p> num=nor(a b) -- bitwise NOR (negated OR)</p><p> num=xnor(a b) -- bitwise XNOR (negated XOR)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ONLY IN SERVER MODE</h2>
        <div class="sectioncontent">
<p> str=timeexpr(comstr :sec n) -- command string to execute at intervals</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO comterp&hellip;</h2>
        <div class="sectioncontent">
<p>	comdraw</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">WEB PAGES</h2>
        <div class="sectioncontent">
<p>	 http://www.ivtools.org/ivtools/comterp.html</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="compute_sloc_lang.1.html"><span aria-hidden="true">&larr;</span> compute_sloc_lang.1: Count source lines of code (sloc)</a></li>
   <li class="next"><a href="con2fbmap.1.html">con2fbmap.1: Shows and sets mapping between consoles and framebuffer devices. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
