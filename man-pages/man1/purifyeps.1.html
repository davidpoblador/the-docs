<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>purifyeps: Make an encapsulated postscript file work with both dvips and pdflatex</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Make an encapsulated postscript file work with both dvips and pdflatex">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="purifyeps (1) manual">
  <meta name="twitter:description" content="Make an encapsulated postscript file work with both dvips and pdflatex">
  <meta name="twitter:image" content="https://www.carta.tech/images/purifyeps-purifyeps-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/purifyeps.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="purifyeps (1) manual" />
  <meta property="og:description" content="Make an encapsulated postscript file work with both dvips and pdflatex" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/purifyeps-purifyeps-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">purifyeps<small> (1)</small></h1>
        <p class="lead">Make an encapsulated postscript file work with both dvips and pdflatex</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/purifyeps.1.html">
      <span itemprop="name">purifyeps: Make an encapsulated postscript file work with both dvips and pdflatex</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/purifyeps/">
      <span itemprop="name">purifyeps</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/purifyeps.1.html">
      <span itemprop="name">purifyeps: Make an encapsulated postscript file work with both dvips and pdflatex</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>purifyeps <strong>--help</strong></p><p>purifyeps <strong>--version</strong></p><p>purifyeps [<strong>--fontmap</strong>=<em>.fmp file</em>] [<em>.eps input file</em> [<em>.eps output file</em>]]</p><p>purifyeps <strong>--make-man</strong>[=<em>filename</em>] [<strong>--section</strong>=<em>section</em>]</p><p>purifyeps <strong>--make-ps-man</strong>[=<em>filename</em>] [<strong>--section</strong>=<em>section</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>While <strong>pdflatex</strong> has a number of nice features, its primary shortcoming relative to standard <strong>latex</strong>+<strong>dvips</strong> is that it is unable to read ordinary Encapsulated PostScript (\s-1EPS\s0) files, the most common graphics format in the LaTeX world.  <strong>pdflatex</strong> can read only the following types of graphics files:</p>
<dl class='dl-vertical'>
  <dt>
    \s-1PDF\s0
  </dt>
  <dd>
    <p>Most people who use <strong>pdflatex</strong> convert their documents to \s-1PDF\s0 using a utility such as <strong>epstopdf</strong>.  This works well and preserves the vector nature of the original \s-1EPS\s0.  Unfortunately, <strong>dvips</strong> does not read \s-1PDF\s0, so two versions of the graphic must be maintained if the document is to be processed with both <strong>latex</strong>+<strong>dvips</strong> and <strong>pdflatex</strong>.</p>
  </dd>
  <dt>
    \s-1PNG\s0
  </dt>
  <dd>
    <p>\s-1PNG\s0 is a bitmap format and therefore scales poorly.  Also, <strong>dvips</strong> does not read \s-1PNG\s0, so two versions of the graphic must be maintained if the document is to be processed with both <strong>latex</strong>+<strong>dvips</strong> and <strong>pdflatex</strong>.</p>
  </dd>
  <dt>
    \s-1JPEG\s0
  </dt>
  <dd>
    <p>\s-1JPEG\s0 is a bitmap format and therefore scales poorly.  Also, <strong>dvips</strong> does not read \s-1JPEG\s0, so two versions of the graphic must be maintained if the document is to be processed with both <strong>latex</strong>+<strong>dvips</strong> and <strong>pdflatex</strong>.</p>
  </dd>
  <dt>
    \s-1MPS\s0
  </dt>
  <dd>
    <p>This is probably the least-used <strong>pdflatex</strong>-compatible graphics format.  \s-1MPS\s0 is actually a stylized version of \s-1EPS\s0 that MetaPost outputs.  Like \s-1PDF\s0, \s-1MPS\s0 is a vector format and remains as such when imported into a <strong>pdflatex</strong> document.  Also like \s-1PDF\s0, <strong>dvips</strong> does not read \s-1MPS\s0, so two versions of the graphic must be maintained if the document is to be processed with both <strong>latex</strong>+<strong>dvips</strong> and <strong>pdflatex</strong>.</p>
  </dd>

</dl>
<p>The insight behind <strong>purifyeps</strong> is that there are only a few, small differences between \s-1MPS\s0 and \s-1EPS\s0 and that a file can be converted into a format that matches both the \s-1MPS\s0 and \s-1EPS\s0 specifications simultaneously.  <strong>purifyeps</strong> inputs an \s-1EPS\s0 file, uses <strong>pstoedit</strong>'s \*(C`mpost\*(C' filter to convert the file to MetaPost (<em>.mp</em>), runs <strong>mpost</strong> on the file to convert it to \s-1MPS\s0, and finally performs some touchups on the result to convert the file back to \s-1EPS\s0, while preserving its ability to be parsed by <strong>pdflatex</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>--help</strong>
  </dt>
  <dd>
    <p>Display \*(L"Usage\*(R" and \*(L"Options\*(R" from the <strong>purifyeps</strong> documentation.</p>
  </dd>
  <dt>
    <strong>-V</strong>, <strong>--version</strong>
  </dt>
  <dd>
    <p>Display the <strong>purifyeps</strong> version number, copyright, and license.</p>
  </dd>
  <dt>
    <strong>--fontmap</strong>=<em>.fmp file</em>
  </dt>
  <dd>
    <p>Specify the name of a file that tells <strong>purifyeps</strong> how to map from TeX font names to PostScript font names.  [Default: <em>mpost.fmp</em>]</p>
  </dd>
  <dt>
    <strong>--make-man</strong> [=<em>filename</em>]] [<strong>--section</strong>=<em>section</em>]
  </dt>
  <dd>
    <p>Automatically create a Unix man page for <strong>purifyeps</strong>.  <em>section</em> specifies the section [default: 1 (User Commands)].  <em>filename</em> defaults to <em>purifyeps.1</em> or an analogous filename if <em>section</em> is specified.</p>
  </dd>
  <dt>
    <strong>--make-ps-man</strong> [=<em>filename</em>]] [<strong>--section</strong>=<em>section</em>]
  </dt>
  <dd>
    <p>Automatically create a PostScript version of the <strong>purifyeps</strong> documentation.  The documentation is formatted like a Unix man page. <em>section</em> specifies the section [default: 1 (User Commands)]. <em>filename</em> defaults to <em>purifyeps.ps</em>.</p>
  </dd>

</dl>
<p>In normal operation (i.e., when not run with \*(C`--help\*(C', \*(C`--make-man\*(C', or \*(C`--make-ps-man\*(C'), <strong>purifyeps</strong> takes the name of an input file and output file.  The same filename can safely be used for both files.  If the output filename is omitted, output will go to the standard output device.  If the input filename is omitted, <strong>purifyeps</strong> will read from the standard input device.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Create a PostScript version of the <strong>purifyeps</strong> documentation, but call it <em>happydoc.ps</em> instead of the default, <em>purifyeps.ps</em>:</p>
<pre>
    purifyeps --make-ps-man=happydoc.ps
</pre>
<p>Create a Unix man page for <strong>purifyeps</strong> (in the usual roff format), but indicate that it belongs in section \*(C`LOCAL\*(C' instead of the default of section 1:</p><p>    purifyeps --make-man --section=LOCAL</p><p>Purify <em>sample.eps</em> (<em>mpost.fmp</em> is in the current directory):</p><p>    purifyeps sample.eps sample.eps</p><p>Purify <em>sample.eps</em> (<em>mpost.fmp</em> is in a different location):</p><p>    purifyeps --fontmap=/usr/share/pstoedit/mpost.fmp sample.eps sample.eps</p><p>Rename the purified version while purifying:</p><p>    purifyeps sample.eps sample-pure.eps</p><p>Do the same, but in a Unix pipeline:</p><p>    cat sample.eps | purifyeps &gt; sample-pure.eps</p><p>When you run <strong>purifyeps</strong>, you should see the output from both <strong>pstoedit</strong> and <strong>mpost</strong>, followed by a success message from <strong>purifyeps</strong>:</p><p>    % cat sample.eps | purifyeps &gt; sample-pure.eps     pstoedit: version 3.30 / DLL interface 107 (build Mar 14 2002) :     Copyright (C) 1993 - 2001 Wolfgang Glunz     Interpreter finished. Return status 0     This is MetaPost, Version 0.641 (Web2C 7.3.1)     (/tmp/purifyeps-jdeGPkh9.mp [1] )     1 output file written: purifyeps-jdeGPkh9.1     Transcript written on purifyeps-jdeGPkh9.log.</p><p>    File seems to have been purified successfully.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <em>mpost.fmp</em>
  </dt>
  <dd>
    <p>File containing mappings between TeX and PostScript font names.  See \*(L"\s-1NOTES\s0\*(R" for a description of this file's contents.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Error reporting could definitely stand to be improved.  Error messages produced by <strong>pstoedit</strong> and <strong>mpost</strong> are sometimes silently ignored. Also, errors sometimes cause <strong>purifyeps</strong> to leave temporary files (<em>purifyeps-</em><em>#####</em>) lying around.</p><p><strong>purifyeps</strong> is subject to all of the limitations that affect <strong>pstoedit</strong> and especially the \*(C`mpost\*(C' backend to <strong>pstoedit</strong>.  As a result, <strong>purifyeps</strong> ignores certain PostScript constructs, such as nonuniformly scaled text.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p><strong>purifyeps</strong> needs a file that tells it how to map from TeX font names to PostScript font names.  This file must contain two, space-separated columns.  The first lists a PostScript font name, and the second lists the TeX equivalent.  Blank lines and lines that start with \*(C`%\*(C' are ignored.  The following is a sample <em>.fmp</em> file:</p><p>    % This is a sample font map for purifyeps.     Times-Bold                           ptmb     Times-Italic                         ptmri     Times-Roman                          ptmr     Helvetica                            phvr     Helvetica-Bold                       phvb     Helvetica-Oblique                    phvro     Courier                              pcrr     Courier-Bold                         pcrb     Courier-Oblique                      pcrro</p><p>Note that this is exactly the same format that <strong>pstoedit</strong> uses.  By default, <strong>purifyeps</strong> looks in the current directory for a font map called <em>mpost.fmp</em>.  The \*(C`--fontmap\*(C' command-line option tells <strong>purifyeps</strong> to use a different font map, which will typically be the <em>mpost.fmp</em> file that comes with <strong>pstoedit</strong>.</p><p>Once you create purified \s-1EPS\s0 files with <strong>purifyeps</strong>, you need to instruct <strong>pdflatex</strong> to use them.  The pdfLaTeX configuration of the \*(C`graphics\*(C' and \*(C`graphicx\*(C' packages (<em>pdftex.def</em>) normally ignores <em>.eps</em> files.  Putting the following LaTeX code in your document's preamble tells <strong>pdflatex</strong> that all <em>.eps</em> files are in \s-1MPS\s0 format:</p><p>    % Tell pdfLaTeX that all .eps files were produced by MetaPost.     &#92;usepackage{graphicx} % or graphics     &#92;usepackage{ifpdf}     &#92;ifpdf       &#92;DeclareGraphicsRule{.eps}{mps}{*}{}       &#92;makeatletter         &#92;g@addto@macro&#92;Gin@extensions{,.eps}       &#92;makeatother     &#92;fi</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO purifyeps&hellip;</h2>
        <div class="sectioncontent">
<p><em>dvips</em>\|(1), <em>epstopdf</em>\|(1), <em>latex</em>\|(1), <em>mpost</em>\|(1), <em>pdflatex</em>\|(1), <em>pstoedit</em>\|(1)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Scott Pakin, <em>scott+peps@pakin.org</em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="puredata.1.html"><span aria-hidden="true">&larr;</span> puredata.1: Pure data</a></li>
   <li class="next"><a href="purple-remote.1.html">purple-remote.1: Send remote commands to pidgin/finch <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
