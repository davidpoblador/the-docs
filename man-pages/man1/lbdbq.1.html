<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>lbdbq: Query program for the little brother's database</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Query program for the little brother's database">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="lbdbq (1) manual">
  <meta name="twitter:description" content="Query program for the little brother's database">
  <meta name="twitter:image" content="https://www.carta.tech/images/lbdb-lbdbq-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/lbdbq.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="lbdbq (1) manual" />
  <meta property="og:description" content="Query program for the little brother's database" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/lbdb-lbdbq-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">lbdbq<small> (1)</small></h1>
        <p class="lead">Query program for the little brother's database</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lbdbq.1.html">
      <span itemprop="name">lbdbq: Query program for the little brother's database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/lbdb/">
      <span itemprop="name">lbdb</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/lbdbq.1.html">
      <span itemprop="name">lbdbq: Query program for the little brother's database</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>lbdbq</strong> <em>something</em></p><p><strong>lbdbq</strong> [<strong>-v</strong>|<strong>--version</strong>|<strong>-h</strong>|<strong>--help</strong>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>lbdbq</strong> is the client program for the little brother's database. It will attempt to invoke various modules to gather information about persons matching <em>something</em>. E.g., it may look at a list of addresses from which you have received mail, it may look at YP maps, or it may try to finger <em>something</em>@<em>&lt;various hosts&gt;</em>.</p><p>The behavior is configurable: Upon startup, <strong>lbdbq</strong> will source the shell scripts:</p><p><em>/etc/lbdb.rc</em></p><p><em>$HOME/.lbdbrc</em></p><p><em>$HOME/.lbdb/lbdbrc</em></p><p><em>$HOME/.lbdb/rc</em></p><p>if they exist.</p><p>They can be used to set the following global variables:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>MODULES_PATH</strong></p>
  </dt>
  <dd>
    <p>a space separated list of directories, where <strong>lbdbq</strong> should look for modules.</p>
  </dd>
  <dt>
    <p><strong>METHODS</strong></p>
  </dt>
  <dd>
    <p>a space separated list of the modules to use.</p>
  </dd>
  <dt>
    <p><strong>SORT_OUTPUT</strong></p>
  </dt>
  <dd>
    <p>If you set this to <em>false</em> or <em>no</em>, lbdbq won't sort the addresses but returns them in reverse order (which means that the most recent address in m_inmail database is first). If you set this to <em>name</em>, lbdbq sorts the output by real name.  If you set this to <em>comment</em>, it sort the output by the comment (for example the date in <strong>m_inmail</strong>). <em>reverse_comment</em> realizes the same as <em>comment</em>, but in reverse order, so the most recent timestamp of m_inmail may be on top. If you set SORT_OUTPUT to <em>address</em>, lbdbq sorts the output by addresses (that's the default).</p>
  </dd>
  <dt>
    <p><strong>KEEP_DUPES</strong></p>
  </dt>
  <dd>
    <p>If you set this to <em>true</em> or <em>yes</em>, lbdbq won't remove duplicate addresses with different real name comment fields.</p>
  </dd>

</dl>
<p>Note that there <em>are</em> defaults, so you should most probably modify these variables using constructs like this:</p>
<pre>
       MODULES_PATH="$MODULES_PATH $HOME/lbdb_modules"
</pre>
<p>Additionally, modules may have configuration variables of their own.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MODULES</h2>
        <div class="sectioncontent">
<p>Currently, the following modules are supplied with lbdb:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>m_finger</strong></p>
  </dt>
  <dd>
    <p>This module will use finger to find out something more about a person. The list of hosts do be asked is configurable; use the <strong>M_FINGER_HOSTS</strong> variable. Note that "localhost" will mean an invocation of your local <strong>finger</strong>(1) binary, and should thus work even if you don't provide the finger service to the network. <strong>m_finger</strong> tries to find out the machines mail domain name in <em>/etc/mailname</em>, by parsing a <em>sendmail.cf</em> file (if it finds one) and by reading <em>/etc/hostname</em> and <em>/etc/HOSTNAME</em>. If you know that this fails on your machine, or you want to force lbdbq to consider some other name to be the local mail domain name (misconfigured SUNs come to mind here), you can specify a name using the <strong>MAIL_DOMAIN_NAME</strong> variable. If this variable is set by you, no probing will be done by <strong>lbdbq</strong>.</p>
  </dd>
  <dt>
    <p><strong>m_inmail</strong></p>
  </dt>
  <dd>
    <p>This module will look up user name fragments in a list of mail addresses created by <a href="../man1/lbdb-fetchaddr.1.html"><strong>lbdb-fetchaddr</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><strong>m_passwd</strong></p>
  </dt>
  <dd>
    <p>This module searches for matching entries in your local /etc/passwd file. It evaluates the local machine mail domain in the same way <strong>m_finger</strong> does.  If you set <strong>PASSWD_IGNORESYS=true</strong>, this module ignores all system accounts and only finds UIDs between 1000 and 29999 (all other UIDs are reserved on a Debian system).</p>
  </dd>
  <dt>
    <p><strong>m_yppasswd</strong></p>
  </dt>
  <dd>
    <p>This module searches for matching entries in the NIS password database using the command ``ypcat passwd''.</p>
  </dd>
  <dt>
    <p><strong>m_nispasswd</strong></p>
  </dt>
  <dd>
    <p>This module searches for matching entries in the NIS+ password database using the command ``niscat passwd.org_dir''.</p>
  </dd>
  <dt>
    <p><strong>m_getent</strong></p>
  </dt>
  <dd>
    <p>This module searches for matching entries in whatever password database is configured using the command ``getent passwd''.</p>
  </dd>
  <dt>
    <p><strong>m_pgp2</strong>, <strong>m_pgp5</strong>, <strong>m_gpg</strong></p>
  </dt>
  <dd>
    <p>These modules scan your PGP 2.*, PGP 5.* or GnuPG public key ring for data. They use the programs <strong>pgp</strong>(1), <strong>pgpk</strong>(1), or <a href="../man1/gpg.1.html"><strong>gpg</strong>(1)</a> to get the data.</p>
  </dd>
  <dt>
    <p><strong>m_fido</strong></p>
  </dt>
  <dd>
    <p>This module searches your Fido nodelist, stored in <em>$HOME/.lbdb/nodelist</em> created by <a href="../man1/nodelist2lbdb.1.html"><strong>nodelist2lbdb</strong>(1)</a>.</p>
  </dd>
  <dt>
    <p><strong>m_abook</strong></p>
  </dt>
  <dd>
    <p>This module uses the program <a href="../man1/abook.1.html"><strong>abook</strong>(1)</a>, a text based address book application to search for addresses.  You can define multiple abook address books by setting the variable <strong>ABOOK_FILES</strong> to a space separated list.</p>
  </dd>
  <dt>
    <p><strong>m_addr_email</strong></p>
  </dt>
  <dd>
    <p>This module uses the program <strong>addr-email</strong>(1), a text based frontend to the Tk <strong>addressbook</strong>(1) application.</p>
  </dd>
  <dt>
    <p><strong>m_muttalias</strong></p>
  </dt>
  <dd>
    <p>This module searches the variable <strong>MUTTALIAS_FILES</strong> (a space separated list) of files in <strong>MUTT_DIRECTORY</strong> that contain mutt aliases.  File names without leading slash will have <strong>MUTT_DIRECTORY</strong> (defaults to <strong>$HOME</strong><em>/.mutt</em> or <strong>$HOME</strong>, if <strong>$HOME</strong><em>/.mutt</em> does not exist) prepended before the file name.  Absolute file names (beginning with <em>/</em>) will be taken direct.</p>
  </dd>
  <dt>
    <p><strong>m_pine</strong></p>
  </dt>
  <dd>
    <p>This module searches <strong>pine</strong>(1) addressbook files for aliases.  To realize this it first inspects the variable <strong>PINERC</strong>. If it isn't set, the default `<em>/etc/pine.conf /etc/pine.conf.fixed .pinerc</em>' is used.  To suppress inspecting the <strong>PINERC</strong> variable, set it to <em>no</em>. It than takes all <strong>address-book</strong> and <strong>global-address-book</strong> entries from these pinerc files and adds the contents of the variable <strong>PINE_ADDRESSBOOKS</strong> to the list, which defaults to `<em>/etc/addressbook .addressbook</em>'. Then these addressbooks are searched for aliases.  All filenames without leading slash are searched in <strong>$HOME</strong>.</p>
  </dd>
  <dt>
    <p><strong>m_palm</strong></p>
  </dt>
  <dd>
    <p>This module searches the Palm address database using the <strong>Palm::PDB</strong>(3pm) and <strong>Palm::Address</strong>(3pm) Perl modules from CPAN. It searches in the variable <strong>PALM_ADDRESS_DATABASE</strong> or if this isn't set in <em>$HOME/.jpilot/AddressDB.pdb</em>.</p>
  </dd>
  <dt>
    <p><strong>m_gnomecard</strong></p>
  </dt>
  <dd>
    <p>This module searches for addresses in your GnomeCard database files. The variable <strong>GNOMECARD_FILES</strong> is a whitespace separated list of GnomeCard data files.  If this variable isn't defined, the module searches in <strong>$HOME</strong><em>/.gnome/GnomeCard</em> for the GnomeCard database or at least falls back to <strong>$HOME</strong><em>/.gnome/GnomeCard.gcrd</em>. If a filename does not start with a slash, it is prefixed with <strong>$HOME/</strong>.</p>
  </dd>
  <dt>
    <p><strong>m_bbdb</strong></p>
  </dt>
  <dd>
    <p>This module searches for addresses in your (X)Emacs BBDB (big brother database).  It doesn't access ~/.bbdb directly (yet) but calls <strong>emacs</strong>(1) or <strong>xemacs</strong>(1) with a special mode to get the information (so don't expect too much performance in this module).  You can configure the <strong>EMACS</strong> variable to tell this module which emacsen to use.  Otherwise it will fall back to <strong>emacs</strong> or <strong>xemacs.</strong></p>
  </dd>
  <dt>
    <p><strong>m_ldap</strong></p>
  </dt>
  <dd>
    <p>This module queries an LDAP server using the <strong>Net::LDAP</strong>(3pm) Perl modules from CPAN.  It can be configured using an external resource file <em>/etc/lbdb_ldap.rc</em> or <em>$HOME/.lbdb/ldap.rc</em> or <em>$HOME/.mutt_ldap_query.rc</em>. You can explicity define a LDAP query in this file or you can use one or more of the predefined queries from the <strong>%ldap_server_db</strong> in this file.  For this you have to define a space separated list of nicknames from entries in the variable <strong>LDAP_NICKS</strong>.</p>
  </dd>
  <dt>
    <p><strong>m_wanderlust</strong></p>
  </dt>
  <dd>
    <p>This module searches for addresses stored in your <em>$WANDERLUST_ADDRESSES</em> (or by default in <em>$HOME/.addresses</em>) file, an addressbook of <strong>WanderLust</strong>.</p>
  </dd>
  <dt>
    <p><strong>m_osx_addressbook</strong></p>
  </dt>
  <dd>
    <p>This module queries the OS X AddressBook.  It is only available on OS X systems.</p>
  </dd>
  <dt>
    <p><strong>m_evolution</strong></p>
  </dt>
  <dd>
    <p>This module queries the Ximian Evolution address book.  It depends on the program <strong>evolution-addressbook-export</strong>, which is shipped with evolution.</p>
  </dd>
  <dt>
    <p><strong>m_vcf</strong></p>
  </dt>
  <dd>
    <p>This module uses libvformat to search for addresses from the space-separated set of vCard files defined in <em>$VCF_FILES</em>.</p>
  </dd>

</dl>
<p>Feel free to create your own modules to query other database resources, YP maps, and the like. <strong>m_finger</strong> should be a good example of how to do it.</p><p>If you create your own modules or have other changes and feel that they could be helpful for others, don't hesitate to submit them to the author for inclusion in later releases.</p><p>Finally, to use <strong>lbdbq</strong> from mutt, add the following line to your <em>$HOME/.muttrc:</em></p>
<pre>
    set query_command="lbdbq %s"
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -v | --version
  </dt>
  <dd>
    <p>Print version number of lbdbq.</p>
  </dd>
  <dt>
    -h | --help
  </dt>
  <dd>
    <p>Print short help of lbdbq.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><em>/etc/lbdb.rc</em></p><p><em>$HOME/.lbdbrc</em></p><p><em>$HOME/.lbdb/lbdbrc</em></p><p><em>$HOME/.lbdb/rc</em></p><p><em>/usr/lib/lbdb/*</em></p><p><em>$HOME/.lbdb/m_inmail.list</em></p><p><em>$HOME/.lbdb/nodelist</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO lbdbq&hellip;</h2>
        <div class="sectioncontent">
<p><strong>finger</strong>(1), <a href="../man1/ypcat.1.html"><strong>ypcat</strong>(1)</a>, <strong>niscat</strong>(1), <a href="../man1/getent.1.html"><strong>getent</strong>(1)</a>, <strong>pgp</strong>(1), <strong>pgpk</strong>(1), <a href="../man1/gpg.1.html"><strong>gpg</strong>(1)</a>, <a href="../man1/lbdb-fetchaddr.1.html"><strong>lbdb-fetchaddr</strong>(1)</a>, <a href="../man1/nodelist2lbdb.1.html"><strong>nodelist2lbdb</strong>(1)</a>, <strong>mutt_ldap_query</strong>(1), <a href="../man1/abook.1.html"><strong>abook</strong>(1)</a>, <strong>addr-email</strong>(1), <strong>addressbook</strong>(1), <strong>mutt</strong>(1), <strong>pine</strong>(1), <strong>emacs</strong>(1), <strong>xemacs</strong>(1), <strong>Palm::PDB</strong>(3pm), <strong>Palm::Address</strong>(3pm), <strong>Net::LDAP</strong>(3pm).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CREDITS</h2>
        <div class="sectioncontent">
<p>Most of the really interesting code of this program (namely, the RFC 822 address parser used by lbdb-fetchaddr) was stolen from Michael Elkins' mutt mail user agent. Additional credits go to Brandon Long for putting the query functionality into mutt.</p><p>Many thanks to the authors of the several modules and extensions: Ross Campbell &lt;rcampbel@us.oracle.com&gt; (m_abook, m_yppasswd), Marc de Courville &lt;marc@courville.org&gt; (m_ldap, mutt_ldap_query), Brendan Cully &lt;brendan@kublai.com&gt; (m_osx_addressbook, m_vcf), Gabor Fleischer &lt;flocsy@mtesz.hu&gt; (m_pine), Rick Frankel &lt;rick@rickster.com&gt; (m_gnomecard), Utz-Uwe Haus &lt;haus@uuhaus.de&gt; (m_bbdb, m_nispasswd), Torsten Jerzembeck &lt;toje@nightingale.ms.sub.org&gt; (m_addr_email), Adrian Likins &lt;alikins@redhat.com&gt; (m_getent), Gergely Nagy &lt;algernon@debian.org&gt; (m_wanderlust), Dave Pearson &lt;davep@davep.org&gt; (m_palm, lbdb.el), and Brian Salter-Duke &lt;b_duke@bigpond.net.au&gt; (m_muttalias).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The lbdb package was initially written by Thomas Roessler &lt;roessler@guug.de&gt; and is now maintained and heavily extended by Roland Rosenfeld &lt;roland@spinnaker.de&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="lbdb_dotlock.1.html"><span aria-hidden="true">&larr;</span> lbdb_dotlock.1: Lock mail spool files.</a></li>
   <li class="next"><a href="lbmount.1.html">lbmount.1: Lbmount  mount ltspfs based filesystems to a user owned subdir in /media <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
