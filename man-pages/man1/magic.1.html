<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>magic: Vlsi layout editor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Vlsi layout editor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="magic (1) manual">
  <meta name="twitter:description" content="Vlsi layout editor">
  <meta name="twitter:image" content="https://www.carta.tech/images/magic-magic-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/magic.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="magic (1) manual" />
  <meta property="og:description" content="Vlsi layout editor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/magic-magic-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">magic<small> (1)</small></h1>
        <p class="lead">Vlsi layout editor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/magic.1.html">
      <span itemprop="name">magic: Vlsi layout editor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/magic/">
      <span itemprop="name">magic</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/magic.1.html">
      <span itemprop="name">magic: Vlsi layout editor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>magic</strong> [ <strong>-T .I technology</strong> ] [ <strong>-d .I device_type</strong> ] [ <strong>-g .I graphics_port</strong> ] [ <strong>-m .I monitor_type</strong> ] [ <strong>-D</strong> ] [ <em>file</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Magic is an interactive editor for VLSI layouts that runs under all variants of UNIX, including Mac OS-X and Cygwin. This man page is a reference manual;  if you are a first-time user, you should use the Magic tutorials to get acquainted with the system (see the online resources links below).</p><p>Magic uses two windows: one for text and a separate window for displaying layouts.  Magic runs under the window system X11 (use under Cygwin requires the presence of an X11 server in Windows;  the server that comes packaged with Cygwin works well).  The command line switch "-d" can be used to tell Magic which kind of display you are running.  Specifically, this is useful to tell magic to use OpenGL graphics instead of plain X11 ("-d OGL"), or to use 24 bit plane graphics instead of 8 bit planes ("-d 24BITS") if both are available on a video card with overlay support.</p><p>Here are the options accepted by Magic:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-T</strong></p>
  </dt>
  <dd>
    <p>The next argument is the name of a technology. The tile types, display information, and design rules for this technology are read by Magic from a technology file when it starts up. The technology defaults to ``scmos''.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>The next argument is the type of workstation or graphics display being used. Magic supports these types:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>NULL</strong></p>
  </dt>
  <dd>
    <p>A null device for running Magic without using a graphics display, such as a batch job.  Note that the special case "-dnull" (lowercase, no space) has a more streamlined startup specifically for batch processing.</p>
  </dd>
  <dt>
    <p><strong>X11</strong></p>
  </dt>
  <dd>
    <p>X-windows, version 11.  The is the preferred interface. Magic acts as a client to the X window server and interfaces to all graphics terminals supported by the X server.</p>
  </dd>
  <dt>
    <p><strong>OGL</strong></p>
  </dt>
  <dd>
    <p>OpenGL graphics running under X11.  This is the preferred interface on systems having hardware-accelerated 3D graphics video cards and drivers.</p><ul>
<li><p>Addition information on Magic's X11 driver, including options for .Xdefaults files, may be found in ``Magic Maintainer's Manual #4:  Using Magic Under X Windows''.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>XWIND</strong></p>
  </dt>
  <dd>
    <p>Simply another name for the X11 driver.</p>
  </dd>

</dl>
<p>If no device is specified, Magic tries to guess which driver is appropriate (by checking the environment variables and by poking around in /dev).</p>
  </dd>

</dl>
<p>When Magic starts up it looks for a command file in ${CAD_ROOT}/magic/sys/.magicrc and processes it if it exists. Then Magic looks for a file with the name ``.magicrc'' in the home directory and processes it if it exists.  Finally, Magic looks for a .magicrc file in the current directory and reads it as a command file if it exists.  The .magicrc file format is described under the <strong>source</strong> command.  If magic is compiled with Tcl/Tk support, then any magic or Tcl/Tk commands may be used inside the startup file. The startup file name was changed to ".magicrc" to avoid conflicts with a common system file named ".magic".  However, the name ".magic" will be searched after ".magicrc" for backward compatibility.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS -- GENERAL INFORMATION</h2>
        <div class="sectioncontent">
<p>Magics uses types of commands:  Key macros and long commands. The first form consists of single-key (or button) abbreviations called ``macros''; macros are invoked by pressing a single key or mouse button.  Certain macros are predefined in the systemwide ${CAD_ROOT}/magic/sys/.magicrc file, but you can override them and add your own macros using the <strong>macro</strong> command (described below under COMMANDS FOR ALL WINDOWS).  The special macro "." is reserved to mean "execute the last typed long command".</p><p>You can enter long commands in the terminal console at the console prompt, or from the layout window by typing a <strong>:</strong> or <strong>;</strong> key, which are the two other reserved macros meaning "switch keyboard focus to the console window".  After typing the <strong>:</strong> or <strong>;</strong> key, type the text of the command, which will be written to the terminal window.  Multiple commands may be specified on one line by separating them with semicolons.</p><p>Most commands deal with the window underneath the cursor, so if a command doesn't do what you expect make sure that you are pointing to the correct place on the screen.  There are several different kinds of windows in Magic (layout, color, and netlist); each window has a different command set, described in a separate section below.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MOUSE BUTTONS FOR LAYOUT WINDOWS</h2>
        <div class="sectioncontent">
<p>Magic uses a three button mouse. The buttons are interpreted in a way that depends on the current tool, as indicated by the shape of the cursor (see the <strong>tool</strong> command).  The various tools are described below. The initial tool is <strong>box</strong>. These interpretations apply only when mouse buttons are pressed in the interior of a layout window.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>Box Tool</strong></p>
  </dt>
  <dd>
    <p>This is the default tool, and is indicated by a crosshair cursor. It is used to position the box and to paint and erase:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>left</strong></p>
  </dt>
  <dd>
    <p>This button is used to move the box by one of its corners. Normally, this button picks up the box by its lower-left corner. To pick the box up by a different corner, click the right button while the left button is down.  This switches the pick-up point to the corner nearest the cursor.  When the button is released, the box is moved to position the corner at the cursor location.  If the box has been set to snap to the window's grid (see the <strong>:snap</strong> command), then the box corner is left aligned with the grid that the user has chosen for the window with the <strong>:grid</strong> command, even if that grid is not visible.</p>
  </dd>
  <dt>
    <p><strong>right</strong></p>
  </dt>
  <dd>
    <p>Change the size of the box by moving one corner.  Normally this button moves the upper-right corner of the box.  To move a different corner, click the left button while the right button is down.  This switches the corner to the one nearest the cursor.  When you release the button, three corners of the box move in order to place the selected corner at the cursor location (the corner opposite the one you picked up remains fixed). Snapping to the window's grid is handled as for the left button.</p>
  </dd>
  <dt>
    <p><strong>middle (bottom)</strong></p>
  </dt>
  <dd>
    <p>Used to paint or erase.  If the crosshair is over paint, then the area of the box is painted with the layer(s) underneath the crosshair.  If the crosshair is over white space, then the area of the box is erased.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>Wiring Tool</strong></p>
  </dt>
  <dd>
    <p>The wiring tool, indicated by an arrow cursor, is used to provide an efficient interface to the wiring commands:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>left</strong></p>
  </dt>
  <dd>
    <p>Same as the long command <strong>wire type</strong>.</p>
  </dd>
  <dt>
    <p><strong>right</strong></p>
  </dt>
  <dd>
    <p>Same as the long command <strong>wire leg</strong>.</p>
  </dd>
  <dt>
    <p><strong>middle (bottom) </strong></p>
  </dt>
  <dd>
    <p>Same as the long command <strong>wire switch</strong>.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>Netlist Tool</strong></p>
  </dt>
  <dd>
    <p>This tool is used to edit netlists interactively.  It is indicated by a thick box cursor.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>left</strong></p>
  </dt>
  <dd>
    <p>Select the net associated with the terminal nearest the cursor.</p>
  </dd>
  <dt>
    <p><strong>right</strong></p>
  </dt>
  <dd>
    <p>Find the terminal nearest the cursor, and toggle it into the current net (if it wasn't already in the current net) or out of the current net (if it was previously in the net).</p>
  </dd>
  <dt>
    <p><strong>middle (bottom) </strong></p>
  </dt>
  <dd>
    <p>Find the terminal nearest the cursor, and join its net with the current net.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>Rsim Tool</strong></p>
  </dt>
  <dd>
    <p>Used when running the IRSIM simulator under Magic. A pointing hand is used as the cursor.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>left</strong></p>
  </dt>
  <dd>
    <p>Moves the box just like the box tool.</p>
  </dd>
  <dt>
    <p><strong>right</strong></p>
  </dt>
  <dd>
    <p>Moves the box just like the box tool.</p>
  </dd>
  <dt>
    <p><strong>middle (bottom) </strong></p>
  </dt>
  <dd>
    <p>Displays the Rsim node values of the selected paint.</p>
  </dd>

</dl>

  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LONG COMMANDS FOR LAYOUT WINDOWS</h2>
        <div class="sectioncontent">
<p>These commands work if you are pointing to the interior of a layout window. Commands are invoked by typing a colon (``:'') or semi-colon (``;''), followed by a line containing a command name and zero or more parameters. In addition, macros may be used to invoke commands with single keystrokes.  Useful default macros are set in the global <strong>.magicrc</strong> file (in <strong>${CAD_ROOT}/magic/sys</strong>, normally <strong>/usr/local/lib/magic/sys</strong>). You can list all current macros with the <strong>macro</strong> command, described under ``LONG COMMANDS FOR ALL WINDOWS''.  Unique abbreviations are acceptable for all keywords in commands.  The commands are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>addpath </strong><em>searchpath</em></p>
  </dt>
  <dd>
    <p>Add more directories to the end of Magic's cell search path.  See the documentation for the <strong>path</strong> command for an explanation of the search path.</p>
  </dd>
  <dt>
    <p><strong>array </strong><em>xsize ysize</em><strong></strong></p>
  </dt>
  <dd>
    <p>Make many copies of the selection.  There will be <em>xsize</em> instances in the x-direction and <em>ysize</em> instances in the y-direction.  Paint and labels are arrayed by copying them. Subcells are not copied, but instead each instance is turned into an array instance with elements numbered from 0 to <em>xsize</em>-1 in the x-direction, and from 0 to <em>ysize</em>-1 in the y-direction. The spacing between elements of the array is determined by the box x- and y-dimensions.</p>
  </dd>
  <dt>
    <p><strong>array </strong><em>xlo ylo xhi yhi</em><strong></strong></p>
  </dt>
  <dd>
    <p>Identical to the form of <strong>array</strong> above, except that the elements of arrayed cells are numbered left-to-right from <em>xlo</em> to <em>xhi</em> and bottom-to-top from <em>ylo</em> to <em>yhi</em>. It is legal for <em>xlo</em> to be greater than <em>xhi</em>, and also for <em>ylo</em> to be greater than <em>yhi</em>.</p>
  </dd>
  <dt>
    <p><strong>box </strong>[<em>args</em>]</p>
  </dt>
  <dd>
    <p>Used to change the size of the box or to find out its size.  There are several sorts of arguments that may be given to this command:</p>
<dl class='dl-vertical'>
  <dt>
    <p><em>(No arguments.)</em></p>
  </dt>
  <dd>
    <p>Show the box size and its location in the edit cell, or root cell of its window if the edit cell isn't in that window.</p>
  </dd>
  <dt>
    <p><em>direction</em> [<em>distance</em>]</p>
  </dt>
  <dd>
    <p>Move the box <em>distance</em> units in <em>direction</em>, which may be one of <strong>left</strong>, <strong>right</strong>, <strong>up</strong>, or <strong>down</strong>. <em>Distance</em> defaults to the width of the box if <em>direction</em> is <strong>right</strong> or <strong>left</strong>, and to the height of the box if <em>direction</em> is <strong>up</strong> or <strong>down</strong>.</p>
  </dd>
  <dt>
    <p><strong>width [</strong><em>size</em>]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>height [</strong><em>size</em>]</p>
  </dt>
  <dd>
    <p>Set the box to the width or height indicated.  If <em>size</em> is not specified the width or height is reported.</p>
  </dd>
  <dt>
    <p><em>x1 y1 x2 y2</em></p>
  </dt>
  <dd>
    <p>Move the box to the coordinates specified (these are in edit cell coordinates if the edit cell is in the window under the cursor;  otherwise these are in the root coordinates of the window). <em>x1</em> and <em>y1</em> are the coordinates of the lower left corner of the box, while <em>x2</em> and <em>y2</em> are the upper right corner.  The coordinates must all be integers.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>calma </strong>[<em>option</em>] [<em>args</em>]</p>
  </dt>
  <dd>
    <p>This command is used to read and write files in Calma GDS II Stream format (version 3.0, corresponding to GDS II Release 5.1). This format is like CIF, in that it describes physical mask layers instead of Magic layers. In fact, the technology file specifies a correspondence between CIF and Calma layers. The current CIF output style (see <strong>cif&nbsp;ostyle</strong>) controls how Calma stream layers are generated from Magic layers. If no arguments are given, the <strong>calma</strong> command generates a Calma stream file for the layout in the window beneath the cursor in <em>file</em><strong>.strm</strong>, where <em>file</em> is the name of the root cell. This stream file describes the entire cell hierarchy in the window. The name of the library is the same as the name of the root cell. <em>Option</em> and <em>args</em> may be used to invoke one of several additional operations:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>calma flatten</strong></p>
  </dt>
  <dd>
    <p>Ordinarily, Magic arrays are output using the Calma ARRAY construct. After a <strong>calma flatten</strong> command, though, arrays will be output instead as a collection of individual cell uses, as occurs when writing CIF.</p>
  </dd>
  <dt>
    <p><strong>calma help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of all of the <strong>calma</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>calma labels</strong></p>
  </dt>
  <dd>
    <p>Output labels whenever writing a Calma output file.</p>
  </dd>
  <dt>
    <p><strong>calma lower</strong></p>
  </dt>
  <dd>
    <p>Allow both upper and lower case to be output for label text. This is the default behavior; <strong>calma nolower</strong> causes lower case to be converted to upper case on output.</p>
  </dd>
  <dt>
    <p><strong>calma noflatten</strong></p>
  </dt>
  <dd>
    <p>Undoes the effect of a prior <strong>:calma flatten</strong> command, re-enabling the output of Magic arrays using the Calma ARRAY construct.</p>
  </dd>
  <dt>
    <p><strong>calma nolabels</strong></p>
  </dt>
  <dd>
    <p>Don't output labels when writing a Calma output file.</p>
  </dd>
  <dt>
    <p><strong>calma nolower</strong></p>
  </dt>
  <dd>
    <p>Convert lower to upper case when outputting labels.</p>
  </dd>
  <dt>
    <p><strong>calma read </strong><em>file</em></p>
  </dt>
  <dd>
    <p>The file <em>file</em>.<strong>strm</strong> is read in Calma format and converted to a collection of Magic cells. The current CIF input style determines how the Calma layers are converted to Magic layers. The new cells are marked for design-rule checking. Calma format doesn't identify the root of the collection of cells read in, so none of the cells read will appear on the display; use <strong>load</strong> to make them visible. If the Calma file had been produced by Magic, then the name of the root cell is the same as the library name printed by the <strong>:calma read</strong> command.</p>
  </dd>
  <dt>
    <p><strong>calma write </strong><em>fileName</em></p>
  </dt>
  <dd>
    <p>Writes a stream file just as if no arguments had been entered, except that the output is written into <em>fileName</em><strong>.strm</strong> instead of using the root cell name for the file name.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>channels</strong></p>
  </dt>
  <dd>
    <p>This command will run just the channel decomposition part of the Magic router, deriving channels for the area under the box.  The channels will be displayed as outlined feedback areas over the edit cell.</p>
  </dd>
  <dt>
    <p><strong>cif </strong>[<em>option</em>] [<em>args</em>]</p>
  </dt>
  <dd>
    <p>Read or write files in Caltech Intermediate Form (CIF).  If no arguments are given, this command generates a CIF file for the window beneath the cursor in <em>file</em><strong>.cif</strong>, where <em>file</em> is the name of the root cell.  The CIF file describes the entire cell hierarchy in the window.  <em>Option</em> and <em>args</em> may be used to invoke one of several additional CIF operations:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>cif arealabels </strong>[<strong>yes </strong>|<strong> no]</strong></p>
  </dt>
  <dd>
    <p>Enables/disables the cif area-label extension.  If enabled, area labels are written via the <strong>95</strong> cif extension.  If disabled, labels are collapsed to points when writing cif and the <strong>94</strong> cif construct is used.  Area-labels are disabled by default (many programs don't understand cif area-labels).</p>
  </dd>
  <dt>
    <p><strong>cif help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of all of the cif command options.</p>
  </dd>
  <dt>
    <p><strong>cif istyle </strong>[<em>style</em>]</p>
  </dt>
  <dd>
    <p>Select the style to be used for CIF input.  If no <em>style</em> argument is provided, then Magic prints the names of all CIF input styles defined in the technology file and identifies the current style.  If <em>style</em> is provided, it is made the current style.</p>
  </dd>
  <dt>
    <p><strong>cif ostyle </strong>[<em>style</em>]</p>
  </dt>
  <dd>
    <p>Select the style to be used for CIF output.  If no <em>style</em> argument is provided, then Magic prints the names of all CIF output styles defined in the technology file and identifies the current style.  If <em>style</em> is provided, it is made the current style.</p>
  </dd>
  <dt>
    <p><strong>cif read </strong><em>file</em></p>
  </dt>
  <dd>
    <p>The file <em>file</em>.<strong>cif</strong> is read in CIF format and converted to a collection of Magic cells.  The current input style determines how the CIF layers are converted to Magic layers.  The new cells are marked for design-rule checking.  Any information in the top-level CIF cell is copied into the edit cell.  Note: this command is not undo-able (it would waste too much space and time to save information for undoing).</p>
  </dd>
  <dt>
    <p><strong>cif see </strong><em>layer</em></p>
  </dt>
  <dd>
    <p>In this command <em>layer</em> must be the CIF name for a layer in the current output style.  Magic will display on the screen all the CIF for that layer that falls under the box, using stippled feedback areas.  It's a bad idea to look at CIF over a large area, since this command requires the area under the box to be flattened and therefore is slow.</p>
  </dd>
  <dt>
    <p><strong>cif statistics</strong></p>
  </dt>
  <dd>
    <p>Prints out statistics gathered by the CIF generator as it operates. This is probably not useful to anyone except system maintainers.</p>
  </dd>
  <dt>
    <p><strong>cif write </strong><em>fileName</em></p>
  </dt>
  <dd>
    <p>Writes out CIF just as if no arguments had been entered, except that the CIF is written into <em>fileName</em><strong>.cif</strong> instead of using the root cell name for the file name.  The current output style controls how CIF layers are generated from Magic layers.</p>
  </dd>
  <dt>
    <p><strong>cif flat </strong><em>fileName</em></p>
  </dt>
  <dd>
    <p>Writes out CIF as in the <strong>cif write</strong> command, but flattens the design first (e.g. creates an internal version with the cell hierarchy removed).  This is useful if one wishes to use the <strong>and-not</strong> feature of the CIF output styles, but is having problems with interactions of overlapping cells.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>clockwise </strong>[<em>degrees</em>]</p>
  </dt>
  <dd>
    <p>Rotate the selection by <strong>90</strong>, <strong>180</strong> or <strong>270</strong> degrees. After the rotation, the lower-left corner of the selection's bounding box will be in the same place as the lower-left corner of the bounding box before the rotation. <em>Degrees</em> defaults to <strong>90</strong>.  If the box is in the same window as the selection, it is rotated too.  Only material in the edit cell is affected.</p>
  </dd>
  <dt>
    <p><strong>copy </strong>[<em>direction </em>[<em>amount</em>]]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>copy to </strong><em>x y</em></p>
  </dt>
  <dd>
    <p>If no arguments are given, a copy of the selection is picking up at the point lying underneath the box lower-left corner, and placed so that this point lies at the cursor position.  If <em>direction</em> is given, it must be a Manhattan direction (e.g. <strong>north</strong>, see the ``DIRECTIONS'' section below).  The copy of the selection is moved in that direction by <em>amount</em>.  If the box is in the same window as the selection, it is moved too. <em>Amount</em> defaults to <strong>1</strong>. The second form of the command behaves as though the cursor were pointing to (<em>x,&nbsp;y</em>) in the edit cell; a copy of the selection is picked up by the point beneath the lower-left corner of the box and placed so that this point lies at (<em>x</em>,<em>&nbsp;y</em>).</p>
  </dd>
  <dt>
    <p><strong>corner </strong><em>direction1 direction2 </em>[layers]</p>
  </dt>
  <dd>
    <p>This command is similar to <strong>fill</strong>, except that it generates L-shaped wires that travel across the box first in <em>direction1</em> and then in <em>direction2</em>. For example, <strong>corner north east</strong> finds all paint under the bottom edge of the box and extends it up to the top of the box and then across to the right side of the box, generating neat corners at the top of the box.  The box should be at least as tall as it is wide for this command to work correctly. <em>Direction1</em> and <em>direction2</em> must be Manhattan directions (see the section DIRECTIONS below) and must be orthogonal to each other.  If <em>layers</em> is specified then only those layers are used;  otherwise all layers are considered.</p>
  </dd>
  <dt>
    <p><strong>delete</strong></p>
  </dt>
  <dd>
    <p>Delete all the information in the current selection that is in the edit cell.  When cells are deleted, only the selected use(s) of the cell is (are) deleted:  other uses of the cell remain intact, as does the disk file containing the cell. Selected material outside the edit cell is not deleted.</p>
  </dd>
  <dt>
    <p><strong>drc option </strong>[<em>args</em>]</p>
  </dt>
  <dd>
    <p>This command is used to interact with the design rule checker. <em>Option</em> and <em>args</em> (if needed) are used to invoke a <strong>drc</strong> command in one of the following ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>drc catchup</strong></p>
  </dt>
  <dd>
    <p>Let the checker process all the areas that need rechecking.  This command will not return until design-rule checking is complete or an interrupt is typed. The checker will run even if the background checker has been disabled with <strong>drc off</strong>.</p>
  </dd>
  <dt>
    <p><strong>drc check</strong></p>
  </dt>
  <dd>
    <p>Mark the area under the box for rechecking in all cells that intersect the box.  The recheck will occur in background after the command completes.  This command is not normally necessary, since Magic automatically remembers which areas need to be rechecked.  It should only be needed if the design rules are changed.</p>
  </dd>
  <dt>
    <p><strong>drc count</strong></p>
  </dt>
  <dd>
    <p>Print the number of errors in each cell under the box. Cells with no errors are skipped.</p>
  </dd>
  <dt>
    <p><strong>drc find</strong> [<em>nth</em>]</p>
  </dt>
  <dd>
    <p>Place the box over the <em>nth</em> error area in the selected cell or edit cell, and print out information about the error just as if <strong>drc why</strong> had been typed.  If <em>nth</em> isn't given (or is less than 1), the command moves to the next error area. Successive invocations of <strong>drc find</strong> cycle through all the error tiles in the cell. If multiple cells are selected, this command uses the upper-leftmost one. If no cells are selected, this command uses the edit cell.</p>
  </dd>
  <dt>
    <p><strong>drc help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of all the drc command options.</p>
  </dd>
  <dt>
    <p><strong>drc off</strong></p>
  </dt>
  <dd>
    <p>Turn off the background checker.  From now on, Magic will not recheck design rules immediately after each command (but it will record the areas that need to be rechecked;  the command <strong>drc on</strong> can be used to restart the checker).</p>
  </dd>
  <dt>
    <p><strong>drc on</strong></p>
  </dt>
  <dd>
    <p>Turn on the background checker.  The checker will check whatever modifications have not already been checked.  From now on, the checker will reverify modified areas as they result from commands.  The checker is run in the background, not synchronously with commands, so it may get temporarily behind if massive changes are made.</p>
  </dd>
  <dt>
    <p><strong>drc printrules </strong>[<em>file</em>]</p>
  </dt>
  <dd>
    <p>Print out the compiled rule set in <em>file</em>, or on the text terminal if <em>file</em> isn't given.  For system maintenance only.</p>
  </dd>
  <dt>
    <p><strong>drc rulestats</strong></p>
  </dt>
  <dd>
    <p>Print out summary statistics about the compiled rule set.  This is primarily for use in writing technology files.</p>
  </dd>
  <dt>
    <p><strong>drc statistics</strong></p>
  </dt>
  <dd>
    <p>Print out statistics kept by the design-rule checker.  For each statistic, two values are printed:  the count since the last time <strong>drc statistics</strong> was invoked, and the total count in this editing session.  This command is intended primarily for system maintenance purposes.</p>
  </dd>
  <dt>
    <p><strong>drc why</strong></p>
  </dt>
  <dd>
    <p>Recheck the area underneath the box and print out the reason for each violation found.  Since this command causes a recheck, the box should normally be placed around a small area (such as an error area).</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>dump </strong><em>cellName </em>[<strong>child</strong><em> refPointC</em>] [<strong>parent</strong><em> refPointP</em>]</p>
  </dt>
  <dd>
    <p>Copy the contents of cell <em>cellName</em> into the edit cell so that <em>refPointC</em> in the child is positioned at point <em>refPointP</em> in the edit cell.  The reference points can either be the name of a label, in which case the lower-left corner of the label's box is used as the reference point, or as a pair of numbers giving the (<em>x</em>,&nbsp;<em>y</em>) coordinates of a point explicitly. If <em>refPointC</em> is not specified, the lower-left corner of <em>cellName</em> cell is used. If <em>refPointP</em> is not specified, the lower-left corner of the box tool is used (the box must be in a window on the edit cell). After this command completes, the new information is selected.</p>
  </dd>
  <dt>
    <p><strong>edit</strong></p>
  </dt>
  <dd>
    <p>Make the selected cell the edit cell, and edit it in context.  The edit cell is normally displayed in brighter colors than other cells (see the <strong>see</strong> command to change this).  If more than one cell is selected, or if the selected cell is an array, the cursor position is used to select one of those cells as the new edit cell.  Generally, Magic commands modify only the current edit cell.</p>
  </dd>
  <dt>
    <p><strong>erase </strong>[<em>layers</em>]</p>
  </dt>
  <dd>
    <p>For the area enclosed by the box, erase all paint in <em>layers</em>. (See the ``LAYERS'' section for the syntax of layer lists).  If <em>layers</em> is omitted it defaults to <strong>*,labels</strong>.  See your technology manual, or use the <strong>layers</strong> command, to find out about the available layer names.</p>
  </dd>
  <dt>
    <p><strong>expand </strong>[<strong>toggle</strong>]</p>
  </dt>
  <dd>
    <p>If the keyword <strong>toggle</strong> is supplied, all of the selected cells that are unexpanded are expanded, and all of the selected cells that are expanded are unexpanded.  If <strong>toggle</strong> isn't specified, then all of the cells underneath the box are expanded recursively until there is nothing but paint under the box.</p>
  </dd>
  <dt>
    <p><strong>extract </strong><em>option</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>Extract a layout, producing one or more hierarchical <strong>.ext</strong> files that describe the electrical circuit implemented by the layout. The current extraction style (see <strong>extract style</strong> below) determines the parameters for parasitic resistance, capacitance, etc. that will be used. The <strong>extract</strong> command with no parameters checks timestamps and re-extracts as needed to bring all <strong>.ext</strong> files up-to-date for the cell in the window beneath the crosshair, and all cells beneath it. Magic displays any errors encountered during circuit extraction using stippled feedback areas over the area of the error, along with a message describing the type of error. Option and <em>args</em> are used in the following ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>extract all</strong></p>
  </dt>
  <dd>
    <p>All cells in the window beneath the cursor are re-extracted regardless of whether they have changed since last being extracted.</p>
  </dd>
  <dt>
    <p><strong>extract cell </strong><em>name</em></p>
  </dt>
  <dd>
    <p>Extract only the currently selected cell, placing the output in the file <em>name</em>.  If more than one cell is selected, this command uses the upper-leftmost one.</p>
  </dd>
  <dt>
    <p><strong>extract do </strong>[ <em>option</em> ]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>extract no </strong><em>option</em></p>
  </dt>
  <dd>
    <p>Enable or disable various options governing how the extractor will work.  Use <strong>:extract do</strong> with no arguments to print a list of available options and their current settings. When the <strong>adjust</strong> option is enabled, the extractor will compute compensating capacitance and resistance whenever cells overlap or abut; if disabled, the extractor will not compute these adjustments but will run faster. If <strong>capacitance</strong> is enabled, node capacitances to substrate (perimeter and area) are computed; otherwise, all node capacitances are set to zero.  Similarly, <strong>resistance</strong> governs whether or not node resistances are computed. The <strong>coupling</strong> option controls whether coupling capacitances are computed or not; if disabled, flat extraction is significantly faster than if coupling capacitance computation is enabled. Finally, the <strong>length</strong> option determines whether or not pathlengths in the root cell are computed (see <strong>extract length</strong> below).</p>
  </dd>
  <dt>
    <p><strong>extract help</strong></p>
  </dt>
  <dd>
    <p>Prints a short synopsis of all the <strong>extract</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>extract length</strong> [ <em>option args</em> ]</p>
  </dt>
  <dd>
    <p>Provides several options for controlling which point-to-point path lengths are extracted explicitly. The extractor maintains two internal tables, one of <em>drivers</em>, or places where a signal is generated, and one of <em>receivers</em>, or places where a signal is sent. The components of each table are hierarchical label names, defined by means of the two commands <strong>extract length driver </strong><em>name1 </em>[<em>name2 ...</em>] and <strong>extract length receiver </strong><em>name1 </em>[<em>name2 ...</em>]. If extraction of pathlengths is enabled (``<strong>:extract do length</strong>''), then when the root cell in an extract command is being extracted, the extractor will compute the shortest and longest path between each driver and each receiver on the same electrical net, and output it to the <strong>.ext</strong> file for the root cell. Normally, one should create a file of these Magic commands for the circuit drivers and receivers of interest, and use <strong>source</strong> to read it in prior to circuit extraction. <strong>Extract length clear</strong> removes all the entries from both the driver and receiver tables.</p>
  </dd>
  <dt>
    <p><strong>extract parents</strong></p>
  </dt>
  <dd>
    <p>Extract the currently selected cell and all of its parents. All of its parents must be loaded in order for this to work correctly.  If more than one cell is selected, this command uses the upper-leftmost one.</p>
  </dd>
  <dt>
    <p><strong>extract showparents</strong></p>
  </dt>
  <dd>
    <p>Like <strong>extract parents</strong>, but only print the cells that would be extracted; don't actually extract them.</p>
  </dd>
  <dt>
    <p><strong>extract style </strong>[<em>style</em>]</p>
  </dt>
  <dd>
    <p>Select the style to be used for extraction parameters. If no <em>style</em> argument is provided, then Magic prints the names of all extraction parameter styles defined in the technology file and identifies the current style.  If <em>style</em> is provided, it is made the current style.</p>
  </dd>
  <dt>
    <p><strong>extract unique </strong>[<strong>#</strong>]</p>
  </dt>
  <dd>
    <p>For each cell in the window beneath the cursor, check to insure that no label is attached to more than one node.  If the <strong>#</strong> keyword was not specified, whenever a label is attached to more than one node, the labels in all but one of the nodes are changed by appending a numeric suffix to make them unique. If the <strong>#</strong> keyword is specified, only names that end in a ``<strong>#</strong>'' are made unique; any other duplicate nodenames that don't end in a ``<strong>!</strong>'' are reported by leaving a warning feedback area. This command is provided for converting old designs that were intended for extraction with Mextra, which would automatically append unique suffixes to node names when they appeared more than once.</p>
  </dd>
  <dt>
    <p><strong>extract warn</strong> [ [<strong>no</strong>] <em>option</em> | [<strong>no</strong>] <strong>all</strong> ]</p>
  </dt>
  <dd>
    <p>The extractor always reports fatal errors.  This command controls the types of warnings that are reported.  <em>Option</em> may be one of the following: <strong>dup</strong>, to warn about two or more unconnected nodes in the same cell that have the same name, <strong>fets</strong>, to warn about transistors with fewer than the minimum number of terminals, and <strong>labels</strong>, to warn when nodes are not labeled in the area of cell overlap. In addition, <strong>all</strong> may be used to refer to all warnings. If a warning is preceded by <strong>no</strong>, it is disabled. To disable all warnings, use ``<strong>extract warn no all</strong>''.  To see which warning options are in effect, use ``<strong>extract warn</strong>''.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>extresist [</strong><em>cell</em> [<em>threshold</em>] ]</p>
  </dt>
  <dd>
    <p>Postprocessor for improving on the resistance calculation performed by the circuit extractor.  To use this command, you first have to extract the design rooted at <em>cell</em> with <strong>:extract&nbsp;</strong><em>cell</em>, and then flatten the design using <em>ext2sim</em>\|(1), producing the files <em>cell</em><strong>.sim</strong> and <em>cell</em><strong>.nodes</strong>.  Then run <strong>:extresist</strong><em>&nbsp;cell</em> to produce a file, <em>cell</em><strong>.res.ext</strong>, containing differences between the network described by the <strong>.ext</strong> files produced the first time around, and a new network that incorporates explicit two-point resistors where appropriate (see below). This file may be appended to <em>cell</em><strong>.ext</strong>, and then <em>ext2sim</em> run for a second time, to produce a new network with explicit resistors. The <em>threshold</em> parameter is used to control which nodes are turned into resistor networks: any node whose total resistance exceeds <em>threshold</em> times the smallest on-resistance of any transistor connected to that node will be approximated as a resistor network.</p>
  </dd>
  <dt>
    <p><strong>feedback </strong><em>option</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>Examine feedback information that is created by several of the Magic commands to report problems or highlight certain things for users.  <em>Option</em> and <em>args</em> are used in the following ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>feedback add </strong><em>text</em> [<em>style</em>]</p>
  </dt>
  <dd>
    <p>Used to create a feedback area manually at the location of the box. This is intended as a way for other programs like Crystal to highlight things on a layout.  They can generate a command file consisting of a <strong>feedback clear</strong> command, and a sequence of <strong>box</strong> and <strong>feedback add</strong> commands.  <em>Text</em> is associated with the feedback (it will be printed by <strong>feedback why</strong> and <strong>feedback find</strong>).  <em>Style</em> tells how to display the feedback, and is one of <strong>dotted</strong>, <strong>medium</strong>, <strong>outline</strong>, <strong>pale</strong>, and <strong>solid</strong> (if unspecified, <em>style</em> defaults to <strong>pale</strong>).</p>
  </dd>
  <dt>
    <p><strong>feedback clear</strong></p>
  </dt>
  <dd>
    <p>Clears all existing feedback information from the screen.</p>
  </dd>
  <dt>
    <p><strong>feedback count</strong></p>
  </dt>
  <dd>
    <p>Prints out a count of the current number of feedback areas.</p>
  </dd>
  <dt>
    <p><strong>feedback find </strong>[<em>nth</em>]</p>
  </dt>
  <dd>
    <p>Used to locate a particular feedback area.  If <em>nth</em> is specified, the box is moved to the location of the <em>nth</em> feedback area.  If <em>nth</em> isn't specified, then the box is moved to the next sequential feedback area after the last one located with <strong>feedback find</strong>.  In either event, the explanation associated with the feedback area is printed.</p>
  </dd>
  <dt>
    <p><strong>feedback help</strong></p>
  </dt>
  <dd>
    <p>Prints a short synopsis of all the <strong>feedback</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>feedback save </strong><em>file</em></p>
  </dt>
  <dd>
    <p>This option will save information about all existing feedback areas in <em>file</em>.  The information is stored as a collection of Magic commands, so that it can be recovered with the command <strong>source </strong><em>file</em>.</p>
  </dd>
  <dt>
    <p><strong>feedback why</strong></p>
  </dt>
  <dd>
    <p>Prints out the explanations associated with all feedback areas underneath the box.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>fill </strong><em>direction</em> [<em>layers</em>]</p>
  </dt>
  <dd>
    <p><em>Direction</em> is a Manhattan direction (see the section DIRECTIONS below).  The paint visible under one edge of the box is sampled. Everywhere that the edge touches paint, the paint is extended in the given direction to the opposite side of the box.  For example, if <em>direction</em> is <strong>north</strong>, then paint is sampled under the bottom edge of the box and extended to the top edge. If <em>layers</em> is specified, then only the given layers are considered;  if <em>layers</em> isn't specified, then all layers are considered.</p>
  </dd>
  <dt>
    <p><strong>findbox </strong>[<strong>zoom</strong>]</p>
  </dt>
  <dd>
    <p>Center the view on the box. If the optional <strong>zoom</strong> argument is present, zoom into the area specified by the box.  This command will complain if the box is not in the window you are pointing to.</p>
  </dd>
  <dt>
    <p><strong>flush </strong>[<em>cellname</em>]</p>
  </dt>
  <dd>
    <p>Cell <em>cellname</em> is reloaded from disk.  All changes made to the cell since it was last saved are discarded. If <em>cellname</em> is not given, the edit cell is flushed.</p>
  </dd>
  <dt>
    <p><strong>garoute </strong><em>option</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>This command, with no <em>option</em> or <em>arg</em>, is like the <strong>route</strong> command: it generates routing in the edit cell to make connections specified in the current netlist. (See the <strong>route</strong> command for further information). Unlike the <strong>route</strong> command, this command is intended to be used for routing types of circuits, such as gate-arrays, whose routing channels can be determined in advance, and which require the ability to river-route across the tops of cells. The channels must have been predefined using <strong>garoute&nbsp;channel</strong> commands prior to this command being invoked.  Unlike the <strong>route</strong> command, where the box indicates the routing area, this command ignores the box entirely. The new wires are placed in the edit cell. The netlist used is that selected by the <strong>route netlist</strong> command, or the current netlist being edited in a <strong>netlist</strong> window if no <strong>route netlist</strong> command has been given. <em>Options</em> and <em>args</em> have the following effects:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>garoute channel </strong>[<em>type</em>]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>garoute channel </strong><em>xlo ylo xhi yhi </em>[<em>type]</em></p>
  </dt>
  <dd>
    <p>Define a channel.  If <em>xlo</em>, <em>ylo</em>, <em>xhi</em>, and <em>yhi</em> are provided, they are interpreted as the coordinates of the lower-left and upper-right of the bounding box for the channel respectively. Otherwise, the coordinates of the box are used. The boundary of each channel is adjusted inward to lie halfway between routing grid lines if it does not lie there already; if the channel is adjusted, a warning message is printed. The channel defined is an ordinary routing channel if <em>type</em> is not specified; such channels are identical to those used by the router of the <strong>route</strong> command.  If <em>type</em> is given, it must be either <strong>h</strong> or <strong>v</strong>.  The channel thereby created will be a <em>river-routing</em> channel inside which only left-to-right routes are possible (``<strong>h</strong>'') or top-to-bottom (``<strong>v</strong>''). Unlike a normal channel, a river-routing channel may contain terminals in its interior.</p>
  </dd>
  <dt>
    <p><strong>garoute generate</strong><em> type </em>[<em>file</em>]</p>
  </dt>
  <dd>
    <p>Provides a primitive form of channel decomposition for regular structures such as gate-array or standard-cell layouts. Generates a collection of <strong>garoute channel</strong> commands, either to the standard output, or to <em>file</em> if the latter is specified. The <em>type</em> parameter must be either <strong>h</strong> or <strong>v</strong>. The entire area contained within the box is turned into routing channels. Each cell inside this area has its bounding box computed for purposes of routing by looking only at those layers considered to be ``obstacles'' to routing (see ``Tutorial #7: Netlists and Routing'' for details). The bounding box just computed is then extended all the way to the sides of the area of the box tool, vertically if <em>type</em> is <strong>h</strong> or horizontally if <em>type</em> is <strong>v</strong>.  This extended area is then marked as belonging to a river-routing channel of type <em>type</em>; adjacent channels of this type are merged into a single channel. After all cells are processed, the areas not marked as being river-routing channels are output as normal channels.</p>
  </dd>
  <dt>
    <p><strong>garoute help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of all the <strong>garoute</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>garoute nowarn</strong></p>
  </dt>
  <dd>
    <p>If a given terminal appears in more than one place inside a cell, the router can leave feedback if it is not possible to route to all of the places where the terminal appears. The <strong>garoute nowarn</strong> command instructs the router to leave feedback only if it is not possible to route to <em>any</em> of the locations of a terminal.  (This is the default behavior of <strong>garoute</strong> router).</p>
  </dd>
  <dt>
    <p><strong>garoute route</strong> [<em>netlist</em>]</p>
  </dt>
  <dd>
    <p>Route the edit cell. If <em>netlist</em> is not specified, the netlist used is the same as when <strong>garoute</strong> is given with no options.  If <em>netlist</em> is given, then it is used instead.</p>
  </dd>
  <dt>
    <p><strong>garoute reset</strong></p>
  </dt>
  <dd>
    <p>Clear all channels defined by <strong>garoute channel</strong> in preparation for redefining a new set of channels.</p>
  </dd>
  <dt>
    <p><strong>garoute warn</strong></p>
  </dt>
  <dd>
    <p>The opposite of <strong>garoute nowarn</strong>, this command instructs the router to leave feedback if it is not possible to route to all of the places where a terminal appears when a terminal has more than one location, even if not all of those locations are actually selected for routing by the global router.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>getcell </strong><em>cellName </em>[<strong>child</strong><em> refPointC</em>] [<strong>parent</strong><em> refPointP</em>]</p>
  </dt>
  <dd>
    <p>This command adds a child cell instance to the edit cell. The instance refers to the cell <em>cellName</em>;  it is positioned so that <em>refPointC</em> in the child is at point <em>refPointP</em> in the edit cell.  The reference points can either be the name of a label, in which case the lower-left corner of the label's box is used as the reference point, or as a pair of numbers giving the (<em>x</em>,&nbsp;<em>y</em>) coordinates of a point explicitly. If <em>refPointC</em> is not specified, the lower-left corner of <em>cellName</em> cell is used. If <em>refPointP</em> is not specified, the lower-left corner of the box tool is used (the box must be in a window on the edit cell). The new subcell is selected.  The difference between this command and <strong>dump</strong> is that <strong>dump</strong> copies the contents of the cell, while <strong>getcell</strong> simply makes a reference to the original cell.  <em>Cellname</em> must not be the edit cell or one of its ancestors.</p>
  </dd>
  <dt>
    <p><strong>getnode </strong>[<strong>alias on</strong> | <strong>alias off</strong>]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>getnode </strong>[<strong>abort </strong>[<em>str</em>]]</p>
  </dt>
  <dd>
    <p>Getnode prints out the node names (used by the extractor) for all selected paint. If aliasing turned on, getnode prints all the names it finds for a given node.  It may not print every name that exists, however.  When turned off, it just prints one name. The abort option allows the user to tell getnode that it is not important to completely search nodes that have certain names.  For example, <strong>getnode abort Vdd</strong> will tell getnode not to continue searching the node if it determines that one of its names is Vdd. A <strong>getnode abort</strong>, without a string argument, will erase the list of names previously created by calling <strong>getnode abort</strong> with string arguments. Getnode can be safely aborted at any time by typing the interrupt character, usually ^C. See <em>Tutorial #11:  Using IRSIM and RSIM with Magic</em> for more information on this command.</p>
  </dd>
  <dt>
    <p><strong>grid </strong>[<em>xSpacing</em> [<em>ySpacing </em>[<em>xOrigin yOrigin</em>]]]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>grid off</strong></p>
  </dt>
  <dd>
    <p>If no arguments are given, a one-unit grid is toggled on or off in the window underneath the cursor.  <strong>Grid off</strong> always turns the grid off, regardless of whether it was on or off previously. If numerical arguments are given, the arguments determine the grid spacing and origin for the window under the cursor.  In its most general form, <strong>grid</strong> takes four integer arguments.  <strong>XOrigin</strong> and <strong>yOrigin</strong> specify an origin for the grid:  horizontal and vertical grid lines will pass through this point.  <strong>XSpacing</strong> and <strong>ySpacing</strong> determine the number of units between adjacent grid lines.  If <strong>xOrigin</strong> and <strong>yOrigin</strong> are omitted, they default to 0.  If <strong>ySpacing</strong> is also omitted, the xSpacing value is used for both spacings. Grid parameters will be retained for a window until explicitly changed by another <em>grid</em> command.  When the grid is displayed, a solid box is drawn to show the origin of the edit cell.</p>
  </dd>
  <dt>
    <p><strong>identify </strong><em>instance_id</em></p>
  </dt>
  <dd>
    <p>Set the instance identifier of the selected cell use to <em>instance_id</em>.  <em>Instance_id</em> must be unique among all instance identifiers in the parent of the selected cell. Initially, Magic guarantees uniqueness of identifiers by giving each cell an initial identifier consisting of the cell definition name followed by an underscore and a small integer.</p>
  </dd>
  <dt>
    <p><strong>iroute </strong><em>subcommand</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>This command provides an interactive interface to the Magic maze-router.  Routing is done one connection at a time.  Three internal <em>hint</em> layers, <strong>magnet</strong>, <strong>fence</strong>, and <strong>rotate</strong>, allow the user to guide routing graphically.  Routes are chosen close to magnets (if possible), routing does not cross fence boundaries, and rotate areas reverse the preferred routing directions for each layer.  The maze-router seeks to find a lowest-cost path.  Parameters specifying costs for horizontal and vertical routing on each layer, cost for jogs and contacts, and cost (per unit area) for distance between a path and magnets, help determine the nature of the routes.  Several <em>search</em> parameters permit tuning to achieve acceptable routes in as short a time as possible.  Routing can always be interrupted with <strong>^C</strong>.  The iroute subcommands are as follows:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>iroute</strong></p>
  </dt>
  <dd>
    <p>Routes from cursor to inside box.</p>
  </dd>
  <dt>
    <p><strong>iroute contact </strong>[<em>type</em>] [<em>parameter</em>] [<em>value1</em>] ... [<em>valuen</em>]</p>
  </dt>
  <dd>
    <p>An asterisk, <strong>*</strong>, can be used for <em>type</em> and <em>parameter</em>. This command is for setting and examining parameters related to contacts.</p>
  </dd>
  <dt>
    <p><strong>iroute help </strong>[<em>subcommand</em>]</p>
  </dt>
  <dd>
    <p>Summarizes irouter commands.  If a <em>subcommand</em> is given, usage information for that subcommand is printed.</p>
  </dd>
  <dt>
    <p><strong>iroute layers </strong>[<em>type</em>] [<em>parameter</em>] [<em>value1</em>] ... [<em>valuen</em>]</p>
  </dt>
  <dd>
    <p>An asterisk, <strong>*</strong>, can be used for <em>type</em> and <em>parameter</em>. This command is for setting and examining parameters related to route layers.</p>
  </dd>
  <dt>
    <p><strong>iroute route </strong>[<em>options</em>]</p>
  </dt>
  <dd>
    <p>Invokes the router.  Options are as follows:</p>
<pre>
<strong>-sLayers</strong><em> layers</em> = layers route may start on
<strong>-sCursor</strong> = start route at cursor (DEFAULT)
<strong>-sLabel </strong><em>name</em> = start route at label of given name
<strong>-sPoint </strong><em>x y</em> = start route at given coordinates
<strong>-dLayers</strong><em> layers</em> = layers route may end on
<strong>-dBox</strong> = route to box (DEFAULT)
<strong>-dLabel</strong><em> name</em> = route to label of given name
<strong>-dRect</strong><em> xbot ybot xtop ytop</em> = route to rectangle of given coordinates
<strong>-dSelection</strong><em> = route to selection</em>
</pre>

  </dd>
  <dt>
    <p><strong>iroute saveParameters </strong>&lt;<em>filename</em>&gt;</p>
  </dt>
  <dd>
    <p>Saves all current irouter parameter settings.  The parameters can be restored to these values with the command ``<strong>source </strong><em>filename</em>''.</p>
  </dd>
  <dt>
    <p><strong>iroute search </strong>[<em>searchParameter</em>] [<em>value</em>]</p>
  </dt>
  <dd>
    <p>Allows parameters controlling the search to be modified.  If routing is too slow try increasing <strong>rate</strong>.  If the router is producing bad results, try reducing <strong>rate</strong>.  Its a good idea to make <strong>width</strong> at least twice as big as <strong>rate</strong>.</p>
  </dd>
  <dt>
    <p><strong>iroute spacings </strong>[<em>route-type</em>] [<em>type</em>] [<em>spacing</em>] ... [<em>typen spacingn</em>]</p>
  </dt>
  <dd>
    <p>Default minimum spacings between a route-type placed by the router and other types are derived from the <strong>drc</strong> section of the technology file.  The defaults can be overridden by this command.  The special type <strong>SUBCELL</strong> is used to specify minimum spacing to unexpanded subcells.</p>
  </dd>
  <dt>
    <p><strong>iroute verbosity </strong>[<em>level</em>]</p>
  </dt>
  <dd>
    <p>Controls the number of messages printed during routing:</p>
<pre>
<strong>0</strong> = errors and warnings only,
<strong>1</strong> = brief,
<strong>2</strong> = lots of statistics.
</pre>

  </dd>
  <dt>
    <p><strong>iroute version</strong></p>
  </dt>
  <dd>
    <p>Prints irouter version information.</p>
  </dd>
  <dt>
    <p><strong>iroute wizard </strong>[<em>wizardparameter</em>] [<em>value</em>]</p>
  </dt>
  <dd>
    <p>Used to examine and set miscellaneous parameters.  Most of these are best left alone by the unadventurous user.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>label </strong><em>string </em>[<em>pos </em>[<em>layer</em>]]</p>
  </dt>
  <dd>
    <p>A label with text <em>string</em> is positioned at the box location. Labels may cover points, lines, or areas, and are associated with specific layers. Normally the box is collapsed to either a point or to a line (when labeling terminals on the edges of cells). Normally also, the area under the box is occupied by a single layer. If no <em>layer</em> argument is specified, then the label is attached to the layer under the box, or space if no layer covers the entire area of the box.  If <em>layer</em> is specified but <em>layer</em> doesn't cover the entire area of the box, the label will be moved to another layer or space. Labels attached to space will be considered by CIF processing programs to be attached to all layers overlapping the area of the label. <em>Pos</em> is optional, and specifies where the label text is to be displayed relative to the box (e.g. ``north''). If <em>pos</em> isn't given, Magic will pick a position to ensure that the label text doesn't stick out past the edge of the cell.</p>
  </dd>
  <dt>
    <p><strong>layers</strong></p>
  </dt>
  <dd>
    <p>Prints out the names of all the layers defined for the current technology.</p>
  </dd>
  <dt>
    <p><strong>load </strong>[<em>file</em>]</p>
  </dt>
  <dd>
    <p>Load the cell hierarchy rooted at <em>file</em><strong>.mag</strong> into the window underneath the cursor. If no <em>file</em> is supplied, a new unnamed cell is created. The root cell of the hierarchy is made the edit cell unless there is already an edit cell in a different window.</p>
  </dd>
  <dt>
    <p><strong>move </strong>[<em>direction </em>[<em>amount</em>]]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>move to </strong><em>x y</em></p>
  </dt>
  <dd>
    <p>If no arguments are given, the selection is picked up by the point underneath the lower-left corner of the box and moved so that this point lies at the cursor location. If <em>direction</em> is given, it must be a Manhattan direction (e.g. <strong>north</strong>).  The selection is moved in that direction by <em>amount</em>.  If the box is in the same window as the selection, it is moved too. <em>Amount</em> defaults to 1.  Selected material that is not in the edit cell, is not affected.  The second form of the command is as though the cursor were pointing to (<em>x,&nbsp;y</em>) in the edit cell; the selection is picked up by the point beneath the lower-left corner of the box and moved so that this point lies at (<em>x</em>,<em>&nbsp;y</em>).</p>
  </dd>
  <dt>
    <p><strong>paint </strong><em>layers</em></p>
  </dt>
  <dd>
    <p>The area underneath the box is painted in <em>layers</em>.</p>
  </dd>
  <dt>
    <p><strong>path </strong>[<em>searchpath</em>]</p>
  </dt>
  <dd>
    <p>This command tells Magic where to look for cells.  <em>Searchpath</em> contains a list of directories separated by colons or spaces (if spaces are used, then <em>searchpath</em> must be surrounded by quotes). When looking for a cell, Magic will check each directory in the path in order, until the cell is found.  If the cell is not found anywhere in the path, Magic will look in the system library for it.  If the <em>path</em> command is invoked with no arguments, the current search path is printed.</p>
  </dd>
  <dt>
    <p><strong>plot </strong><em>option</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>Used to generate hardcopy plots direct from Magic.  <em>Options</em> and <em>args</em> are used in the following ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>plot gremlin </strong><em>file</em> [<em>layers</em>]</p>
  </dt>
  <dd>
    <p>Generate a Gremlin-format description of everything under the box, and write the description in <em>file</em>.  If <em>layers</em> isn't specified, paint, labels, and unexpanded subcells are all included in the Gremlin file just as they appear on the screen.  If <em>layers</em> is specified, then just the indicated layers are output in the Gremlin file.  <em>Layers</em> may include the special layers <strong>labels</strong> and <strong>subcell</strong>.  The Gremlin file is scaled to have a total size between 256 and 512 units; you should use the <strong>width</strong> and/or <strong>height</strong> Grn commands to ensure that the printed version is the size you want.  Use the <strong>mg</strong> stipples in Grn.  No plot parameters are used in Gremlin plotting.</p>
  </dd>
  <dt>
    <p><strong>plot help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of all the <strong>plot</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>plot parameters [</strong><em>name value</em>]</p>
  </dt>
  <dd>
    <p>If <strong>plot parameters</strong> is invoked with no additional arguments, the values for all of the plot parameters are printed.  If <em>name</em> and <em>value</em> are provided, then <em>name</em> is the name of a plot parameter and <em>value</em> is a new value for it.  Plot parameters are used to control various aspects of plotting;  all of them have ``reasonable'' initial values.  Most of the parameters available now are used to control Versatec-style plotting.  They are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>cellIdFont</strong></p>
  </dt>
  <dd>
    <p>The name of the font to use for cell instance ids in Versatec plots. This must be a file in Vfont format.</p>
  </dd>
  <dt>
    <p><strong>cellNameFont</strong></p>
  </dt>
  <dd>
    <p>The name of the font to use for cell names in Versatec plots. This must be a file in Vfont format.</p>
  </dd>
  <dt>
    <p><strong>color</strong></p>
  </dt>
  <dd>
    <p>If this is set to <strong>true</strong>, the <strong>:plot versatec</strong> command will generate output suitable for a four-color Versatec plotter, using the styles defined in the <strong>colorversatec</strong> style of the <strong>plot</strong> section of the technology file. If <strong>color</strong> is <strong>false</strong> (the default), then <strong>:plot versatec</strong> generates normal black-and-white plots.</p>
  </dd>
  <dt>
    <p><strong>directory</strong></p>
  </dt>
  <dd>
    <p>The name of the directory in which to create raster files for the Versatec.  The raster files have names of the form <strong>magicPlotXXXXXX</strong>, where <strong>XXXXXX</strong> is a process-specific identifier.</p>
  </dd>
  <dt>
    <p><strong>dotsPerInch</strong></p>
  </dt>
  <dd>
    <p>Indicates how many dots per inch there are on the Versatec printer. This parameter is used only for computing the scale factor for plotting. Must be an integer greater than zero.</p>
  </dd>
  <dt>
    <p><strong>labelFont</strong></p>
  </dt>
  <dd>
    <p>The name of the font to use for labels in Versatec plots. This must be a file in Vfont format.</p>
  </dd>
  <dt>
    <p><strong>printer</strong></p>
  </dt>
  <dd>
    <p>The name of the printer to which to spool Versatec raster files.</p>
  </dd>
  <dt>
    <p><strong>showcellnames</strong></p>
  </dt>
  <dd>
    <p>If ``true'' (the default) then the name and instance-identifier of each unexpanded subcell is displayed inside its bounding box.  If this parameter is ``false'' then only the bounding box of the cell is displayed.</p>
  </dd>
  <dt>
    <p><strong>spoolCommand</strong></p>
  </dt>
  <dd>
    <p>The command used to spool Versatec raster files.  This must be a text string containing two ``%s'' formatting fields.  The first ``%s'' will be replaced with the printer name, and the second one will be replaced with the name of the raster file.</p>
  </dd>
  <dt>
    <p><strong>swathHeight</strong></p>
  </dt>
  <dd>
    <p>How many raster lines of Versatec output to generate in memory at one time. The raster file is generated in swaths in order to keep the memory requirements reasonable.  This parameter determines the size of the swaths.  It must be an integer greater than zero, and should be a multiple of 16 in order to avoid misalignment of stipple patterns.</p>
  </dd>
  <dt>
    <p><strong>width</strong></p>
  </dt>
  <dd>
    <p>The number of pixels across the Versatec printer.  Must be an integer greater than 0, and must be an even multiple of 32.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>plot versatec </strong>[<em>size</em> [<em>layers</em>]]</p>
  </dt>
  <dd>
    <p>Generate a raster file describing all the the information underneath the box in a format suitable for printing on Versatec black-and-white or color printers, and spool the file for printing.  See the plot parameters above for information about the parameters that are used to control Versatec plotting. <em>Size</em> is used to scale the plot:  a scalefactor is chosen so that the area of the box is <em>size</em> inches across on the printed page.  <em>Size</em> defaults to the width of the printer. <em>Layers</em> selects which layers (including labels and subcells) to plot;  it defaults to everything visible on the screen.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>plow </strong><em>direction</em> [<em>layers</em>]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>plow </strong><em>option</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>The first form of this command invokes the plowing operation to stretch and/or compact a cell. <em>Direction</em> is a Manhattan direction. <em>Layers</em> is an optional collection of mask layers, which defaults to <strong>*</strong>. One of the edges of the box is treated as a plow and dragged to the opposite edge of the box (e.g. the left edge is used as the plow when <strong>plow right</strong> is invoked).  All edges on <em>layers</em> that lie in the plow's path are pushed ahead of it, and they push other edges ahead of them to maintain design rules, connectivity, and transistor and contact sizes.  Subcells are moved in their entirety without being modified internally. Any mask information overlapping a subcell moved by plowing is also moved by the same amount. <em>Option</em> and <em>args</em> are used in the following ways:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>plow boundary</strong></p>
  </dt>
  <dd>
    <p>The box specifies the area that may be modified by plowing. This area is highlighted with a pale stipple outline. Subsequent plows are not allowed to modify any area outside that specified by the box; if they do, the distance the plow moves is reduced by an amount sufficient to insure that no geometry outside the boundary gets affected.</p>
  </dd>
  <dt>
    <p><strong>plow help</strong></p>
  </dt>
  <dd>
    <p>Prints a short synopsis of all the <strong>plow</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>plow horizon</strong><em>&nbsp;n</em></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>plow horizon</strong></p>
  </dt>
  <dd>
    <p>The first form sets the plowing jog horizon to <em>n</em> units. The second form simply prints the value of the jog horizon. Every time plowing considers introducing a jog in a piece of material, it looks up and down that piece of material for a distance equal to the jog horizon.  If it finds an existing jog within this distance, it uses it.  Only if no jog is found within the jog horizon does plowing introduce one of its own. A jog horizon of zero means that plowing will always introduce new jogs where needed.  A jog horizon of infinity (<strong>plow nojogs</strong>) means that plowing will not introduce any new jogs of its own.</p>
  </dd>
  <dt>
    <p><strong>plow jogs</strong></p>
  </dt>
  <dd>
    <p>Re-enable jog insertion with a horizon of 0.  This command is equivalent to <strong>plow horizon 0</strong>.</p>
  </dd>
  <dt>
    <p><strong>plow noboundary</strong></p>
  </dt>
  <dd>
    <p>Remove any boundary specified with a previous <strong>plow boundary</strong> command.</p>
  </dd>
  <dt>
    <p><strong>plow nojogs</strong></p>
  </dt>
  <dd>
    <p>Sets the jog horizon to infinity.  This means that plowing will not introduce any jogs of its own; it will only use existing ones.</p>
  </dd>
  <dt>
    <p><strong>plow nostraighten</strong></p>
  </dt>
  <dd>
    <p>Don't straighten jogs automatically after each plow operation.</p>
  </dd>
  <dt>
    <p><strong>plow selection </strong>[<em>direction </em>[<em>distance</em>]]</p>
  </dt>
  <dd>
    <p>Like the <strong>move</strong> or <strong>stretch</strong> commands, this moves all the material in the selection that belongs to the edit cell. However, any material not in the selection is pushed out of its way, just as though each piece of the selection were plowed individually. If no arguments are given, the selection is picked up by the point underneath the lower-left corner of the box and plowed so that this point lies at the cursor location.  The box is moved along with the selection.  If <em>direction</em> is given, it must be a Manhattan direction (e.g. <strong>north</strong>).  The selection is moved in that direction by <em>amount</em>.  If the box is in the same window as the selection, it is moved too. <em>Amount</em> defaults to 1. If there is selected material that isn't in the edit cell, it is ignored (note that this is different from <strong>select</strong> and <strong>move</strong>). If <em>direction</em> isn't given and the cursor isn't exactly left, right, up, or down from the box corner, then Magic first rounds the cursor position off to a position that is one of those (whichever is closest).</p>
  </dd>
  <dt>
    <p><strong>plow straighten</strong></p>
  </dt>
  <dd>
    <p>Straighten jogs automatically after each plow operation. The effect will be as though the <strong>straighten</strong> command were invoked after each plow operation, with the same direction, and over the area changed by plowing.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>resist </strong><em>cell</em> [<em>tolerance</em>]</p>
  </dt>
  <dd>
    <p>This command is similar to <strong>extresist</strong> above, but used for extracting resistance networks for individual nodes. Only the node underneath the box is processed. The network for this node is output to the file <em>cell</em><strong>.res.ext</strong>. See the description for <strong>extresist</strong> for an explanation of <em>tolerance</em>.</p>
  </dd>
  <dt>
    <p><strong>route </strong><em>option</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>This command, with no <em>option</em> or <em>arg</em>, is used to generate routing using the Magic router in the edit cell to make connections specified in the current netlist. The box is used to indicate the routing area:  no routing will be placed outside the area of the box.  The new wires are placed in the edit cell. <em>Options</em> and <em>args</em> have the following effects:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>route end </strong>[<em>real</em>]</p>
  </dt>
  <dd>
    <p>Print the value of the channel end constant used by the channel router. If a value is supplied, the channel end constant is set to that value. The channel end constant is a dimensionless multiplier used to compute how far from the end of a channel to begin preparations to make end connections.</p>
  </dd>
  <dt>
    <p><strong>route help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of all the <strong>route</strong> command options.</p>
  </dd>
  <dt>
    <p><strong>route jog </strong>[<em>int</em>]</p>
  </dt>
  <dd>
    <p>Print the value of the minimum jog length used by the channel router. If a value is supplied, the minimum jog length is set to that value. The channel router makes no vertical jogs shorter than the minimum jog length, measured in router grid units. Higher values for this constant may improve the quality of the routing by removing unnecessary jogs; however, prohibiting short jogs may make some channels unroutable.</p>
  </dd>
  <dt>
    <p><strong>route metal</strong></p>
  </dt>
  <dd>
    <p>Toggle metal maximization on or off.  The route command routes the preferred routing layer (termed ``metal'') horizontally and the alternate routing layer vertically. By default wires on the alternate routing layer are then converted, as much as possible, to the preferred layer before being painted into the layout. Enabling metal maximization improves the quality of the resulting routing, since the preferred routing layer generally has better electrical characteristics; however, designers wishing to do hand routing after automatic routing may find it easier to disable metal maximization and deal with a layer-per-direction layout.</p>
  </dd>
  <dt>
    <p><strong>route netlist </strong>[<em>file</em>]</p>
  </dt>
  <dd>
    <p>Print the name of the current netlist.  If a file name is specified, it is opened if possible, and the new netlist is loaded.  This option is provided primarily as a convenience so you need not open the netlist menu before routing.</p>
  </dd>
  <dt>
    <p><strong>route obstacle </strong>[<em>real</em>]</p>
  </dt>
  <dd>
    <p>Print the obstacle constant used by the channel router.  If a value is supplied, set the channel router obstacle constant to that value. The obstacle constant is a dimensionless multiplier used in deciding how far in front of an obstacle the channel router should begin jogging nets out of the way.  Larger values mean that nets will jog out of the way earlier; however, if nets jog out of the way too early routing area is wasted.</p>
  </dd>
  <dt>
    <p><strong>route origin </strong>[<em>x y</em>]</p>
  </dt>
  <dd>
    <p>Print the x- and y-coordinates of the origin of the routing grid. By default, the routing grid starts from (0,0).  However, by supplying an <em>x</em> and <em>y</em> coordinate to the <strong>route origin</strong> command, the origin can be set to any other value.  This command is primarily useful when routing a chip that has been designed with routing on the same pitch as the router will use, but where the left and bottom edges of the pre-existing routing don't line up with the routing grid lines (for example, the pre-existing routing might have been centered on routing grid lines).  The alternative to specifying a different origin for the routing grid would be to translate all the material in the cell to be routed so that the prewiring lined up properly with routing grid lines.</p>
  </dd>
  <dt>
    <p><strong>route settings</strong></p>
  </dt>
  <dd>
    <p>Print the values of all router parameters.</p>
  </dd>
  <dt>
    <p><strong>route steady </strong>[<em>int</em>]</p>
  </dt>
  <dd>
    <p>Print the value of the channel router's steady net constant.  If a value is supplied, set the steady net constant to the value. The steady net constant, measured in router grid units, specifies how far beyond the next terminal the channel router should look for a conflicting terminal before deciding that a net is rising or falling.  Larger values mean that the net rises and falls less often.</p>
  </dd>
  <dt>
    <p><strong>route tech</strong></p>
  </dt>
  <dd>
    <p>Print the router technology information.  This includes information such as the names of the preferred and alternate routing layers, their wire widths, the router grid spacing, and the contact size.</p>
  </dd>
  <dt>
    <p><strong>route viamin</strong></p>
  </dt>
  <dd>
    <p>Minimize vias in (previously) routed netlist.  This subcommand removes unnecessary layer changes in all nets in the current netlist to minimize via count.  The preferred routing layer, <strong>layer1</strong> in the <strong>router</strong> section of the technology file, is favored by the algorithm.  Note that ``<strong>route viamin</strong>'' is an independent routing postpass that can be applied even if the routing was not generated by the <strong>route</strong> command, provided the layers and widths agree with the <strong>router</strong> section of the technology file.</p>
  </dd>
  <dt>
    <p><strong>route vias </strong>[<em>int</em>]</p>
  </dt>
  <dd>
    <p>Print the value of the metal maximization via constant.  If a value is supplied, set the via constant to the value. The via constant, measured in router grid units, represents the tradeoff between metal maximization and the via count.  In many cases it is possible to convert wiring on the alternate routing layer into routing on the preferred routing layer (``metal'') at the expense of introducing one or two vias. The via constant specifies the amount of converted wiring that makes it worthwhile to add vias to the routing.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong></strong><strong>rsim </strong>[<em>options</em>] [<em>filename</em>]</p>
  </dt>
  <dd>
    <p>Runs rsim under Magic. See <em>Tutorial #11:  Using IRSIM and RSIM with Magic</em> for more information on what options and files are required by rsim. Normally, IRSIM requires a parameter file for the technology and a <strong>.sim</strong> file describing the circuit.</p><ul>
<li><p>The <strong>rsim</strong> command without any options can be used to interact with a previously-started rsim.  Type <strong>rsim</strong> and you will see the rsim prompt. To get back to magic, type <strong>q</strong>.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>save </strong>[<em>name</em>]</p>
  </dt>
  <dd>
    <p>Save the edit cell on disk.  If the edit cell is currently the ``(UNNAMED)'' cell, <em>name</em> must be specified; in this case the edit cell is renamed to <em>name</em> as well as being saved in the file <em>name</em>.<strong>mag</strong>. Otherwise, <em>name</em> is optional.  If specified, the edit cell is saved in the file <em>name</em>.<strong>mag</strong>; otherwise, it is saved in the file from which it was originally read.</p>
  </dd>
  <dt>
    <p><strong>see </strong><em>option</em></p>
  </dt>
  <dd>
    <p>This command is used to control which layers are to be displayed in the window under the cursor.  It has several forms:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>see no </strong><em>layers</em></p>
  </dt>
  <dd>
    <p>Do not display the given layers in the window under the cursor.  If <strong>labels</strong> is given as a layer name, don't display labels in that window either.  If <strong>errors</strong> is given as a layer, no design-rule violations will be displayed (the checker will continue to run, though).  If <em>layers</em> is given as "*", all mask layers will be disabled, but errors and labels will still be shown.  See the "LAYERS" section at the end of this manual page for an explanation of layer naming in Magic.</p>
  </dd>
  <dt>
    <p><strong>see </strong><em>layers</em></p>
  </dt>
  <dd>
    <p>Reenable display of the given <em>layers</em>. Note that "*" expands to all mask layers, but does not include the label or error layers. See the "LAYERS" section at the end of this manual page for details.</p>
  </dd>
  <dt>
    <p><strong>see no</strong></p>
  </dt>
  <dd>
    <p>Don't display any mask layers or labels.  Only subcell bounding boxes will be displayed.</p>
  </dd>
  <dt>
    <p><strong>see</strong></p>
  </dt>
  <dd>
    <p>Reenable display of all mask layers, labels, and errors.</p>
  </dd>
  <dt>
    <p><strong>see allSame</strong></p>
  </dt>
  <dd>
    <p>Display all cells the same way.  This disables the facility where the edit cell is displayed in bright colors and non-edit cells are in paler colors.  After <strong>see allSame</strong>, all mask information will be displayed in bright colors.</p>
  </dd>
  <dt>
    <p><strong>see no allSame</strong></p>
  </dt>
  <dd>
    <p>Reenable the facility where non-edit cells are drawn in paler colors.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>select </strong><em>option</em></p>
  </dt>
  <dd>
    <p>This command is used to select paint, labels, and subcells before operating on them with commands like <strong>move</strong> and <strong>copy</strong> and <strong>delete</strong>.  It has several forms:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>select</strong></p>
  </dt>
  <dd>
    <p>If the cursor is over empty space, then this command is identical to <strong>select cell</strong>.  Otherwise, paint is selected.  The first time the command is invoked, a chunk of paint is selected: the largest rectangular area of material of the same type visible underneath the cursor.  If the command is invoked again without moving the cursor, the selection is extended to include all material of the same type, regardless of shape.  If the command is invoked a third time, the selection is extended again to include all material that is visible and electrically connected to the point underneath the cursor.</p>
  </dd>
  <dt>
    <p><strong>select more</strong></p>
  </dt>
  <dd>
    <p>This command is identical to <strong>select</strong> except that the selection is not first cleared.  The result is to add the newly-selected material to what is already in the selection.</p>
  </dd>
  <dt>
    <p><strong>select less</strong></p>
  </dt>
  <dd>
    <p>This chooses material just as <strong>select</strong> does, but the material is removed from the selection, rather than added to it. The result is to deselect the chosen material.</p>
  </dd>
  <dt>
    <p><strong>select </strong>[<strong>more</strong> | <strong>less</strong>] <strong>area</strong><em> layers</em></p>
  </dt>
  <dd>
    <p>Select material by area.  If <em>layers</em> are not specified, then all paint, labels, and unexpanded subcells visible underneath the box are selected.  If <em>layers</em> is specified, then only those layers are selected.  If <strong>more</strong> is specified, the new material is added to the current selection rather than replacing it. If <strong>less</strong> is specified, the new material is removed from the selection (deselected).</p>
  </dd>
  <dt>
    <p><strong>select </strong>[<strong>more</strong> | <strong>less</strong>] <strong>cell</strong><em> name</em></p>
  </dt>
  <dd>
    <p>Select a subcell.  If <em>name</em> isn't given, this command finds a subcell that is visible underneath the cursor and selects it.  If the command is repeated without moving the cursor then it will step through all the subcells under the cursor.  If <em>name</em> is given, it is treated as a hierarchical instance identifier starting from the root of the window underneath the cursor.  The named cell is selected. If <strong>more</strong> is specified, the new subcell is added to the current selection instead of replacing it. If <strong>less</strong> is specified, the new subcell is removed from the selection (deselected).</p>
  </dd>
  <dt>
    <p><strong>select clear</strong></p>
  </dt>
  <dd>
    <p>Clear out the selection.  This does not affect the layout;  it merely deselects everything.</p>
  </dd>
  <dt>
    <p><strong>select help</strong></p>
  </dt>
  <dd>
    <p>Print a short synopsis of the selection commands.</p>
  </dd>
  <dt>
    <p><strong>select save </strong><em>cell</em></p>
  </dt>
  <dd>
    <p>Save all the information in the selection as a Magic cell on disk. The selection will be saved in file <em>cell</em><strong>.mag</strong>.</p>
  </dd>
  <dt>
    <p><em>select and the see command</em></p>
  </dt>
  <dd>
    <p>Select interacts with the <strong>see</strong> command. When selecting individual pieces of material, only visible layers are candidates for selection. When selecting an entire area, however, both visible and non-visible material is selected.  This behavior allows entire regions of material to be moved, even if <strong>see</strong> has been used to turn off the display of some of the layers.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>sideways</strong></p>
  </dt>
  <dd>
    <p>Flip the selection left-to-right about a vertical axis running through the center of the selection's area.  If the box is in the same window as the selection, it is flipped too.  Selected material not in the edit cell is not affected.</p>
  </dd>
  <dt>
    <p><strong>simcmd </strong><em>cmd</em></p>
  </dt>
  <dd>
    <p>Sends the command <em>cmd</em> to rsim for execution. See <em>Tutorial #11:  Using IRSIM and RSIM with Magic</em> for more information.</p>
  </dd>
  <dt>
    <p><strong>snap </strong>[<strong>on</strong>]</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>snap </strong>[<strong>off</strong>]</p>
  </dt>
  <dd>
    <p>Control whether the box and point are snapped to the grid selected for the windows in which they appear (the grid was set by the <strong>grid</strong> command), or to the standard 1x1 grid. The default is for snapping to be <strong>off</strong>, i.e., snapping to a 1x1 grid. With no arguments, <strong>snap</strong> prints whether snapping is enabled or not.</p>
  </dd>
  <dt>
    <p><strong></strong><strong>startrsim </strong>[<em>options</em>] [<em>filename</em>]</p>
  </dt>
  <dd>
    <p>Similar to the <strong>rsim</strong> command, except it returns to Magic as soon as rsim is started. See <em>Tutorial #11:  Using IRSIM and RSIM with Magic</em> for more information.</p>
  </dd>
  <dt>
    <p><strong>straighten </strong><em>direction</em></p>
  </dt>
  <dd>
    <p>Straighten jogs in wires underneath the box by pulling them in <em>direction</em>. Jogs are only straightened if doing so will cause no additional geometry to move.</p>
  </dd>
  <dt>
    <p><strong>stretch </strong>[<em>direction </em>[<em>amount</em>]]</p>
  </dt>
  <dd>
    <p>This command is identical to <strong>move</strong> except that simple stretching occurs as the selection is moved.  Each piece of paint in the selection causes the area through which it's moved to be erased in that layer.  Also, each piece of paint in the selection that touches unselected material along its back side causes extra material to be painted to fill in the gap left by the move.  If <em>direction</em> isn't given and the cursor isn't exactly left, right, up, or down from the box corner, then Magic first rounds the cursor position off to a position that is one of those (whichever is closest).</p>
  </dd>
  <dt>
    <p><strong>tool </strong>[<em>name</em> | <strong>info</strong>]</p>
  </dt>
  <dd>
    <p>Change the current tool.  The result is that the cursor shape is different and the mouse buttons mean different things.  The command <strong>tool info</strong> prints out the meanings of the buttons for the current tool.  <strong>Tool </strong><em>name</em> changes the current tool to <em>name</em>, where <em>name</em> is one of <strong>box</strong>, <strong>wiring</strong>, or <strong>netlist</strong>.  If <strong>tool</strong> is invoked with no arguments, it picks a new tool in circular sequence:  multiple invocations will cycle through all of the available tools.</p>
  </dd>
  <dt>
    <p><strong>unexpand</strong></p>
  </dt>
  <dd>
    <p>Unexpand all cells that touch the box but don't completely contain it.</p>
  </dd>
  <dt>
    <p><strong>upsidedown</strong></p>
  </dt>
  <dd>
    <p>Flip the selection upside down about a horizontal axis running through the center of the selection's area.  If the box is in the same window as the selection then it is flipped too.  Selected material that is not in the edit cell is not changed.</p>
  </dd>
  <dt>
    <p><strong>what</strong></p>
  </dt>
  <dd>
    <p>Print out information about all the things that are selected.</p>
  </dd>
  <dt>
    <p><strong>wire </strong><em>option </em>[<em>args</em>]</p>
  </dt>
  <dd>
    <p>This command provides a centerline-wiring style user interface. <em>Option</em> and <em>args</em> specify a particular wiring option, as described below.  Some of the options can be invoked via mouse buttons when the <strong>wiring</strong> tool is active.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>wire help</strong></p>
  </dt>
  <dd>
    <p>Print out a synopsis of the various wiring commands.</p>
  </dd>
  <dt>
    <p><strong>wire horizontal</strong></p>
  </dt>
  <dd>
    <p>Just like <strong>wire leg</strong> except that the new segment is forced to be horizontal.</p>
  </dd>
  <dt>
    <p><strong>wire leg</strong></p>
  </dt>
  <dd>
    <p>Paint a horizontal or vertical segment of wire from one side of the box over to the cursor's x- or y-location (respectively).  The direction (horizontal or vertical) is chosen so as to produce the longest possible segment.  The segment is painted in the current wiring material and thickness.  The new segment is selected, and the box is placed at its tip.</p>
  </dd>
  <dt>
    <p><strong>wire switch </strong><strong>[</strong><em>layer width</em>]</p>
  </dt>
  <dd>
    <p>Switch routing layers and place a contact at the box location.  The contact type is chosen to connect the old and new routing materials.  The box is placed at the position of the contact, and the contact is selected. If <em>layer</em> and <em>width</em> are specified, they are used as the new routing material and width, respectively.  If they are not specified, the new material and width are chosen to correspond to the material underneath the cursor.</p>
  </dd>
  <dt>
    <p><strong>wire type </strong><strong>[</strong><em>layer width</em>]</p>
  </dt>
  <dd>
    <p>Pick a material and width for wiring.  If <em>layer</em> and <em>width</em> are not given, then they are chosen from the material underneath the cursor, a square chunk of material is selected to indicate the layer and width that were chosen, and the box is placed over this chunk.  If <em>layer</em> and <em>width</em> are given, then this command does not modify the box position.</p>
  </dd>
  <dt>
    <p><strong>wire vertical</strong></p>
  </dt>
  <dd>
    <p>Just like <strong>wire leg</strong> except that the new segment is forced to be vertical.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>writeall </strong>[<strong>force</strong>]</p>
  </dt>
  <dd>
    <p>This command steps through all the cells that have been modified in this edit session and gives you a chance to write them out. If the <strong>force</strong> option is specified, then ``autowrite'' mode is used:  all modified cells are automatically written without asking for permission.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS FOR ALL WINDOWS</h2>
        <div class="sectioncontent">
<p>These commands are not used for layout, but are instead used for overall, housekeeping functions.  They are valid in all windows.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>closewindow</strong></p>
  </dt>
  <dd>
    <p>The window under the cursor is closed.  That area of the screen will now show other windows or the background.</p>
  </dd>
  <dt>
    <p><strong>echo </strong>[<strong>-n</strong>] <em>str1 str2 ... strN</em></p>
  </dt>
  <dd>
    <p>Prints <em>str1 str2 ... strN</em> in the text window, separated by spaces and followed by a newline. If the <strong>-n</strong> switch is given, no newline is output after the command.</p>
  </dd>
  <dt>
    <p><strong>help</strong> [<em>pattern</em>]</p>
  </dt>
  <dd>
    <p>Displays a synopsis of commands that apply to the window you are pointing to. If <em>pattern</em> is given then only command descriptions containing the pattern are printed.  <em>Pattern</em> may contain '*' and '?' characters, which match a string of non-blank characters or a single non-blank character (respectively).</p>
  </dd>
  <dt>
    <p><strong>logcommands </strong>[<em>file </em>[<strong>update</strong>]]]</p>
  </dt>
  <dd>
    <p>If <em>file</em> is given, all further commands are logged to that file.  If no arguments are given, command logging is terminated. If the keyword <strong>update</strong> is present, commands are output to the file to cause the screen to be updated after each command when the command file is read back in.</p>
  </dd>
  <dt>
    <p><strong>macro </strong>[<em>char </em>[<em>command</em>]]</p>
  </dt>
  <dd>
    <p><em>Command</em> is associated with <em>char</em> such that typing <em>char</em> on the keyboard is equivalent to typing ``:'' followed by <em>command</em>.  If <em>command</em> is omitted, the current macro for <em>char</em> is printed.  If <em>char</em> is also omitted, then all current macros are printed. If <em>command</em> contains spaces, tabs, or semicolons then it must be placed in quotes.  The semicolon acts as a command separator allowing multiple commands to be combined in a single macro.</p>
  </dd>
  <dt>
    <p><strong>openwindow </strong>[<em>cell</em>]</p>
  </dt>
  <dd>
    <p>Open a new, empty window at the cursor position. Placement, sizing, and methods of manipulation are determined by the conventions of the window system in use.  If <em>cell</em> is specified, then that cell is displayed in the new window.  Otherwise the area of the box will be displayed in the new window.</p>
  </dd>
  <dt>
    <p><strong>pushbutton </strong><em>button action</em></p>
  </dt>
  <dd>
    <p>Simulates a button push.  Button should be <strong>left</strong>, <strong>middle</strong>, or <strong>right</strong>.  Action is one of <strong>up</strong>, or <strong>down</strong>. This command is normally invoked only from command scripts produced by the <strong>logcommands</strong> command.</p>
  </dd>
  <dt>
    <p><strong>quit</strong></p>
  </dt>
  <dd>
    <p>Exit Magic and return to the shell. If any cells, colormaps, or netlists have changed since they were last saved on disk, you are given a chance to abort the command and continue in Magic.</p>
  </dd>
  <dt>
    <p><strong>redo </strong>[<em>n</em>]</p>
  </dt>
  <dd>
    <p>Redo the last <em>n</em> commands that were undone using <strong>undo</strong> (see below). The number of commands to redo defaults to 1 if <em>n</em> is not specified.</p>
  </dd>
  <dt>
    <p><strong>redraw</strong></p>
  </dt>
  <dd>
    <p>Redraw the graphics screen.</p>
  </dd>
  <dt>
    <p><strong>scroll </strong><em>direction </em>[<em>amount</em>]</p>
  </dt>
  <dd>
    <p>The window under the cursor is moved by <em>amount</em> screenfulls in <em>direction</em> relative to the circuit.  If <em>amount</em> is omitted, it defaults to 0.5.</p>
  </dd>
  <dt>
    <p><strong>send </strong><em>type command</em></p>
  </dt>
  <dd>
    <p>Send a <em>command</em> to the window client named by <em>type</em>.  The result is just as if <em>command</em> had been typed in a window of type <em>type</em>.  See <strong>specialopen</strong>, below, for the allowable types of windows.</p>
  </dd>
  <dt>
    <p><strong>setpoint [</strong><em>x y</em> [<em>windowID</em>]]</p>
  </dt>
  <dd>
    <p>Fakes the location of the cursor up until after the next interactive command. Without arguments, just prints out the current point location. This command is normally invoked only from command scripts.</p><ul>
<li><p>If <em>windowID</em> is given, then the point is assumed to be in that window's screen coordinate system rather than absolute screen coordinates.</p></li>
</ul>
  </dd>
  <dt>
    <p><strong>sleep </strong><em>n</em></p>
  </dt>
  <dd>
    <p>Causes Magic to go to sleep for <em>n</em> seconds.</p>
  </dd>
  <dt>
    <p><strong>source </strong><em>filename</em></p>
  </dt>
  <dd>
    <p>Each line of <em>filename</em> is read and processed as one command. Any line whose last character is backslash is joined to the following line. The commands <strong>setpoint</strong>, <strong>pushbutton</strong>, <strong>echo</strong>, <strong>sleep</strong>, and <strong>updatedisplay</strong> are useful in command files, and seldom used elsewhere.</p>
  </dd>
  <dt>
    <p><strong>specialopen </strong>[<em>x1 y1 x2 y2</em>] <em>type</em> [<em>args</em>]</p>
  </dt>
  <dd>
    <p>Open a window of type <em>type</em>.  If the optional <em>x1 y1 x2 y2</em> coordinates are given, then the new window will have its lower left corner at screen coordinates (<em>x1</em>, <em>y1</em>) and its upper right corner at screen coordinates (<em>x2</em>, <em>y2</em>). The <em>args</em> arguments are interpreted differently depending upon the type of the window.  These types are known:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>layout</strong></p>
  </dt>
  <dd>
    <p>This type of window is used to edit a VLSI cell. The command takes a single argument which is used as the name of a cell to be loaded.  The command <strong>open </strong><em>filename</em> is a shorthand for the command <strong>specialopen layout </strong><em>filename</em>.</p>
  </dd>
  <dt>
    <p><strong>color</strong></p>
  </dt>
  <dd>
    <p>This type of window allows the color map to be edited.  See the section COMMANDS FOR COLORMAP EDITING below.</p>
  </dd>
  <dt>
    <p><strong>netlist</strong></p>
  </dt>
  <dd>
    <p>This type of window presents a menu that can be used to place labels, and to generate and edit net-lists.  See the section COMMANDS FOR NETLIST EDITING below.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>underneath</strong></p>
  </dt>
  <dd>
    <p>Move the window pointed at so that it lies underneath the rest of the windows.</p>
  </dd>
  <dt>
    <p><strong>undo </strong>[<em>count</em>]</p>
  </dt>
  <dd>
    <p>Undoes the last <em>count</em> commands.  Almost all commands in Magic are now undo-able.  The only holdouts left are cell expansion/unexpansion, and window modifications (change of size, zooming, etc.). If <em>count</em> is unspecified, it defaults to 1.</p>
  </dd>
  <dt>
    <p><strong>updatedisplay</strong></p>
  </dt>
  <dd>
    <p>Update the display. This command is normally invoked only from command scripts.  Scripts that do not contain this command update the screen only at the end of the script.</p>
  </dd>
  <dt>
    <p><strong>view</strong></p>
  </dt>
  <dd>
    <p>Choose a view for the window underneath the cursor so that everything in the window is visible.</p>
  </dd>
  <dt>
    <p><strong>windscrollbars </strong>[<em>on</em>|<em>off</em>]</p>
  </dt>
  <dd>
    <p>Set the flag that determines if new windows will have scroll bars.</p>
  </dd>
  <dt>
    <p><strong>windowpositions </strong>[<em>file</em>]</p>
  </dt>
  <dd>
    <p>Write out the positions of the windows in a format suitable for the <strong>source</strong> command.  If <em>file</em> is specified, then write it out to that file instead of to the terminal.</p>
  </dd>
  <dt>
    <p><strong>zoom </strong>[<em>factor</em>]</p>
  </dt>
  <dd>
    <p>Zoom the view in the window underneath the cursor by <em>factor</em>.  If <em>factor</em> is less than 1, we zoom in; if it is greater than one, we zoom out.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MOUSE BUTTONS FOR NETLIST WINDOWS</h2>
        <div class="sectioncontent">
<p>When the  netlist menu is opened using the command <strong>special netlist</strong>, a menu appears on the screen.  The colored areas on the menu can be clicked with various mouse buttons to perform various actions, such as placing labels and editing netlists.  For details on how to use the menu, see ``Magic Tutorial #7: Netlists and Routing''.  The menu buttons all correspond to commands that could be typed in netlist or layout windows.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS FOR NETLIST WINDOWS</h2>
        <div class="sectioncontent">
<p>The commands described below work if you are pointing to the interior of the netlist menu.  They may also be invoked when you are pointing at another window by using the <strong>send netlist</strong> command.  Terminal names in all of the commands below are hierarchical names consisting of zero or more cell use ids separated by slashes, followed by the label name, e.g. <strong>toplatch/shiftcell_1/in</strong>. When processing the terminal paths, the search always starts in the edit cell.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>add </strong><em>term1 term2</em></p>
  </dt>
  <dd>
    <p>Add the terminal named <em>term1</em> to the net containing terminal <em>term2</em>.  If <em>term2</em> isn't in a net yet, make a new net containing just <em>term1</em> and <em>term2</em>.</p>
  </dd>
  <dt>
    <p><strong>cleanup</strong></p>
  </dt>
  <dd>
    <p>Check the netlist to make sure that for every terminal named in the list there is at least one label in the design.  Also check to make sure that every net contains at least two distinct terminals, or one terminal with several labels by the same name.  When errors are found, give the user an opportunity to delete offending terminals and nets.  This command can also be invoked by clicking the ``Cleanup'' menu button.</p>
  </dd>
  <dt>
    <p><strong>cull</strong></p>
  </dt>
  <dd>
    <p>Examine the current netlist and the routing in the edit cell, and remove those nets from the netlist that are already routed.  This command is often used after pre-routing nets by hand, so the router won't try to implement them again.</p>
  </dd>
  <dt>
    <p><strong>dnet </strong><em>name name</em> ...</p>
  </dt>
  <dd>
    <p>For each <em>name</em> given, delete the net containing that terminal. If no <em>name</em> is given, delete the currently-selected net, just as happens when the ``No Net'' menu button is clicked.</p>
  </dd>
  <dt>
    <p><strong>dterm </strong><em>name name</em> ...</p>
  </dt>
  <dd>
    <p>For each <em>name</em> given, delete that terminal from its net.</p>
  </dd>
  <dt>
    <p><strong>extract</strong></p>
  </dt>
  <dd>
    <p>Pick a piece of paint in the edit cell that lies under the box. Starting from this, trace out all the electrically-connected material in the edit cell.  Where this material touches subcells, find any terminals in the subcells and make a new net containing those terminals.  Note:  this is a different command from the <strong>extract</strong> command in layout windows.</p>
  </dd>
  <dt>
    <p><strong>find </strong><em>pattern </em>[<em>layers</em>]</p>
  </dt>
  <dd>
    <p>Search the area beneath the box for labels matching <em>pattern</em>, which may contain the regular-expression characters ``<strong>*</strong>'' ``<strong>?</strong>'', ``<strong>[</strong>'', ``<strong>]</strong>'', and ``<strong>&#92;</strong>'' (as matched by <em>csh</em>\|(1); see the description of the <strong>find</strong> button in ``Magic Tutorial #7: Netlists and Routing''). For each label found, leave feedback whose text is the layer on which the label appears, followed by a semicolon, followed by the full hierarchical pathname of the label. The feedback surrounds the area of the label by one unit on all sides. (The reason for the one-unit extension is that feedback rectangles must have positive area, while labels may have zero width or height). If <em>layers</em> are given, only labels attached to those layers are considered.</p>
  </dd>
  <dt>
    <p><strong>flush </strong>[<em>netlist</em>]</p>
  </dt>
  <dd>
    <p>The netlist named <em>netlist</em> is reloaded from the disk file <em>netlist</em><strong>.net</strong>.  Any changes made to the netlist since the last time it was written are discarded.  If <em>netlist</em> isn't given, the current netlist is flushed.</p>
  </dd>
  <dt>
    <p><strong>join </strong><em>term1 term2</em></p>
  </dt>
  <dd>
    <p>Join together the nets containing terminals <em>term1</em> and <em>term2</em>.  The result is a single net containing all the terminals from both the old nets.</p>
  </dd>
  <dt>
    <p><strong>netlist </strong>[<em>name</em>]</p>
  </dt>
  <dd>
    <p>Select a netlist to work on.  If <em>name</em> is provided, read <em>name</em>.<strong>net</strong> (if it hasn't already been read before) and make it the current netlist.  If <em>name</em> isn't provided, use the name of the edit cell instead.</p>
  </dd>
  <dt>
    <p><strong>print </strong>[<em>name</em>]</p>
  </dt>
  <dd>
    <p>Print the names of all the terminals in the net containing <em>name</em>. If <em>name</em> isn't provided, print the terminals in the current net.  This command has the same effect as clicking on the ``Print'' menu button.</p>
  </dd>
  <dt>
    <p><strong>ripup </strong>[<strong>netlist</strong>]</p>
  </dt>
  <dd>
    <p>This command has two forms.  If <strong>netlist</strong> isn't typed as an argument, then find a piece of paint in the edit cell under the box.  Trace out all paint in the edit cell that is electrically connected to the starting piece, and delete all of this paint. If <strong>netlist</strong> is typed, find all paint in the edit cell that is electrically connected to any of the terminals in the current netlist, and delete all of this paint.</p>
  </dd>
  <dt>
    <p><strong>savenetlist </strong>[<em>file</em>]</p>
  </dt>
  <dd>
    <p>Save the current netlist on disk.  If <em>file</em> is given, write the netlist in <em>file</em>.<strong>net</strong>.  Otherwise, write the netlist back to the place from which it was read.</p>
  </dd>
  <dt>
    <p><strong>shownet</strong></p>
  </dt>
  <dd>
    <p>Find a piece of paint in any cell underneath the box.  Starting from this paint, trace out all paint in all cells that is electrically connected to the starting piece and highlight this paint on the screen.  To make the highlights go away, invoke the command with the box over empty space.  This command has the same effect as clicking on the ``Show'' menu button.</p>
  </dd>
  <dt>
    <p><strong>showterms</strong></p>
  </dt>
  <dd>
    <p>Find the labels corresponding to each of the terminals in the current netlist, and generate a feedback area over each.  This command has the same effect as clicking on the ``Terms'' menu button.</p>
  </dd>
  <dt>
    <p><strong>trace</strong> [<em>name</em>]</p>
  </dt>
  <dd>
    <p>This command is similar to <strong>shownet</strong> except that instead of starting from a piece of paint under the box, it starts from each of the terminals in the net containing <em>name</em> (or the current net if no <em>name</em> is given).  All connected paint in all cells is highlighted.</p>
  </dd>
  <dt>
    <p><strong>verify</strong></p>
  </dt>
  <dd>
    <p>Compare the current netlist against the wiring in the edit cell to make sure that the nets are implemented exactly as specified in the netlist.  If there are discrepancies, feedback areas are created to describe them.  This command can also be invoked by clicking the ``Verify'' menu button.</p>
  </dd>
  <dt>
    <p><strong>writeall</strong></p>
  </dt>
  <dd>
    <p>Scan through all the netlists that have been read during this editing session.  If any have been modified, ask the user whether or not to write them out.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MOUSE BUTTONS FOR COLORMAP WINDOWS</h2>
        <div class="sectioncontent">
<p>Color windows display two sets of colored bars and a swatch of the color being edited.  The left set of color bars is labeled Red, Green, and Blue;  these correspond to the proportion of red, green, and blue in the color being edited.  The right set of bars is labeled Hue, Saturation, and Value;  these correspond to the same color but in a space whose axes are hue (spectral color), saturation (spectral purity vs. dilution with white), and value (light vs. dark).</p><p>The value of a color is changed by pointing inside the region spanned by one of the color bars and clicking any mouse button. The color bar will change so that it extends to the point selected by the crosshair when the button was pressed.  The color can also be changed by clicking a button over one of the ``pumps'' next to a color bar.  A left-button click makes a 1% increment or decrement, and a right-button click makes a 5% change.</p><p>The color being edited can be changed by pressing the left button over the current color box in the editing window, then moving the mouse and releasing the button over a point on the screen that contains the color to be edited.  A color value can be copied from an existing color to the current color by pressing the right mouse button over the current color box, then releasing the button when the cursor is over the color whose value is to be copied into the current color.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COMMANDS FOR COLORMAP WINDOWS</h2>
        <div class="sectioncontent">
<p>These commands work if you are pointing to the interior of a colormap window.  The commands are:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>color </strong>[<em>number</em>]</p>
  </dt>
  <dd>
    <p>Load <em>number</em> as the color being edited in the window. <em>Number</em> must be an octal number between 0 and 377; it corresponds to the entry in the color map that is to be edited. If no <em>number</em> is given, this command prints out the value of the color currently being edited.</p>
  </dd>
  <dt>
    <p><strong>load </strong>[<em>techStyle displayStyle monitorType</em>]</p>
  </dt>
  <dd>
    <p>Load a new color map. If no arguments are specified, the color map for the current technology style (e.g, <strong>mos</strong>), display style (e.g, <strong>7bit</strong>), and monitor type (e.g, <strong>std</strong>) is re-loaded. Otherwise, the color map is read from the file <em>techStyle</em>.<em>displayStyle</em>.<em>monitorType</em><strong>.cmap</strong> in the current directory or in the system library directory.</p>
  </dd>
  <dt>
    <p><strong>save </strong>[<em>techStyle displayStyle monitorType</em>]</p>
  </dt>
  <dd>
    <p>Save the current color map. If no arguments are specified, save the color map in a file determined by the current technology style, display style, and monitor type as above. Otherwise, save it in the file <em>techStyle</em>.<em>displayStyle</em>.<em>monitorType</em><strong>.cmap</strong> in the current directory or in the system library directory.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DIRECTIONS</h2>
        <div class="sectioncontent">
<p>Many of the commands take a direction as an argument.  The valid direction names are <strong>north</strong>, <strong>south</strong>, <strong>east</strong>, <strong>west</strong>, <strong>top</strong>, <strong>bottom</strong>, <strong>up</strong>, <strong>down</strong>, <strong>left</strong>, <strong>right</strong>, <strong>northeast</strong>, <strong>ne</strong>, <strong>southeast</strong>, <strong>se</strong>, <strong>northwest</strong>, <strong>nw</strong>, <strong>southwest</strong>, <strong>sw</strong>, and <strong>center</strong>.  In some cases, only Manhattan directions are permitted, which means only <strong>north</strong>, <strong>south</strong>, <strong>east</strong>, <strong>west</strong>, and their synonyms, are allowed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LAYERS</h2>
        <div class="sectioncontent">
<p>The mask layers are different for each technology, and are described in the technology manuals.  The layers below are defined in all technologies:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>*</strong></p>
  </dt>
  <dd>
    <p>All mask layers.  Does not include special layers like the label layer and the error layer (see below).</p>
  </dd>
  <dt>
    <p><strong>$</strong></p>
  </dt>
  <dd>
    <p>All layers underneath the cursor.</p>
  </dd>
  <dt>
    <p><strong>errors</strong></p>
  </dt>
  <dd>
    <p>Design-rule violations (useful primarily in the <strong>see</strong> command).</p>
  </dd>
  <dt>
    <p><strong>labels</strong></p>
  </dt>
  <dd>
    <p>Label layer.</p>
  </dd>
  <dt>
    <p><strong>subcell</strong></p>
  </dt>
  <dd>
    <p>Subcell layer.</p>
  </dd>

</dl>
<p>Layer masks may be formed by constructing comma-separated lists of individual layer names.  The individual layer names may be abbreviated, as long as the abbreviations are unique. For example, to indicate polysilicon and n-diffusion, use <strong>poly,ndiff</strong> or <strong>ndiff,poly</strong>. The special character <strong>-</strong> causes all subsequent layers to be subtracted from the layer mask.  For example, <strong>*-p</strong> means ``all layers but polysilicon''. The special character <strong>\+</strong> reverses the effect of a previous <strong>-</strong>; all subsequent layers are once again added to the layer mask.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO magic&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/ext2sim.1.html"><strong>ext2sim</strong>(1)</a>, <a href="../man1/ext2spice.1.html"><strong>ext2spice</strong>(1)</a>, <a href="../man5/cmap.5.html"><strong>cmap</strong>(5)</a>, <strong>dstyle</strong>(5), <a href="../man5/ext.5.html"><strong>ext</strong>(5)</a>, <a href="../man5/sim.5.html"><strong>sim</strong>(5)</a>, <strong>glyphs</strong>(5), <strong>magic</strong>(5), <a href="../man5/displays.5.html"><strong>displays</strong>(5)</a>, <strong>net</strong>(5)</p><p>Online documentation can be found at the following URLs:</p><p>http://opencircuitdesign.com/magic/</p><p>http://vlsi.cornell.edu/magic/</p><p>The OpenCircuitDesign website contains HTML versions of all the documentation found in the Magic "doc" subdirectory, including tutorials, technology file manual; download, compile and install instructions, and command reference.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
${CAD_ROOT}/magic/sys/.magic	startup file to create default macros

~/.magic		user-specific startup command file

${CAD_ROOT}/magic/nmos/*	some standard nmos cells

${CAD_ROOT}/magic/scmos/*	some standard scmos cells

${CAD_ROOT}/magic/sys/*.cmap	colormap files, see <a href="../man5/cmap.5.html"><strong>CMAP</strong>(5)</a> man page

${CAD_ROOT}/magic/sys/*.dstyle	display style files, see <strong>DSTYLE</strong>(5) man page

${CAD_ROOT}/magic/sys/*.glyphs	cursor and window bitmap files, see <strong>GLYPH</strong>(5) man page

${CAD_ROOT}/magic/sys/*.tech	technology files, see ``Maintainer's Manual
		#2: The Technology File''

${CAD_ROOT}/displays	configuration file for Magic serial-line displays
</pre>
<p><em>CAD_ROOT variable.</em>  If the shell environment variable <strong>CAD_ROOT</strong> is set, Magic uses that location instead of the installed location (/usr/local/lib, by default).  Normally one would change the search path (see below) rather than redirect the entire <strong>CAD_ROOT</strong> location.</p><p><em>Search path.</em>  Magic's system and library files, such as technology files and display-style files, normally are placed in the ${CAD_ROOT}/magic area. However, Magic first tries to find them in the user's current directory.  This makes it easier for an individual user to override installed system files. The search path is defined by the Magic command <strong>path</strong>,</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Original</strong>:  Gordon Hamachi, Robert Mayo, John Ousterhout, Walter Scott, George Taylor</p><p><strong>Contributors</strong>:  Michael Arnold (Magic maze-router and Irouter command), Don Stark (new contact scheme, X11 interface, various other things), Mike Chow (Rsim interface).  The X11 driver is the work of several people, including Don Stark, Walter Scott, and Doug Pan.</p><p><strong>Developers</strong>:  Ongoing development (magic version 6.5 and higher) made possible by Stefanos Sidiropolous, Tim Edwards, Rajit Manohar, Philippe Pouliquen, Michael Godfrey, and others.</p><p>Many other people have contributed to Magic, but it is impossible to list them all here.  We appreciate their help!</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>If Magic gets stuck for some reason, first try typing Control-C into the terminal window (in the Tcl/Tk version, this is the <em>original</em> terminal, not the Tk console window).  Most of Magic's lengthy database searches are interruptible.  If this doesn't work, kill the process. The Tcl/Tk version automatically creates periodic backups that may be recovered with "magic -r".</p><p>Report bugs to <strong>magic-dev@csl.cornell.edu</strong>.  Please be specific: tell us exactly what you did to cause the problem, what you expected to happen, and what happened instead.  If possible send along small files that we can use to reproduce the bug.  A list of known bugs and fixes is also available from the above address.  Tell us which version of magic you are running.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="mafft-profile.1.html"><span aria-hidden="true">&larr;</span> mafft-profile.1: Multiple alignment program for amino acid or nucleotide sequences</a></li>
   <li class="next"><a href="magicrescue.1.html">magicrescue.1: Scans a block device and extracts known file types by looking at magic bytes. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
