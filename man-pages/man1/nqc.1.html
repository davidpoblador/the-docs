<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>nqc: A simple c-like language for lego's rcx programmable brick</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A simple c-like language for lego's rcx programmable brick">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="nqc (1) manual">
  <meta name="twitter:description" content="A simple c-like language for lego's rcx programmable brick">
  <meta name="twitter:image" content="https://www.carta.tech/images/nqc-nqc-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/nqc.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="nqc (1) manual" />
  <meta property="og:description" content="A simple c-like language for lego's rcx programmable brick" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/nqc-nqc-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">nqc<small> (1)</small></h1>
        <p class="lead">A simple c-like language for lego's rcx programmable brick</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nqc.1.html">
      <span itemprop="name">nqc: A simple c-like language for lego's rcx programmable brick</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/nqc/">
      <span itemprop="name">nqc</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/nqc.1.html">
      <span itemprop="name">nqc: A simple c-like language for lego's rcx programmable brick</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>nqc</strong> [ <em>options</em> ] [ <em>actions</em> ] [ <strong>-</strong> | <em>filename</em> ] [ <em>actions</em> ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>NQC stands for Not Quite C, and is a simple language for programming the LEGO RCX.  The preprocessor and control structures of NQC are very similar to C.  NQC is not a general purpose language -- there are many restrictions that stem from limitations of the standard RCX firmware.</p><p>This man page does not attempt to describe the NQC programming language or the RCX API, merely the options of the nqc command-line program.  References to more complete documentation are given at the end of this man page.</p><p>nqc is normally used to process a single source file given as <em>filename</em>.  You can also read from stdin by using <strong>-</strong> instead.  If the filename ends in <em>.rcx</em>, it is assumed to be a RCX image file from a previous compile, and will be used as is (for downloading or listing).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-1</strong></p>
  </dt>
  <dd>
    <p>use NQC 1.x compatibility mode.  The RCX API changed significantly with version 2.0.  This flag makes the compiler grok old code.</p>
  </dd>
  <dt>
    <p><strong>-T</strong><em>target</em><strong></strong></p>
  </dt>
  <dd>
    <p>generate code and use communications methods for "smart bricks" other than the RCX.  Currently, can be either <strong>CM</strong> or <strong>Scout</strong>.</p>
  </dd>
  <dt>
    <p><strong>-d</strong></p>
  </dt>
  <dd>
    <p>download program to the RCX.  When this option is given, code is sent directly over the serial port to the brick and no output file is generated by default.</p>
  </dd>
  <dt>
    <p><strong>-n</strong></p>
  </dt>
  <dd>
    <p>prevent the standard <em>nqc.h</em> file from being automatically included.</p>
  </dd>
  <dt>
    <p><strong>-D</strong><em>sym</em>[=<em>value</em>]</p>
  </dt>
  <dd>
    <p>define macro <em>sym</em> as <em>value</em>.</p>
  </dd>
  <dt>
    <p><strong>-E</strong>[<em>filename</em>]</p>
  </dt>
  <dd>
    <p>write compiler errors to <em>filename</em> (or to stdout, if no name specified) instead of to stderr.</p>
  </dd>
  <dt>
    <p><strong>-I</strong><em>path</em></p>
  </dt>
  <dd>
    <p>search <em>path</em> for include files.  Multiple directories should be separated as normal for the platform (under Linux / Unix, that'd be "<strong></strong>"). Can also be set with the NQC_INCLUDE environment variable.</p>
  </dd>
  <dt>
    <p><strong>-L</strong>[<em>filename</em>]</p>
  </dt>
  <dd>
    <p>generate a human-readable bytecode listing to <em>filename</em> (or to stdout) instead of generating a binary file.</p>
  </dd>
  <dt>
    <p><strong>-O</strong><em>outfile</em></p>
  </dt>
  <dd>
    <p>output code to <em>outfile</em>.  This option causes a file to be written even if <strong>-d</strong> or <strong>-L</strong> is also given.  If no filename is specified, the output file will have the same basename as the input file but an extension of <em>.rcx</em> instead of <em>.nqc</em>.</p>
  </dd>
  <dt>
    <p><strong>-S</strong><em>portname</em></p>
  </dt>
  <dd>
    <p>use serial port <em>portname</em>.  Under Linux, <em>/dev/rcx</em> is the default.  (This will differ on other platforms.)  The port can also be specified via the RCX_PORT environment variable, but the command line option takes precedence.</p>
  </dd>
  <dt>
    <p><strong>-U</strong><em>sym</em></p>
  </dt>
  <dd>
    <p>undefine macro <em>sym</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple"></h2>
        <div class="sectioncontent">
<p>ACTIONS Actions look similar to options, but they have some subtle differences.  In general, options set up things (such as a serial port) for later use, while actions cause something to happen.  Actions are executed in the order that they appear on the command line.  In addition, actions appearing before the source file happen before compilation, while actions after the source file happen after compilation.  For historical reasons, downloading the compiled file (<strong>-d</strong>) works as an option and not an action.</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-run</strong></p>
  </dt>
  <dd>
    <p>run the current program.  This causes the program selected on the RCX to execute.</p>
  </dd>
  <dt>
    <p><strong>-pgm</strong> <em>number</em></p>
  </dt>
  <dd>
    <p>select program number.  This changes the program slot on the RCX.</p>
  </dd>
  <dt>
    <p><strong>-datalog</strong></p>
  </dt>
  <dd>
    <p>get the datalog from the RCX and print it to stdout.</p>
  </dd>
  <dt>
    <p><strong>-datalog-full</strong></p>
  </dt>
  <dd>
    <p>same as <strong>-datalog</strong> but with more verbose output.</p>
  </dd>
  <dt>
    <p><strong>-near</strong></p>
  </dt>
  <dd>
    <p>set the IR port to short-range mode.</p>
  </dd>
  <dt>
    <p><strong>-far</strong></p>
  </dt>
  <dd>
    <p>set the IR port to long-range mode.</p>
  </dd>
  <dt>
    <p><strong>-watch</strong> <em>time</em></p>
  </dt>
  <dd>
    <p>set the RCX's clock to the specified time.  If you use <strong>now</strong>, then the host's current time is used.</p>
  </dd>
  <dt>
    <p><strong>-firmware</strong> <em>filename</em></p>
  </dt>
  <dd>
    <p>downloads the firmware to the RCX.  You'll need the official Lego RCX firmware from the CD-ROM -- the current (and so far only) file is called <em>firm0309.lgo</em>.  This will probably be necessary the first time you use your RCX, and whenever it's been without batteries for more than a few minutes.</p>
  </dd>
  <dt>
    <p><strong>-firmfast</strong> <em>filename</em></p>
  </dt>
  <dd>
    <p>same as <strong>-firmware</strong>, but at quad speed.  Requires the tower to be in near mode (see <strong>-near</strong>).   If you have trouble getting the fast download to work, please revert to the older (and slower) method.</p>
  </dd>
  <dt>
    <p><strong>-sleep</strong> <em>timeout</em></p>
  </dt>
  <dd>
    <p>set RCX auto-shutoff timeout, in minutes.</p>
  </dd>
  <dt>
    <p><strong>-msg</strong> <em>number</em></p>
  </dt>
  <dd>
    <p>send IR message to RCX. The brick will respond to this just as it would a communication from another RCX.</p>
  </dd>
  <dt>
    <p><strong>-raw</strong> <em>data</em></p>
  </dt>
  <dd>
    <p>send an arbitrary packet to the RCX and print the reply (if any) to stdout. The data should be a hexadecimal string, with no spaces, zero-padded so that it is an even number of characters (although it may be an odd number of bytes). For example, to read the contents of variable 1, you could use <strong>-raw 120001</strong>. The bytecodes for raw messages can be found on web sites that document the RCX protocol.</p>
  </dd>
  <dt>
    <p><strong>-remote</strong> <em>value</em> <em>repeat</em></p>
  </dt>
  <dd>
    <p>send a repeating remote command to the RCX.</p>
  </dd>
  <dt>
    <p><strong>-clear</strong></p>
  </dt>
  <dd>
    <p>erase all programs and datalog from the RCX.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT VARIABLES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>RCX_PORT</p>
  </dt>
  <dd>
    <p>sets the default serial port.  See the <strong>-S</strong> option.</p>
  </dd>
  <dt>
    <p>NQC_OPTIONS</p>
  </dt>
  <dd>
    <p>specifies extra options to be inserted into the command line.  For example, setting NQC_OPTIONS to <strong>-TScout</strong> would cause nqc to target the Scout by default.</p>
  </dd>
  <dt>
    <p>NQC_INCLUDE</p>
  </dt>
  <dd>
    <p>specifies additional paths to search for include files.  See also the <strong>-I</strong> option.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>To compile <em>foo.nqc</em>, download the bytecode to program slot three, and make the RCX start executing it immediately:</p>
<pre>
&#92;$1
</pre>
<p>To just compile <em>bar.nqc</em>, resulting in <em>bar.rcx</em>:</p><p>To download <em>bar.rcx</em> to the RCX:</p><p>To set the IR tower to short-range mode and download the firmware at high speed:</p><p>To compile <em>/usr/share/doc/nqc/examples/test.nqc</em> and print the resulting bytecode listing to the screen in human-readable format:</p><p>(This should result in the following output under nqc 2.1.0:</p><p>)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Older versions of nqc required a separate <em>rcx.nqh</em> or <em>rcx2.nqh</em> file.  This is now integrated into the binary and no longer necessary, but for reference, <em>rcx2.nqh</em> is included with the package. (If you installed the RPM, try <em>/usr/share/doc/nqc-2.1.0/rcx2.nqh</em>).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO nqc&hellip;</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><em>http://www.enteract.com/~dbaum/nqc/</em></p>
  </dt>
  <dd>
    <p>The main Not Quite C web site.  You'll definitely want to look here. Notably, you'll find the <em>NQC Programmer's Guide</em>, which covers the NQC language itself.</p>
  </dd>
  <dt>
    <p><em>http://www.crynwr.com/lego-robotics/</em></p>
  </dt>
  <dd>
    <p>A great site for alternative RCX / Mindstorms development.</p>
  </dd>
  <dt>
    <p><em>http://graphics.stanford.edu/~kekoa/rcx/</em></p>
  </dt>
  <dd>
    <p>Details on the internals of the RCX and the RCX protocol.</p>
  </dd>
  <dt>
    <p><em>http://www.lugnet.com/robotics/rcx/nqc/</em></p>
  </dt>
  <dd>
    <p>Discussion group for NQC.  Also available via NNTP at <em>lugnet.com</em>.</p>
  </dd>
  <dt>
    <p><em>http://nqc.mattdm.org/</em></p>
  </dt>
  <dd>
    <p>Linux binaries and RPM-format packages for NQC, including source RPMs.  Also has an RPM containing the NQC language documentation from Dave's site, in case you'd prefer to have it installed locally.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>None known.  But be aware that Scout support is still preliminary and may change significantly.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">COPYRIGHT</h2>
        <div class="sectioncontent">
<p>nqc is Copyright (C) 1998-2000 David Baum and released under the terms of the Mozilla Public License.  See the documentation included with the program for more details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>The Not Quite C programming language and the nqc program were written and are maintained by Dave Baum.  Various contributions have been made by other people -- a full list of these can be found on Dave's web site.</p><p>This man page was written by Matthew Miller (mattdm@mattdm.org), with extremely large amounts of borrowing from other NQC documentation.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="npth-config.1.html"><span aria-hidden="true">&larr;</span> npth-config.1: Tool for linking against npth</a></li>
   <li class="next"><a href="nr.1.html">nr.1: Read data transported over network using netwrite <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
