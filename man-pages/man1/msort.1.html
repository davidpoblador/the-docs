<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>msort: Sort records in complex ways</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Sort records in complex ways">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="msort (1) manual">
  <meta name="twitter:description" content="Sort records in complex ways">
  <meta name="twitter:image" content="https://www.carta.tech/images/msort-msort-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/msort.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="msort (1) manual" />
  <meta property="og:description" content="Sort records in complex ways" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/msort-msort-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">msort<small> (1)</small></h1>
        <p class="lead">Sort records in complex ways</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/msort.1.html">
      <span itemprop="name">msort: Sort records in complex ways</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/msort/">
      <span itemprop="name">msort</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/msort.1.html">
      <span itemprop="name">msort: Sort records in complex ways</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>msort</strong> &lt;options&gt; [&lt;input file&gt;]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>msort</em> is a program for sorting text files in sophisticated ways. It was developed initially for alphabetizing dictionaries of languages in which the ordering may be quite different from English but has many other uses.</p><p><em>msort</em> allows you to sort blocks of text delimited in a number of ways rather than just lines and to specify particular fields of a record as sort keys using either their position, counted from either end, or by matching regular expressions to their tags.</p><p><em>msort</em> is capable of sorting on multiple keys, so that when two records tie on one key, the tie may be broken on another. Any or all keys may be optional. How absent optional keys are ordered with respect to present keys may be set separately for each key.</p><p><em>msort</em> allows you to specify arbitrary sort orders and to define virtually unlimited numbers of multigraphs of effectively unlimited length. The sort order and multigraphs are defined separately for each key. If your system has locale support, you can also use locale collation rules instead of specify your own sort order.</p><p><em>msort</em> provides twelve types of key comparison: lexicographic, numeric, numeric string, hybrid, by string length, by angle, by date, by domain name, by time, by ISO8601 date/time stamp, by month name, and random.</p><p>What month names are used is a bit complicated. If the <em>-s</em> flag is used on the same key and its argument is the name of a file, the month names are read from the file, which should be in the same format as a sort order definition file. If the <em>-s</em> flag is used and its argument is a locale name, the month names recognized will be the month names and abbreviations associated with the specified locale. If the <em>-s</em> flag is not used the month names recognized will be the month names and abbreviations associated with the current locale. If your system does not have locale support and you do not use the <em>-s</em> flag to read the month names from a file, the month names recognized will be the English month names and abbreviations.</p><p><em></em> msort can reverse the characters in a key, allowing it to be used to generate reverse dictionaries.</p><p>A choice of sorting algorithms is provided.</p><p><em>msort</em> fully supports Unicode. The text to be sorted, and all specifications, should be in UTF-8 Unicode. (If you have plain ASCII text, this is not a problem as ASCII is a subset of Unicode.) Full Unicode case-folding is available, in Turkic and non-Turkic variants. Unicode normalization is performed before sorting.</p><p>For usage information, execute <em>msort</em> with no arguments.</p><p>Full information about <strong>msort</strong> is currently to be found in the reference manual, which is distributed as a PDF (Portable Document Format) file. If a copy is not available locally, you can download it from msort's home page:</p><p>http://billposer.org/Software/msort.html</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3>Informational options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h,--help</strong></p>
  </dt>
  <dd>
    <p>Print usage message</p>
  </dd>
  <dt>
    <p><strong>-v,--version</strong></p>
  </dt>
  <dd>
    <p>Print version message</p>
  </dd>
  <dt>
    <p><strong>-D,--defaults</strong></p>
  </dt>
  <dd>
    <p>List defaults</p>
  </dd>
  <dt>
    <p><strong>-F,--general-options</strong></p>
  </dt>
  <dd>
    <p>List general command line options</p>
  </dd>
  <dt>
    <p><strong>-G,--gnu-equivalences</strong></p>
  </dt>
  <dd>
    <p>List equivalents for GNU sort command line options.</p>
  </dd>
  <dt>
    <p><strong>-H,--informational-options</strong></p>
  </dt>
  <dd>
    <p>List informational command line options</p>
  </dd>
  <dt>
    <p><strong>-K,--key-specific-options</strong></p>
  </dt>
  <dd>
    <p>List key-specific command line options</p>
  </dd>
  <dt>
    <p><strong>-L,--limits</strong></p>
  </dt>
  <dd>
    <p>List limits</p>
  </dd>
  <dt>
    <p><strong>-N,--number-systems</strong></p>
  </dt>
  <dd>
    <p>List the supported number systems.</p>
  </dd>

</dl>

<h3>General options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-b,--block</strong></p>
  </dt>
  <dd>
    <p>A record is terminated by two or more newlines</p>
  </dd>
  <dt>
    <p><strong>-l,--line</strong></p>
  </dt>
  <dd>
    <p>A record consists of a single line</p>
  </dd>
  <dt>
    <p><strong>-r,--record-separator</strong> &lt;separator&gt;</p>
  </dt>
  <dd>
    <p>A record is terminated by separator character</p>
  </dd>
  <dt>
    <p><strong>-O,--fixed-size-record</strong> &lt;bytes&gt;</p>
  </dt>
  <dd>
    <p>A record consists of the specified number of bytes.</p>
  </dd>
  <dt>
    <p><strong>-d,--field-separators</strong> &lt;character&gt;+</p>
  </dt>
  <dd>
    <p>Fields are delimited by the named character(s)</p>
  </dd>
  <dt>
    <p><strong>-w,--whole</strong></p>
  </dt>
  <dd>
    <p>Sort on the entire text of the record</p>
  </dd>
  <dt>
    <p><strong>-a,--algorithm</strong> &lt;algorithm&gt;</p>
  </dt>
  <dd>
    <p>Use the specified sort algorithm. The choices are: I(nsertionSort), M(ergeSort), Q(uickSort), and S(hellSort). Note that InsertionSort and MergeSort are stable, while QuickSort and ShellSort are unstable. The default is QuickSort.</p>
  </dd>
  <dt>
    <p><strong>-M,-initial-maximum-records</strong> &lt;records&gt;</p>
  </dt>
  <dd>
    <p>Set initial maximum number of records</p>
  </dd>
  <dt>
    <p><strong>-m,--line-end-carriage-return</strong></p>
  </dt>
  <dd>
    <p>End-of-line in the input data is marked by Carriage Return (0x0D) as on the Macintosh rather than by Line Feed (0x0A) as on Unix systems.</p>
  </dd>
  <dt>
    <p><strong>-I,--invert-globally</strong></p>
  </dt>
  <dd>
    <p>Invert sense of comparisons globally</p>
  </dd>
  <dt>
    <p><strong>-B,--BMP</strong></p>
  </dt>
  <dd>
    <p>No characters fall outside the Basic Multingual Plane (that is, have values greater than 0xFFFF).</p>
  </dd>
  <dt>
    <p><strong>-Z,--skip-first-record</strong></p>
  </dt>
  <dd>
    <p>Copy the first record in the input to the output without sorting it. This is useful for sorting files with a header.</p>
  </dd>
  <dt>
    <p><strong>-p,--reserve-private-use-area</strong></p>
  </dt>
  <dd>
    <p>Do not make internal use of the Private Use areas. By default, multigraphs are assigned internally to codepoints in the Supplementary Private Use areas if full Unicode is in use or to codepoints in the Private Use area if input is restricted to the Basic Multilingual Plane by means of the <em>-B</em> option. If your input makes use of the Private Use areas, this option prevents interference with your input. In this case, multigraphs will be assigned to the Low and High Surrogate areas (0xD800-0xDFFF). Note that this limits the number of multigraphs to 2,048.</p>
  </dd>
  <dt>
    <p><strong>-P,--random-seed</strong> &lt;seed&gt;</p>
  </dt>
  <dd>
    <p>Set the seed for the random number generator. If not set here, it is set to a value determined by the time. The seed used is reported in the log. This option allows runs to be replicated.</p>
  </dd>
  <dt>
    <p><strong>-Q,--check-only</strong></p>
  </dt>
  <dd>
    <p>Check whether the input is already sorted. Do not generate any output. Exit status is 0 if input is already sorted, 11 if not sorted.</p>
  </dd>
  <dt>
    <p><strong>-1,--in</strong> &lt;input file name&gt;</p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-2,--out</strong> &lt;output file name&gt;</p>
  </dt>
  <dd>
    <p>If the output file is the same as the input file, the input file will be overwritten. The input file will not be overwritten if the run is unsuccessful.</p>
  </dd>
  <dt>
    <p><strong>-j,--suppress-log</strong></p>
  </dt>
  <dd>
    <p>Suppress output to the log. If this flag is given before there is any output to the log from a command line flag, nothing will be written to the log and the log file will not be created. If a command line flag generates a log message before this flag is processed, the log file will be created but no log messages will be written to it once this flag is processed. To guarantee that no attempt will be made to open a log file, give this flag first.</p>
  </dd>
  <dt>
    <p><strong>-q,--quiet</strong></p>
  </dt>
  <dd>
    <p>Be quiet - do not chat while working</p>
  </dd>
  <dt>
    <p><strong>-u,--unicode-normalization</strong> &lt;mode&gt;</p>
  </dt>
  <dd>
    <p>Select Unicode normalization mode. The choices of mode are: <em>c</em> for normalization form C (NFC), <em>d</em> for normalization form D (NFD), <em>C</em> for normalization form KC (NFKC), <em>D</em> for normalization form KD (NFKD), and <em>n</em> for no normalization. The default is NFC.</p>
  </dd>

</dl>

<h3>Key specific options</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-e,--character-range</strong> &lt;m,n&gt;</p>
  </dt>
  <dd>
    <p>Sort on characters m through n. Positive indices start from one. Negative indices indicate position with respect to the end of the record. For example, the range <em>3,-2</em> consists of the third character through the next-to-last character.</p>
  </dd>
  <dt>
    <p><strong>-n,--position</strong> &lt;POS&gt;(,&lt;POS&gt;)</p>
  </dt>
  <dd>
    <p>Sort on the specified POS or contiguous range of POSs, where a POS is of the form &lt;field number&gt;(.&lt;character number&gt;). Both counts begin at one. Field numbers but not character numbers may be negative, in which case they are counted from the right. Thus, 1.2 is the second character of the first field; -2.1 is the first character of the next to last field.</p>
  </dd>
  <dt>
    <p><strong>-t,--tag</strong> &lt;tag regexp&gt;</p>
  </dt>
  <dd>
    <p>Sort on the field with the specified tag</p>
  </dd>
  <dt>
    <p><strong>-o,--optional</strong> &lt;comparison&gt;</p>
  </dt>
  <dd>
    <p>Optional: compare as (&lt;,=,&gt;) to present key if absent</p>
  </dd>
  <dt>
    <p><strong>-C,--fold-case</strong></p>
  </dt>
  <dd>
    <p>Fold case</p>
  </dd>
  <dt>
    <p><strong>-z,--fold-case-turkic</strong></p>
  </dt>
  <dd>
    <p>Fold case with additional Turkic conversions.</p>
  </dd>
  <dt>
    <p><strong>-c,--comparison-type</strong> &lt;comparison type&gt;</p>
  </dt>
  <dd>
    <p>a(ngle),l(exicographic), i(so8601 date/time), t(ime), D(omain name/email address), d(ate), m(onth name), n(umeric), N(umeric string),s(ize), h(hybrid), r(andom)</p>
  </dd>
  <dt>
    <p><strong>-y,--number-system</strong> &lt;number system&gt;</p>
  </dt>
  <dd>
    <p>Specifies the number system expected for this key. This affects only numeric and numeric string keys. There are two special values. If the number system is "all", records may contain any number system that msort can interpret. Different records may contain different number systems. If the number system is "any", records may contain any writing system that msort can interpret, but all records must make use of the same number system. <em>msort</em> sets the number system on the basis of the first record.</p>
  </dd>
  <dt>
    <p><strong>-f,--date-format</strong> &lt;date format&gt;</p>
  </dt>
  <dd>
    <p>Permutation of ymd with separators, e.g. y-m-d for international date format, m/d/y for American date format, or a permutation of yd with separators, e.g. y-d, for day-of-year dates. All three components may be numbers in any available number system. The month field may also be a month name, determined by the same devices as independent month name fields.</p>
  </dd>
  <dt>
    <p><strong>-W,--sort-order-file-separators</strong> &lt;file name&gt;</p>
  </dt>
  <dd>
    <p>Read the list of characters to be treated as separators in the sort order definition file.</p>
  </dd>
  <dt>
    <p><strong>-S,--substitutions</strong> &lt;file name&gt;</p>
  </dt>
  <dd>
    <p>Read substitutions from named file</p>
  </dd>
  <dt>
    <p><strong>-s,--sort-order</strong> &lt;file name&gt;|&lt;locale name&gt;|"locale"</p>
  </dt>
  <dd>
    <p>If the argument is a file name, it is taken to be a sort order file and the sort order for the key is read from the file. If the argument is a locale name, the collation rules for that locale are used. If the argument is "locale", the collation rules for the current locale are used.</p>
  </dd>
  <dt>
    <p><strong>-T,--transformations</strong> &lt;(d)(e)(s)&gt;</p>
  </dt>
  <dd>
    <p>Apply the specified transformations. <em>d</em> specifies that diacritics are to be stripped. Separately encoded combining diacritics are removed. Characters with diacritics represented by	single codepoints are replaced with the corresponding ASCII character without the diacritics, if there is one. <em>e</em> specifies that enclosed characters, that is, characters within circles or parentheses, are to be replaced with the corresponding plain ASCII character if there is one. <em>s</em> specifies that characters in special styles are to be replaced with the corresponding plain ASCII character if there is one. Stylistic equivalents include: small capitals (e.g. U+1D04), script forms (e.g. U+212C), black letter forms (e.g. U+212D), Arabic presentation forms (e.g. U+FE81), Hebrew presentation forms (e.g. U+FB1D), fullwidth forms (e.g. U+FF01), halfwidth forms (e.g. U+FF7B), and the mathematical alphanumeric symbols (e.g. U+1D400).</p>
  </dd>
  <dt>
    <p><strong>-x,--exclusion-file</strong> &lt;file name&gt;</p>
  </dt>
  <dd>
    <p>Read exclusions from named file</p>
  </dd>
  <dt>
    <p><strong>-X,--exclude-characters</strong> &lt;exclusions&gt;</p>
  </dt>
  <dd>
    <p>Exclude specified characters</p>
  </dd>
  <dt>
    <p><strong>-i,--invert-locally</strong></p>
  </dt>
  <dd>
    <p>Invert sense of comparisons</p>
  </dd>
  <dt>
    <p><strong>-R,--reverse-key</strong></p>
  </dt>
  <dd>
    <p>Reverse characters of key</p>
  </dd>
  <dt>
    <p><strong>-A,--first-character-only</strong></p>
  </dt>
  <dd>
    <p>Ignore all but the first character of the field, after substitutions, exclusions, etc.</p>
  </dd>

</dl>
<p>Note: long options may not be available on your system.</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO msort&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/sort.1.html"><strong>sort</strong>(1)</a>, <strong>uninum</strong>(3)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Bill Poser (billposer@alum.mit.edu)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">LICENSE</h2>
        <div class="sectioncontent">
<p>GNU General Public License (http://www.gnu.org/licenses/gpl.html), version 3.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="msmtp.1.html"><span aria-hidden="true">&larr;</span> msmtp.1: An smtp client</a></li>
   <li class="next"><a href="msort-gui.1.html">msort-gui.1: Frontend for msort utility <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
