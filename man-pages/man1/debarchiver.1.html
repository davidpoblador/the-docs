<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>debarchiver: Tool to sort debian packages into a package archive.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Tool to sort debian packages into a package archive.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="debarchiver (1) manual">
  <meta name="twitter:description" content="Tool to sort debian packages into a package archive.">
  <meta name="twitter:image" content="https://www.carta.tech/images/debarchiver-debarchiver-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/debarchiver.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="debarchiver (1) manual" />
  <meta property="og:description" content="Tool to sort debian packages into a package archive." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/debarchiver-debarchiver-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">debarchiver<small> (1)</small></h1>
        <p class="lead">Tool to sort debian packages into a package archive.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debarchiver.1.html">
      <span itemprop="name">debarchiver: Tool to sort debian packages into a package archive.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/debarchiver/">
      <span itemprop="name">debarchiver</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/debarchiver.1.html">
      <span itemprop="name">debarchiver: Tool to sort debian packages into a package archive.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>debarchiver [options]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>The debian archiver is a tool that installs debian packages into a file structure suitable for apt-get, aptitude, dselect and similar tools. This can be used for updating the Debian system. It is meant to be used by local administrators that need special packages, or tweaked versions to ease administration.</p><p>The file structure is based on the potato file structure and does not support package pools.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-a | --autoscan</strong>
  </dt>
  <dd>
    <p>Does both --autoscanpackages and --autoscansources.</p>
  </dd>
  <dt>
    <strong>--autoscanall</strong>
  </dt>
  <dd>
    <p>Same as --scanall --autoscan.</p>
  </dd>
  <dt>
    <strong>--autoscanpackages</strong>
  </dt>
  <dd>
    <p>Automatically run dpkg-scanpackages after all new packages are installed.</p>
  </dd>
  <dt>
    <strong>--autoscansources</strong>
  </dt>
  <dd>
    <p>Automatically run dpkg-scansources after all new packages are installed.</p>
  </dd>
  <dt>
    <strong>-b | --bzip</strong>
  </dt>
  <dd>
    <p>Create bzip2 compressed Packages.bz2 and Sources.bz2 files.</p>
  </dd>
  <dt>
    <strong>--cachedir</strong> dir
  </dt>
  <dd>
    <p>The apt-ftparchive package cache directory, if --index is used. The default is $cachedir.</p>
  </dd>
  <dt>
    <strong>--cinstall</strong> dir
  </dt>
  <dd>
    <p>Where the .changes file will be installed to. Use the empty string to remove the .changes file instead. The default is $cinstall.</p>
  </dd>
  <dt>
    <strong>--configfile</strong> file
  </dt>
  <dd>
    <p>Specifies an extra configuration file to read. Will be read after etc configuration and after user configuration files.</p>
  </dd>
  <dt>
    <strong>--copycmd</strong>
  </dt>
  <dd>
    <p>The install command to use where the default is $copycmd. Both packages and .changes files are installed using this command.</p>
  </dd>
  <dt>
    <strong>-d | --dest | --destdir</strong> dir
  </dt>
  <dd>
    <p>Destination directory. The base directory where all the distribution packages will reside and where the $distrib/$major/$arch/$section directory structure will be created. The default is $destdir, relative to the input directory.</p>
  </dd>
  <dt>
    <strong>--debug-level | --dl</strong> level
  </dt>
  <dd>
    <p>What information that should be printed. 1=critical, 2=error, 3=normal, 4=message, 5=debug, 6=verbose debug (modules).</p>
  </dd>
  <dt>
    <strong>--distinputcriteria</strong>
  </dt>
  <dd>
    <p>The criteria for what binary packages should be installed even if they do not have a .changes file. The default is $distinputcriteria.</p>
  </dd>
  <dt>
    <strong>--gpgkey</strong>
  </dt>
  <dd>
    <p>The GnuPG key to use to sign the archive.</p>
  </dd>
  <dt>
    <strong>--gpgpassfile</strong>
  </dt>
  <dd>
    <p>The file that provides the password to GnuPG.</p>
  </dd>
  <dt>
    <strong>--help</strong>
  </dt>
  <dd>
    <p>Prints this information.</p>
  </dd>
  <dt>
    <strong>-i | --input | --indir | --inputdir</strong> dir
  </dt>
  <dd>
    <p>This is the directory where debarchiver will look for new package versions and corresponding *.changes files that should be installed to the --dest directory. The default is $instdir.</p>
  </dd>
  <dt>
    <strong>--ignoredestcheck</strong>
  </dt>
  <dd>
    <p>Force install of .changes file even if some files specified in the .changes file already exists with wrong size or md5 hash.</p>
  </dd>
  <dt>
    <strong>--incompletetime</strong>
  </dt>
  <dd>
    <p>The time to allow .changes file to be incomplete in seconds. The default is 24 hours.</p>
  </dd>
  <dt>
    <strong>--index | -x</strong>
  </dt>
  <dd>
    <p>Automatically run apt-ftparchive after all new packages are installed. Use this *or* --autoscan, not both.</p>
  </dd>
  <dt>
    <strong>--instcmd</strong>
  </dt>
  <dd>
    <p>\s-1DEPRECATED\s0!</p>
  </dd>
  <dt>
    <strong>--lockfile</strong> file
  </dt>
  <dd>
    <p>The lockfile to use. The default is $lockfile.</p>
  </dd>
  <dt>
    <strong>--mailcmd</strong>
  </dt>
  <dd>
    <p>The command to use to send emails. The default behavior is to use the sendmail command.</p>
  </dd>
  <dt>
    <strong>--mailformat</strong>
  </dt>
  <dd>
    <p>Defines the format to be used to send emails with, by the command specified by --mailfrom. Only 'sendmail' and 'mail' formats are supported. By default debarchiver assumes 'sendmail' format. The argument can be one of the following:</p>
<pre>
  sendmail = use of the sendmail format
  mail     = use of the mail format
</pre>

  </dd>
  <dt>
    <strong>--mailfrom</strong>
  </dt>
  <dd>
    <p>Specify mail sender.</p>
  </dd>
  <dt>
    <strong>--majordefault</strong>
  </dt>
  <dd>
    <p>Default major section to use. The default is 'main'.</p>
  </dd>
  <dt>
    <strong>--movecmd</strong>
  </dt>
  <dd>
    <p>Command to move files (currently not used at all).</p>
  </dd>
  <dt>
    <strong>--nosort</strong>
  </dt>
  <dd>
    <p>Do not sort packages.</p>
  </dd>
  <dt>
    <strong>--nostructurefix</strong>
  </dt>
  <dd>
    <p>Do not create directories and touch Package files.</p>
  </dd>
  <dt>
    <strong>-o | --addoverride</strong>
  </dt>
  <dd>
    <p>Automatically add new packages to the override file.</p>
  </dd>
  <dt>
    <strong>--quit-level</strong> level
  </dt>
  <dd>
    <p>On what level to quit the application, see debug level.</p>
  </dd>
  <dt>
    <strong>--rmcmd</strong>
  </dt>
  <dd>
    <p>The remove command to use. The default is $rmcmd. This can be used to move away the old packages to some other place.</p>
  </dd>
  <dt>
    <strong>--scanall</strong>
  </dt>
  <dd>
    <p>Scan all distributions, sections, etc.</p>
  </dd>
  <dt>
    <strong>--scandetect | -s</strong>
  </dt>
  <dd>
    <p>Scan using 'apt-ftparchive' or 'dpkg-scan*' (dpkg-scanpackages and dpkg-scansources) depending on what is installed on the system. This is the recommended way. Only use --index or --autoscan if you know what you are doing.</p>
  </dd>
  <dt>
    <strong>--scanonly</strong>
  </dt>
  <dd>
    <p>Same as --nosort --nostructurefix.</p>
  </dd>
  <dt>
    <strong>-v | --version</strong>
  </dt>
  <dd>
    <p>Prints the version string.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION FILES</h2>
        <div class="sectioncontent">
<p>You can also place configuration files with the following names (in the following order) /etc/debarchiver.conf, ~/.debarchiver.conf and input.conf (relative to input directory) that will be read before the arguments to this program will be parsed. In the above files you can change the following variables:</p><p>The configuration files are read as perl modules they should end with a true value. Therefore they should always end with a line that states '1;'. If set to 0 no bzip2 files will be generated. If set to 1 bzip2 files will be generated. The cache directory for apt-ftparchive used if --index is used. Where the .changes files are installed (see --cinstall above). The install command (see --copycmd). The destination directory (see --destdir above). The criteria for which packages that should be installed even if it does not have a .changes file. The default is $distinputcriteria. Directories (distribution =&gt; dir) to be searched for extra binary packages that does not need a .changes file to be installed but match $distinputcriteria.  The default is to accept kernel packages generated by make-kpkg (which does not generate a .changes file). Additionally binary packages with a valid .changes file will have the default distribution overridden to be the current queue directory. This cause uploads to a specific queue to place the package into that distribution directly. The GnuPG key to use to sign the archive. If this variable is set, the Release file for each changed section of the archive will be signed with GnuPG using $gpgkey as the key \s-1ID\s0.  Unless you use a key that has no passphrase or use $gpgpassfile, you will need to run <strong>debarchiver</strong> interactively when using this option so that you can supply the passphrase. The file that contains the passphrase for the GnuPG key. See $gpgkey for more information. Force install of .changes file even if some files specified in the .changes file already exist with wrong size or md5 hash. Default to 0 (do not ignore). Time to allow .changes files to be incomplete in seconds. Useful for slow uploads. The default is 24 hours. The input directory (no effect in $inputconfigfile). The lockfile to use. The default is $lockfile. An array of strings that will receive emails. If the string contains an email address that one is used. If it contains an incomplete email address, i.e. @hostname, the username owning the file is used @ the hostname specified. If no '@' character is found in the string, it is considered as a field in the .changes file. Such a field can for example be Maintainer or Uploaders. The format to use to send emails (see --mailformat above). Specifies the sender of emails. The default is none ("") Default major section (see --majordefault above). The move command (see --movecmd). Additional information to add to generated Release files. Supported keys are 'origin', 'label', and 'description'. The remove command (see --rmcmd above). Choose to enable (1) or disable (0) signature verification for packages uploaded into $inputdir (not %distinputdirs). Choose to enable (1) or disable (2) signature verification for packages uploaded into %distinputdirs. This works independently from $verifysignatures. It allows the user to tell debarchiver to use a specific command to send emails. You may also want to specify the mailformat your mail command handles by setting the value of the $mailformat variable. Using the --mailcmd option on the command line will superseed this variable.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PACKAGE INDEXING</h2>
        <div class="sectioncontent">
<p>There are two ways to generate the indexes that <strong>apt-get</strong> relies on.</p><p>Using <strong>--autoscanpackages</strong>, <strong>--autoscansources</strong>, or <strong>--autoscan</strong> will use <strong>dpkg-scanpackages</strong> and <strong>dpkg-scansources</strong>. This will generate the Packages and Sources files, but will not generate Contents files and can be slow with a large repository.</p><p>Alternatively, the <strong>--index</strong> <em>config</em> option will call <strong>apt-ftparchive</strong> to index the package tree. <strong>apt-ftparchive</strong> can also generate Contents files (for use with <strong>apt-file</strong>), and can optionally use a cache of package information to speed up multiple runs.  The <strong>apt-ftparchive</strong> configuration file will be generated automatically. This is however not fully tested.</p><p>You should use either <strong>--autoscanpackages</strong> and <strong>--autoscansources</strong> or <strong>--index</strong>, not both, as they do basically the same thing.</p><p>The default action (and the recommended) is <strong>--scandetect</strong> that probe for installed software and use the best choice depending on what software you have installed (chooses between --index and --autoscan right now).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REJECT</h2>
        <div class="sectioncontent">
<p>Changes files are rejected in the following conditions:  * A file that is about to be installed already exist in the archive and is not identical to the one that is about to be installed.  * Changes file is incomplete and has been there for $incompletetime time.  * A file that is part of the Changes file is not yet big enough and the changes file has been there for $incompletetime time.  * A file that is part of the Changes file is bigger than specified.  * Verify signatures is enabled and signature do not match.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p><strong>/etc/debarchiver.conf</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO debarchiver&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/apt-ftparchive.1.html"><strong>apt-ftparchive</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Ola Lundqvist &lt;ola@inguza.com&gt;</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="deb3.1.html"><span aria-hidden="true">&larr;</span> deb3.1: Convert debian source package to new 3.0 (quilt) format</a></li>
   <li class="next"><a href="debc.1.html">debc.1: View contents of a generated debian package <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
