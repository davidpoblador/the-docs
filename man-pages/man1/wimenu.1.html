<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>wimenu: The wmii menu program</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="The wmii menu program">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="wimenu (1) manual">
  <meta name="twitter:description" content="The wmii menu program">
  <meta name="twitter:image" content="https://www.carta.tech/images/wmii-wimenu-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/wimenu.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="wimenu (1) manual" />
  <meta property="og:description" content="The wmii menu program" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/wmii-wimenu-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">wimenu<small> (1)</small></h1>
        <p class="lead">The wmii menu program</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/wimenu.1.html">
      <span itemprop="name">wimenu: The wmii menu program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/wmii/">
      <span itemprop="name">wmii</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/wimenu.1.html">
      <span itemprop="name">wimenu: The wmii menu program</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>wimenu [<em>-i</em>] [<em>-h </em><em>&lt;history file&gt;</em>] [<em>-n </em><em>&lt;history count&gt;</em>] [<em>-p </em><em>&lt;prompt&gt;</em>]</p><p>wimenu -v</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>wimenu</strong> is <strong>wmii</strong>'s standard menu program. It's used extensively by <strong>wmii</strong> and related programs to prompt the user for input. The standard configuration uses it to launch programs, select views, and perform standard actions. It supports basic item completion and history searching.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BASIC ARGUMENTS</h2>
        <div class="sectioncontent">
<p>Normal use of <strong>wimenu</strong> shouldn't require any arguments other than the following. More advanced options are documented below.</p>
<dl class='dl-vertical'>
  <dt>
    <p>-h <em>&lt;history file&gt;</em></p>
  </dt>
  <dd>
    <p>Causes <strong>wimenu</strong> to read its command history from <em>&lt;history file&gt;</em> and to append its result to that file if <em>-n</em> is given.</p>
  </dd>
  <dt>
    <p>-i</p>
  </dt>
  <dd>
    <p>Causes matching of completion items to be performed in a case insensitive manner.</p>
  </dd>
  <dt>
    <p>-n <em>&lt;count&gt;</em></p>
  </dt>
  <dd>
    <p>Write at most <em>&lt;count&gt;</em> items back to the history file. The file is never modified unless this option is provided. Duplicates are filtered out within a 20 item sliding window before this limit is imposed.</p>
  </dd>
  <dt>
    <p>-p <em>&lt;prompt&gt;</em></p>
  </dt>
  <dd>
    <p>The string <em>&lt;prompt&gt;</em> will be show before the input field when the menu is opened.</p>
  </dd>
  <dt>
    <p>-r <em>&lt;rows&gt;</em></p>
  </dt>
  <dd>
    <p>Display completion items as a vertical list, one per row, rather than a horizontal list, side-by-side. A maximum of <em>&lt;rows&gt;</em> rows will be displayed.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ADVANCED ARGUMENTS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p>-a</p>
  </dt>
  <dd>
    <p>The address at which to connect to <strong>wmii</strong>.</p>
  </dd>
  <dt>
    <p>-K</p>
  </dt>
  <dd>
    <p>Prevents <strong>wimenu</strong> from initializing its default key bindings. WARNING: If you do this, be sure to bind a key with the Accept or Reject action, or you will have no way to exit <strong>wimenu</strong>.</p>
  </dd>
  <dt>
    <p>-k <em>&lt;key file&gt;</em></p>
  </dt>
  <dd>
    <p>Key bindings will be read from <em>&lt;key file&gt;</em>. Bindings appear as:</p><p><em>&lt;key&gt;</em> [<em>action</em>] [<em>args</em>]</p><p>where <em>&lt;key&gt;</em> is a key name, similar to the format used by wmii. For action and args, please refer to the default bindings, provided in the source distribution under cmd/menu/keys.txt, or use <strong>strings</strong>(1) on the <strong>wimenu</strong> executable (this level of customization is reserved for the determined).</p>
  </dd>
  <dt>
    <p>-s <em>&lt;screen&gt;</em></p>
  </dt>
  <dd>
    <p>Suggests that the menu open on Xinerama screen <em>&lt;screen&gt;</em>.</p>
  </dd>
  <dt>
    <p>-S <em>&lt;command separator&gt;</em></p>
  </dt>
  <dd>
    <p>Causes each input item to be split at the first occurance of <em>&lt;command sep&gt;</em>. The text to the left of the separator is displayed as a menu option, and the text to the right is displayed when a selection is made.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">KEY BINDINGS</h2>
        <div class="sectioncontent">
<p><strong>wimenu</strong>'s default key bindings are based largely on the movement keys of vi and the standard UNIX shell input bindings.</p>
<dl class='dl-vertical'>
  <dt>
    <p>Return, C-j, C-m</p>
  </dt>
  <dd>
    <p>Accept the input, and select the first matching completion if the cursor is at the end of the input.</p>
  </dd>
  <dt>
    <p>S-Return, C-S-j, C-S-m</p>
  </dt>
  <dd>
    <p>Accept the input literally.</p>
  </dd>
  <dt>
    <p>Esc, C-[</p>
  </dt>
  <dd>
    <p>Quit without returning any output, and exit with non-zero status.</p>
  </dd>
  <dt>
    <p>A-p</p>
  </dt>
  <dd>
    <p>Paste the PRIMARY selection.</p>
  </dd>
  <dt>
    <p>Left, C-b</p>
  </dt>
  <dd>
    <p>Move backward one character.</p>
  </dd>
  <dt>
    <p>Right, C-f</p>
  </dt>
  <dd>
    <p>Move forward one character.</p>
  </dd>
  <dt>
    <p>A-b</p>
  </dt>
  <dd>
    <p>Move backward one word.</p>
  </dd>
  <dt>
    <p>A-f</p>
  </dt>
  <dd>
    <p>Move forward one word.</p>
  </dd>
  <dt>
    <p>C-a</p>
  </dt>
  <dd>
    <p>Move to the beginning of the line.</p>
  </dd>
  <dt>
    <p>C-e</p>
  </dt>
  <dd>
    <p>Move to the end of the line.</p>
  </dd>
  <dt>
    <p>C-p, Up</p>
  </dt>
  <dd>
    <p>Move backward through the input history.</p>
  </dd>
  <dt>
    <p>C-n, Down</p>
  </dt>
  <dd>
    <p>Move forward through the input history.</p>
  </dd>
  <dt>
    <p>Backspace, C-h</p>
  </dt>
  <dd>
    <p>Delete the previous character.</p>
  </dd>
  <dt>
    <p>C-Backspace, C-w</p>
  </dt>
  <dd>
    <p>Delete the previous word.</p>
  </dd>
  <dt>
    <p>C-u</p>
  </dt>
  <dd>
    <p>Delete the previous portion of the line.</p>
  </dd>
  <dt>
    <p>Tab, C-i¸ A-l</p>
  </dt>
  <dd>
    <p>Select the next completion.</p>
  </dd>
  <dt>
    <p>S-Tab, C-S-i, A-h</p>
  </dt>
  <dd>
    <p>Select the previous completion.</p>
  </dd>
  <dt>
    <p>PageUp, A-k</p>
  </dt>
  <dd>
    <p>Select the previous completion page.</p>
  </dd>
  <dt>
    <p>PageDown, A-j</p>
  </dt>
  <dd>
    <p>Select the next completion page.</p>
  </dd>
  <dt>
    <p>Home, A-g</p>
  </dt>
  <dd>
    <p>Select the first completion page.</p>
  </dd>
  <dt>
    <p>End, A-S-g</p>
  </dt>
  <dd>
    <p>Select the last completion page.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CUSTOM COMPLETION</h2>
        <div class="sectioncontent">
<p>Custom, multipart completion data may be proveded by an external application. When the standard input is not a TTY, processing of a set of completions stops at every blank line. After the first new line or EOF, <strong>wimenu</strong> displays the first set of menu items, and waits for further input. The completion items may be replaced by writing out a new set, again followed by a new line. Every set following the first must begin with a line containing a single decimal number specifying where the new completion results are to be spliced into the input. When an item is selected, text from this position to the position of the caret is replaced.</p><h3>ARGUMENTS</h3>

<dl class='dl-vertical'>
  <dt>
    <p>-c</p>
  </dt>
  <dd>
    <p>Prints the contents of the input buffer each time the user inputs a character, as such:</p><p><em>&lt;text before caret&gt;</em>&#92;n<em>&lt;text after caret&gt;</em>&#92;n</p>
  </dd>

</dl>

<h3>EXAMPLE</h3>
<p>Let's assume that a script would like to provide a menu with completions first for a command name, then for arguments to that command. Given three commands and argument sets,</p>
<dl class='dl-vertical'>
  <dt>
    <p>foo</p>
  </dt>
  <dd>
    <p>1, 2, 3</p>
  </dd>
  <dt>
    <p>bar</p>
  </dt>
  <dd>
    <p>4, 5, 6</p>
  </dd>
  <dt>
    <p>baz</p>
  </dt>
  <dd>
    <p>7, 8, 9</p>
  </dd>

</dl>
<p>the following script provides the appropriate completions:</p>
<pre>
#!/bin/sh &#92;-f

rm fifo
mkfifo fifo

# Open wimenu with a fifo as its stdin
wimenu &#92;-c &lt;fifo | awk '
	BEGIN {
		# Define the completion results
		cmds = "foo&#92;nbar&#92;nbaz&#92;n"
		cmd[<em>"foo"</em>] = "1&#92;n2&#92;n3&#92;n"
		cmd[<em>"bar"</em>] = "4&#92;n5&#92;n6&#92;n"
		cmd[<em>"baz"</em>] = "7&#92;n8&#92;n9&#92;n"

		# Print the first set of completions to wimenu’s fifo
		fifo = "fifo"
		print cmds &gt;fifo; fflush(fifo)
	}

        { print; fflush() }

	# Push out a new set of completions
	function update(str, opts) {
		print length(str) &gt;fifo # Print the length of the preceding string
		print opts &gt;fifo        # and the options themself
		fflush(fifo)
	}

	# Ensure correct argument count with trailing spaces
	/ $/ { $0 = $0 "#"; }

	{ # Process the input and provide the completions
		if (NF == 1)
			update("", cmds)        # The first arg, command choices
		else
			update($1 " ", cmd[<em>$1</em>]) # The second arg, command arguments
		# Skip the trailing part of the command
		getline rest
	}
' | tail &#92;-1
</pre>
<p>In theory, this facility can be used for myriad purposes, including hijacking the programmable completion facilities of most shells. See also the provided examples[<em>1</em>].</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>$WMII_ADDRESS</strong></p>
  </dt>
  <dd>
    <p>The address at which to connect to wmii.</p>
  </dd>
  <dt>
    <p><strong>$NAMESPACE</strong></p>
  </dt>
  <dd>
    <p>The namespace directory to use if no address is provided.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO wimenu&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/wmii.1.html"><strong>wmii</strong>(1)</a>, <a href="../man1/wmiir.1.html"><strong>wmiir</strong>(1)</a>, <strong>wistrug</strong>(1), <a href="../man1/wmii9menu.1.html"><strong>wmii9menu</strong>(1)</a>, <strong>dmenu</strong>(1)</p><p>[<em>1</em>] http://www.suckless.org/wiki/wmii/tips/9p_tips</p><p>[<em>2</em>] /usr/share/doc/wmii/examples</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="wildmidi.1.html"><span aria-hidden="true">&larr;</span> wildmidi.1: Example player for libwildmidi</a></li>
   <li class="next"><a href="win.1.html">win.1: Terminal emulator <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
