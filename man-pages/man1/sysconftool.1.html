<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sysconftool: Install configuration files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Install configuration files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sysconftool (1) manual">
  <meta name="twitter:description" content="Install configuration files">
  <meta name="twitter:image" content="https://www.carta.tech/images/sysconftool-sysconftool-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/sysconftool.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sysconftool (1) manual" />
  <meta property="og:description" content="Install configuration files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/sysconftool-sysconftool-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sysconftool<small> (1)</small></h1>
        <p class="lead">Install configuration files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sysconftool.1.html">
      <span itemprop="name">sysconftool: Install configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/sysconftool/">
      <span itemprop="name">sysconftool</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/sysconftool.1.html">
      <span itemprop="name">sysconftool: Install configuration files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>sysconftool</strong> [options] [filename.dist...]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sysconftool</strong> is a development utility that helps to install application configuration files. <strong>sysconftool</strong> allows an existing application to be upgraded without losing the older version&apos;s configuration settings.</p><p>A new version of an application often introduces new configuration settings. Sometimes obsolete configuration settings are removed. Existing configuration settings may also now have additional options, or certain options are no longer valid any more. Because of this, an application upgrade usually installs a fresh set of configuration files, containing a default configuration that&apos;s known to work. Keeping the existing files carries the risk of the application failing to function properly due to a configuration that is no longer valid.</p><p>A typical application installation script copies over configuration files with default settings. Existing configuration files are backed up or overwritten. With <strong>sysconftool</strong>, an application will install a configuration file names filename.dist, instead of filename. Then, the application&apos;s installation script runs <strong>sysconftool</strong>. <strong>sysconftool</strong> copies filename.dist to filename, but also checks if filename from an older version of the application already exist. If filename an older <strong>sysconftool</strong>-installed configuration file, it&apos;s configuration settings replace the defaults in filename.dist, which is then subsequently installed as filename. <strong>sysconftool</strong> is smart enough to:</p><p>Remove configuration settings that no longer exist.</p><p>Add new configuration settings.</p><p>Do not preserve an older configuration setting if there&apos;s a possibility that it is no longer valid in the new version of the application.</p><p><strong>sysconftool</strong> produces a short report when it runs. The report lists every configuration setting in $filename.dist, and its disposition. The possible dispositions are:</p><p>new</p><p>This a new configuration setting that wasn&apos;t found in the existing $filename.</p><p>unchanged</p><p>This setting&apos;s value was taken from the existing $filename, replacing the default value provided by $filename.dist.</p><p>UPDATED</p><p>This setting has been previously set in $filename, but the setting&apos;s value may no longer be valid in the new version of the application, so its default value is taken from $filename.dist, and it may need to be manually adjusted.</p><p>All this logic is based on some additional metadata that must be included in each configuration file, that <strong>sysconftool</strong> reads. For this to work, both the old and the new version of the application must be <strong>sysconftool</strong>-ized. <strong>sysconftool</strong> operates in a fail-safe mode. If the old version did not use <strong>sysconftool</strong>, $filename is backed up to $filename.bak, and $filename is copied to $filename. This is what would essentially happen anyway without <strong>sysconftool</strong>. The local configuration needs to be reentered into $filename, so nothing is lost. However, the next upgrade will see <strong>sysconftool</strong> do its job.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ADDING SYSCONFTOOL SUPPORT TO AN EXISTING APPLICATION</h2>
        <div class="sectioncontent">
<p><strong>sysconftool</strong> requires the application to use <strong>autoconf</strong> and <strong>automake</strong>. The first step is to run the <strong>sysconftoolize</strong> script from the application&apos;s source directory. <strong>sysconftoolize</strong> creates a symbolic link to the <strong>sysconftool</strong> script from the current directory, and appends a default install-configure rule to Makefile.am. <strong>sysconftoolize</strong> with the <strong>--copy</strong> option copies the script, instead of creating a symbolic link.</p><p>After running <strong>sysconftoolize</strong> the macro AC_PROG_SYSCONFTOOL must be manually added to configure.in, and Makefile.am must be modified as follows.</p><p>Makefile.am must be modified to install configuration files as filename.dist instead of filename. The default install-configure rule assumes that sysconf_DATA lists all configuration files in sysconfdir, and runs <strong>sysconftool</strong> on them. This will usually have to be modified, according to the application&apos;s individual needs. Finally, Makefile.am must be modified to distribute the <strong>sysconftool</strong> script in the application&apos;s source distribution. Adding <strong>sysconftool</strong> to EXTRA_DIST is what&apos;s needed in most cases.</p><p>Finally, certain <strong>sysconftool</strong> magic incantations must be added to the application&apos;s configuration files, see \m[blue]<strong></strong><a href="../man7/sysconftool.7.html"><strong>sysconftool</strong>(7)</a>\m[]\s-2\u[1]\d\s+2 for more information. The last step involves updating the application&apos;s INSTALL instructions, so that the application can be properly installed. The following instructions must be added to INSTALL:</p><p>Run "make install-configure" after "make install".</p><p>If this is the first <strong>sysconftool</strong>-ized version, DO NOT simply copy over the old configuration files, and overwrite the new configuration files. Instead, manually edit each configuration file, and manually reset each configuration setting. This is because the new configuration files include the magic code for <strong>sysconftool</strong>, which would be lost when the configuration file is overwritten.</p><p>If this is not the first <strong>sysconftool</strong>-ized version, the output of <strong>make install-configure</strong> must be reviewed in order to manually adjust or tweak what <strong>sysconftool</strong> did. Many large configuration files can result in lots of output, so the output of <strong>make install-configure</strong> should be saved into a file, and reviewed.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sysconftool&hellip;</h2>
        <div class="sectioncontent">
<p>\m[blue]<strong></strong><a href="../man1/sysconftoolcheck.1.html"><strong>sysconftoolcheck</strong>(1)</a>\m[]\s-2\u[2]\d\s+2, \m[blue]<strong></strong><a href="../man7/sysconftool.7.html"><strong>sysconftool</strong>(7)</a>\m[]\s-2\u[1]\d\s+2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>Double Precision, Inc.</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
     1.
  </dt>
  <dd>
    <p><a href="../man7/sysconftool.7.html"><strong>sysconftool</strong>(7)</a></p><p>[set $man.base.url.for.relative.links]/sysconftool.7.html</p>
  </dd>
  <dt>
     2.
  </dt>
  <dd>
    <p><a href="../man1/sysconftoolcheck.1.html"><strong>sysconftoolcheck</strong>(1)</a></p><p>[set $man.base.url.for.relative.links]/sysconftoolcheck.1.html</p>
  </dd>

</dl>

        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sysbench.1.html"><span aria-hidden="true">&larr;</span> sysbench.1: A modular, cross-platform and multi-threaded benchmark tool.</a></li>
   <li class="next"><a href="sysconftoolcheck.1.html">sysconftoolcheck.1: Check a sysconftool configuration file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
