<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pvm_shmd: Pvm shared memory (2) daemon</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Pvm shared memory (2) daemon">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pvm_shmd (1PVM) manual">
  <meta name="twitter:description" content="Pvm shared memory (2) daemon">
  <meta name="twitter:image" content="https://www.carta.tech/images/pvm-dev-pvm_shmd-1PVM.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1PVM/pvm_shmd.1PVM.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pvm_shmd (1PVM) manual" />
  <meta property="og:description" content="Pvm shared memory (2) daemon" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/pvm-dev-pvm_shmd-1PVM.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pvm_shmd<small> (1PVM)</small></h1>
        <p class="lead">Pvm shared memory (2) daemon</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1PVM/">
      <span itemprop="name">MISSING SECTION</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1PVM/pvm_shmd.1PVM.html">
      <span itemprop="name">pvm_shmd: Pvm shared memory (2) daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/pvm-dev/">
      <span itemprop="name">pvm-dev</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1PVM/pvm_shmd.1PVM.html">
      <span itemprop="name">pvm_shmd: Pvm shared memory (2) daemon</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>pvm_shmd [ -options ] [ hostfile ]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><em>Pvm_shmd</em> is a daemon process which maintains and handles the usage of shared memory resources (memory segments, semaphores, message queues) on a particular PVM host. One <em>pvm_shmd</em> must run on each host in a virtual machine that wants to use the shmd shared memory message passing layer. The <em>shmd</em> message passing layer allows local processes to a host to use shared memory for message passing on that host ONLY. See the shmd directory README for further notes and restrictions.</p><p>The daemon can be started manually as with any other PVM task. Only one <em>pvm_shmd</em> can be active per host. If the <em>pvm_shmd</em> detects another <em>pvm_shmd</em> it will shutdown.</p><p>The <em>pvm_shmd</em> can be killed from the PVM console by using the reset command. Local and remote pvm_shmds can also be started from the PVM console program <em>pvm</em>.</p><p>The name of the daemon executable is <em>pvm_shmd</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Shared Resource Usage</h2>
        <div class="sectioncontent">
<p>The <em>pvm_shmd</em> will attempt to create upto <em>MAXSEG</em> shared memory segments of upto <em>MAXPAGES</em> memory pages in size. The size of each memory page is architecture dependent(see getpagesize(3C)). The segments are then numbered 0..N-1 where N is the number of segments created. The first segement (0) has the shared memory control structure placed in its head. This structure allows alien processes to located the other shared memory segments and any required controlling information.</p><p>The message passing layer, allocates memory from these segments asynchronously without any interaction with the <em>pvm_shmd</em> using semaphores to protect data during updates to any associated structures. For each segment there is an associated page map of which processes have currently locked a page. Each page map for a segment has a separate semaphore protecting it. The semaphores are accessed with the SEM_UNDO flag set so that if a process holding a semaphore should die, the OS (should) reset the semaphore automatically, thus allowing any waiting/blocked processes to continue.</p><p>The <em>pvm_shmd</em> only maintains the segments and their allocation page map(s). Thus if a process allocated pages in a segment and then exits, it is the <em>pvm_shmd</em> that detects this and then frees the allocated pages.</p><p>The <em>pvm_shmd</em> can have its status checked at any time by using the <em>pvm_shmd_stat</em> process to kick it into reporting onto either stdio or the pvm log file (pvml.uid) its internal state.</p><p>The shared memory and all associated processes can be cleared by sending the <em>pvm_shmd</em> a HUP signal.</p><p>Sending the <em>pvm_shmd</em> a TERM signal will just cause it to clear any shared resources and then exit.</p><p>The <em>pvm_shmd</em> cannot catch the KILL signal.</p><p>If the <em>pvm_shmd</em> is killed without clearing all of its shared resources these can be cleared by calling <em>ipcfree</em> which resides in the pvm3/lib directory.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Message Passing using SHMD</h2>
        <div class="sectioncontent">
<p>The <em>pvm_shmd</em> handles resources that are used by special versions of pvm_psend() and pvm_precv() stored in the libpvmshmd.a library. Thus to use these facilities, applications have to link to this library instead of the usual libpvm3.a library.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>The following options may be specified on the command line when starting the pvm_shmd:</p>
<dl class='dl-vertical'>
  <dt>
    <p>-debug=<em>level</em></p>
  </dt>
  <dd>
    <p>Sets the <em>pvm_shmd</em> debug level. Used to debug the pvm_shmd or libpvmshmd (not intended to be used to debug application programs).</p>
  </dd>

</dl>

<dl class='dl-vertical'>
  <dt>
    <p>-maxsegs=<em>maxsegs</em></p>
  </dt>
  <dd>
    <p>Sets the maximum number of segments that the <em>pvm_shmd</em> can create. This is used to over-ride the compiled in value from shmd.h. Note that the value cannot be above the MAXSEGS in the shmd.h file.</p>
  </dd>
  <dt>
    <p>-maxpages=<em>maxpages</em></p>
  </dt>
  <dd>
    <p>Sets the maximum segment size to <em>maxpages</em> pages of memory. This value cannot be above the compiled value MAXPAGES in shmd.h or the actual OS defined limit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Remember that <em>pvm_shmd</em> allocated memory from the VM available on the machine. Allocating more segements improves performance as there is less sharing of segments (semaphores for their page maps). Although you must remember to leave some memory available for normal program and OS system usage, as the <em>pvm_shmd</em> allocated memory is *ONLY* used for message passing.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">

<pre>
  $PVM_ROOT/lib/$PVM_ARCH/pvm_shmd PVM shared memory daemon executable
  $PVM_ROOT/shmd/shmd.h Shared Memory hard limits header file
  /tmp/pvml.<em>uid</em> Pvmd runtime error log
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pvm_shmd&hellip;</h2>
        <div class="sectioncontent">
<p>pvm(1PVM), pvmd(1PVM), getpagesize(3C), <a href="../man1/ipcs.1.html"><strong>ipcs</strong>(1)</a>, <a href="../man2/msgctl.2.html"><strong>msgctl</strong>(2)</a>, <a href="../man2/semctl.2.html"><strong>semctl</strong>(2)</a>, <a href="../man2/shmctl.2.html"><strong>shmctl</strong>(2)</a>, <strong>signal</strong>(5)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pvm_intro.1PVM.html"><span aria-hidden="true">&larr;</span> pvm_intro.1PVM: Parallel virtual machine system version 3</a></li>
   <li class="next"><a href="pvmd3.1PVM.html">pvmd3.1PVM: Pvm daemon <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
