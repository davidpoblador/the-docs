<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>aria_chk - Aria table-maintenance utility</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Aria table-maintenance utility">
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">aria_chk<small> (1)</small></h1>
        <p class="lead">Aria table-maintenance utility</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/aria_chk.1.html">
      <span itemprop="name">aria_chk</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/mariadb/">
      <span itemprop="name">mariadb</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>aria_chk</strong> [<em>OPTIONS</em>] <em>tables</em>[<em>.MAI</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p>Describe, check and repair of Aria tables. Used without options all tables on the command will be checked for errors</p>
  <h3>Global options</h3>
  <dl class='dl-vertical'>
    <dt><strong>-#</strong>, <strong>--debug=</strong>...</dt>
    <dd>
  <p>Output debug log. Often this is 'd:t:o,filename'.</p>
    </dd>
    <dt><strong>-H</strong>, <strong>--HELP</strong></dt>
    <dd>
  <p>Print all argument options sorted alphabetically.</p>
    </dd>
    <dt><strong>-?</strong>, <strong>--help</strong></dt>
    <dd>
  <p>Print all options by groups</p>
    </dd>
    <dt><strong>--datadir</strong>=<em>path</em></dt>
    <dd>
  <p>Path for control file (and logs if <strong>--logdir</strong> not used)</p>
    </dd>
    <dt><strong>--logdir</strong>=<em>path</em></dt>
    <dd>
  <p>Path for log files</p>
    </dd>
    <dt><strong>--ignore-control-file</strong></dt>
    <dd>
  <p>Don't open the control file. Only use this if you are sure the tables are not in use by another program!</p>
    </dd>
    <dt><strong>--require-control-file</strong></dt>
    <dd>
  <p>Abort if we can't find/read the maria_log_control file</p>
    </dd>
    <dt><strong>-s</strong>, <strong>--silent</strong></dt>
    <dd>
  <p>Only print errors.  One can use two <strong>-s</strong> to make maria_chk very silent.</p>
    </dd>
    <dt><strong>-t</strong>, <strong>--tmpdir</strong>=<em>path</em></dt>
    <dd>
  <p>Path for temporary files. Multiple paths can be specified, separated by colon (:), they will be used in a round-robin fashion.</p>
    </dd>
    <dt><strong>-v</strong>, <strong>--verbose</strong></dt>
    <dd>
  <p>Print more information. This can be used with <strong>--description</strong> and <strong>--check</strong>. Use many <strong>-v</strong> for more verbosity.</p>
    </dd>
    <dt><strong>-V</strong>, <strong>--version</strong></dt>
    <dd>
  <p>Print version and exit.</p>
    </dd>
    <dt><strong>-w</strong>, <strong>--wait</strong></dt>
    <dd>
  <p>Wait if table is locked.</p>
    </dd>
  </dl>
  <h3>Check options (check is the default action for aria_chk)</h3>
  <dl class='dl-vertical'>
    <dt><strong>-c</strong>, <strong>--check</strong></dt>
    <dd>
  <p>Check table for errors.</p>
    </dd>
    <dt><strong>-e</strong>, <strong>--extend-check</strong></dt>
    <dd>
  <p>Check the table VERY throughly.  Only use this in extreme cases as aria_chk should normally be able to find out if the table is ok even without this switch.</p>
    </dd>
    <dt><strong>-F</strong>, <strong>--fast</strong></dt>
    <dd>
  <p>Check only tables that haven't been closed properly.</p>
    </dd>
    <dt><strong>-C</strong>, <strong>--check-only-changed</strong></dt>
    <dd>
  <p>Check only tables that have changed since last check.</p>
    </dd>
    <dt><strong>-f</strong>, <strong>--force</strong></dt>
    <dd>
  <p>Restart with '-r' if there are any errors in the table. States will be updated as with '--update-state'.</p>
    </dd>
    <dt><strong>-i</strong>, <strong>--information</strong></dt>
    <dd>
  <p>Print statistics information about table that is checked.</p>
    </dd>
    <dt><strong>-m</strong>, <strong>--medium-check</strong></dt>
    <dd>
  <p>Faster than extend-check, but only finds 99.99% of all errors.  Should be good enough for most cases.</p>
    </dd>
    <dt><strong>-T</strong>, <strong>--read-only</strong></dt>
    <dd>
  <p>Don't mark table as checked.</p>
    </dd>
    <dt><strong>-U</strong>, <strong>--update-state</strong></dt>
    <dd>
  <p>Mark tables as crashed if any errors were found and clean if check didn't find any errors but table was marked as 'not clean' before. This allows one to get rid of warnings like 'table not properly closed'. If table was updated, update also the timestamp for when the check was made. This option is on by default! Use <strong>--skip-update-state</strong> to disable. <strong>--warning-for-wrong-transaction-id</strong></p>
<p class='spacer'>

  <p>Give a warning if we find a transaction id in the table that is bigger than what exists in the control file. Use <strong>--skip-</strong>... to disable warning</p>
    </dd>
  </dl>
  <h3>Recover (repair)/ options (When using '--recover' or '--safe-recover')</h3>
  <dl class='dl-vertical'>
    <dt><strong>-B</strong>, <strong>--backup</strong></dt>
    <dd>
  <p>Make a backup of the .MAD file as 'filename-time.BAK'.</p>
    </dd>
    <dt><strong>--correct-checksum</strong></dt>
    <dd>
  <p>Correct checksum information for table.</p>
    </dd>
    <dt><strong>-D</strong>, <strong>--data-file-length=</strong>#</dt>
    <dd>
  <p>Max length of data file (when recreating data file when it's full).</p>
    </dd>
    <dt><strong>-e</strong>, <strong>--extend-check</strong></dt>
    <dd>
  <p>Try to recover every possible row from the data file Normally this will also find a lot of garbage rows; Don't use this option if you are not totally desperate.</p>
    </dd>
    <dt><strong>-f</strong>, <strong>--force</strong></dt>
    <dd>
  <p>Overwrite old temporary files.</p>
    </dd>
    <dt><strong>-k</strong>, <strong>--keys-used=</strong>#</dt>
    <dd>
  <p>Tell Aria to update only some specific keys. # is a bit mask of which keys to use. This can be used to get faster inserts.</p>
    </dd>
    <dt><strong>--max-record-length=</strong>#</dt>
    <dd>
  <p>Skip rows bigger than this if aria_chk can't allocate memory to hold it.</p>
    </dd>
    <dt><strong>-r</strong>, <strong>--recover</strong></dt>
    <dd>
  <p>Can fix almost anything except unique keys that aren't unique.</p>
    </dd>
    <dt><strong>-n</strong>, <strong>--sort-recover</strong></dt>
    <dd>
  <p>Forces recovering with sorting even if the temporary file would be very big.</p>
    </dd>
    <dt><strong>-p</strong>, <strong>--parallel-recover</strong></dt>
    <dd>
  <p>Uses the same technique as '-r' and '-n', but creates all the keys in parallel, in different threads.</p>
    </dd>
    <dt><strong>-o</strong>, <strong>--safe-recover</strong></dt>
    <dd>
  <p>Uses old recovery method; Slower than '-r' but can handle a couple of cases where '-r' reports that it can't fix the data file.</p>
    </dd>
    <dt><strong>--transaction-log</strong></dt>
    <dd>
  <p>Log repair command to transaction log. This is needed if one wants to use the aria_read_log to repeat the repair</p>
    </dd>
    <dt><strong>--character-sets-dir=</strong>...</dt>
    <dd>
  <p>Directory where character sets are.</p>
    </dd>
    <dt><strong>--set-collation</strong>=<em>name</em></dt>
    <dd>
  <p>Change the collation used by the index.</p>
    </dd>
    <dt><strong>-q</strong>, <strong>--quick</strong></dt>
    <dd>
  <p>Faster repair by not modifying the data file. One can give a second '-q' to force aria_chk to modify the original datafile in case of duplicate keys. NOTE: Tables where the data file is currupted can't be fixed with this option.</p>
    </dd>
    <dt><strong>-u</strong>, <strong>--unpack</strong></dt>
    <dd>
  <p>Unpack file packed with ariapack.</p>
    </dd>
  </dl>
  <h3>Other actions</h3>
  <dl class='dl-vertical'>
    <dt><strong>-a</strong>, <strong>--analyze</strong></dt>
    <dd>
  <p>Analyze distribution of keys. Will make some joins in MariaDB faster.  You can check the calculated distribution by using '--description <strong>--verbose</strong> table_name'.</p>
    </dd>
    <dt><strong>--stats_method</strong>=<em>name</em></dt>
    <dd>
  <p>Specifies how index statistics collection code should treat NULLs. Possible values of name are "nulls_unequal" (default for 4.1/5.0), "nulls_equal" (emulate 4.0), and "nulls_ignored".</p>
    </dd>
    <dt><strong>-d</strong>, <strong>--description</strong></dt>
    <dd>
  <p>Prints some information about table.</p>
    </dd>
    <dt><strong>-A</strong>, <strong>--set-auto-increment</strong>[=<em>value</em>]</dt>
    <dd>
  <p>Force auto_increment to start at this or higher value If no value is given, then sets the next auto_increment value to the highest used value for the auto key + 1.</p>
    </dd>
    <dt><strong>-S</strong>, <strong>--sort-index</strong></dt>
    <dd>
  <p>Sort index blocks.  This speeds up 'read-next' in applications.</p>
    </dd>
    <dt><strong>-R</strong>, <strong>--sort-records=</strong>#</dt>
    <dd>
  <p>Sort records according to an index.  This makes your data much more localized and may speed up things (It may be VERY slow to do a sort the first time!).</p>
    </dd>
    <dt><strong>-b</strong>,  <strong>--block-search=</strong>#</dt>
    <dd>
  <p>Find a record, a block at given offset belongs to.</p>
    </dd>
    <dt><strong>-z</strong>,  <strong>--zerofill</strong></dt>
    <dd>
  <p>Fill empty space in data and index files with zeroes. This makes the data file movable between different servers.</p>
    </dd>
    <dt><strong>--zerofill-keep-lsn</strong></dt>
    <dd>
  <p>Like <strong>--zerofill</strong> but does not zero out LSN of data/index pages.</p>
    </dd>
  </dl>
<p class='spacer'>

  <h3>Variables</h3>
  <dl class='dl-vertical'>
    <dt><strong>--page_buffer_size=</strong>#</dt>
    <dd>
  <p>Size of page buffer. Used by <strong>--safe-repair</strong></p>
    </dd>
    <dt><strong>--read_buffer_size=</strong>#</dt>
    <dd>
  <p>Read buffer size for sequential reads during scanning</p>
    </dd>
    <dt><strong>--sort_buffer_size=</strong>#</dt>
    <dd>
  <p>Size of sort buffer. Used by <strong>--recover</strong></p>
    </dd>
    <dt><strong>--sort_key_blocks=</strong>#</dt>
    <dd>
  <p>Internal buffer for sorting keys; Don't touch.</p>
    </dd>
    <dt><strong>--write_buffer_size=</strong>#</dt>
    <dd>
  <p>Write buffer size for sequential writes during repair</p>
    </dd>
  </dl>
<p class='spacer'>

<p>Default options are read from the following files in the given order: <strong>/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf</strong></p>
<p class='spacer'>

<p>The following groups are read: <strong>aria_chk</strong></p>
<p class='spacer'>

  <p>The following options may be given as the first argument:</p>
  <dl class='dl-vertical'>
    <dt><strong>--print-defaults</strong></dt>
    <dd>
  <p>Print the program argument list and exit.</p>
    </dd>
    <dt><strong>--no-defaults</strong></dt>
    <dd>
  <p>Don't read default options from any option file.</p>
    </dd>
    <dt><strong>--defaults-file=</strong>#</dt>
    <dd>
  <p>Only read default options from the given file #.</p>
    </dd>
    <dt><strong>--defaults-extra-file=</strong>#</dt>
    <dd>
  <p>Read this file after the global files are read.</p>
    </dd>
  </dl>
<p class='spacer'>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><strong>myisamchk</strong>(1)</strong></p>
<p class='spacer'>

<p>For more information, please refer to the MariaDB Knowledge Base, available online at https://mariadb.com/kb/</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="arch.1.html"><span aria-hidden="true">&larr;</span> arch.1: print machine hardware name (same as uname -m)</a></li>
   <li class="next"><a href="aria_dump_log.1.html">aria_dump_log.1: Dump content of Aria log pages. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
