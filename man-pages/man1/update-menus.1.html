<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>update-menus: Generate debian menu system</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Generate debian menu system">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="update-menus (1) manual">
  <meta name="twitter:description" content="Generate debian menu system">
  <meta name="twitter:image" content="https://www.carta.tech/images/menu-update-menus-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/update-menus.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="update-menus (1) manual" />
  <meta property="og:description" content="Generate debian menu system" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/menu-update-menus-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">update-menus<small> (1)</small></h1>
        <p class="lead">Generate debian menu system</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/update-menus.1.html">
      <span itemprop="name">update-menus: Generate debian menu system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/menu/">
      <span itemprop="name">menu</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/update-menus.1.html">
      <span itemprop="name">update-menus: Generate debian menu system</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>update-menus [-v] [-d] [-h|--help] [--version] [--menufilesdir &lt;dir&gt;] [--menumethod &lt;method&gt;] [--nodefaultdirs] [--stdout]</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Before the advent of <em>update-menus</em>, when the system administrators installed a package onto a Debian system, they would need to edit various window manager configuration files to make the new program show up on, for example, fvwm's menus. The menus could easily become out of sync with what programs were actually available, with some menu items that didn't work, and other programs that lacked a menu entry. <em>update-menus</em> and Debian's menu package aim to solve this problem.</p><p><em>update-menus</em> automatically generates menus of installed programs for window managers and other menu programs. It should be run whenever a <a href="../man5/menufile.5.html"><strong>menufile</strong>(5)</a> or menu-method file is changed. <em>update-menus</em> will be run automatically when Debian packages that contain menu files are installed on or removed from the system.</p><p><em>update-menus</em> uses the package-supplied menu entry files (in /usr/share/menu) for its information about the menus (but this can be overruled by the system administrator/user; see below). If a menu entry file is executable, <em>update-menus</em> executes the menu entry file, and uses its stdout to generate the menu database.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -v
  </dt>
  <dd>
    <p>Verbose output. Shows all arguments to the /etc/menu-methods programs.</p>
  </dd>
  <dt>
    -d
  </dt>
  <dd>
    <p>Debug output. Generates loads of unintelligible output.</p>
  </dd>
  <dt>
    -h, --help
  </dt>
  <dd>
    <p>Display usage help and exit.</p>
  </dd>
  <dt>
    --menufilesdir &lt;dir&gt;
  </dt>
  <dd>
    <p>Adds directory &lt;dir&gt; to the list of directories to search for menu files in.</p>
  </dd>
  <dt>
    --menumethod &lt;method&gt;
  </dt>
  <dd>
    <p>Process only the menu method &lt;method&gt; instead of all the menu methods found.</p>
  </dd>
  <dt>
    --nodefaultdirs
  </dt>
  <dd>
    <p>Disables the search of menu entries in system menu directories.</p>
  </dd>
  <dt>
    --nodpkgcheck
  </dt>
  <dd>
    <p>Do not discard menu entries for packages that are not installed according to <em>dpkg</em>.</p>
  </dd>
  <dt>
    --remove
  </dt>
  <dd>
    <p>Remove the menus by calling the menu-methods with <strong>--remove</strong>.</p>
  </dd>
  <dt>
    --stdout
  </dt>
  <dd>
    <p>Output the menu list in a format suitable as input for <em>install-menu</em> or a menu method file.</p>
  </dd>
  <dt>
    --version
  </dt>
  <dd>
    <p>Output version information and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFIGURATION</h2>
        <div class="sectioncontent">
<p>There are several ways to tune the operation of update-menus:</p><p><em>per menu entry, in /etc/menu/$package</em></p><p>In these directories the system administrator or user can override the default menu files (If a file /etc/menu/$package exists, than the corresponding /usr/share/menu/$package file isn't read any more). Users who want to override the system wide defaults put their files in ~/.menu. See also <a href="../man5/menufile.5.html"><strong>menufile</strong>(5)</a></strong></p><p><em>per window-manager in /etc/menu-methods/$wm</em></p><p>In these configuration files, one can tune generated system.${wm}rc files for each individual window manager. For example, one can specify that the wm should ignore any icons that the packages may supply, or set the default wrapper for text-only applications (usually, an xterm is started to run a text-only application like vi). Users who want to override the system wide defaults put their files in ~/.menu-methods. For more info, see /usr/share/doc/menu/html.</p><p><em>globally, in /etc/menu-methods/translate_menus</em></p><p>This file contains translations that will be performed for all menu entries and all window managers. You can specify things like: `All sections that start with "Games" should be mapped to "Applications/Games"', or `menuentry "gnuplot" should have a title of "GnuTeken"'. Look at the default /etc/menu-methods/translate_menus for an example. Users who want to override the system default translate file, put one in ~/.menu-methods/translate_menus. <strong>Note:</strong> This should not be used for a full translation of the menu. Use po files as explained in the source package.</p><p><em>error report configuring, in /etc/menu-methods/menu.config</em></p><p>This file contains general information for the overall behaviour of update-menus. At the moment you can only configure how verbose the output of update-menus is, and where it sends the output. The amount of information is specified by `verbosity=VAL'. Use VAL=quiet to stop update-menu from reporting anything but the most important errors, VAL=normal, VAL=verbose, VAL=debug for progressively more output.</p><p>To specify where the output should go, use `method=stdout', `method=stderr', or `method=syslog facility priority'. `Facility' is one of auth, authpriv, authcron, authdaemon, authkern, authlocal0, authlocal1, authlocal2, authlocal3, authlocal4, authlocal5, authlocal6, authlocal7, authlpr, authmail, authnews, authsyslog, authuser, authuucp. `priority' is one of emerg, alert, crit, err, warning, notice, info, debug.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Menu files: (Earlier listed directories override those listed later.)</p><p><em>~/.menu/*</em></p><p>Menu files added by the user. (Isn't read if root runs update-menus)</p><p><em>/etc/menu/*</em></p><p>Menu files added by the system administrator.</p><p><em>/usr/lib/menu/*</em></p><p>Architecture-dependant menu files provided by other Debian packages.</p><p><em>/usr/share/menu/*</em></p><p>Architecture-independant menu files provided by other Debian packages.</p><p><em>/usr/share/menu/default/*</em></p><p>Menu files provided by the menu package.</p><p>Menu methods:</p><p><em>/etc/menu-methods/</em></p><p>Executable configuration files that are added by window managers and other menu programs, these files are run by <em>update-menus</em> to generate menus for the different programs. Also in this directory is the translate_menus file, used for local configuration of the shape of the menu trees.</p><p><em>~/.menu-methods/</em></p><p>For users to override the system-defaults of /etc/menu-methods. If this directory exists, no files in /etc/menu-methods are read any more.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISTRIBUTION</h2>
        <div class="sectioncontent">
<p>Distribution is subject to the GNU General Public License.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p><em>update-menus</em> may not work properly when run by a normal user, to generate menus for that user. This is usually because the window manager doesn't expect the system.${wm}rc files in the directory (usually ~/.${wm}, configurable in /etc/menu-methods). If you see such a thing, and you find a solution, please mail &lt;menu@packages.debian.org&gt;. It should work OK for fvwm and fvwm2: I usually test the package first as an ordinary user.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Joost Witteveen &lt;joostje@debian.org&gt;, original idea by Lars Wirzenius &lt;liw@iki.fi&gt;. Now maintained by Bill Allombert &lt;ballombe@debian.org&gt;.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">THANKS</h2>
        <div class="sectioncontent">
<p>To Joey Hess, for a lot of good ideas and pre-release testing, and to Tom Lees for a update-menus in pure C (of which I only used one function, but that's life).</p><p>Man page by Joey Hess, &lt;joeyh@debian.org&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO update-menus&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man5/menufile.5.html"><strong>menufile</strong>(5)</a>, <strong>/usr/share/doc/menu/html</strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="update-maintainer.1.html"><span aria-hidden="true">&larr;</span> update-maintainer.1: Change the maintainer field in a debian source package</a></li>
   <li class="next"><a href="update-metainit.1.html">update-metainit.1: Generates init scripts <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
