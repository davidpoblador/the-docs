<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bayesol: A bayes solution calculator for use with dbacl.</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="A bayes solution calculator for use with dbacl.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="bayesol (1) manual">
  <meta name="twitter:description" content="A bayes solution calculator for use with dbacl.">
  <meta name="twitter:image" content="https://www.carta.tech/images/dbacl-bayesol-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/bayesol.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="bayesol (1) manual" />
  <meta property="og:description" content="A bayes solution calculator for use with dbacl." />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/dbacl-bayesol-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">bayesol<small> (1)</small></h1>
        <p class="lead">A bayes solution calculator for use with dbacl.</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bayesol.1.html">
      <span itemprop="name">bayesol: A bayes solution calculator for use with dbacl.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/dbacl/">
      <span itemprop="name">dbacl</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/bayesol.1.html">
      <span itemprop="name">bayesol: A bayes solution calculator for use with dbacl.</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>bayesol</strong> [-DVNniv] -c <em>riskspec</em> [FILE]... <strong>bayesol</strong> -V</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>bayesol</strong> is a Bayes solution calculator designed to combine the output of <a href="../man1/dbacl.1.html"><strong>dbacl</strong>(1)</a> with a prior distribution and a risk specification, and calculate the optimal Bayesian decision (which minimizes the posterior risk).</p><p>The risk specification is read from the text file <em>riskspec</em> and must be written in a simple format described below. The <a href="../man1/dbacl.1.html"><strong>dbacl</strong>(1)</a> output can either be read from FILE or from STDIN.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXIT STATUS</h2>
        <div class="sectioncontent">
<p>On success, <strong>bayesol</strong> returns a positive integer corresponding to the category with the lowest risk. In case of a problem, <strong>bayesol</strong> returns zero.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -c
  </dt>
  <dd>
    <p>Classify using <em>riskspec</em>. See the section RISK SPECIFICATION.</p>
  </dd>
  <dt>
    -i
  </dt>
  <dd>
    <p>Fully internationalized mode. Forces the use of wide characters internally, which is necessary in some locales. This incurs a noticeable performance penalty.</p>
  </dd>
  <dt>
    -n
  </dt>
  <dd>
    <p>Print risk scores for each <em>category</em>. Each score is (approximately) the logarithm of the expected risk under that category. The lowest score (ie closest to -infinity) is best, etc.</p>
  </dd>
  <dt>
    -N
  </dt>
  <dd>
    <p>Print recursive risk scores for each <em>category</em>. Each score is (approximately) the logarithm of the best score based on the remaining categories, after the previously best scoring categories have been removed, and a normalizing factor was added. A full description is given in the technical report listed at the end of this manpange. The largest score (ie closest to +infinity) is best, etc.</p>
  </dd>
  <dt>
    -v
  </dt>
  <dd>
    <p>Verbose mode. Prints to STDOUT the category with minimum posterior risk. In case several categories are possible, prints the first category in the order in which they appear in the categories section of <em>riskpspec</em>.</p>
  </dd>
  <dt>
    -D
  </dt>
  <dd>
    <p>Print debug output. Do not use.</p>
  </dd>
  <dt>
    -V
  </dt>
  <dd>
    <p>Print the program version number and exit.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RISK SPECIFICATION</h2>
        <div class="sectioncontent">
<p><strong>bayesol</strong> needs to read a text file <em>riskspec</em> containing a risk specification. The format of this text file is as follows</p><ul>
<li><p>categories { <em>cat1</em>, <em>cat2</em>,<em></em>..., <em>catN</em>}</p><p>prior { <em>p1</em>, <em>p2</em>,<em></em>..., <em>pN</em>}</p><p>loss_matrix {</p><p>"<em>regex1</em>" <em>c1</em> [ <em>formula11</em>, <em>formula12</em>,<em></em>..., <em>formula1N</em>]</p><p>"<em>regex2</em>" <em>c2</em> [ <em>formula21</em>, <em>formula22</em>,<em></em>..., <em>formula2N</em>]</p><p> .</p><p> .</p><p>"<em>regexM</em>" <em>cM</em> [ <em>formulaM1</em>, <em>formulaM2</em>,<em></em>..., <em>formulaMN</em>]</p><p>}</p></li>
</ul><p>In the above, <em>cat1</em>, <em>cat2</em>,<em></em>..., <em>catN</em>, are category names, <em>p1</em>, <em>p2</em>,<em></em>..., <em>pN</em>, are non-negative numbers, <em>regex1</em>, <em>regex2</em>,<em></em>..., <em>regexM</em>, are (possibly empty) regular expression strings, <em>c1</em>, <em>c2</em>,<em></em>..., <em>cM</em>, are instances of the category names <em>cat1</em>, <em>cat2</em>,<em></em>..., <em>catN</em>, and the formulas are numbers or mathematical expressions.</p><p>Every category which appears in the categories section must appear at least once in the loss_matrix section, with an empty "" regular expression. To construct the actual loss matrix used in the decision calculations, <strong>bayesol</strong> selects, for each category appearing in the categories section, the first row whose regular expression is matched within FILE or STDIN, or the first row with empty regular expression if there are no matches.</p><p>Each formula can be either a single number, or an algebraic combination of the operators exp(), log(), +, -, *, /, ^ and parentheses (). The string "inf" is parsed as the value infinity. Also, the string "complexity" is recognized, and converted to the complexity for that category as reported by <a href="../man1/dbacl.1.html"><strong>dbacl</strong>(1)</a>. Finally, if the corresponding regular expression contains submatches delimited by parentheses, their numerical values can be used inside the formulas as the special variables $1, ..., $9. Note that submatches which aren't numerical are converted to the value zero.</p><p>Case is important. Spaces and newlines can be liberally inserted. Comments must start with a # and extend to the end of the line.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">USAGE</h2>
        <div class="sectioncontent">
<p>Typically, <strong>bayesol</strong> is used together with <a href="../man1/dbacl.1.html"><strong>dbacl</strong>(1)</a>. An invocation looks like this:</p><p>% dbacl -c one -c two -c three sample.txt -vna | bayesol -c toy.risk -v</p><p>See /usr/share/doc/dbacl/costs.ps for a description of the algorithm used. See also /usr/share/doc/dbacl/tutorial.html for a more detailed overview.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SOURCE</h2>
        <div class="sectioncontent">
<p>The source code for the latest version of this program is available at the following locations:</p><p>http://www.lbreyer.com/gpl.html</p><p>http://dbacl.sourceforge.net</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Laird A. Breyer &lt;laird@lbreyer.com&gt;</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO bayesol&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/dbacl.1.html"><strong>dbacl</strong>(1)</a>, <a href="../man1/mailcross.1.html"><strong>mailcross</strong>(1)</a>, <a href="../man1/mailfoot.1.html"><strong>mailfoot</strong>(1)</a>, <a href="../man1/mailinspect.1.html"><strong>mailinspect</strong>(1)</a>, <a href="../man1/mailtoe.1.html"><strong>mailtoe</strong>(1)</a>, <a href="../man7/regex.7.html"><strong>regex</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="bauble-admin.1.html"><span aria-hidden="true">&larr;</span> bauble-admin.1: Create bauble's database and change some of its properties</a></li>
   <li class="next"><a href="bb.1.html">bb.1: An ascii-art demo <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
