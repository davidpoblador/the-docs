<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pnmcolormap: Create quantization color map for a portable anymap</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Create quantization color map for a portable anymap">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="pnmcolormap (1) manual">
  <meta name="twitter:description" content="Create quantization color map for a portable anymap">
  <meta name="twitter:image" content="https://www.carta.tech/images/netpbm-pnmcolormap-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/pnmcolormap.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="pnmcolormap (1) manual" />
  <meta property="og:description" content="Create quantization color map for a portable anymap" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/netpbm-pnmcolormap-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">pnmcolormap<small> (1)</small></h1>
        <p class="lead">Create quantization color map for a portable anymap</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pnmcolormap.1.html">
      <span itemprop="name">pnmcolormap: Create quantization color map for a portable anymap</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/netpbm/">
      <span itemprop="name">netpbm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/pnmcolormap.1.html">
      <span itemprop="name">pnmcolormap: Create quantization color map for a portable anymap</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>pnmcolormap</strong> [<strong>-center</strong>|<strong>-meancolor</strong>|<strong>-meanpixel</strong>] [<strong>-spreadbrightness</strong>|<strong>-spreadluminosity</strong>] [<strong>-sort</strong>] [<strong>-square</strong>] <em>ncolors</em>|<em></em><strong>all</strong> [<em>pnmfile</em>]</p><p>All options can be abbreviated to their shortest unique prefix.  You may use two hyphens instead of one to designate an option.  You may use either white space or an equals sign between an option name and its value.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Reads a PNM image as input.  Chooses <em>ncolors</em> colors to best represent the image, maps the existing colors to the new ones, and writes a PNM color map defining them as output.</p><p>You can use this map as input to <strong>pnmremap</strong> on the same input image to quantize the colors in that image, I.e. produce a similar image with fewer colors. <strong>pnmquant</strong> does both the <strong>pnmcolormap</strong> and <strong>pnmremap</strong> steps for you.</p><p>A PNM colormap is a PNM image of any dimensions that contains at least one pixel of each color in the set of colors it represents.</p><p>The quantization method is Heckbert's "median cut". See the section QUANTIZATION METHOD.</p><p>If the input image is a PPM, the output image is a PPM.  If the input image is a PBM or PGM, the output colormap is a PGM.  Note that a colormap of a PBM image is not very interesting.</p><p>The colormap generally has the same maxval as the input image, but <strong>pnmcolormap</strong> may reduce it if there are too many colors in the input, as part of its quantization algorithm.</p><p>If you want to create a colormap without basing it on the colors in an input image, see <strong>ppmcolors</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">PARAMETERS</h2>
        <div class="sectioncontent">
<p>The single parameter, which is required, is the number of colors you want in the output colormap. <strong>pnmcolormap</strong> may produce a color map with slightly fewer colors than that.  You may specify <strong>all</strong> to get a colormap of every color in the input image (no quantization).</p><p><strong>OPTIONS</strong></p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-sort</strong></p>
  </dt>
  <dd>
    <p>This option causes the output colormap to be sorted by the red component intensity, then the green, then the blue in ascending order.  This is an insertion sort, so it is not very fast on large colormaps.  Sorting is useful because it allows you to compare two sets of colors.</p>
  </dd>
  <dt>
    <p><strong>-square</strong></p>
  </dt>
  <dd>
    <p>By default, <strong>pnmcolormap</strong> produces as the color map a PPM image with one row and one column for each color in the colormap.  This option causes <strong>pnmcolormap</strong> instead to produce a PPM image that is within one row or column of being square, with multiple pixels of the same color as necessary to create a number of pixels which is a perfect square.</p>
  </dd>
  <dt>
    <p><strong>-verbose</strong></p>
  </dt>
  <dd>
    <p>This option causes <strong>pnmcolormap</strong> to display messages to Standard Error about the quantization.</p>
  </dd>
  <dt>
    <p><strong>-center</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-meancolor</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-meanpixel</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-spreadbrightness</strong></p>
  </dt>
  <dd>
    
  </dd>
  <dt>
    <p><strong>-spreadluminosity</strong></p>
  </dt>
  <dd>
    <p>These options control the quantization algorithm.  See QUANTIZATION METHOD below.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUANTIZATION METHOD</h2>
        <div class="sectioncontent">
<p>A quantization method is a way to choose which colors, being fewer in number than in the input, you want in the output. <strong>pnmcolormap</strong> uses Heckbert's "median cut" quantization method.</p><p>This method involves separating all the colors into "boxes," each holding colors that represent about the same number of pixels.  You start with one box and split boxes in two until the number of boxes is the same as the number of colors you want in the output, and choose one color to represent each box.</p><p>When you split a box, you do it so that all the colors in one sub-box are "greater" than all the colors in the other.  "Greater," for a particular box, means it is brighter in the color component (red, green, blue) which has the largest spread in that box. <strong>pnmcolormap</strong> gives you two ways to define "largest spread.":  1) largest spread of brightness; 2) largest spread of contribution to the luminosity of the color.  E.g. red is weighted much more than blue.  Select among these with the <strong>-spreadbrightness</strong> and <strong>-spreadluminosity</strong> options.  The default is <strong>-spreadbrightness</strong>.</p><p><strong>pnmcut</strong> provides three ways of choosing a color to represent a box: 1) the center color - the color halfway between the greatest and least colors in the box, using the above definition of "greater"; 2) the mean of the colors (each component averaged separately by brightness) in the box; 3) the mean weighted by the number of pixels of a color in the image.</p><p>Note that in all three methods, there may be colors in the output which do not appear in the input at all.</p><p>Select among these with the <strong>-center</strong>, <strong>-meancolor</strong>, and <strong>-meanpixel</strong> options.  The default is <strong>-center</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">REFERENCES</h2>
        <div class="sectioncontent">
<p>"Color Image Quantization for Frame Buffer Display" by Paul Heckbert, SIGGRAPH '82 Proceedings, page 297.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO pnmcolormap&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/pnmremap.1.html"><strong>pnmremap</strong>(1)</a>, <a href="../man1/pnmquant.1.html"><strong>pnmquant</strong>(1)</a>, <a href="../man1/ppmquantall.1.html"><strong>ppmquantall</strong>(1)</a>, <a href="../man1/pnmdepth.1.html"><strong>pnmdepth</strong>(1)</a>, <a href="../man1/ppmdither.1.html"><strong>ppmdither</strong>(1)</a>, <a href="../man1/ppmquant.1.html"><strong>ppmquant</strong>(1)</a>, <a href="../man5/ppm.5.html"><strong>ppm</strong>(5)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Copyright (C) 1989, 1991 by Jef Poskanzer. Copyright (C) 2001 by Bryan Henderson.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="pnmcat.1.html"><span aria-hidden="true">&larr;</span> pnmcat.1: Concatenate portable anymaps</a></li>
   <li class="next"><a href="pnmcomp.1.html">pnmcomp.1: Composite (overlay) two portable anymap files together <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
