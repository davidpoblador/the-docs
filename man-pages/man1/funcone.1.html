<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>funcone: Cone search of a binary table containing ra, dec columns</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Cone search of a binary table containing ra, dec columns">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="funcone (1) manual">
  <meta name="twitter:description" content="Cone search of a binary table containing ra, dec columns">
  <meta name="twitter:image" content="https://www.carta.tech/images/funtools-funcone-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/funcone.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="funcone (1) manual" />
  <meta property="og:description" content="Cone search of a binary table containing ra, dec columns" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/funtools-funcone-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">funcone<small> (1)</small></h1>
        <p class="lead">Cone search of a binary table containing ra, dec columns</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/funcone.1.html">
      <span itemprop="name">funcone: Cone search of a binary table containing ra, dec columns</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/funtools/">
      <span itemprop="name">funtools</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/funcone.1.html">
      <span itemprop="name">funcone: Cone search of a binary table containing ra, dec columns</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>funcone &lt;switches&gt;  &lt;iname&gt; &lt;oname&gt; &lt;ra[hdr]&gt; &lt;dec[hdr]&gt; &lt;radius[dr'"]&gt; [columns]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<pre>
  -d deccol:[hdr]  # Dec column name, units (def: DEC:d)
  -j               # join columns from list file
  -J               # join columns from list file, output all rows
  -l listfile      # read centers and radii from a list
  -L listfile      # read centers and radii from a list, output list rows
  -n               # don't use cone limits as a filter
  -r  racol:[hdr]  # RA column name, units (def: RA:h)
  -x               # append RA_CEN, DEC_CEN, RAD_CEN, CONE_KEY cols
  -X               # append RA_CEN, DEC_CEN, RAD_CEN, CONE_KEY cols, output all rows
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Funcone performs a cone search on the \s-1RA\s0 and Dec columns of a \s-1FITS\s0 binary table. The distance from the center \s-1RA\s0, Dec position to the \s-1RA\s0, Dec in each row in the table is calculated. Rows whose distance is less than the specified radius are output.</p><p>The first argument to the program specifies the \s-1FITS\s0 file, raw event file, or raw array file.  If \*(L"stdin\*(R" is specified, data are read from the standard input. Use Funtools Bracket Notation to specify \s-1FITS\s0 extensions, and filters.  The second argument is the output \s-1FITS\s0 file.  If \*(L"stdout\*(R" is specified, the \s-1FITS\s0 binary table is written to the standard output.</p><p>The third and fourth required arguments are the \s-1RA\s0 and Dec center position.  By default, \s-1RA\s0 is specified in hours while Dec is specified in degrees.  You can change the units of either of these by appending the character \*(L"d\*(R" (degrees), \*(L"h\*(R" (hours) or \*(L"r\*(R" (radians). Sexagesimal notation is supported, with colons or spaces separating hms and dms. (When using spaces, please ensure that the entire string is quoted.)</p><p>The fifth required argument is the radius of the cone search. By default, the radius value is given in degrees. The units can be changed by appending the character \*(L"d\*(R" (degrees), \*(L"r\*(R" (radians), \*(L"'\*(R" (arc minutes) or '"' (arc seconds).</p><p>By default, all columns of the input file are copied to the output file.  Selected columns can be output using an optional sixth argument in the form:</p><p>  "column1 column1 ... columnN"</p><p>A seventh argument allows you to output selected columns from the list file when <strong>\-j</strong> switch is used. Note that the \s-1RA\s0 and Dec columns used in the cone calculation must not be de\-selected.</p><p>Also by default, the \s-1RA\s0 and Dec column names are named \*(L"\s-1RA\s0\*(R" and \*(L"Dec\*(R", and are given in units of hours and degrees respectively. You can change both the name and the units using the \-r [\s-1RA\s0] and/or \-d [Dec] switches. Once again, one of \*(L"h\*(R", \*(L"d\*(R", or \*(L"r\*(R" is appended to the column name to specify units but in this case, there must be a colon \*(L":\*(R" between the name and the unit specification.</p><p>If the <strong>\-l [listfile]</strong> switch is used, then one or more of the center \s-1RA\s0, center Dec, and radius can be taken from a list file (which can be a \s-1FITS\s0 table or an \s-1ASCII\s0 column text file). In this case, the third (center \s-1RA\s0), fourth (center Dec), and fifth (radius) command line arguments can either be a column name in the list file (if that parameter varies) or else a numeric value (if that parameter is static). When a column name is specified for the \s-1RA\s0, Dec, or radius, you can append a colon followed by \*(L"h\*(R", \*(L"d\*(R", or \*(L"r\*(R" to specify units (also ' and " for radius). The cone search algorithm is run once for each row in the list, taking \s-1RA\s0, Dec, and radius values from the specified columns or from static numeric values specified on the command line.</p><p>When using a list, all valid rows from each iteration are written to a single output file.  Use the <strong>\-x</strong> switch to help delineate which line of the list file was used to produce the given output row(s). This switch causes the values for the center \s-1RA\s0, Dec, radius, and row number to be appended to the output file, in columns called \s-1RA_CEN\s0, \s-1DEC_CEN\s0, \s-1RAD_CEN\s0 and \s-1CONE_KEY\s0, respectively. Alternatively, the <strong>\-j</strong> (join) switch will append all columns from the list row to the output row (essentially a join of the list row and input row), along with the \s-1CONE_KEY\s0 row number. These two switches are mutually exclusive.</p><p>The <strong>\-X</strong> and <strong>\-J</strong> switches write out the same data as their lower case counterparts for each row satisfying a cone search. In addition, these switches also write out rows from the event file that do not satisfy any cone search.  In such cases, that \s-1CONE_KEY\s0 column will be given a value of \-1 and the center and list position information will be set to zero for the given row. Thus, all rows of the input event file are guaranteed to be output, with rows satisfying at least one cone search having additional search information.</p><p>The <strong>\-L</strong> switch acts similarly to the <strong>\-l</strong> switch in that it takes centers from a list file. However, it also implicitly sets the \-j switch, so that output rows are the join of the input event row and the center position row.  In addition, this switch also writes out all center position rows for which no event satisfies the cone search criteria of that row.  The \s-1CONE_KEY\s0 column will be given a value of \-2 for center rows that were not close to any data row and the event columns will be zeroed out for such rows. In this way, all centers rows are guaranteed to be output at least once.</p><p>If any of \*(L"all row\*(R" switches (<strong>\-X</strong>, <strong>\-J</strong>, or <strong>\-L</strong>) are specified, then a new column named \s-1JSTAT\s0 is added to the output table. The positive values in this column indicate the center position row number (starting from 1) in the list file that this data row successful matched in a cone search. A value of \-1 means that the data row did not match any center position. A value of \-2 means that the center position was not matched by any data row.</p><p>Given a center position and radius, the cone search algorithm calculates limit parameters for a box enclosing the specified cone, and only tests rows whose positions values lie within those limits. For small files, the overhead associated with this cone limit filtering can cause the program to run more slowly than if all events were tested. You can turn off cone limit filtering using the <strong>\-n</strong> switch to see if this speeds up the processing (especially useful when processing a large list of positions).</p><p>For example, the default cone search uses columns \*(L"\s-1RA\s0\*(R" and \*(L"Dec\*(R" in hours and degrees (respectively) and \s-1RA\s0 position in hours, Dec and radius in degrees:</p><p>  funone in.fits out.fits 23.45 34.56 0.01</p><p>To specify the \s-1RA\s0 position in degrees:</p><p>  funcone in.fits out.fits 23.45d 34.56 0.01</p><p>To get \s-1RA\s0 and Dec from a list but use a static value for radius (and also write identifying info for each row in the list):</p><p>  funcone -x -l list.txt in.fits out.fits MYRA MYDec 0.01</p><p>User specified columns in degrees, \s-1RA\s0 position in hours (sexagesimal notation), Dec position in degrees (sexagesimal notation) and radius in arc minutes:</p><p>  funcone -r myRa:d -d myDec in.fits out.fits 12:30:15.5 30:12 15'</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO funcone&hellip;</h2>
        <div class="sectioncontent">
<p>See <a href="../man7/funtools.7.html"><strong>funtools</strong>(7)</a> for a list of Funtools help pages</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="funcoeszz.1.html"><span aria-hidden="true">&larr;</span> funcoeszz.1: Script with 65 useful mini applications</a></li>
   <li class="next"><a href="fundisp.1.html">fundisp.1: Display data in a funtools data file <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
