<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>stompserver: Stomp protocol messaging server</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Stomp protocol messaging server">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="stompserver (1) manual">
  <meta name="twitter:description" content="Stomp protocol messaging server">
  <meta name="twitter:image" content="https://www.carta.tech/images/stompserver-stompserver-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/stompserver.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="stompserver (1) manual" />
  <meta property="og:description" content="Stomp protocol messaging server" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/stompserver-stompserver-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">stompserver<small> (1)</small></h1>
        <p class="lead">Stomp protocol messaging server</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/stompserver.1.html">
      <span itemprop="name">stompserver: Stomp protocol messaging server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/stompserver/">
      <span itemprop="name">stompserver</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/stompserver.1.html">
      <span itemprop="name">stompserver: Stomp protocol messaging server</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>stompserver</strong> [<em>options</em>]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Stomp messaging server with file/dbm/memory/activerecord based FIFO queues, queue monitoring, and basic authentication.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>-C</strong>, <strong>--config</strong>=<em>CONFIGFILE</em></p>
  </dt>
  <dd>
    <p>Configuration File (default: stompserver.conf)</p>
  </dd>
  <dt>
    <p><strong>-p</strong>, <strong>--port</strong>=<em>PORT</em></p>
  </dt>
  <dd>
    <p>Change the port (default: 61613)</p>
  </dd>
  <dt>
    <p><strong>-b</strong>, <strong>--host</strong>=<em>ADDR</em></p>
  </dt>
  <dd>
    <p>Change the host (default: localhost)</p>
  </dd>
  <dt>
    <p><strong>-q</strong>, <strong>--queuetype</strong>=<em>QUEUETYPE</em></p>
  </dt>
  <dd>
    <p>Queue type (memory|dbm|activerecord|file) (default: memory)</p>
  </dd>
  <dt>
    <p><strong>-w</strong>, <strong>--working_dir</strong>=<em>DIR</em></p>
  </dt>
  <dd>
    <p>Change the working directory (default: current directory)</p>
  </dd>
  <dt>
    <p><strong>-s</strong>, <strong>--storage</strong>=<em>DIR</em></p>
  </dt>
  <dd>
    <p>Change the storage directory (default: .stompserver, relative to working_dir)</p>
  </dd>
  <dt>
    <p><strong>-d</strong>, <strong>--debug</strong></p>
  </dt>
  <dd>
    <p>Turn on debug messages</p>
  </dd>
  <dt>
    <p><strong>-a</strong>, <strong>--auth</strong></p>
  </dt>
  <dd>
    <p>Require client authorization</p>
  </dd>
  <dt>
    <p><strong>-c</strong>, <strong>--checkpoint</strong>=<em>SECONDS</em></p>
  </dt>
  <dd>
    <p>Time between checkpointing the queues in seconds (default: 0)</p>
  </dd>
  <dt>
    <p><strong>-h</strong>, <strong>--help</strong></p>
  </dt>
  <dd>
    <p>Show this message</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">QUEUES</h2>
        <div class="sectioncontent">
<p>Stompserver handles basic message queue processing using memory, file, or dbm based queues. Messages are sent and consumed in FIFO order (unless a client error happens, this should be corrected in the future). Topics are memory-only storage.  You can select activerecord, file or dbm storage and the queues will use that, but topics will only be stored in memory.</p><p>memory queues are of course the fastest ones but shouldn't be used if you want to ensure all messages are delivered.</p><p>dbm queues will use berkeleydb if available, otherwise dbm or gdbm depending on the platform. sdbm does not work well with marshalled data. Note that these queues have not been tested in this release.</p><p>For the file based storage, each frame is stored in a single file. The first 8 bytes contains the header length, the next 8 bytes contains the body length, then the headers are stored as a marshalled object followed by the body stored as a string. This storage is currently inefficient because queues are stored separately from messages, which forces a double write for data safety reasons on each message stored.</p><p>The activerecord based storage expects to find a database.yml file in the configuration directory. It should be the most robust backend, but the slowest one. The database must have an ar_messages table which can be created with the following code (you are responsible to do so):</p>
<pre>
  ActiveRecord::Schema.define do
    create_table 'ar_messages' do |t|
      t.column 'stomp_id', :string, :null =&gt; false
      t.column 'frame', :text, :null =&gt; false
    end
  end
</pre>
<p>You can read the frames with this model:</p>
<pre>
  class ArMessage &lt; ActiveRecord::Base
    serialize :frame
  end
</pre>
<p>The ar_message implementation will certainly change in the future.</p><p>This is meant to be easily readable by a Rails application (which could handle the ar_messages table creation with a migration).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ACCESS CONTROL</h2>
        <div class="sectioncontent">
<p>Basic client authorization is also supported.  If the -a flag is passed to stompserver on startup, and a .passwd file exists in the run directory, then clients will be required to provide a valid login and passcode.  See passwd.example for the password file format.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">MONITORING</h2>
        <div class="sectioncontent">
<p>Queues can be monitored via the monitor queue (this will probably not be supported this way in the future to avoid polluting the queue namespace). If you subscribe to /queue/monitor, you will receive a status message every 5 seconds that displays each queue, it's size, frames enqueued, and frames dequeued. Stats are sent in the same format of stomp headers, so they are easy to parse. Following is an example of a status message containing stats for 2 queues:</p><p>Queue: /queue/client2 size: 0 dequeued: 400 enqueued: 400</p><p>Queue: /queue/test size: 50 dequeued: 250 enqueued: 300</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>stompserver was written by Patrick Hurley &lt;phurley@gmail.com&gt; and Lionel Bouton.</p><p>This manual page was compiled from the included documentation by Bryan McLellan &lt;btm@loftninjas.org&gt; for the Debian project (and may be used by others). The existing documentation is distributed under the MIT license.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="stompcat.1.html"><span aria-hidden="true">&larr;</span> stompcat.1: Display output from an stomp destination</a></li>
   <li class="next"><a href="stone.1.html">stone.1: A simple tcp/ip packet repeater <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
