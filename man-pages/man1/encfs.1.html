<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>encfs: Mounts or creates an encrypted virtual filesystem</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Mounts or creates an encrypted virtual filesystem">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="encfs (1) manual">
  <meta name="twitter:description" content="Mounts or creates an encrypted virtual filesystem">
  <meta name="twitter:image" content="https://www.carta.tech/images/encfs-encfs-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/encfs.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="encfs (1) manual" />
  <meta property="og:description" content="Mounts or creates an encrypted virtual filesystem" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/encfs-encfs-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">encfs<small> (1)</small></h1>
        <p class="lead">Mounts or creates an encrypted virtual filesystem</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/encfs.1.html">
      <span itemprop="name">encfs: Mounts or creates an encrypted virtual filesystem</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/encfs/">
      <span itemprop="name">encfs</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/encfs.1.html">
      <span itemprop="name">encfs: Mounts or creates an encrypted virtual filesystem</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>encfs</strong> [<strong>--version</strong>] [<strong>-s</strong>] [<strong>-f</strong>] [<strong>-v</strong>|<strong>--verbose</strong>] [<strong>-i \s-1MINUTES\s0</strong>|<strong>--idle=MINUTES</strong>] [<strong>--extpass=program</strong>] [<strong>-S</strong>|<strong>--stdinpass</strong>] [<strong>--anykey</strong>] [<strong>--forcedecode</strong>] [<strong>-d</strong>|<strong>--fuse-debug</strong>] [<strong>--public</strong>] [<strong>--no-default-flags</strong>] [<strong>--ondemand</strong>] [<strong>--reverse</strong>] [<strong>--standard</strong>] [<strong>-o \s-1FUSE_OPTION\s0</strong>] <em>rootdir</em> <em>mountPoint</em> [<strong>--</strong> [<em>Fuse Mount Options</em>]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>EncFS</strong> creates a virtual encrypted filesystem which stores encrypted data in the <em>rootdir</em> directory and makes the unencrypted data visible at the <em>mountPoint</em> directory.  The user must supply a password which is used to (indirectly) encrypt both filenames and file contents.</p><p>If <strong>EncFS</strong> is unable to find a supported filesystem at the specified <em>rootdir</em>, then the user will be asked if they wish to create a new encrypted filesystem at the specified location.  Options will be presented to the user allowing some control over the algorithms to use.  As <strong>EncFS</strong> matures, there may be an increasing number of choices.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-i</strong>, <strong>--idle=MINUTES</strong>
  </dt>
  <dd>
    <p>Enable automatic unmount of the filesystem after a period of inactivity.  The period is specified in minutes, so the shortest timeout period that can be requested is one minute.  <strong>EncFS</strong> will not automatically unmount if there are files open within the filesystem, even if they are open in read-only mode. However simply having files open does not count as activity.</p>
  </dd>
  <dt>
    <strong>-f</strong>
  </dt>
  <dd>
    <p>The <strong>-f</strong> (<em>foreground</em>) option causes <strong>EncFS</strong> to run in the foreground. Normally <strong>EncFS</strong> spawns off as a daemon and runs in the background, returning control to the spawning shell.  With the <strong>-f</strong> option, it will run in the foreground and any warning/debug log messages will be displayed on standard error.  In the default (background) mode, all log messages are logged via syslog.</p>
  </dd>
  <dt>
    <strong>-v</strong>, <strong>--verbose</strong>
  </dt>
  <dd>
    <p>Causes <strong>EncFS</strong> to enable logging of various debug channels within <strong>EncFS</strong>. Normally these logging messages are disabled and have no effect.  It is recommended that you run in foreground (<strong>-f</strong>) mode when running with verbose enabled.</p>
  </dd>
  <dt>
    <strong>-s</strong>
  </dt>
  <dd>
    <p>The <strong>-s</strong> (<em>single threaded</em>) option causes <strong>EncFS</strong> to run in single threaded mode.  By default, <strong>EncFS</strong> runs in multi-threaded mode.  This option is used during <strong>EncFS</strong> development in order to simplify debugging and allow it to run under memory checking tools..</p>
  </dd>
  <dt>
    <strong>-d</strong>, <strong>--fuse-debug</strong>
  </dt>
  <dd>
    <p>Enables debugging within the <strong>\s-1FUSE\s0</strong> library.  This should only be used if you suspect a problem within <strong>\s-1FUSE\s0</strong> itself (not <strong>EncFS</strong>), as it generates a lot of low-level data and is not likely to be very helpful in general problem tracking.  Try <em>verbose</em> mode (<strong>-v</strong>) first, which gives a higher level view of what is happening within <strong>EncFS</strong>.</p>
  </dd>
  <dt>
    <strong>--forcedecode</strong>
  </dt>
  <dd>
    <p>This option only has an effect on filesystems which use \s-1MAC\s0 block headers.  By default, if a block is decoded and the stored \s-1MAC\s0 doesn't match what is calculated, then an \s-1IO\s0 error is returned to the application and the block is not returned.  However, by specifying <strong>--forcedecode</strong>, only an error will be logged and the data will still be returned to the application.  This may be useful for attempting to read corrupted files.</p>
  </dd>
  <dt>
    <strong>--public</strong>
  </dt>
  <dd>
    <p>Attempt to make encfs behave as a typical multi-user filesystem.  By default, all \s-1FUSE\s0 based filesystems are visible only to the user who mounted them.  No other users (including root) can view the filesystem contents.  The <strong>--public</strong> option does two things.  It adds the \s-1FUSE\s0 flags \*(L"allow_other\*(R" and \*(L"default_permission\*(R" when mounting the filesystem, which tells \s-1FUSE\s0 to allow other users to access the filesystem, and to use the ownership permissions provided by the filesystem.  Secondly, the <strong>--public</strong> flag changes how encfs's node creation functions work - as they will try and set ownership of new nodes based on the caller identification. <strong>Warning</strong>: In order for this to work, encfs must be run as root \*(-- otherwise it will not have the ability to change ownership of files.  I recommend that you instead investigate if the fuse allow_other option can be used to do what you want before considering the use of <strong>--public</strong>.</p>
  </dd>
  <dt>
    <strong>--ondemand</strong>
  </dt>
  <dd>
    <p>Mount the filesystem on-demand.  This currently only makes sense in combination with <strong>--idle</strong> and <strong>--extpass</strong> options.  When the filesystem becomes idle, instead of exiting, <strong>EncFS</strong> stops allowing access to the filesystem by internally dropping it's reference to it.  If someone attempts to access the filesystem again, the extpass program is used to prompt the user for the password.  If this succeeds, then the filesystem becomes available again.</p>
  </dd>
  <dt>
    <strong>--reverse</strong>
  </dt>
  <dd>
    <p>Normally <strong>EncFS</strong> provides a plaintext view of data on demand.  Normally it stores enciphered data and displays plaintext data.  With <strong>--reverse</strong> it takes as source plaintext data and produces enciphered data on-demand.  This can be useful for creating remote encrypted backups, where you do not wish to keep the local files unencrypted. For example, the following would create an encrypted view in /tmp/crypt-view.</p>
<pre>
    encfs --reverse /home/me /tmp/crypt-view
</pre>
<p>You could then copy the /tmp/crypt-view directory in order to have a copy of the encrypted data.  You must also keep a copy of the file /home/me/.encfs5 which contains the filesystem information.  Together, the two can be used to reproduce the unencrypted data:     ENCFS5_CONFIG=/home/me/.encfs5 encfs /tmp/crypt-view /tmp/plain-view Now /tmp/plain-view contains the same data as /home/me Note that <strong>--reverse</strong> mode only works with limited configuration options, so many settings may be disabled when used.</p>
  </dd>
  <dt>
    <strong>--standard</strong>
  </dt>
  <dd>
    <p>If creating a new filesystem, this automatically selects standard configuration options, to help with automatic filesystem creation.  This is the set of options that should be used unless you know what you're doing and have read the documentation. When not creating a filesystem, this flag does nothing.</p>
  </dd>
  <dt>
    <strong>-o \s-1FUSE_ARG\s0</strong>
  </dt>
  <dd>
    <p>Pass through <strong>\s-1FUSE\s0</strong> args to the underlying library.  This makes it easy to pass \s-1FUSE\s0 options when mounting <strong>EncFS</strong> via mount (and /etc/fstab).  Eg:     mount encfs#/home/me-crypt /home/me -t fuse -o kernel_cache Note that encfs arguments cannot be set this way.  If you need to set encfs arguments, create a wrapper, such as  encfs-reverse;     #!/bin/sh     encfs --reverse $* Then mount using the script path     mount encfs-reverse#/home/me /home/me-crypt -t fuse</p>
  </dd>
  <dt>
    <strong>--</strong>
  </dt>
  <dd>
    <p>The <strong>--</strong> option tells <strong>EncFS</strong> to send any remaining arguments directly to <strong>\s-1FUSE\s0</strong>.  In turn, <strong>\s-1FUSE\s0</strong> passes the arguments to <strong>fusermount</strong>.  See the <strong>fusermount</strong> help page for information on available commands.</p>
  </dd>
  <dt>
    <strong>--no-default-flags</strong>
  </dt>
  <dd>
    <p><strong>Encfs</strong> adds the \s-1FUSE\s0 flags \*(L"use_ino\*(R" and \*(L"default_permissions\*(R" by default, as of version 1.2.2, because that improves compatibility with some programs..  If for some reason you need to disable one or both of these flags, use the option <strong>--no-default-flags</strong>. The following command lines produce the same result:     encfs raw crypt     encfs --no-default-flags raw crypt -- -o use_ino,default_permissions</p>
  </dd>
  <dt>
    <strong>--extpass=program</strong>
  </dt>
  <dd>
    <p>Specify an external program to use for getting the user password.  When the external program is spawned, the environment variable \*(L"RootDir\*(R" will be set to contain the path to the root directory.  The program should print the password to standard output. <strong>EncFS</strong> takes everything returned from the program to be the password, except for a trailing newline (&#92;n) which will be removed. For example, specifying <strong>--extpass</strong>=<em>/usr/lib/ssh/ssh-askpass</em> will cause <strong>EncFS</strong> to use ssh's password prompt program. <strong>Note</strong>: <strong>EncFS</strong> reads at most 2k of data from the password program, and it removes any trailing newline.  Versions before 1.4.x accepted only 64 bytes of text.</p>
  </dd>
  <dt>
    <strong>-S</strong>, <strong>--stdinpass</strong>
  </dt>
  <dd>
    <p>Read password from standard input, without prompting.  This may be useful for scripting encfs mounts. Note that you should make sure the filesystem and mount points exist first. Otherwise encfs will prompt for the filesystem creation options, which may interfere with your script.</p>
  </dd>
  <dt>
    <strong>--anykey</strong>
  </dt>
  <dd>
    <p>Turn off key validation checking.  This allows <strong>EncFS</strong> to be used with secondary passwords.  This could be used to store a separate set of files in an encrypted filesystem.  <strong>EncFS</strong> ignores files which do not decode properly, so files created with separate passwords will only be visible when the filesystem is mounted with their associated password. Note that if the primary password is changed (using <strong>encfsctl</strong>), the other passwords will not be usable unless the primary password is set back to what it was, as the other passwords rely on an invalid decoding of the volume key, which will not remain the same if the primary password is changed. <strong>Warning</strong>: Use this option at your own risk.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<p>Create a new encrypted filesystem.  Store the raw (encrypted) data in \*(L"~/.crypt\*(R" , and make the unencrypted data visible in \*(L"~/crypt\*(R".  Both directories are in the home directory in this example.  This example shows the full output of encfs as it asks the user if they wish to create the filesystem:</p><p>    % encfs ~/.crypt ~/crypt     Directory "/home/me/.crypt" does not exist, create (y,n)?y     Directory "/home/me/crypt" does not exist, create (y,n)?y     Creating new encrypted volume.     Please choose from one of the following options:      enter "x" for expert configuration mode,      enter "p" for pre-configured paranoia mode,      anything else, or an empty line will select standard mode.     ?&gt;</p><p>    Standard configuration selected.     Using cipher Blowfish, key size 160, block size 512     New Password: &lt;password entered here&gt;     Verify: &lt;password entered here&gt;</p><p>The filesystem is now mounted and visible in <em>~/crypt</em>.  If files are created there, they can be seen in encrypted form in <em>~/.crypt</em>.  To unmount the filesystem, use <em>fusermount</em> with the <strong>-u</strong> (unmount) option:</p><p>    % fusermount -u ~/crypt</p><p>Another example.  To mount the same filesystem, but have fusermount name the mount point '/dev/foo' (as shown in <em>df</em> and other tools which read /etc/mtab), and also request kernel-level caching of file data (which are both special arguments to fusermount):</p><p>    % encfs ~/.crypt ~/crypt -- -n /dev/foo -c</p><p>Or, if you find strange behavior under some particular program when working in an encrypted filesystem, it may be helpful to run in verbose mode while reproducing the problem and send along the output with the problem report:</p><p>    % encfs -v -f ~/.crypt ~/crypt 2&gt; encfs-report.txt</p><p>In order to avoid leaking sensitive information through the debugging channels, all warnings and debug messages (as output in verbose mode) contain only encrypted filenames.  You can use the <em>encfsctl</em> program's <em>decode</em> function to decode filenames if desired.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CAVEATS</h2>
        <div class="sectioncontent">
<p><strong>EncFS</strong> is not a true filesystem.  It does not deal with any of the actual storage or maintenance of files.  It simply translates requests (encrypting or decrypting as necessary) and passes the requests through to the underlying host filesystem.  Therefor any limitations of the host filesystem will likely be inherited by <strong>EncFS</strong> (or possibly be further limited).</p><p>One such limitation is filename length.  If your underlying filesystem limits you to N characters in a filename, then <strong>EncFS</strong> will limit you to approximately 3*(N-2)/4.  For example if the host filesystem limits to 256 characters, then <strong>EncFS</strong> will be limited to 190 character filenames.  This is because encrypted filenames are always longer then plaintext filenames.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILESYSTEM OPTIONS</h2>
        <div class="sectioncontent">
<p>When <strong>EncFS</strong> is given a root directory which does not contain an existing <strong>EncFS</strong> filesystem, it will give the option to create one.  Note that options can only be set at filesystem creation time.  There is no support for modifying a filesystem's options in-place.</p><p>If you want to upgrade a filesystem to use newer features, then you need to create a new filesystem and mount both the old filesystem and new filesystem at the same time and copy the old to the new.</p><p>Multiple instances of encfs can be run at the same time, including different versions of encfs, as long as they are compatible with the current \s-1FUSE\s0 module on your system.</p><p>A choice is provided for two pre-configured settings ('standard' and 'paranoia'), along with an expert configuration mode.</p><p><em>Standard</em> mode uses the following settings:</p>
<pre>
    Cipher: \s-1AES\s0
    Key Size: 192 bits
    \s-1PBKDF2\s0 with 1/2 second runtime, 160 bit salt
    Filesystem Block Size: 1024 bytes
    Filename Encoding: Block encoding with \s-1IV\s0 chaining
    Unique initialization vector file headers
</pre>
<p><em>Paranoia</em> mode uses the following settings:</p>
<pre>
    Cipher: \s-1AES\s0
    Key Size: 256 bits
    \s-1PBKDF2\s0 with 3 second runtime, 160 bit salt
    Filesystem Block Size: 1024 bytes
    Filename Encoding: Block encoding with \s-1IV\s0 chaining
    Unique initialization vector file headers
    Message Authentication Code block headers
    External \s-1IV\s0 Chaining
</pre>
<p>In the expert / manual configuration mode, each of the above options is configurable.  Here is a list of current options with some notes about what they mean:</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Key Derivation Function</h2>
        <div class="sectioncontent">
<p>As of version 1.5, <strong>EncFS</strong> now uses \s-1PBKDF2\s0 as the default key derivation function.  The number of iterations in the keying function is selected based on wall clock time to generate the key.  In standard mode, a target time of 0.5 seconds is used, and in paranoia mode a target of 3.0 seconds is used.</p><p>On a 1.6Ghz \s-1AMD\s0 64 system, it rougly 64k iterations of the key derivation function can be handled in half a second.  The exact number of iterations to use is stored in the configuration file, as it is needed to remount the filesystem.</p><p>If an <strong>EncFS</strong> filesystem configuration from 1.4.x is modified with version 1.5 (such as when using encfsctl to change the password), then the new \s-1PBKDF2\s0 function will be used and the filesystem will no longer be readable by older versions.</p>
<dl class='dl-vertical'>
  <dt>
    <em>Cipher</em>
  </dt>
  <dd>
    <p>Which encryption algorithm to use.  The list is generated automatically based on what supported algorithms <strong>EncFS</strong> found in the encryption libraries. When using a recent version of <strong>OpenSSL</strong>, Blowfish and \s-1AES\s0 are the typical options. Blowfish is an 8 byte cipher - encoding 8 bytes at a time.  \s-1AES\s0 is a 16 byte cipher.</p>
  </dd>
  <dt>
    <em>Cipher Key Size</em>
  </dt>
  <dd>
    <p>Many, if not all, of the supported ciphers support multiple key lengths.  There is not really much need to have enormous key lengths.  Even 160 bits (the default) is probably overkill.</p>
  </dd>
  <dt>
    <em>Filesystem Block Size</em>
  </dt>
  <dd>
    <p>This is the size (in bytes) that <strong>EncFS</strong> deals with at one time.  Each block gets its own initialization vector and is encoded in the cipher's cipher-block-chaining mode.  A partial block at the end of a file is encoded using a stream mode to avoid having to store the filesize somewhere. Having larger block sizes reduces the overhead of <strong>EncFS</strong> a little, but it can also add overhead if your programs read small parts of files.  In order to read a single byte from a file, the entire block that contains that byte must be read and decoded, so a large block size adds overhead to small requests.  With write calls it is even worse, as a block must be read and decoded, the change applied and the block encoded and written back out. The default is 512 bytes as of version 1.0.  It was hard coded to 64 bytes in version 0.x, which was not as efficient as the current setting for general usage.</p>
  </dd>
  <dt>
    <em>Filename Encoding</em>
  </dt>
  <dd>
    <p><strong>New in 1.1</strong>. A choice is given between stream encoding of filename and block encoding.  The advantage of stream encoding is that the encoded filenames will be as short as possible.  If you have a filename with a single letter, it will be very short in the encoded form, where as block encoded filenames are always rounded up to the block size of the encryption cipher (8 bytes for Blowfish and 16 bytes for \s-1AES\s0). The advantage of block encoding mode is that filename lenths all come out as a multiple of the cipher block size.  This means that someone looking at your encrypted data can't tell as much about the length of your filenames.  It is on by default, as it takes a similar amount of time to using the stream cipher. However stream cipher mode may be useful if you want shorter encrypted filenames for some reason. Prior to version 1.1, only stream encoding was supported.</p>
  </dd>
  <dt>
    <em>Filename Initialization Vector Chaining</em>
  </dt>
  <dd>
    <p><strong>New in 1.1</strong>.  In previous versions of <strong>EncFS</strong>, each filename element in a path was encoded separately.  So if \*(L"foo\*(R" encoded to \*(L"\s-1XXX\s0\*(R", then it would always encode that way (given the same encryption key), no matter if the path was \*(L"a/b/foo\*(R", or \*(L"aa/foo/cc\*(R", etc.  That meant it was possible for someone looking at the encrypted data to see if two files in different directories had the same name, even though they wouldn't know what that name decoded to. With initialization vector chaining, each directory gets its own initialization vector.  So \*(L"a/foo\*(R" and \*(L"b/foo\*(R" will have completely different encoded names for \*(L"foo\*(R".  This features has almost no performance impact (for most operations), and so is the default in all modes. <strong>Note:</strong> One significant performance exception is directory renames.  Since the initialization vector for filename encoding depends on the directory path, any rename requires re-encoding every filename in the tree of the directory being changed.  If there are thousands of files, then EncFS will have to do thousands of renames.  It may also be possible that EncFS will come across a file that it can't decode or doesn't have permission to move during the rename operation, in which case it will attempt to undo any changes it made up to that point and the rename will fail.</p>
  </dd>
  <dt>
    <em>Per-File Initialization Vectors</em>
  </dt>
  <dd>
    <p><strong>New in 1.1</strong>.  In previous versions of <strong>EncFS</strong>, each file was encoded in the same way.  Each block in a file has always had its own initialization vector, but in a deterministic way so that block N in one file is encoded in the same was as block N in another file.  That made it possible for someone to tell if two files were identical (or parts of the file were identical) by comparing the encoded data. With per-file initialization vectors, each file gets its own 64bit random initialization vector, so that each file is encrypted in a different way. This option is enabled by default.</p>
  </dd>
  <dt>
    <em>External \s-1IV\s0 Chaining</em>
  </dt>
  <dd>
    <p><strong>New in 1.1.3</strong>.  This option is closely related to Per-File Initialization Vectors and Filename Initialization Vector Chaining.  Basically it extends the initialization vector chaining from filenames to the per-file initialization vector. When this option is enabled, the per-file initialization vector is encoded using the initialization vector derived from the filename initialization vector chaining code.  This means that the data in a file becomes tied to the filename.  If an encrypted file is renamed outside of encfs, it will no longer be decodable within encfs.  Note that unless Block \s-1MAC\s0 headers are enabled, the decoding error will not be detected and will result in reading random looking data. There is a cost associated with this.  When External \s-1IV\s0 Chaining is enabled, hard links will not be allowed within the filesystem, as there would be no way to properly decode two different filenames pointing to the same data. Also, renaming a file requires modifying the file header.  So renames will only be allowed when the user has write access to the file. Because of these limits, this option is disabled by default for standard mode (and enabled by default for paranoia mode).</p>
  </dd>
  <dt>
    <em>Block \s-1MAC\s0 headers</em>
  </dt>
  <dd>
    <p><strong>New to 1.1</strong>.  If this is enabled, every block in every file is stored along with a cryptographic checksum (Message Authentication Code).  This makes it virtually impossible to modify a file without the change being detected by <strong>EncFS</strong>.  <strong>EncFS</strong> will refuse to read data which does not pass the checksum, and will log the error and return an \s-1IO\s0 error to the application. This adds substantial overhead (default being 8 bytes per filesystem block), plus computational overhead, and is not enabled by default except in paranoia mode. When this is not enabled and if <strong>EncFS</strong> is asked to read modified or corrupted data, it will have no way to verify that the decoded data is what was originally encoded.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">Attacks</h2>
        <div class="sectioncontent">
<p>The primary goal of <strong>EncFS</strong> is to protect data off-line.  That is, provide a convenient way of storing files in a way that will frustrate any attempt to read them if the files are later intercepted.</p><p>Some algorithms in <strong>EncFS</strong> are also meant to frustrate on-line attacks where an attacker is assumed to be able to modify the files.</p><p>The most intrusive attacks, where an attacker has complete control of the user's machine (and can therefor modify <strong>EncFS</strong>, or <strong>\s-1FUSE\s0</strong>, or the kernel itself) are not guarded against.  Do not assume that encrypted files will protect your sensitive data if you enter your password into a compromised computer.  How you determine that the computer is safe to use is beyond the scope of this documentation.</p><p>That said, here are some example attacks and data gathering techniques on the filesystem contents along with the algorithms <strong>EncFS</strong> supports to thwart them:</p>
<dl class='dl-vertical'>
  <dt>
    <strong>Attack</strong>: modifying a few bytes of an encrypted file (without knowing what they will decode to).
  </dt>
  <dd>
    <p><strong>EncFS</strong> does not use any form of \s-1XOR\s0 encryption which would allow single bytes to be modified without affecting others.  Most modifications would affect dozens or more bytes.  Additionally, \s-1MAC\s0 Block headers can be used to identify any changes to files.</p>
  </dd>
  <dt>
    <strong>Attack</strong>: copying a random block of one file to a random block of another file.
  </dt>
  <dd>
    <p>Each block has its own [deterministic] initialization vector.</p>
  </dd>
  <dt>
    <strong>Attack</strong>: copying block N to block N of another file.
  </dt>
  <dd>
    <p>When the Per-File Initialization Vector support is enabled (default in 1.1.x filesystems), a copied block will not decode properly when copied to another file.</p>
  </dd>
  <dt>
    <strong>Attack</strong>: copying an entire file to another file.
  </dt>
  <dd>
    <p>Can be prevented by enabling External \s-1IV\s0 Chaining mode.</p>
  </dd>
  <dt>
    <strong>Attack</strong>: determine if two filenames are the same by looking at encrypted names.
  </dt>
  <dd>
    <p>Filename Initialization Vector chaining prevents this by giving each file a 64-bit initialization vector derived from its full path name.</p>
  </dd>
  <dt>
    <strong>Attack</strong>: compare if two files contain the same data.
  </dt>
  <dd>
    <p>Per-File Initialization Vector support prevents this.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DISCLAIMER</h2>
        <div class="sectioncontent">
<p>This library is distributed in the hope that it will be useful, but \s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of \s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  Please refer to the \*(L"\s-1COPYING\s0\*(R" file distributed with <strong>EncFS</strong> for complete details.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p><strong>EncFS</strong> was written by <strong>Valient Gough &lt;vgough@pobox.com&gt;</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO encfs&hellip;</h2>
        <div class="sectioncontent">
<p><em>encfsctl</em>\|(1)</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="encapsulate.1.html"><span aria-hidden="true">&larr;</span> encapsulate.1: Multiplex several channels over a single socket with sampling of remote process exit status, and provide conversation termination without closing the socket.  netpipes 4.2</a></li>
   <li class="next"><a href="encfsctl.1.html">encfsctl.1: Administrative tool for working with encfs filesystems <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
