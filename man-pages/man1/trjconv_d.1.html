<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>trjconv_d: Convert and manipulates trajectory files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert and manipulates trajectory files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="trjconv_d (1) manual">
  <meta name="twitter:description" content="Convert and manipulates trajectory files">
  <meta name="twitter:image" content="https://www.carta.tech/images/gromacs-data-trjconv_d-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/trjconv_d.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="trjconv_d (1) manual" />
  <meta property="og:description" content="Convert and manipulates trajectory files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/gromacs-data-trjconv_d-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">trjconv_d<small> (1)</small></h1>
        <p class="lead">Convert and manipulates trajectory files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/trjconv_d.1.html">
      <span itemprop="name">trjconv_d: Convert and manipulates trajectory files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/gromacs-data/">
      <span itemprop="name">gromacs-data</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/trjconv_d.1.html">
      <span itemprop="name">trjconv_d: Convert and manipulates trajectory files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p>gmx trjconv [-f [&lt;.xtc/.trr/...&gt;]] [-o [&lt;.xtc/.trr/...&gt;]]</p>
<pre>
            [-s [&lt;.tpr/.tpb/...&gt;]] [-n [&lt;.ndx&gt;]] [-fr [&lt;.ndx&gt;]]
            [-sub [&lt;.ndx&gt;]] [-drop [&lt;.xvg&gt;]] [-nice &lt;int&gt;]
            [-b &lt;time&gt;] [-e &lt;time&gt;] [-tu &lt;enum&gt;] [-[no]w]
            [-xvg &lt;enum&gt;] [-skip &lt;int&gt;] [-dt &lt;time&gt;] [-[no]round]
            [-dump &lt;time&gt;] [-t0 &lt;time&gt;] [-timestep &lt;time&gt;]
            [-pbc &lt;enum&gt;] [-ur &lt;enum&gt;] [-[no]center]
            [-boxcenter &lt;enum&gt;] [-box &lt;vector&gt;] [-trans &lt;vector&gt;]
            [-shift &lt;vector&gt;] [-fit &lt;enum&gt;] [-ndec &lt;int&gt;] [-[no]vel]
            [-[no]force] [-trunc &lt;time&gt;] [-exec &lt;string&gt;]
            [-split &lt;time&gt;] [-[no]sep] [-nzero &lt;int&gt;]
            [-dropunder &lt;real&gt;] [-dropover &lt;real&gt;] [-[no]conect]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>gmx trjconv</strong> can convert trajectory files in many ways: * from one format to another * select a subset of atoms * change the periodicity representation * keep multimeric molecules together * center atoms in the box * fit atoms to reference structure * reduce the number of frames * change the timestamps of the frames (<strong>-t0</strong> and <strong>-timestep</strong>) * cut the trajectory in small subtrajectories according to information in an index file. This allows subsequent analysis of the subtrajectories that could, for example, be the result of a cluster analysis. Use option <strong>-sub</strong>. This assumes that the entries in the index file are frame numbers and dumps each group in the index file to a separate trajectory file. * select frames within a certain range of a quantity given in an <strong>.xvg</strong> file.</p><p><strong>gmx trjcat</strong> is better suited for concatenating multiple trajectory files.</p><p>The following formats are supported for input and output: <strong>.xtc</strong>, <strong>.trr</strong>, <strong>.trj</strong>, <strong>.gro</strong>, <strong>.g96</strong> and <strong>.pdb</strong>. The file formats are detected from the file extension. The precision of <strong>.xtc</strong> and <strong>.gro</strong> output is taken from the input file for <strong>.xtc</strong>, <strong>.gro</strong> and <strong>.pdb</strong>, and from the <strong>-ndec</strong> option for other input formats. The precision is always taken from <strong>-ndec</strong>, when this option is set. All other formats have fixed precision. <strong>.trr</strong> and <strong>.trj</strong> output can be single or double precision, depending on the precision of the <strong>gmx trjconv</strong> binary. Note that velocities are only supported in <strong>.trr</strong>, <strong>.trj</strong>, <strong>.gro</strong> and <strong>.g96</strong> files.</p><p>Option <strong>-sep</strong> can be used to write every frame to a separate <strong>.gro, .g96</strong> or <strong>.pdb</strong> file. By default, all frames all written to one file. <strong>.pdb</strong> files with all frames concatenated can be viewed with <strong>rasmol -nmrpdb</strong>.</p><p>It is possible to select part of your trajectory and write it out to a new trajectory file in order to save disk space, e.g. for leaving out the water from a trajectory of a protein in water. <strong>ALWAYS</strong> put the original trajectory on tape! We recommend to use the portable <strong>.xtc</strong> format for your analysis to save disk space and to have portable files.</p><p>There are two options for fitting the trajectory to a reference either for essential dynamics analysis, etc. The first option is just plain fitting to a reference structure in the structure file. The second option is a progressive fit in which the first timeframe is fitted to the reference structure in the structure file to obtain and each subsequent timeframe is fitted to the previously fitted structure. This way a continuous trajectory is generated, which might not be the case when using the regular fit method, e.g. when your protein undergoes large conformational transitions.</p><p>Option <strong>-pbc</strong> sets the type of periodic boundary condition treatment: <strong>* mol</strong> puts the center of mass of molecules in the box, and requires a run input file to be supplied with <strong>-s</strong>. <strong>* res</strong> puts the center of mass of residues in the box. <strong>* atom</strong> puts all the atoms in the box. <strong>* nojump</strong> checks if atoms jump across the box and then puts them back. This has the effect that all molecules will remain whole (provided they were whole in the initial conformation). <strong>Note</strong> that this ensures a continuous trajectory but molecules may diffuse out of the box. The starting configuration for this procedure is taken from the structure file, if one is supplied, otherwise it is the first frame. <strong>* cluster</strong> clusters all the atoms in the selected index such that they are all closest to the center of mass of the cluster, which is iteratively updated. <strong>Note</strong> that this will only give meaningful results if you in fact have a cluster. Luckily that can be checked afterwards using a trajectory viewer. Note also that if your molecules are broken this will not work either. The separate option <strong>-clustercenter</strong> can be used to specify an approximate center for the cluster. This is useful e.g. if you have two big vesicles, and you want to maintain their relative positions. <strong>* whole</strong> only makes broken molecules whole.</p><p>Option <strong>-ur</strong> sets the unit cell representation for options <strong>mol</strong>, <strong>res</strong> and <strong>atom</strong> of <strong>-pbc</strong>. All three options give different results for triclinic boxes and identical results for rectangular boxes. <strong>rect</strong> is the ordinary brick shape. <strong>tric</strong> is the triclinic unit cell. <strong>compact</strong> puts all atoms at the closest distance from the center of the box. This can be useful for visualizing e.g. truncated octahedra or rhombic dodecahedra. The center for options <strong>tric</strong> and <strong>compact</strong> is <strong>tric</strong> (see below), unless the option <strong>-boxcenter</strong> is set differently.</p><p>Option <strong>-center</strong> centers the system in the box. The user can select the group which is used to determine the geometrical center. Option <strong>-boxcenter</strong> sets the location of the center of the box for options <strong>-pbc</strong> and <strong>-center</strong>. The center options are: <strong>tric</strong>: half of the sum of the box vectors, <strong>rect</strong>: half of the box diagonal, <strong>zero</strong>: zero. Use option <strong>-pbc mol</strong> in addition to <strong>-center</strong> when you want all molecules in the box after the centering.</p><p>Option <strong>-box</strong> sets the size of the new box. If you want tomodify only some of the dimensions, e.g. when reading from a trajectory,you can use -1 for those dimensions that should stay the sameIt is not always possible to use combinations of <strong>-pbc</strong>, <strong>-fit</strong>, <strong>-ur</strong> and <strong>-center</strong> to do exactly what you want in one call to <strong>gmx trjconv</strong>. Consider using multiple calls, and check out the GROMACS website for suggestions.</p><p>With <strong>-dt</strong>, it is possible to reduce the number of frames in the output. This option relies on the accuracy of the times in your input trajectory, so if these are inaccurate use the <strong>-timestep</strong> option to modify the time (this can be done simultaneously). For making smooth movies, the program <strong>gmx filter</strong> can reduce the number of frames while using low-pass frequency filtering, this reduces aliasing of high frequency motions.</p><p>Using <strong>-trunc</strong> <strong>gmx trjconv</strong> can truncate <strong>.trj</strong> in place, i.e. without copying the file. This is useful when a run has crashed during disk I/O (i.e. full disk), or when two contiguous trajectories must be concatenated without having double frames.</p><p>Option <strong>-dump</strong> can be used to extract a frame at or near one specific time from your trajectory.</p><p>Option <strong>-drop</strong> reads an <strong>.xvg</strong> file with times and values. When options <strong>-dropunder</strong> and/or <strong>-dropover</strong> are set, frames with a value below and above the value of the respective options will not be written.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<p>Options to specify input and output files:</p><p><strong>-f</strong><em> [&lt;.xtc/.trr/...&gt;] (traj.xtc) (Input)</em></p>
<pre>
    Trajectory: xtc trr cpt trj gro g96 pdb tng
</pre>
<p><strong>-o</strong><em> [&lt;.xtc/.trr/...&gt;] (trajout.xtc) (Output)</em></p>
<pre>
    Trajectory: xtc trr trj gro g96 pdb tng
</pre>
<p><strong>-s</strong><em> [&lt;.tpr/.tpb/...&gt;] (topol.tpr) (Input, Optional)</em></p>
<pre>
    Structure+mass(db): tpr tpb tpa gro g96 pdb brk ent
</pre>
<p><strong>-n</strong><em> [&lt;.ndx&gt;] (index.ndx) (Input, Optional)</em></p>
<pre>
    Index file
</pre>
<p><strong>-fr</strong><em> [&lt;.ndx&gt;] (frames.ndx) (Input, Optional)</em></p>
<pre>
    Index file
</pre>
<p><strong>-sub</strong><em> [&lt;.ndx&gt;] (cluster.ndx) (Input, Optional)</em></p>
<pre>
    Index file
</pre>
<p><strong>-drop</strong><em> [&lt;.xvg&gt;] (drop.xvg) (Input, Optional)</em></p>
<pre>
    xvgr/xmgr file
</pre>
<p>Other options:</p><p><strong>-nice</strong><em> &lt;int&gt; (19)</em></p>
<pre>
    Set the nicelevel
</pre>
<p><strong>-b</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    First frame (ps) to read from trajectory
</pre>
<p><strong>-e</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Last frame (ps) to read from trajectory
</pre>
<p><strong>-tu</strong><em> &lt;enum&gt; (ps)</em></p>
<pre>
    Time unit: fs, ps, ns, us, ms, s
</pre>
<p><strong>-[no]w</strong><em>  (no)</em></p>
<pre>
    View output <strong>.xvg</strong>, <strong>.xpm</strong>, <strong>.eps</strong> and <strong>.pdb</strong> files
</pre>
<p><strong>-xvg</strong><em> &lt;enum&gt; (xmgrace)</em></p>
<pre>
    xvg plot formatting: xmgrace, xmgr, none
</pre>
<p><strong>-skip</strong><em> &lt;int&gt; (1)</em></p>
<pre>
    Only write every nr-th frame
</pre>
<p><strong>-dt</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Only write frame when t MOD dt = first time (ps)
</pre>
<p><strong>-[no]round</strong><em>  (no)</em></p>
<pre>
    Round measurements to nearest picosecond
</pre>
<p><strong>-dump</strong><em> &lt;time&gt; (-1)</em></p>
<pre>
    Dump frame nearest specified time (ps)
</pre>
<p><strong>-t0</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Starting time (ps) (default: don't change)
</pre>
<p><strong>-timestep</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Change time step between input frames (ps)
</pre>
<p><strong>-pbc</strong><em> &lt;enum&gt; (none)</em></p>
<pre>
    PBC treatment (see help text for full description): none, mol, res, atom, nojump, cluster, whole
</pre>
<p><strong>-ur</strong><em> &lt;enum&gt; (rect)</em></p>
<pre>
    Unit-cell representation: rect, tric, compact
</pre>
<p><strong>-[no]center</strong><em>  (no)</em></p>
<pre>
    Center atoms in box
</pre>
<p><strong>-boxcenter</strong><em> &lt;enum&gt; (tric)</em></p>
<pre>
    Center for -pbc and -center: tric, rect, zero
</pre>
<p><strong>-box</strong><em> &lt;vector&gt; (0 0 0)</em></p>
<pre>
    Size for new cubic box (default: read from input)
</pre>
<p><strong>-trans</strong><em> &lt;vector&gt; (0 0 0)</em></p>
<pre>
    All coordinates will be translated by trans. This can advantageously be combined with -pbc mol -ur compact.
</pre>
<p><strong>-shift</strong><em> &lt;vector&gt; (0 0 0)</em></p>
<pre>
    All coordinates will be shifted by framenr*shift
</pre>
<p><strong>-fit</strong><em> &lt;enum&gt; (none)</em></p>
<pre>
    Fit molecule to ref structure in the structure file: none, rot+trans, rotxy+transxy, translation, transxy, progressive
</pre>
<p><strong>-ndec</strong><em> &lt;int&gt; (3)</em></p>
<pre>
    Precision for .xtc and .gro writing in number of decimal places
</pre>
<p><strong>-[no]vel</strong><em>  (yes)</em></p>
<pre>
    Read and write velocities if possible
</pre>
<p><strong>-[no]force</strong><em>  (no)</em></p>
<pre>
    Read and write forces if possible
</pre>
<p><strong>-trunc</strong><em> &lt;time&gt; (-1)</em></p>
<pre>
    Truncate input trajectory file after this time (ps)
</pre>
<p><strong>-exec</strong><em> &lt;string&gt;</em></p>
<pre>
    Execute command for every output frame with the frame number as argument
</pre>
<p><strong>-split</strong><em> &lt;time&gt; (0)</em></p>
<pre>
    Start writing new file when t MOD split = first time (ps)
</pre>
<p><strong>-[no]sep</strong><em>  (no)</em></p>
<pre>
    Write each frame to a separate .gro, .g96 or .pdb file
</pre>
<p><strong>-nzero</strong><em> &lt;int&gt; (0)</em></p>
<pre>
    If the -sep flag is set, use these many digits for the file numbers and prepend zeros as needed
</pre>
<p><strong>-dropunder</strong><em> &lt;real&gt; (0)</em></p>
<pre>
    Drop all frames below this value
</pre>
<p><strong>-dropover</strong><em> &lt;real&gt; (0)</em></p>
<pre>
    Drop all frames above this value
</pre>
<p><strong>-[no]conect</strong><em>  (no)</em></p>
<pre>
    Add conect records when writing <strong>.pdb</strong> files. Useful for visualization of non-standard molecules, e.g. coarse grained ones
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO trjconv_d&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man7/gromacs.7.html"><strong>gromacs</strong>(7)</a></strong></p><p>More information about <strong>GROMACS</strong> is available at &lt;<em>http://www.gromacs.org/</em>&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="trjconv.1.html"><span aria-hidden="true">&larr;</span> trjconv.1: Convert and manipulates trajectory files</a></li>
   <li class="next"><a href="trjorder.1.html">trjorder.1: Order molecules according to their distance to a group <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
