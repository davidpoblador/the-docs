<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>fwb_pf: Policy compiler for openbsd packet filter "pf"</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Policy compiler for openbsd packet filter "pf"">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="fwb_pf (1) manual">
  <meta name="twitter:description" content="Policy compiler for openbsd packet filter "pf"">
  <meta name="twitter:image" content="https://www.carta.tech/images/fwbuilder-fwb_pf-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/fwb_pf.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="fwb_pf (1) manual" />
  <meta property="og:description" content="Policy compiler for openbsd packet filter "pf"" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/fwbuilder-fwb_pf-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">fwb_pf<small> (1)</small></h1>
        <p class="lead">Policy compiler for openbsd packet filter "pf"</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fwb_pf.1.html">
      <span itemprop="name">fwb_pf: Policy compiler for openbsd packet filter "pf"</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/fwbuilder/">
      <span itemprop="name">fwbuilder</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/fwb_pf.1.html">
      <span itemprop="name">fwb_pf: Policy compiler for openbsd packet filter "pf"</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>fwb_pf</strong> <strong>[-vVx]</strong> <strong>[-d wdir]</strong> <strong>[-o output.fw]</strong> <strong>[-i]</strong> <strong>-f data_file.xml</strong> object_name</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>fwb_pf</strong> is a firewall policy compiler component of Firewall Builder (see <a href="../man1/fwbuilder.1.html"><strong>fwbuilder</strong>(1)</a>). This compiler generates code for OpenBSD Packet Filter (pf). Compiler reads objects definitions and firewall description from the data file specified with "-f" option and generates pf configuration files and firewall activation script.</p><p>All generated files have names that start with the name of the firewall object. Firewall activation script has extension ".fw" and is simple shell script that flushes current policy, loads new filter and nat rules and then activates pf.  PF configuration file name starts with the name of the firewall object, plus "-pf.conf".  NAT configuration file name also starts with the name of the firewall object, plus "-nat.conf". For example, if firewall object has name "myfirewall", then compiler will create three files: "myfirewall.fw", "myfirewall-pf.conf", "myfirewall-nat.conf".</p><p>The data file and the name of the firewall objects must be specified on the command line. Other command line parameters are optional.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    -f FILE
  </dt>
  <dd>
    <p>Specify the name of the data file to be processed.</p>
  </dd>
  <dt>
    -o output.fw
  </dt>
  <dd>
    <p>Specify output file name</p>
  </dd>
  <dt>
    -d wdir
  </dt>
  <dd>
    <p>Specify  working  directory.  Compiler  creates  firewall activation script and PF configuration files in this directory.  If this parameter is missing, then all files will be placed in the current working directory.</p>
  </dd>
  <dt>
    -v
  </dt>
  <dd>
    <p>Be verbose: compiler prints diagnostic messages when it works.</p>
  </dd>
  <dt>
    -V
  </dt>
  <dd>
    <p>Print version number and quit.</p>
  </dd>
  <dt>
    -i
  </dt>
  <dd>
    <p>When this option is present, the last argument on the command line is supposed to be firewall object ID rather than its name</p>
  </dd>
  <dt>
    -x
  </dt>
  <dd>
    <p>Generate debugging information while working. This option is intended for debugging only and may produce lots of cryptic messages.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>Support for PF has been introduced in version 1.0.1 of Firewall Builder</p><p>Supported features:</p><ul>
<li><p>both pf.conf and nat.conf files are generated</p></li><li><p>negation in policy and NAT rules</p></li><li><p>grouping in "from", "to" and ports using '{' '}' syntax</p></li><li><p>if checkbox "Scrub" is checked in the rule options dialog, and rule's action is Accept, the compiler generates two (almost) identical rules: first with action 'scrub' and the second with action 'pass quick'</p></li><li><p>stateful inspection in individual rule can be turned off in rule options dialog. By default compiler adds "keep state" or "modulate state" to each rule with action 'pass'</p></li><li><p>rule options dialog provides a choice of icmp or tcp rst replies for rules with action "Reject"</p></li><li><p>compiler adds flag "allow-opts" if match on ip options is needed</p></li><li><p>compiler can generate rules matching on TCP flags</p></li><li><p>compiler can generate script adding ip aliases for NAT rules using addresses that do not belong to any interface of the firewall</p></li><li><p>compiler always adds rule "block quick all" at the very bottom of the script to ensure "block all by default" policy even if the policy is empty.</p></li><li><p>Address ranges in both policy and NAT</p></li>
</ul><p>Features that are not supported (yet)</p><ul>
<li><p>custom services</p></li>
</ul><p>What will not be supported (at least not anytime soon)</p><ul>
<li><p>policy routing</p></li>
</ul>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">URL</h2>
        <div class="sectioncontent">
<p>Firewall Builder home page is located at the following URL: <strong>http://www.fwbuilder.org/</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>Please report bugs using bug tracking system on SourceForge:</p><p><strong>http://sourceforge.net/tracker/?group_id=5314&atid=105314</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO fwb_pf&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/fwbuilder.1.html"><strong>fwbuilder</strong>(1)</a>,</strong> <a href="../man1/fwb_ipt.1.html"><strong>fwb_ipt</strong>(1)</a>,</strong> <a href="../man1/fwb_ipf.1.html"><strong>fwb_ipf</strong>(1)</a></strong></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="fwb_ipt.1.html"><span aria-hidden="true">&larr;</span> fwb_ipt.1: Policy compiler for iptables</a></li>
   <li class="next"><a href="fwb_pix.1.html">fwb_pix.1: Policy compiler for cisco pix <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
