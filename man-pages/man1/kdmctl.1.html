<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>kdmctl: Kdm remote control application</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Kdm remote control application">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="kdmctl (1) manual">
  <meta name="twitter:description" content="Kdm remote control application">
  <meta name="twitter:image" content="https://www.carta.tech/images/kdm-kdmctl-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/kdmctl.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="kdmctl (1) manual" />
  <meta property="og:description" content="Kdm remote control application" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/kdm-kdmctl-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">kdmctl<small> (1)</small></h1>
        <p class="lead">Kdm remote control application</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/kdmctl.1.html">
      <span itemprop="name">kdmctl: Kdm remote control application</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/kdm/">
      <span itemprop="name">kdm</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/kdmctl.1.html">
      <span itemprop="name">kdmctl: Kdm remote control application</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>kdmctl</strong> [options] [command [command arguments]]</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>kdmctl</strong> is an application to remote-control <strong>kdm</strong>. It makes use of UNIX domain sockets.</p><p>There are two types of sockets: the global one (dmctl) and the per-display ones (dmctl-&lt;display&gt;). The global one's subdir is owned by root, the subdirs of the per-display ones' are owned by the user currently owning the session (root or the logged in user).</p><p>The directory in which the sockets are located is determined this way:</p><p>- the <strong>-s</strong> option is examined</p><p>- the $DM_CONTROL variable is examined</p><p>- the kdm config file is searched for the FifoDir key</p><p>-<em>/var/run/xdmctl</em><em>and</em>/var/run<em></em>are<em>tried</em></p><p>If $DISPLAY is set (or <strong>-d</strong> was specified) and <strong>-g</strong> was not specified, the display-specific control socket will be used, otherwise the global one.</p><p>Tokens in the command and the reply are tab-separated. Command arguments can be specified as separate command line parameters, in which case they are simply concatenated with tabs in between.</p><p>If the command is '-', <strong>kdmctl</strong> reads commands from stdin. The default command is 'caps'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">
<h3></h3>

<h3>Options:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>-h -help</strong></p>
  </dt>
  <dd>
    <p>print help message.</p>
  </dd>
  <dt>
    <p><strong>-g -global</strong></p>
  </dt>
  <dd>
    <p>Use global control socket even if $DISPLAY is set</p>
  </dd>
  <dt>
    <p><strong>-d -display</strong></p>
  </dt>
  <dd>
    <p>Override $DISPLAY</p>
  </dd>
  <dt>
    <p><strong>-s -sockets</strong></p>
  </dt>
  <dd>
    <p>Override $DM_CONTROL</p>
  </dd>
  <dt>
    <p><strong>-c -config</strong></p>
  </dt>
  <dd>
    <p>Use alternative kdm config file</p>
  </dd>

</dl>

<h3>Commands:</h3>

<h3>Global commands:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>login</strong></p>
  </dt>
  <dd>
    <p>display (now|schedule) user password [session_arguments]</p><p> login user at specified display. if "now" is specified, a possibly running session is killed, otherwise the login is done after the session exits.</p><p>session_arguments are printf-like escaped contents for <em>.dmrc</em>. Unlisted keys will default to previously saved values.</p>
  </dd>

</dl>

<h3>Per-display commands:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>lock</strong></p>
  </dt>
  <dd>
    <p>The display is marked as locked. If the X-Server crashes in this state, no auto-relogin will be performed even if the option is on.</p>
  </dd>
  <dt>
    <p><strong>unlock</strong></p>
  </dt>
  <dd>
    <p>Reverse the effect of "lock": re-enable auto-relogin.</p>
  </dd>
  <dt>
    <p><strong>suicide</strong></p>
  </dt>
  <dd>
    <p>The currently running session is forcibly terminated. No auto-relogin is attempted, but a scheduled "login" command will be executed.</p>
  </dd>

</dl>

<h3>Commands for all sockets:</h3>

<dl class='dl-vertical'>
  <dt>
    <p><strong>caps</strong></p>
  </dt>
  <dd>
    <p>Returns a list of this socket's capabilities:</p>
<dl class='dl-vertical'>
  <dt>
        - kdm
  </dt>
  <dd>
    <p>identifies kdm, in case some other DM implements this protocol, too.</p>
  </dd>
  <dt>
        - list, activate, lock, suicide, login
  </dt>
  <dd>
    <p>the respective command is supported.</p>
  </dd>
  <dt>
        - bootoptions
  </dt>
  <dd>
    <p>the "listbootoptions" command and the "=" option to "shutdown" are supported.</p>
  </dd>
  <dt>
        - shutdown &lt;list&gt;
  </dt>
  <dd>
    <p>"shutdown" is supported and allowed to the listed users (comma-separated). "*" means all authenticated users.</p>
  </dd>
  <dt>
        - shutdown
  </dt>
  <dd>
    <p>"shutdown" is supported and allowed to everybody.</p>
  </dd>
  <dt>
        - nuke &lt;list&gt;
  </dt>
  <dd>
    <p>forced shutdown is allowed to the listed users.</p>
  </dd>
  <dt>
        - nuke
  </dt>
  <dd>
    <p>forced shutdown is allowed to everybody.</p>
  </dd>
  <dt>
        - reserve &lt;number&gt;
  </dt>
  <dd>
    <p>reserve displays are configured and &lt;number&gt; are available at this time.</p>
  </dd>

</dl>

  </dd>
  <dt>
    <p><strong>list</strong> [all|alllocal]</p>
  </dt>
  <dd>
    <p>Return a list of running sessions. By default all active sessions are listed. If "all" is specified, passive sessions are listed as well. If "alllocal" is specified, passive sessions are listed as well, but all incoming remote sessions are skipped.</p><p>Each session entry is a comma-separated tuple of:</p><p>- Display or TTY name</p><p>- VT name for local sessions</p><p>- Logged in user's name, empty for passive sessions and outgoing</p>
<pre>
  remote sessions (local chooser mode)
</pre>
<p>- Session type or remote host for outgoing remote sessions,</p>
<pre>
  empty for passive sessions
</pre>
<p>- A flag field:</p><p>- "t" for tty sessions</p><p>- "*" for the display belonging to the requesting socket</p><p>- "!" for sessions that cannot be killed by the requesting</p>
<pre>
  socket
</pre>
<p>- New flags might be added later</p><p>- New fields might be added later</p>
  </dd>
  <dt>
    <p><strong>reserve</strong> [timeout in seconds]</p>
  </dt>
  <dd>
    <p>Start a reserve login screen. If nobody logs in within the specified amount of time (one minute by default), the display is removed again. When the session on the display exits, the display is removed, too.</p><p>Permitted only on sockets of local displays and the global socket.</p>
  </dd>
  <dt>
    <p><strong>activate</strong> (vt|display)</p>
  </dt>
  <dd>
    <p>Switch to a particular VT (virtual terminal). The VT may be specified either directly (e.g., vt3) or by a display using it (e.g., :2).</p><p>Permitted only on sockets of local displays and the global socket.</p>
  </dd>
  <dt>
    <p><strong>listbootoptions</strong></p>
  </dt>
  <dd>
    <p>List available boot options.</p><p>=&gt; "ok" list default current default and current are indices into the list and are -1 if unset or undeterminable.</p>
  </dd>
  <dt>
    <p><strong>shutdown</strong> (reboot|halt) [=bootchoice]</p>
  </dt>
  <dd>
    
<pre>
  (ask|trynow|forcenow|schedule|start
</pre>

<pre>
   (-1|end (force|forcemy|cancel)))
</pre>
<p>Request a system shutdown, either a reboot or a halt/poweroff.</p><p>An OS choice for the next boot may be specified from the list returned by "listbootoptions".</p><p>Shutdowns requested from per-display sockets are executed when the current session on that display exits. Such a request may pop up a dialog asking for confirmation and/or authentication.</p><p>start is the time for which the shutdown is scheduled. If it starts with a plus-sign, the current time is added. Zero means immediately.</p><p>end is the latest time at which the shutdown should be performed if active sessions are still running. If it starts with a plus-sign, the start time is added. Minus one means wait infinitely. If end is through and active sessions are still running, <strong>KDM</strong> can do one of the following:</p><p>- "cancel" - give up the shutdown.</p><p>- "force" - shut down nonetheless.</p><p>- "forcemy" - shut down nonetheless if all active sessions</p>
<pre>
   belong to the requesting user. Only for per-display sockets.
</pre>
<p>start and end are specified in seconds since the UNIX epoch.</p><p>"trynow" is a synonym for "0 0 cancel", "forcenow" for "0 0 force" and "schedule" for "0 -1".</p><p>"ask" attempts an immediate shutdown and interacts with the user if active sessions are still running. Only for per-display sockets.</p>
  </dd>
  <dt>
    <p><strong>shutdown cancel</strong> [local|global]</p>
  </dt>
  <dd>
    <p>Cancel a scheduled shutdown. The global socket always cancels the currently pending shutdown, while per-display sockets default to cancelling their queued request.</p>
  </dd>
  <dt>
    <p><strong>shutdown status</strong></p>
  </dt>
  <dd>
    <p>Return a list with information about shutdowns.</p><p>The entries are comma-separated tuples of:</p><p>- ("global"|"local") - pending vs. queued shutdown. A local</p>
<pre>
  entry can be returned only by a per-display socket.
</pre>
<p>- ("halt"|"reboot")</p><p>- start</p><p>- end</p><p>- ("ask"|"force"|"forcemy"|"cancel")</p><p>- Numeric user ID of the requesting user, -1 for the global</p>
<pre>
  socket.
</pre>
<p>- The next boot OS choice or "-" for none.</p><p>- New fields might be added later.</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO kdmctl&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/kdm.1.html"><strong>kdm</strong>(1)</a></p>
<dl class='dl-vertical'>
  <dt>
    <p><em>/usr/share/doc/kdm/README.gz</em></p>
  </dt>
  <dd>
    <p>Information about the command sockets (and <strong>kdm</strong>)</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">

<pre>
Oswald Buddenhagen &lt;ossi@kde.org&gt;


</pre>
<p>Please use http://bugs.kde.org to report bugs; do not mail the authors directly.</p><p>This manual page was written by Holger Hartmann &lt;Holger_Hartmann@gmx.de&gt; for the Debian Project (but may be used by others). Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 2 or any later version published by the Free Software Foundation.</p><p>On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="kdm.1.html"><span aria-hidden="true">&larr;</span> kdm.1: Kde display manager</a></li>
   <li class="next"><a href="kdocker.1.html">kdocker.1: Puts everything to traybar <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
