<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ext2spice: Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="ext2spice (1) manual">
  <meta name="twitter:description" content="Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files">
  <meta name="twitter:image" content="https://www.carta.tech/images/magic-ext2spice-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/ext2spice.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ext2spice (1) manual" />
  <meta property="og:description" content="Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/magic-ext2spice-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">ext2spice<small> (1)</small></h1>
        <p class="lead">Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ext2spice.1.html">
      <span itemprop="name">ext2spice: Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/magic/">
      <span itemprop="name">magic</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/ext2spice.1.html">
      <span itemprop="name">ext2spice: Convert hierarchical ext\|(5) extracted-circuit files to flat spice\| files</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>ext2spice</strong> [ <strong>-B</strong> ] [ <em>extcheck-options</em> ] [ <em>-M|m</em> ] [ <em>-y num</em> ] [ <em>-f hspice|spice3|spice2</em> ] [ <em>-J hier|flat</em> ] [ <em>-j device:sdRclass[/subRclass]/defaultSubstrate</em> ] <em>root</em></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p>Ext2spice will convert an extracted circuit from the hierarchical <em>ext</em>\|(5) representation produced by Magic to a flat spice file which can be accepted by spice2, spice3, hspice and other simulation tools. The root of the tree to be extracted is the file <em>root</em><strong>.ext</strong>; it and all the files it references are recursively flattened. The result is a single, flat representation of the circuit that is written to the file <em>root</em><strong>.spice</strong> .</p><p>The following options are recognized:</p>
<dl class='dl-vertical'>
  <dt>
    <p><strong>-o&nbsp;</strong><em>outfile</em><strong></strong></p>
  </dt>
  <dd>
    <p>Instead of leaving output in the file <em>root</em><strong>.spice</strong>, leave it in <em>outfile</em>.</p>
  </dd>
  <dt>
    <p><strong>-B</strong></p>
  </dt>
  <dd>
    <p>Don't output transistor or node attributes in the spice file. Usually the attributes of a node or a device are output as special comments **fetattr and **nodeatrr which can be processed further to create things such a initial conditions etc.</p>
  </dd>
  <dt>
    <p><strong>-F</strong></p>
  </dt>
  <dd>
    <p>Don't output nodes that aren't connected to fets (floating nodes). Normally capacitance from these nodes is output with the comment **FLOATING attached on the same line.</p>
  </dd>
  <dt>
    <p><strong>-t</strong><em>char</em></p>
  </dt>
  <dd>
    <p>Trim characters from node names when writing the output file.  <em>Char</em> should be either "#" or "!".  The option may be used twice if both characters are desired. Trimming "#" and "!" is enabled by default when the format is hspice.</p>
  </dd>
  <dt>
    <p><strong>-</strong><em>M|m</em></p>
  </dt>
  <dd>
    <p>Merge parallel fets. <em>-m</em> means conservative merging of fets that have equal widths only (usefull with hspice format multiplier if delta W effects need to be taken care of). -M means aggresive merging: the fets are merged if they have the same terminals and the same length.</p>
  </dd>
  <dt>
    <p><strong>-y </strong><em>num</em></p>
  </dt>
  <dd>
    <p>Select the precision for outputing capacitors. The default is 1 which means that the capacitors will be printed to a precision of .1 fF.</p>
  </dd>
  <dt>
    <p><strong>-f </strong><em>hspice|spice2|spice3</em></p>
  </dt>
  <dd>
    <p>Select the output format. Spice3 is the the format understood by the latest version of berkeley spice. Node names have the same names as they would in a <a href="../man5/sim.5.html"><strong>sim</strong>(5)</a> file and no special constructs are used. Spice2 is the format understood by the older version of spice (which usually has better convergence). Node names are numbers and a dictionary of number and corresponding node is output in the end. HSPICE is a format understood by meta-software's hspice and other commercial tools. In this format node names cannot be longer than 15 characters long (blame the fortran code): so if a hierarchical node name is longer it is truncated to something like x1234/name where x1234 is an alias of the normal node hierarchical prefix and name its hierarchical postfix (a dictionary mapping prefixes to real hierarchical paths is output at the end of the spice file). If the node name is still longer than 15 characters long (again blame the fortran code) it is translated to something like z@1234 and the equivalent name is output as a comment. In addition since hspice supports scaling and multipliers so the output dimensions are in lambdas and if parallel fets are merged the hspice construct <em>M</em> is used.</p>
  </dd>
  <dt>
    <p><strong>-J </strong><em>hier|flat</em></p>
  </dt>
  <dd>
    <p>Select the source/drain area and perimeter extraction algorithm. If <em>hier</em> is selected then the areas and perimeters are extracted <em>only within each subcell</em>. For each fet in a subcell the area and perimeter of its source and drain within this subcell are output. If two or more fets share a source/drain node then the total area and perimeter will be output in only one of them and the other will have 0. If <em>flat</em> is selected the same rules apply only that the scope of search for area and perimeter is the whole netlist. In general <em>flat</em> (which is the default) will give accurate results (it will take into account shared sources/drains) but hier is provided for backwards compatibility with version 6.4.5. On top of this selection you can individually control how a terminal of a specific fet will be extracted if you put a source/drain attribute. <em>ext:aph</em> makes the extraction for that specific terminal hierarchical and <em>ext:apf</em> makes the extraction flat (see the magic tutorial about attaching attribute labels). Additionaly to ease extraction of bipolar transistors the gate attribute <em>ext:aps</em> forces the output of the substrate area and perimeter for a specific fet (in flat mode only).</p>
  </dd>
  <dt>
    <p><strong>-j </strong><em>device:sdRclass[/subRclass]/defaultSubstrate</em></p>
  </dt>
  <dd>
    <p>Gives ext2sim information about the source/drain resistance class of the fet type <em>device</em>. Makes <em>device</em> to have <em>sdRclass</em> source drain resistance class, <em>subRclass</em> substrate (well) resistance class and the node named <em>defaultSubstrate</em> as its default substrate. The defaults are nfet:0/Gnd\! and pfet:1/6/Vdd\! which correspond to the MOSIS technology file but things might vary in your site. Ask your local cad administrator.</p>
  </dd>

</dl>
<p>The way the extraction of node area and perimeter works in magic the total area and perimeter of the source/drain junction is summed up on a single node. That is why all the junction areas and perimeters are summed up on a single node (this should not affect simulation results however).</p><p><em>Special care must be taken when the substrate of a fet is tied to a</em> node other than the default substrate (eg in a bootstraping charge pump).  To get the correct substrate info in these cases the fet(s) with separate wells should be in their own separate subcell with ext:aph attributes attached to their sensitive terminals (also all the transistors which share sensistive terminals with these should be in another subcell with the same attributes).</p><p>In addition, all of the options of <em>extcheck</em>\|(1) are accepted.</p><p>The awk filter spice2sim is provided with the current distribution for debugging purposes.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO ext2spice&hellip;</h2>
        <div class="sectioncontent">
<p>extcheck\|(1), ext2spice\|(1), magic\|(1), rsim\|(1), ext\|(5), sim\|(5)</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHOR</h2>
        <div class="sectioncontent">
<p>Stefanos Sidiropoulos.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">BUGS</h2>
        <div class="sectioncontent">
<p>The areas and perimeters of fet sources and drains work only with the simple extraction algorith and not with the extresis flow. So you have to model them as linear capacitors (create a special extraction style) if you want to extract parasitic resistances with extresis.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="ext2sim.1.html"><span aria-hidden="true">&larr;</span> ext2sim.1: Convert hierarchical ext\|(5) extracted-circuit files to flat sim\|(5) files</a></li>
   <li class="next"><a href="extace.1.html">extace.1: Waveform viewer <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
