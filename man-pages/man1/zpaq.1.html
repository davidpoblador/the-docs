<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>zpaq: Paq open standard maximum compressor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Paq open standard maximum compressor">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="zpaq (1) manual">
  <meta name="twitter:description" content="Paq open standard maximum compressor">
  <meta name="twitter:image" content="https://www.carta.tech/images/zpaq-zpaq-1.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man1/zpaq.1.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="zpaq (1) manual" />
  <meta property="og:description" content="Paq open standard maximum compressor" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/zpaq-zpaq-1.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">zpaq<small> (1)</small></h1>
        <p class="lead">Paq open standard maximum compressor</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/">
      <span itemprop="name">Executable programs or shell commands</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/zpaq.1.html">
      <span itemprop="name">zpaq: Paq open standard maximum compressor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/zpaq/">
      <span itemprop="name">zpaq</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man1/zpaq.1.html">
      <span itemprop="name">zpaq: Paq open standard maximum compressor</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre>
  create : zpaq [opnsitqv]c&lt;config&gt;[,N...] archive.zpaq file [file ...]
  append : zpaq [opnsitqv]a&lt;config&gt;[,N...] archive.zpaq file [file ...]
  list   : zpaq l archive.zpaq
  extract: zpaq [opntq]x[N] archive.zpaq
  debug  : zpaq [pthv]rF[,N...] [args...]
</pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<h3>General</h3>
<p>\s-1PAQ\s0 is a series of open source data compression archivers that have evolved through collaborative development to top rankings on several benchmarks measuring compression ratio although at the expense of speed and memory usage.</p><p>Zpaq ia a proposed standard format for highly compressed data that allows new compression algorithms to be developed without breaking compatibility with older programs. Zpaq is based on PAQ-like context mixing algorithms which are top ranked on many benchmarks. The format supports archivers, single file compressors, and memory to memory compression.</p><p>\s-1ZPAQ\s0 is a configurable file compressor and archiver. Its goal is a high compression ratio in an open format without loss of compatibility between versions as advanced compression techniques are discovered.</p><p>Compression uses by default built-in configuration files. Three examples are supplied:</p><p>  min.cfg - Fast, minimal compression (LZP + order 3). Requires 4 MB memory.   mid.cfg - Average compression and speed. Requires 111 MB.   max.cfg - Slow but good compression. Requires 278 MB.</p><p>The config file is not needed to extract.</p><p>\s-1NOTE:\s0 in extract mode, if the \s-1FILES\s0 are listed the files are renamed during written out.</p><p>head2 Commands</p>
<dl class='dl-vertical'>
  <dt>
    <strong>a</strong>
  </dt>
  <dd>
    <p>Append to archive.</p>
  </dd>
  <dt>
    <strong>c</strong>
  </dt>
  <dd>
    <p>Create archive.</p>
  </dd>
  <dt>
    <strong>i</strong>
  </dt>
  <dd>
    <p>Don't store file sizes as comments (saves a few bytes). Normally the input file size is stored as a decimal string, taking a few bytes. The comment field has no effect on the program except that it is displayed by the <strong>l</strong> and <strong>x</strong> commands.</p>
  </dd>
  <dt>
    <strong>l</strong>
  </dt>
  <dd>
    <p>List contents of archive.</p>
  </dd>
  <dt>
    <strong>n</strong>
  </dt>
  <dd>
    <p><em>In create mode</em>: Don't store filenames (names will be needed to decompress). <em>In extract mode</em>: decompress all to one file. The effect is to require that filenames be given during decompression. During extract ignore all stored filenames and append all output to one file, the first file in [files...].</p>
  </dd>
  <dt>
    <strong>o</strong>
  </dt>
  <dd>
    <p>Optimize (run faster). You need a \*(C+ compiler installed to use this option. If not, drop the \*(L"o\*(R". You can still use zpaq but it will take about twice as long to run. If successful, compression is typically 50% to 100% faster. Zpaq will look for a program named \*(C`zpaq_X\*(C' in the temporary directory, where X is derived from the \s-1SHA1\s0 checksum of the block header produced by config file <em>\s-1CONFIG\s0</em> with arguments <em>N</em>. If the program exists, then Zpaq will call it with the same arguments to perform the compression. If it does not exist then Zpaq will create a source code file \*(C`zpaq_X.cpp\*(C' in the temporary directory, compile it, and link it to \*(C`zpaq.cpp\*(C' or \*(C`zpaq.o\*(C' depending on the installation. The temporary directory is specified by the environment variable \s-1TEMP\s0 if it exists, or else the current directory. The program \*(C`zpaq_X\*(C' will compress its input in the same format as described by <em>\s-1CONFIG\s0</em>, but faster. If <em>\s-1CONFIG\s0</em> specifies a preprocessor, then \*(C`zpaq_X\*(C' will expect to find it too. It will also decompress archive blocks in the same configuration but fail if it attempts to decompress blocks in any other configuration. Program \*(C`zpaq_X\*(C' will accept the <strong>c</strong>, <strong>a</strong> and <strong>x</strong> commands with all of the same modifiers, but will ignore the <strong>v</strong> and <strong>o</strong> modifiers and ignore any \s-1CONFIG\s0 file and arguments passed to it. It will not accept the <strong>l</strong> or <strong>r</strong> commands. Extraction requires a block number (\*(L"x1\*(R", \*(L"x2\*(R", etc). A different optimized program is used to extract each block. Zpaq will call the external program \*(C`zpaqmake\*(C' to compile \*(C`zpaq_X.cpp\*(C', passing it \*(C`zpaq_X\*(C' as an argument. Normally this will be a script that calls a \*(C+ compiler to produce \*(C`zpaq_X.o\*(C', links to \*(C`zpaq.o\*(C' and outputs \*(C`zpaq_X\*(C'. The script could link to \*(C`zpaq.cpp\*(C' instead of \*(C`zpaq.o\*(C'.</p>
  </dd>
  <dt>
    <strong>p</strong>
  </dt>
  <dd>
    <p><em>In create mode</em>: Store filename paths in archive. The default is to store the name without the path. For example:     zpaq pc&lt;CONFIG&gt; books.zpaq dir/file will store the name as \*(C`dir/file\*(C'. If the <strong>p</strong> option is also given during extraction, then \s-1ZPAQ\s0 will attempt to extract \*(C`file\*(C' to the subdirectory instead of the current directory. This will fail if directory does not exist. \s-1ZPAQ\s0 does not create directories as needed. <em>In extract mode</em>: extract to stored paths instead of current directory The default is to extract to the current directory regardless of how the file names are stored. Stored paths must be relative to the current directory, not start with a \*(L"/\*(R", \*(L"&#92;\*(R", a drive letter like \*(L"C:\*(R" or contain \*(L"../\*(R" or \*(L"..&#92;\*(R". If extracting to a subdirectory, it must already exist. It will not be created. [files...] overrides and has no restrictions on file names. Each segment extracts to a different file. If any segments do not have a stored filename then they can only be extracted using the <strong>p</strong> or <strong>n</strong> modifiers.</p>
  </dd>
  <dt>
    <strong>q</strong>
  </dt>
  <dd>
    <p>Quiet mode. Don't display compression progress on the screen.</p>
  </dd>
  <dt>
    <strong>s</strong>
  </dt>
  <dd>
    <p>Don't store \s-1SHA1\s0 checksums (saves 20 bytes).The decompressor will not check that the output is identical to the original input.</p>
  </dd>
  <dt>
    <strong>t</strong>
  </dt>
  <dd>
    <p><em>In create mode</em>: Append locator tag to non-ZPAQ data. Append a locator tag to non-ZPAQ data. The tag is a string of 13 bytes that allows \s-1ZPAQ\s0 and \s-1UNZPAQ\s0 to find the start of a sequence of \s-1ZPAQ\s0 blocks embedded in other data. Program \*(C`zpaqsfx\*(C' already has this tag at the end. However, if a new stub is compiled from the source then the <strong>t</strong> command should be used when appending the first file. <em>In extract mode</em>: don't post-process (for debugging). Expect checksum errors.</p>
  </dd>
  <dt>
    <strong>v</strong>
  </dt>
  <dd>
    <p>Verbose mode. Show \s-1CONFIG\s0 file as it compiles. This is useful for error checking.</p>
  </dd>
  <dt>
    <strong>x</strong>
  </dt>
  <dd>
    <p>Extract. Use \*(L"ox\*(R" to extract fast. You can extract more slowly with plain \*(L"x\*(R" if you don't have \*(C+ installed. Output files are renamed in the same order they are stored and listed. If you don't rename the output files, then the files will be extracted to the current directory with the same names they had when stored.</p>
  </dd>
  <dt>
    <strong>,N</strong>
  </dt>
  <dd>
    <p>Usd in create mode. Pass numeric arguments to \s-1CONFIG\s0 file. Appended suffix like \*(L",2\*(R" means use 4 times more memory. Each increment doubles usage. You need the same memory to decompress.</p>
  </dd>
  <dt>
    <strong>N</strong>
  </dt>
  <dd>
    <p><em>Used in extract mode</em>. Extract only block N (1, 2, 3...), where 1 is the first block. Otherwise all blocks are extracted. The <strong>l</strong> command shows which files are in each block.</p>
  </dd>

</dl>

<h3>Debug and Development Options</h3>
<p>To debug \s-1CONFIG\s0 file, use:</p><p>  zpaq [pthv]r&lt;CONFIG&gt;[,N...] [args...]</p><p>the <strong>r</strong> runn the \s-1ZPAQL\s0 program in \s-1HCOMP\s0 section of configuration file F. The program is run once for each byte of input from the file named in the first argument and once at \s-1EOF\s0 with the input byte (or -1) in the A register. Output is to the file named in the second argument. If run with no arguments then take input from stdin and output to stdout. Modifiers are listed below.</p>
<dl class='dl-vertical'>
  <dt>
    <strong>h</strong>
  </dt>
  <dd>
    <p>When tracing, display register and memory contents in hexadecimal instead of decimal.</p>
  </dd>
  <dt>
    <strong>p</strong>
  </dt>
  <dd>
    <p>Run \s-1PCOMP\s0 (default is to run \s-1HCOMP\s0).</p>
  </dd>
  <dt>
    <strong>t</strong>
  </dt>
  <dd>
    <p>Trace (single step), args are numeric inputs otherwise args are input, output (default stdin, stdout). The arguments should be numbers rather than file names. The program is run once for each argument with the value in the A register. As each instruction is executed the register contents are shown. At \s-1HALT\s0, memory contents are displayed.</p>
  </dd>
  <dt>
    <strong>v</strong>
  </dt>
  <dd>
    <p>Verbose compile. Display the \s-1CONFIG\s0 file as it is being compiled. If an error occurs, it will be easier to locate. Modifier <strong>v</strong> is also useful for displaying jump targets.</p>
  </dd>
  <dt>
    <strong>,N</strong>
  </dt>
  <dd>
    <p>Pass numeric arguments to \s-1CONFIG\s0 file. Pass up to 9 numeric arguments to \s-1CONFIG\s0 file (like the <strong>c</strong> and <strong>a</strong> commands).</p>
  </dd>

</dl>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">OPTIONS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <strong>-h</strong>
  </dt>
  <dd>
    <p>Display short help.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">EXAMPLES</h2>
        <div class="sectioncontent">
<h3>Create</h3>
<p>To create an archive:</p><p>    zpaq c&lt;CONFIG&gt; archive.zpaq files ...</p><p>If the archive exists then it is overwritten. File names are stored without a path.</p>
<h3>Append</h3>
<p>To (a)ppend to an existing archive. If the archive does not exist then it is created as with the c command:</p><p>    zpaq a&lt;CONFIG&gt; archive.zpaq files ...</p>
<h3>List</h3>
<p>To list the contents of an archive. Files are listed in the same order they were added:</p><p>    zpaq l archive.zpaq</p><p>To extract the contents of the archive. New files are created and named according to the stored filenames. Does not clobber existing files. Extracts to current directory:</p><p>    zpaq x archive.zpaq</p><p>If the files to be extracted already exist, then zpaq will refuse to clobber them and skip to the next file. If the files are compressed with a path (folder or directory), then that directory must exist when the file is extracted. zpaq will not create directories.</p><p>To extract files and renames in the order they were added to the archive. Clobbers any already existing output files. The number of files extracted is the smaller of the number of filenames on the command line or the number of files in the archive.</p><p>    zpaq x archive.zpaq file ...</p>
<h3>Extract</h3>
<p>To extract and rename:</p><p>    zpaq x archive.zpaq files ...     unzpaq x archive.zpaq files ...</p><p>Files are extracted in the same order they are saved and renamed. Unlike using stored names, if the file exists, then it is overwritten (clobbered). Only files named on the command line are extracted. Any additional files in the archive are ignored. For example:</p><p>    zpaq x archive.zpaq foo bar</p><p>To extracts files like <strong>x</strong>, but without post-processing. This may be useful for debugging or developing config files:</p><p>    zpaq t archive.zpaq [files ...]</p>
<h3>Config file</h3>
<p>The distribution contain several default \s-1CONFIG\s0 files:</p><p>  min.cfg - for fast but poor compression.   max.cfg - for slow but good compression.   mid.cfg - for moderate speed and compression (default).</p><p>Other config files are available as add-on options or you can write them as explained later.</p><p>A numeric argument may be appended to \s-1CONGIF\s0 to increase memory usage for better compression. Each increment doubles usage. There should be no space before or after the comma. For example:</p><p>  zpaq cmax.cfg archive files...    = 246 MB   zpaq cmax.cfg,1 archive files...  = 476 MB   zpaq cmax.cfg,2 archive files...  = 938 MB   zpaq cmax.cfg,3 archive files...  = 1861 MB   zpaq cmax.cfg,-1 archive files... = 130 MB (negative values allowed)</p><p>Modifiers may be in any order before the \*(L"c\*(R" or \*(L"a\*(R" command. The modifiers, command, and configuration file must be written together without any spaces. An example: to create archive with options <strong>i, p,</strong> s and configuration file \*(C`max.cfg\*(C'. Modifiers have the following meaning:</p><p>  zpaq ipsc&lt;CONFIG&gt; archive.zpaq file1 file22</p>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ENVIRONMENT</h2>
        <div class="sectioncontent">
<p>Temporary directory <strong>\s-1TEMPDIR\s0</strong> is use during optimize command <strong>o</strong>.</p><p>None.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">FILES</h2>
        <div class="sectioncontent">
<p>Compression commands <strong>c</strong> and <strong>a</strong> need a configuration file. See examples in directory \*(C`/usr/share/doc/zpaq\*(C'.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">STANDARDS</h2>
        <div class="sectioncontent">
<p>See zpaq*.pdf (\s-1ZPAQ\s0 Level 1 and later) in section \s-1AVAILABILITY\s0 . It is anticipated that future levels (\s-1ZPAQ-2\s0, \s-1ZPAQ-3\s0, etc.) will be backward compatible, such that newer levels can read archives produced by older programs.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AVAILABILITY</h2>
        <div class="sectioncontent">
<p>http://mattmahoney.net/dc</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO zpaq&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man1/bzip2.1.html"><strong>bzip2</strong>(1)</a> <a href="../man1/gzip.1.html"><strong>gzip</strong>(1)</a> <a href="../man1/lzop.1.html"><strong>lzop</strong>(1)</a> <strong>lzma</strong>(1) <a href="../man1/p7zip.1.html"><strong>p7zip</strong>(1)</a> <a href="../man1/rzip.1.html"><strong>rzip</strong>(1)</a> <a href="../man1/unace.1.html"><strong>unace</strong>(1)</a> <strong>unrar</strong>(1) <a href="../man1/unzip.1.html"><strong>unzip</strong>(1)</a> <a href="../man1/zip.1.html"><strong>zip</strong>(1)</a></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">AUTHORS</h2>
        <div class="sectioncontent">
<p>Program was written by Matt Mahoney &lt;matmahoney@yahoo.com&gt;</p><p>This manual page was put together by Jari Aalto &lt;jari.aalto@cante.net&gt;. under license \s-1GNU\s0 \s-1GPL\s0 version 2 or (at your option) any later version. For more information about license, visit &lt;http://www.gnu.org/copyleft/gpl.html&gt;.</p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="zp.1.html"><span aria-hidden="true">&larr;</span> zp.1: Zpaq open standard maximum compressor with prebuilt compression levels</a></li>
   <li class="next"><a href="zpcregrep.1.html">zpcregrep.1: A grep with perl-compatible regular expressions. <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
