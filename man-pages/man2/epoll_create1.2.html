<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>epoll_create, epoll_create1 - open an epoll file descriptor</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="${metadescription}">
  
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">epoll_create1<small> (2)</small></h1>
        <p class="lead">open an epoll file descriptor</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man2/"><span itemprop="title">System calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man2/epoll_create1.2.html"><span itemprop="title">epoll_create1</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">

<pre><strong>#include &lt;sys/epoll.h&gt;</strong>

<strong>int epoll_create(int </strong><em>size</em><strong>);</strong>
<strong>int epoll_create1(int </strong><em>flags</em><strong>);</strong></pre>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>epoll_create</strong>() creates an <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a> instance. Since Linux 2.6.8, the <em>size</em> argument is ignored, but must be greater than zero; see NOTES below.</p>
<p class='spacer'>

<p><strong>epoll_create</strong>() returns a file descriptor referring to the new epoll instance. This file descriptor is used for all the subsequent calls to the <strong>epoll</strong> interface. When no longer required, the file descriptor returned by <strong>epoll_create</strong>() should be closed by using <a href="../man2/close.2.html"><strong>close</strong>(2)</a>. When all file descriptors referring to an epoll instance have been closed, the kernel destroys the instance and releases the associated resources for reuse.</p>
  <h3>epoll_create1()</h3>
  <p>If <em>flags</em> is 0, then, other than the fact that the obsolete <em>size</em> argument is dropped, <strong>epoll_create1</strong>() is the same as <strong>epoll_create</strong>(). The following value can be included in <em>flags</em> to obtain different behavior:</p>
  <dl class='dl-vertical'>
    <dt><strong>EPOLL_CLOEXEC</strong></dt>
    <dd>
  <p>Set the close-on-exec (<strong>FD_CLOEXEC</strong>) flag on the new file descriptor. See the description of the <strong>O_CLOEXEC</strong> flag in <a href="../man2/open.2.html"><strong>open</strong>(2)</a> for reasons why this may be useful.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>On success, these system calls return a nonnegative file descriptor. On error, -1 is returned, and <em>errno</em> is set to indicate the error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p><em>size</em> is not positive.</p>
    </dd>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p>(<strong>epoll_create1</strong>()) Invalid value specified in <em>flags</em>.</p>
    </dd>
    <dt><strong>EMFILE</strong></dt>
    <dd>
  <p>The per-user limit on the number of epoll instances imposed by <em>/proc/sys/fs/epoll/max_user_instances</em> was encountered. See <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a> for further details.</p>
    </dd>
    <dt><strong>EMFILE</strong></dt>
    <dd>
  <p>The per-process limit on the number of open file descriptors has been reached.</p>
    </dd>
    <dt><strong>ENFILE</strong></dt>
    <dd>
  <p>The system-wide limit on the total number of open files has been reached.</p>
    </dd>
    <dt><strong>ENOMEM</strong></dt>
    <dd>
  <p>There was insufficient memory to create the kernel object.</p>
    </dd>
  </dl>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSIONS</h2>
        <div class="sectioncontent">

<p><strong>epoll_create</strong>() was added to the kernel in version 2.6. Library support is provided in glibc starting with version 2.3.2.</p>
<p class='spacer'>

<p><strong>epoll_create1</strong>() was added to the kernel in version 2.6.27. Library support is provided in glibc starting with version 2.9.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">

<p><strong>epoll_create</strong>() is Linux-specific.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">

<p>In the initial <strong>epoll_create</strong>() implementation, the <em>size</em> argument informed the kernel of the number of file descriptors that the caller expected to add to the <strong>epoll</strong> instance. The kernel used this information as a hint for the amount of space to initially allocate in internal data structures describing events. (If necessary, the kernel would allocate more space if the caller's usage exceeded the hint given in <em>size</em>.) Nowadays, this hint is no longer required (the kernel dynamically sizes the required data structures without needing the hint), but <em>size</em> must still be greater than zero, in order to ensure backward compatibility when new <strong>epoll</strong> applications are run on older kernels.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man2/close.2.html"><strong>close</strong>(2)</a>, <a href="../man2/epoll_ctl.2.html"><strong>epoll_ctl</strong>(2)</a>, <a href="../man2/epoll_wait.2.html"><strong>epoll_wait</strong>(2)</a>, <a href="../man7/epoll.7.html"><strong>epoll</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="epoll_create.2.html"><span aria-hidden="true">&larr;</span> epoll_create.2: open an epoll file descriptor</a></li><li class="next"><a href="epoll_ctl.2.html">epoll_ctl.2: control interface for an epoll file descriptor <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
