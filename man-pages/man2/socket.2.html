<!DOCTYPE html>
<html lang="en">
<head>
  <link href='https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction|shadow-multiple' rel='stylesheet' type='text/css'>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>socket - create an endpoint for communication</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="${metadescription}">
  
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">socket<small> (2)</small></h1>
        <p class="lead">create an endpoint for communication</p>
      </div>

    <ol class="breadcrumb">
	<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_section">
		<a itemprop="url" href="https://www.carta.tech/man-pages/"><span itemprop="title">Linux Man Pages</span></a>
	</li>
	<li id="breadcrumb_section" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb_page" itemprop="child">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man2/"><span itemprop="title">System calls</span></a>
	</li>
	<li id="breadcrumb_page" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="active">
		<a itemprop="url" href="https://www.carta.tech/man-pages/man2/socket.2.html"><span itemprop="title">socket</span></a>
	</li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">SYNOPSIS</h2>
        <div class="sectioncontent">

<p><strong>#include &lt;sys/types.h&gt;</strong>          /* See NOTES */</p>
<p class='spacer'>

<p><strong>#include &lt;sys/socket.h&gt;</strong></p>
<p class='spacer'>

<p><strong>int socket(int </strong><em>domain</em><strong>, int </strong><em>type</em><strong>, int </strong><em>protocol</em><strong>);</strong></p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">DESCRIPTION</h2>
        <div class="sectioncontent">

<p><strong>socket</strong>() creates an endpoint for communication and returns a file descriptor that refers to that endpoint.</p>
<p class='spacer'>

<p>The <em>domain</em> argument specifies a communication domain; this selects the protocol family which will be used for communication. These families are defined in <em>&lt;sys/socket.h&gt;</em>. The currently understood formats include:</p>
<table class="table table-striped">
<tr>
<th>Name</th>
<th>Purpose</th>
<th>Man page</th></tr>

<tr>
<td><strong>AF_UNIX</strong>, <strong>AF_LOCAL</strong>  </td>
<td>Local communication  </td>
<td><a href="../man7/unix.7.html"><strong>unix</strong>(7)</a>  </td></tr>

<tr>
<td><strong>AF_INET</strong>  </td>
<td>IPv4 Internet protocols</td>
<td><strong>ip</strong>(7)  </td></tr>

<tr>
<td><strong>AF_INET6</strong>  </td>
<td>IPv6 Internet protocols</td>
<td><a href="../man7/ipv6.7.html"><strong>ipv6</strong>(7)</a>  </td></tr>

<tr>
<td><strong>AF_IPX</strong>  </td>
<td>IPX - Novell protocols</td>
<td></td></tr>

<tr>
<td><strong>AF_NETLINK</strong>  </td>
<td>Kernel user interface device  </td>
<td><a href="../man7/netlink.7.html"><strong>netlink</strong>(7)</a>  </td></tr>

<tr>
<td><strong>AF_X25</strong>  </td>
<td>ITU-T X.25 / ISO-8208 protocol</td>
<td><a href="../man7/x25.7.html"><strong>x25</strong>(7)</a>  </td></tr>

<tr>
<td><strong>AF_AX25</strong>  </td>
<td>Amateur radio AX.25 protocol  </td>
<td></td></tr>

<tr>
<td><strong>AF_ATMPVC</strong>  </td>
<td>Access to raw ATM PVCs</td>
<td></td></tr>

<tr>
<td><strong>AF_APPLETALK</strong>  </td>
<td>AppleTalk</td>
<td><a href="../man7/ddp.7.html"><strong>ddp</strong>(7)</a>  </td></tr>

<tr>
<td><strong>AF_PACKET</strong>  </td>
<td>Low level packet interface  </td>
<td><a href="../man7/packet.7.html"><strong>packet</strong>(7)</a>  </td></tr>

<tr>
<td><strong>AF_ALG</strong>  </td>
<td>Interface to kernel crypto API  </td></tr>
</table>

<p class='spacer'>

  <p>The socket has the indicated <em>type</em>, which specifies the communication semantics. Currently defined types are:</p>
  <dl class='dl-vertical'>
    <dt><strong>SOCK_STREAM</strong></dt>
    <dd>
  <p>Provides sequenced, reliable, two-way, connection-based byte streams. An out-of-band data transmission mechanism may be supported.</p>
    </dd>
    <dt><strong>SOCK_DGRAM</strong></dt>
    <dd>
  <p>Supports datagrams (connectionless, unreliable messages of a fixed maximum length).</p>
    </dd>
    <dt><strong>SOCK_SEQPACKET</strong></dt>
    <dd>
  <p>Provides a sequenced, reliable, two-way connection-based data transmission path for datagrams of fixed maximum length; a consumer is required to read an entire packet with each input system call.</p>
    </dd>
    <dt><strong>SOCK_RAW</strong></dt>
    <dd>
  <p>Provides raw network protocol access.</p>
    </dd>
    <dt><strong>SOCK_RDM</strong></dt>
    <dd>
  <p>Provides a reliable datagram layer that does not guarantee ordering.</p>
    </dd>
    <dt><strong>SOCK_PACKET</strong></dt>
    <dd>
  <p>Obsolete and should not be used in new programs; see <a href="../man7/packet.7.html"><strong>packet</strong>(7)</a>.</p>
    </dd>
  </dl>
<p class='spacer'>

<p>Some socket types may not be implemented by all protocol families.</p>
<p class='spacer'>

  <p>Since Linux 2.6.27, the <em>type</em> argument serves a second purpose: in addition to specifying a socket type, it may include the bitwise OR of any of the following values, to modify the behavior of <strong>socket</strong>():</p>
  <dl class='dl-vertical'>
    <dt><strong>SOCK_NONBLOCK</strong></dt>
    <dd>
  <p>Set the <strong>O_NONBLOCK</strong> file status flag on the new open file description. Using this flag saves extra calls to <a href="../man2/fcntl.2.html"><strong>fcntl</strong>(2)</a> to achieve the same result.</p>
    </dd>
    <dt><strong>SOCK_CLOEXEC</strong></dt>
    <dd>
  <p>Set the close-on-exec (<strong>FD_CLOEXEC</strong>) flag on the new file descriptor. See the description of the <strong>O_CLOEXEC</strong> flag in <a href="../man2/open.2.html"><strong>open</strong>(2)</a> for reasons why this may be useful.</p>
    </dd>
  </dl>
<p class='spacer'>

<p>The <em>protocol</em> specifies a particular protocol to be used with the socket. Normally only a single protocol exists to support a particular socket type within a given protocol family, in which case <em>protocol</em> can be specified as 0. However, it is possible that many protocols may exist, in which case a particular protocol must be specified in this manner. The protocol number to use is specific to the &ldquo;communication domain&rdquo; in which communication is to take place; see <a href="../man5/protocols.5.html"><strong>protocols</strong>(5)</a>. See <a href="../man3/getprotoent.3.html"><strong>getprotoent</strong>(3)</a> on how to map protocol name strings to protocol numbers.</p>
<p class='spacer'>

<p>Sockets of type <strong>SOCK_STREAM</strong> are full-duplex byte streams. They do not preserve record boundaries. A stream socket must be in a <em>connected</em> state before any data may be sent or received on it. A connection to another socket is created with a <a href="../man2/connect.2.html"><strong>connect</strong>(2)</a> call. Once connected, data may be transferred using <a href="../man2/read.2.html"><strong>read</strong>(2)</a> and <a href="../man2/write.2.html"><strong>write</strong>(2)</a> calls or some variant of the <a href="../man2/send.2.html"><strong>send</strong>(2)</a> and <a href="../man2/recv.2.html"><strong>recv</strong>(2)</a> calls. When a session has been completed a <a href="../man2/close.2.html"><strong>close</strong>(2)</a> may be performed. Out-of-band data may also be transmitted as described in <a href="../man2/send.2.html"><strong>send</strong>(2)</a> and received as described in <a href="../man2/recv.2.html"><strong>recv</strong>(2)</a>.</p>
<p class='spacer'>

<p>The communications protocols which implement a <strong>SOCK_STREAM</strong> ensure that data is not lost or duplicated. If a piece of data for which the peer protocol has buffer space cannot be successfully transmitted within a reasonable length of time, then the connection is considered to be dead. When <strong>SO_KEEPALIVE</strong> is enabled on the socket the protocol checks in a protocol-specific manner if the other end is still alive. A <strong>SIGPIPE</strong> signal is raised if a process sends or receives on a broken stream; this causes naive processes, which do not handle the signal, to exit. <strong>SOCK_SEQPACKET</strong> sockets employ the same system calls as <strong>SOCK_STREAM</strong> sockets. The only difference is that <a href="../man2/read.2.html"><strong>read</strong>(2)</a> calls will return only the amount of data requested, and any data remaining in the arriving packet will be discarded. Also all message boundaries in incoming datagrams are preserved.</p>
<p class='spacer'>

<p><strong>SOCK_DGRAM</strong> and <strong>SOCK_RAW</strong> sockets allow sending of datagrams to correspondents named in <a href="../man2/sendto.2.html"><strong>sendto</strong>(2)</a> calls. Datagrams are generally received with <a href="../man2/recvfrom.2.html"><strong>recvfrom</strong>(2)</a>, which returns the next datagram along with the address of its sender.</p>
<p class='spacer'>

<p><strong>SOCK_PACKET</strong> is an obsolete socket type to receive raw packets directly from the device driver. Use <a href="../man7/packet.7.html"><strong>packet</strong>(7)</a> instead.</p>
<p class='spacer'>

<p>An <a href="../man2/fcntl.2.html"><strong>fcntl</strong>(2)</a> <strong>F_SETOWN</strong> operation can be used to specify a process or process group to receive a <strong>SIGURG</strong> signal when the out-of-band data arrives or <strong>SIGPIPE</strong> signal when a <strong>SOCK_STREAM</strong> connection breaks unexpectedly. This operation may also be used to set the process or process group that receives the I/O and asynchronous notification of I/O events via <strong>SIGIO</strong>. Using <strong>F_SETOWN</strong> is equivalent to an <a href="../man2/ioctl.2.html"><strong>ioctl</strong>(2)</a> call with the <strong>FIOSETOWN</strong> or <strong>SIOCSPGRP</strong> argument.</p>
<p class='spacer'>

<p>When the network signals an error condition to the protocol module (e.g., using a ICMP message for IP) the pending error flag is set for the socket. The next operation on this socket will return the error code of the pending error. For some protocols it is possible to enable a per-socket error queue to retrieve detailed information about the error; see <strong>IP_RECVERR</strong> in <strong>ip</strong>(7).</p>
<p class='spacer'>

<p>The operation of sockets is controlled by socket level <em>options</em>. These options are defined in <em>&lt;sys/socket.h&gt;</em>. The functions <a href="../man2/setsockopt.2.html"><strong>setsockopt</strong>(2)</a> and <a href="../man2/getsockopt.2.html"><strong>getsockopt</strong>(2)</a> are used to set and get options, respectively.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">RETURN VALUE</h2>
        <div class="sectioncontent">

<p>On success, a file descriptor for the new socket is returned. On error, -1 is returned, and <em>errno</em> is set appropriately.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">ERRORS</h2>
        <div class="sectioncontent">

  <dl class='dl-vertical'>
    <dt><strong>EACCES</strong></dt>
    <dd>
  <p>Permission to create a socket of the specified type and/or protocol is denied.</p>
    </dd>
    <dt><strong>EAFNOSUPPORT</strong></dt>
    <dd>
  <p>The implementation does not support the specified address family.</p>
    </dd>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p>Unknown protocol, or protocol family not available.</p>
    </dd>
    <dt><strong>EINVAL</strong></dt>
    <dd>
  <p>Invalid flags in <em>type</em>.</p>
    </dd>
    <dt><strong>EMFILE</strong></dt>
    <dd>
  <p>The per-process limit on the number of open file descriptors has been reached.</p>
    </dd>
    <dt><strong>ENFILE</strong></dt>
    <dd>
  <p>The system-wide limit on the total number of open files has been reached.</p>
    </dd>
    <dt><strong>ENOBUFS</strong> or <strong>ENOMEM</strong></dt>
    <dd>
  <p>Insufficient memory is available. The socket cannot be created until sufficient resources are freed.</p>
    </dd>
    <dt><strong>EPROTONOSUPPORT</strong></dt>
    <dd>
  <p>The protocol type or the specified protocol is not supported within this domain.</p>
    </dd>
  </dl>
<p class='spacer'>

<p>Other errors may be generated by the underlying protocol modules.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">CONFORMING TO</h2>
        <div class="sectioncontent">

<p>POSIX.1-2001, POSIX.1-2008, 4.4BSD.</p>
<p class='spacer'>

<p>The <strong>SOCK_NONBLOCK</strong> and <strong>SOCK_CLOEXEC</strong> flags are Linux-specific.</p>
<p class='spacer'>

<p><strong>socket</strong>() appeared in 4.2BSD. It is generally portable to/from non-BSD systems supporting clones of the BSD socket layer (including System&nbsp;V variants).</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">NOTES</h2>
        <div class="sectioncontent">

<p>POSIX.1 does not require the inclusion of <em>&lt;sys/types.h&gt;</em>, and this header file is not required on Linux. However, some historical (BSD) implementations required this header file, and portable applications are probably wise to include it.</p>
<p class='spacer'>

<p>The manifest constants used under 4.x BSD for protocol families are <strong>PF_UNIX</strong>, <strong>PF_INET</strong>, and so on, while <strong>AF_UNIX</strong>, <strong>AF_INET</strong>, and so on are used for address families. However, already the BSD man page promises: "The protocol family generally is the same as the address family", and subsequent standards use AF_* everywhere.</p>
<p class='spacer'>

<p>The <strong>AF_ALG</strong> protocol type was added in Linux 2.6.38. More information on this interface is provided with the kernel HTML documentation at <em>https://www.kernel.org/doc/htmldocs/crypto-API/User.html</em>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">EXAMPLE</h2>
        <div class="sectioncontent">

<p>An example of the use of <strong>socket</strong>() is shown in <a href="../man3/getaddrinfo.3.html"><strong>getaddrinfo</strong>(3)</a>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple" id="$section">SEE ALSO</h2>
        <div class="sectioncontent">

<p><a href="../man2/accept.2.html"><strong>accept</strong>(2)</a>, <a href="../man2/bind.2.html"><strong>bind</strong>(2)</a>, <a href="../man2/close.2.html"><strong>close</strong>(2)</a>, <a href="../man2/connect.2.html"><strong>connect</strong>(2)</a>, <a href="../man2/fcntl.2.html"><strong>fcntl</strong>(2)</a>, <a href="../man2/getpeername.2.html"><strong>getpeername</strong>(2)</a>, <a href="../man2/getsockname.2.html"><strong>getsockname</strong>(2)</a>, <a href="../man2/getsockopt.2.html"><strong>getsockopt</strong>(2)</a>, <a href="../man2/ioctl.2.html"><strong>ioctl</strong>(2)</a>, <a href="../man2/listen.2.html"><strong>listen</strong>(2)</a>, <a href="../man2/read.2.html"><strong>read</strong>(2)</a>, <a href="../man2/recv.2.html"><strong>recv</strong>(2)</a>, <a href="../man2/select.2.html"><strong>select</strong>(2)</a>, <a href="../man2/send.2.html"><strong>send</strong>(2)</a>, <a href="../man2/shutdown.2.html"><strong>shutdown</strong>(2)</a>, <a href="../man2/socketpair.2.html"><strong>socketpair</strong>(2)</a>, <a href="../man2/write.2.html"><strong>write</strong>(2)</a>, <a href="../man3/getprotoent.3.html"><strong>getprotoent</strong>(3)</a>, <strong>ip</strong>(7), <a href="../man7/socket.7.html"><strong>socket</strong>(7)</a>, <a href="../man7/tcp.7.html"><strong>tcp</strong>(7)</a>, <a href="../man7/udp.7.html"><strong>udp</strong>(7)</a>, <a href="../man7/unix.7.html"><strong>unix</strong>(7)</a></p>
<p class='spacer'>

<p>&ldquo;An Introductory 4.3BSD Interprocess Communication Tutorial&rdquo; and &ldquo;BSD Interprocess Communication Tutorial&rdquo;, reprinted in <em>UNIX Programmer's Supplementary Documents Volume 1.</em></p>
        </div>
      </section>
<nav>
  <ul class="pager">
  <li class="previous"><a href="sigwaitinfo.2.html"><span aria-hidden="true">&larr;</span> sigwaitinfo.2: synchronously wait for queued signals</a></li><li class="next"><a href="socketcall.2.html">socketcall.2: socket system calls <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
