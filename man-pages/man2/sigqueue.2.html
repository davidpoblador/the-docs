<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700&effect=destruction%7Cshadow-multiple" rel="stylesheet" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>sigqueue: Queue a signal and data to a process</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/manpage.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="description" content="Queue a signal and data to a process">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@CartaTech">
  <meta name="twitter:creator" content="@CartaTech">
  <meta name="twitter:title" content="sigqueue (3) manual">
  <meta name="twitter:description" content="Queue a signal and data to a process">
  <meta name="twitter:image" content="https://www.carta.tech/images/man-pages-sigqueue-3.png">
  <meta property="og:url" content="https://www.carta.tech/man-pages/man2/sigqueue.2.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="sigqueue (3) manual" />
  <meta property="og:description" content="Queue a signal and data to a process" />
  <meta property="fb:app_id" content="1241677679199500" />
  <meta property="og:image" content="https://www.carta.tech/images/man-pages-sigqueue-3.png" />
  <meta property="og:image:width" content="600" />
  <meta property="og:image:height" content="315" />
</head>
<body>
  <div class="container final">
          <div class="page-header">
        <h1 class="font-effect-destruction">sigqueue<small> (3)</small></h1>
        <p class="lead">Queue a signal and data to a process</p>
      </div>

    <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/">
      <span itemprop="name">Man Pages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/">
      <span itemprop="name">Library calls</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sigqueue.3.html">
      <span itemprop="name">sigqueue: Queue a signal and data to a process</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
<ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/">
      <span itemprop="name">Carta.tech</span>
    </a>
    <meta itemprop="position" content="1" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/">
      <span itemprop="name">Packages</span>
    </a>
    <meta itemprop="position" content="2" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/packages/man-pages/">
      <span itemprop="name">man-pages</span>
    </a>
    <meta itemprop="position" content="3" />
  </li>
  <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
    <a itemscope itemtype="http://schema.org/Thing" itemprop="item" href="/man-pages/man3/sigqueue.3.html">
      <span itemprop="name">sigqueue: Queue a signal and data to a process</span>
    </a>
    <meta itemprop="position" content="4" />
  </li>
</ol>
    
      <section>
        <h2 class="font-effect-shadow-multiple">SYNOPSIS</h2>
        <div class="sectioncontent">
<p><strong>#include &lt;signal.h&gt;</strong></p><p><strong>int sigqueue(pid_t </strong><em>pid</em><strong>, int </strong><em>sig</em><strong>, const union sigval </strong><em>value</em><strong>);</strong></p><p>Feature Test Macro Requirements for glibc (see <a href="../man7/feature_test_macros.7.html"><strong>feature_test_macros</strong>(7)</a>):</p><p><strong>sigqueue</strong>(): _POSIX_C_SOURCE&nbsp;&gt;=&nbsp;199309L</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">DESCRIPTION</h2>
        <div class="sectioncontent">
<p><strong>sigqueue</strong>() sends the signal specified in <em>sig</em> to the process whose PID is given in <em>pid</em>. The permissions required to send a signal are the same as for <a href="../man2/kill.2.html"><strong>kill</strong>(2)</a>. As with <a href="../man2/kill.2.html"><strong>kill</strong>(2)</a>, the null signal (0) can be used to check if a process with a given PID exists.</p><p>The <em>value</em> argument is used to specify an accompanying item of data (either an integer or a pointer value) to be sent with the signal, and has the following type:</p>
<pre>
union sigval {
    int   sival_int;
    void *sival_ptr;
};
</pre>
<p>If the receiving process has installed a handler for this signal using the <strong>SA_SIGINFO</strong> flag to <a href="../man2/sigaction.2.html"><strong>sigaction</strong>(2)</a>, then it can obtain this data via the <em>si_value</em> field of the <em>siginfo_t</em> structure passed as the second argument to the handler. Furthermore, the <em>si_code</em> field of that structure will be set to <strong>SI_QUEUE</strong>.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RETURN VALUE</h2>
        <div class="sectioncontent">
<p>On success, <strong>sigqueue</strong>() returns 0, indicating that the signal was successfully queued to the receiving process. Otherwise, -1 is returned and <em>errno</em> is set to indicate the error.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ERRORS</h2>
        <div class="sectioncontent">

<dl class='dl-vertical'>
  <dt>
    <p><strong>EAGAIN</strong></p>
  </dt>
  <dd>
    <p>The limit of signals which may be queued has been reached. (See <a href="../man7/signal.7.html"><strong>signal</strong>(7)</a> for further information.)</p>
  </dd>
  <dt>
    <p><strong>EINVAL</strong></p>
  </dt>
  <dd>
    <p><em>sig</em> was invalid.</p>
  </dd>
  <dt>
    <p><strong>EPERM</strong></p>
  </dt>
  <dd>
    <p>The process does not have permission to send the signal to the receiving process. For the required permissions, see <a href="../man2/kill.2.html"><strong>kill</strong>(2)</a>.</p>
  </dd>
  <dt>
    <p><strong>ESRCH</strong></p>
  </dt>
  <dd>
    <p>No process has a PID matching <em>pid</em>.</p>
  </dd>

</dl>

        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">VERSIONS</h2>
        <div class="sectioncontent">
<p><strong>sigqueue</strong>() and the underlying <strong>rt_sigqueueinfo</strong>() system call first appeared in Linux 2.2.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">ATTRIBUTES</h2>
        <div class="sectioncontent">
<p>For an explanation of the terms used in this section, see <a href="../man7/attributes.7.html"><strong>attributes</strong>(7)</a>.</p><table class="table table-striped">
<tr>
<th>Interface</th>
<th>Attribute</th>
<th>Value</th></tr>

<tr>
<td><strong>sigqueue</strong>()  </td>
<td>Thread safety</td>
<td>MT-Safe</td></tr>
</table>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">CONFORMING TO</h2>
        <div class="sectioncontent">
<p>POSIX.1-2001, POSIX.1-2008.</p>
        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">NOTES</h2>
        <div class="sectioncontent">
<p>If this function results in the sending of a signal to the process that invoked it, and that signal was not blocked by the calling thread, and no other threads were willing to handle this signal (either by having it unblocked, or by waiting for it using <a href="../man3/sigwait.3.html"><strong>sigwait</strong>(3)</a>), then at least some signal must be delivered to this thread before this function returns.</p><h3>C library/kernel differences</h3>
<p>On Linux, <strong>sigqueue</strong>() is implemented using the <a href="../man2/rt_sigqueueinfo.2.html"><strong>rt_sigqueueinfo</strong>(2)</a> system call. The system call differs in its third argument, which is the <em>siginfo_t</em> structure that will be supplied to the receiving process's signal handler or returned by the receiving process's <a href="../man2/sigtimedwait.2.html"><strong>sigtimedwait</strong>(2)</a> call. Inside the glibc <strong>sigqueue</strong>() wrapper, this argument, <em>uinfo</em>, is initialized as follows:</p>
<pre>
uinfo.si_signo = sig;      /* Argument supplied to sigqueue() */
uinfo.si_code = SI_QUEUE;
uinfo.si_pid = getpid();   /* Process ID of sender */
uinfo.si_uid = getuid();   /* Real UID of sender */
uinfo.si_value = val;      /* Argument supplied to sigqueue() */
</pre>


        </div>
      </section>

      <section>
        <h2 class="font-effect-shadow-multiple">RELATED TO sigqueue&hellip;</h2>
        <div class="sectioncontent">
<p><a href="../man2/kill.2.html"><strong>kill</strong>(2)</a>, <a href="../man2/rt_sigqueueinfo.2.html"><strong>rt_sigqueueinfo</strong>(2)</a>, <a href="../man2/sigaction.2.html"><strong>sigaction</strong>(2)</a>, <a href="../man2/signal.2.html"><strong>signal</strong>(2)</a>, <a href="../man3/pthread_sigqueue.3.html"><strong>pthread_sigqueue</strong>(3)</a>, <a href="../man3/sigwait.3.html"><strong>sigwait</strong>(3)</a>, <a href="../man7/signal.7.html"><strong>signal</strong>(7)</a></p>
        </div>
      </section>
<nav>
  <ul class="pager">
   <li class="previous"><a href="sigprocmask.2.html"><span aria-hidden="true">&larr;</span> sigprocmask.2: Examine and change blocked signals</a></li>
   <li class="next"><a href="sigreturn.2.html">sigreturn.2: Return from signal handler and cleanup stack frame <span aria-hidden="true">&rarr;</span></a></li>
  </ul>
</nav>

  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/js/bootstrap.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60781387-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
