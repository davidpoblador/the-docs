.TH unshar 1 "18 Oct 2013" "GNU sharutils (4.14)" "User Commands"
.\"
.\"  DO NOT EDIT THIS FILE   (unshar.man)
.\"
.\"  It has been AutoGen-ed  October 18, 2013 at 02:02:23 PM by AutoGen 5.18.2
.\"  From the definitions    unshar-opts.def
.\"  and the template file   agman-cmd.tpl
.\"
.SH NAME
unshar \- unpack a shar archive
.SH SYNOPSIS
.B unshar
.\" Mixture of short (flag) options and long options
.RB [ \-\fIflag\fP " [\fIvalue\fP]]... [" \-\-\fIopt\-name\fP "[[=| ]\fIvalue\fP]]..." " " "[<file>...]"
.PP
The operands that this program operates on may be specified either
on the command line or read from standard input, one per line.
In that input, leading and trailing white space is stripped,
blank lines are ignored.
Standard input may not be a terminal.
.SH "DESCRIPTION"
Unshar scans the input files (typically email messages) looking for
the start of a shell archive.  If no files are given, then standard
input is processed instead.  It then passes each archive discovered
through an invocation of the shell program to unpack it..Pp
This program will perform its function for every file named on the command
line or every file named in a list read from stdin.  The arguments or input
names must be pre\-existing files.  The input list may contain comments,
which are blank lines or lines beginning with a '#' character.
.SH "OPTIONS"
.TP
.BR  \-d " \fIdir\fP, " \-\-directory "=" \fIdir\fP
unpack into the directory \fIdir\fP.
.sp
The input file names are relative to the current directory
when the program was started.  This option tells \fBunshar\fP
to insert a \fBcd <dir>\fP commad at the start of the
\fBshar\fP text written to the shell.
.TP
.BR  \-c ", " \-\-overwrite
overwrite any pre-existing files.
.sp
This option is passed through as an option to the shar file.  Many
shell archive scripts accept a \fB-c\fP argument to indicate that
existing files should be overwritten.
.TP
.BR  \-f ", " \-\-force
This is an alias for the \fI--overwrite\fR option.
.TP
.BR  \-E " \fIsplit\-mark\fP, " \-\-split\-at "=" \fIsplit\-mark\fP
split input on \fBsplit-mark\fP lines.
The default \fIsplit\-mark\fP for this option is:
.ti +4
 exit 0
.sp
With this option, \fBunshar\fP isolates each different shell archive
from the others which have been placed in the same file, unpacking each
in turn, from the beginning of the file to the end.  Its proper
operation relies on the fact that many shar files are terminated by a
readily identifiable string at the start of the last line.
.sp
For example, noticing that most `.signatures' have a double hyphen
("--") on a line right before them, one can then sometimes use
\fB--split-at=--\fP.  The signature will then be skipped, along with
the headers of the following message.
.TP
.BR  \-e ", " \-\-exit\-0
split input on "exit 0" lines.
This option must not appear in combination with any of the following options:
split-at.
.sp
Most shell archives end with a line consisting of simply "exit 0".
This option is equivalent to (and conflicts with)
\fB--split-at="exit 0"\fP.
.TP
.BR  \-D ", " \-\-debug
debug the shell code.
.sp
"set \-x" will be emitted into the code the shell interprets.
.TP
.BR \-h , " \-\-help"
Display usage information and exit.
.TP
.BR \-! , " \-\-more-help"
Pass the extended usage information through a pager.
.TP
.BR \-R " [\fIcfgfile\fP]," " \-\-save-opts" "[=\fIcfgfile\fP]"
Save the option state to \fIcfgfile\fP.  The default is the \fIlast\fP
configuration file listed in the \fBOPTION PRESETS\fP section, below.
The command will exit after updating the config file.
.TP
.BR \-r " \fIcfgfile\fP," " \-\-load-opts" "=\fIcfgfile\fP," " \-\-no-load-opts"
Load options from \fIcfgfile\fP.
The \fIno-load-opts\fP form will disable the loading
of earlier config/rc/ini files.  \fI\-\-no-load-opts\fP is handled early,
out of order.
.TP
.BR \-v " [{\fIv|c|n\fP}]," " \-\-version" "[={\fIv|c|n\fP}]"
Output version of program and exit.  The default mode is `v', a simple
version.  The `c' mode will print copyright information and `n' will
print the full copyright notice.
.SH "OPTION PRESETS"
Any option that is not marked as \fInot presettable\fP may be preset
by loading values from configuration ("RC" or ".INI") file(s).
The file "\fI$HOME/.sharrc\fP" will be used, if present.
.SH "FILES"
See \fBOPTION PRESETS\fP for configuration files.
.SH "EXIT STATUS"
One of the following exit values will be returned:
.TP
.BR 0 " (EXIT_SUCCESS)"
Successful program execution.
.TP
.BR 1 " (EXIT_FAILURE)"
There was an error in command usage.
.TP
.BR 2 " (EXIT_POPEN_PROBLEM)"
cannot spawn or write to a shell process
.TP
.BR 3 " (EXIT_CANNOT_CREATE)"
cannot create output file
.TP
.BR 4 " (EXIT_BAD_DIRECTORY)"
the working directory structure is invalid
.TP
.BR 5 " (EXIT_NOMEM)"
memory allocation failure
.TP
.BR 6 " (EXIT_INVALID)"
invalid input, does not contain a shar file
.TP
.BR 66 " (EX_NOINPUT)"
A specified configuration file could not be loaded.
.TP
.BR 70 " (EX_SOFTWARE)"
libopts had an internal operational error.  Please report
it to autogen-users@lists.sourceforge.net.  Thank you.
.SH "SEE ALSO"
shar(1)
.SH AUTHORS
The \fIshar\fP and \fIunshar\fP programs is the collective work of
many authors.  Many people contributed by reporting problems,
suggesting various improvements or submitting actual code.  A list of
these people is in the \fITHANKS\fP file in the sharutils distribution.
.SH "COPYRIGHT"
Copyright (C) 1994-2013 Free Software Foundation, Inc. all rights reserved.
This program is released under the terms of the GNU General Public License, version 3 or later.
.SH BUGS
Please put \fBsharutils\fP in the subject line for emailed bug
reports.  It helps to spot the message.
.PP
Please send bug reports to: bug-gnu-utils@gnu.org
.SH "NOTES"
This manual page was \fIAutoGen\fP-erated from the \fBunshar\fP
option definitions.
