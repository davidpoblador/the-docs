'\"macro stdmacro
.\"
.\" Copyright (c) 2001 Silicon Graphics, Inc.  All Rights Reserved.
.\" 
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\" 
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\" 
.\"
.TH CHKHELP 1 "PCP" "Performance Co-Pilot"
.SH NAME
\f3chkhelp\f1 \- check performance metrics help text files
.SH SYNOPSIS
\f3$PCP_BINADM_DIR/chkhelp\f1
[\f3\-eHiOp\f1]
[\f3\-n\f1 \f2pmnsfile\f1]
[\f3\-v\f1 \f2version\f1]
\f2helpfile\f1
[\f2metricname\f1 ...]
.SH DESCRIPTION
.B chkhelp
checks the consistency of
Performance Co-Pilot
help text files
generated by
.BR newhelp (1)
and used by
Performance Metric Domain Agents (PMDAs).
The checking involves scanning the files, and optionally
displaying selected entries.
.PP
The files
\f2helpfile\f3.dir\f1 and
\f2helpfile\f3.pag\f1 are
created by
.BR newhelp (1),
and are assumed to already exist.
.PP
Without any options or
.I metricname
arguments,
.B chkhelp
silently verifies the structural integrity of the
help files.
.PP
If any
.I metricname
arguments are specified, then the help entries for only the corresponding
metrics will be processed.
.PP
If no
.I metricname
arguments are specified, then
at least one of the options
.B \-i
or
.B \-p
must be given.
The
.B \-i
option causes entries for all
instance domains to be processed (ignoring entries for performance
metrics).
The
.B \-p
option causes entries for all metrics to be displayed (ignoring
entries for instance domains).
.PP
When metric entries are to be processed (via either the
.I metricname
arguments or the
.B \-p
option or the
.B \-i
option), the
.B \-O
and
.B \-H
options request the display of the one-line and verbose help text respectively.
The default is
.BR \-O .
.PP
Although historically there have been multiple help text file formats, the only
format currently supported
using the
.B \-v
option is
.I version
2, and
this is the default if no
.B \-v
flag is provided.
.PP
Normally
.B chkhelp
operates on the default Performance Metrics Name Space (PMNS), however
if the
.B \-n
option is specified an alternative namespace is loaded
from the file
.IR pmnsfile .
.PP
The
.B \-e
option provides an existence check where all of the specified
metrics from the PMNS (note, not from
.IR helpfile )
are scanned, and only the names of the metrics for which
.B no
help text exists are reported.  The
.B \-e
option is mutually exclusive with the
.B \-i
and/or
.B \-p
options.
.SH "PCP ENVIRONMENT"
Environment variables with the prefix
.B PCP_
are used to parameterize the file and directory names
used by PCP.
On each installation, the file
.I /etc/pcp.conf
contains the local values for these variables.
The
.B $PCP_CONF
variable may be used to specify an alternative
configuration file,
as described in
.BR pcp.conf (5).
.SH SEE ALSO
.BR newhelp (1),
.BR PMAPI (3),
.BR pmLookupInDomText (3),
.BR pmLookupText (3),
.BR pcp.conf (5)
and
.BR pcp.env (5).
.SH DIAGNOSTICS
There are all sorts of reasons a help database may be inconsistent,
the most likely is that a performance metric in the database is
not defined in the loaded PMNS.
